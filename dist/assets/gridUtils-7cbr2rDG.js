import{Ax as e,Bg as t,Lu as n,Px as r,Ux as i,WS as a,aS as o}from"./index-BqmCqmfp.js";import{n as s,s as c}from"./geodesicUtils-DJORTTMv.js";var l=5;function u(e,t){return Math.log(e)/Math.log(t)}function d(e,t,n){let r=e===1?10:e;return r**(n?Math.round(u(50/t,r)):0)}function f(e){let{isGeographic:t,isWebMercator:n}=e;return!t&&!n}function p(l,u,d){let p=typeof l==`number`?null:l,m=d??p?.spatialReference;if(m==null||!a(m)||f(m))return o(m);let h=p?.x??l,g=p?.y??u,_=1/Math.sqrt(2),v=h+_,y=g+_,{isWebMercator:b,isGeographic:x}=m,S=x&&!c(m)?i.WGS84:m;if(b){let t=new e({x:h,y:g,spatialReference:m});r(t,!0,t),h=t.x,g=t.y,t=new e({x:v,y,spatialReference:m}),r(t,!0,t),v=t.x,y=t.y,S=i.WGS84}let C=new t({paths:[[[h,g],[v,y]]],spatialReference:S}),w=n(C,10),T;try{[T]=s([w],`meters`)}catch{return o(m)}return T}export{p as n,l as r,d as t};