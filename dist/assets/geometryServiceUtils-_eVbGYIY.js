import{Ja as e,TE as t,_E as n,qa as r,vx as i}from"./index-BqmCqmfp.js";async function a(e=null,r){if(t.geometryServiceUrl)return t.geometryServiceUrl;if(!e)throw new n(`internal:geometry-service-url-not-configured`,`No geometryServiceUrl in configuration`);let a;a=`portal`in e?e.portal||i.getDefault():e,await a.load({signal:r});let o=a.helperServices?.geometry?.url;if(!o)throw new n(`internal:geometry-service-url-not-configured`,`No geometryServiceUrl in configuration`);return o}async function o(t,i,o=null,s){let c=await a(o,s),l=new e({geometries:[t],outSpatialReference:i}),u=await r(c,l,{signal:s});if(u&&Array.isArray(u)&&u.length===1)return u[0];throw new n(`internal:geometry-service-projection-failed`,`Geometry projection failed on service`)}export{a as getGeometryServiceURL,o as projectGeometry};