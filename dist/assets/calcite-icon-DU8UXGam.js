import{Do as e,Go as t,Jo as n,Ko as r,So as i,To as a,Xo as o,Zo as s,bo as c}from"./index-BqmCqmfp.js";import{b as l,i as u}from"./dom-atD5WAsR.js";import{t as d}from"./observers-Ca90Dkfx.js";import{t as f}from"./logger-N52NEE_B.js";var p={flipRtl:`flip-rtl`,svg:`svg`},m={},h={},g={s:16,m:24,l:32};function _({icon:e,scale:t}){let n=g[t],r=x(e),i=r.charAt(r.length-1)===`F`;return`${i?r.substring(0,r.length-1):r}${n}${i?`F`:``}`}async function v(e){let t=_(e),n=b(t);if(n)return n;h[t]||(h[t]=fetch(i(`./assets/icon/${t}.json`)).then(e=>e.json()).catch(()=>(f.error(`${e.icon} (${e.scale}) icon failed to load`),``)));let r=await h[t];return m[t]=r,r}function y(e){return b(_(e))}function b(e){return m[e]}function x(e){let t=!isNaN(Number(e.charAt(0))),n=e.split(`-`);if(n.length>0){let t=/[a-z]/i;e=n.map((e,n)=>e.replace(t,function(e,t){return n===0&&t===0?e:e.toUpperCase()})).join(``)}return t?`i${e}`:e}var S=s`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:inline-flex;color:var(--calcite-icon-color, var(--calcite-ui-icon-color, currentColor))}:host([scale=s]){inline-size:16px;block-size:16px;min-inline-size:16px;min-block-size:16px}:host([scale=m]){inline-size:24px;block-size:24px;min-inline-size:24px;min-block-size:24px}:host([scale=l]){inline-size:32px;block-size:32px;min-inline-size:32px;min-block-size:32px}.flip-rtl{transform:scaleX(-1)}.svg{display:block}:host([hidden]){display:none}[hidden]{display:none}`,C=class extends a{constructor(){super(...arguments),this.visible=!1,this.flipRtl=!1,this.icon=null,this.preload=!1,this.scale=`m`}static{this.properties={pathData:[16,{},{state:!0}],visible:[16,{},{state:!0}],flipRtl:[7,{},{reflect:!0,type:Boolean}],icon:[3,{},{reflect:!0}],preload:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],textLabel:1}}static{this.styles=S}connectedCallback(){if(super.connectedCallback(),this.preload){this.visible=!0,this.loadIconPathData();return}this.visible||this.waitUntilVisible(()=>{this.visible=!0,this.loadIconPathData()})}willUpdate(e){(e.has(`icon`)&&(this.hasUpdated||this.icon!==null)||e.has(`scale`)&&(this.hasUpdated||this.scale!==`m`))&&this.loadIconPathData()}disconnectedCallback(){super.disconnectedCallback(),this.intersectionObserver?.disconnect(),this.intersectionObserver=null}async loadIconPathData(){let{icon:e,scale:t,visible:n}=this;if(!e||!n)return;let r={icon:e,scale:t},i=y(r)||await v(r);e===this.icon&&(this.pathData=i)}waitUntilVisible(e){if(this.intersectionObserver=d(`intersection`,t=>{t.forEach(t=>{t.isIntersecting&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null,e())})},{rootMargin:`50px`}),!this.intersectionObserver){e();return}this.intersectionObserver.observe(this.el)}render(){let{el:t,flipRtl:i,pathData:a,scale:s,textLabel:c}=this,d=u(t),f=g[s],m=!!c,h=[].concat(a||``);return this.el.ariaHidden=l(!m),this.el.ariaLabel=m?c:null,this.el.role=m?`img`:null,o`<svg aria-hidden=true class=${e({[p.flipRtl]:d===`rtl`&&i,[p.svg]:!0})} fill=currentColor height=100% viewBox=${`0 0 ${f} ${f}`} width=100% xmlns=http://www.w3.org/2000/svg>${h.map(e=>typeof e==`string`?n`<path d=${e??r} />`:n`<path d=${e.d??r} opacity=${(`opacity`in e?e.opacity:1)??r} />`)}</svg>`}};c(`calcite-icon`,C);export{C as t};