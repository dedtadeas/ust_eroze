import{SD as e}from"./index-BqmCqmfp.js";import{It as t,L as n,N as r,Nt as i,P as a,Wt as o,Yt as s,Zt as c,d as l,g as u,i as d,jt as f,kt as p,n as m,z as h}from"./Theme-Dpr4FPaR.js";var g=class extends r{constructor(){super(...arguments),Object.defineProperty(this,`processor`,{enumerable:!0,configurable:!0,writable:!0,value:void 0})}incrementRef(){}decrementRef(){}_onPush(e){this.processor&&this.processor.processRow(e),super._onPush(e)}_onInsertIndex(e,t){this.processor&&this.processor.processRow(t),super._onInsertIndex(e,t)}_onSetIndex(e,t,n){this.processor&&this.processor.processRow(n),super._onSetIndex(e,t,n)}},_=class extends u{constructor(e,t,n){super(n),Object.defineProperty(this,`component`,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,`dataContext`,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,`bullets`,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,`open`,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,`close`,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.dataContext=t,this.component=e,this._settings.visible=!0,this._checkDirty()}markDirty(){this.component.markDirtyValues(this)}_startAnimation(){this.component._root._addAnimation(this)}_animationTime(){return this.component._root.animationTime}_dispose(){this.component&&this.component.disposeDataItem(this),super._dispose()}show(e){this.setRaw(`visible`,!0),this.component&&this.component.showDataItem(this,e)}hide(e){this.setRaw(`visible`,!1),this.component&&this.component.hideDataItem(this,e)}isHidden(){return!this.get(`visible`)}},v=class extends d{constructor(){super(...arguments),Object.defineProperty(this,`_data`,{enumerable:!0,configurable:!0,writable:!0,value:new g}),Object.defineProperty(this,`_dataItems`,{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,`_mainDataItems`,{enumerable:!0,configurable:!0,writable:!0,value:this._dataItems}),Object.defineProperty(this,`valueFields`,{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,`fields`,{enumerable:!0,configurable:!0,writable:!0,value:[`id`]}),Object.defineProperty(this,`_valueFields`,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,`_valueFieldsF`,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,`_fields`,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,`_fieldsF`,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,`_valuesDirty`,{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,`_dataChanged`,{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,`_dataGrouped`,{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,`inited`,{enumerable:!0,configurable:!0,writable:!0,value:!1})}set data(e){e.incrementRef(),this._data.decrementRef(),this._data=e}get data(){return this._data}_dispose(){super._dispose(),this._data.decrementRef()}_onDataClear(){}_afterNew(){super._afterNew(),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll(e=>{let t=this._mainDataItems;if(this.markDirtyValues(),this._markDirtyGroup(),this._dataChanged=!0,e.type===`clear`)f(t,e=>{e.dispose()}),t.length=0,this._onDataClear();else if(e.type===`push`){let n=new _(this,e.newValue,this._makeDataItem(e.newValue));t.push(n),this.processDataItem(n)}else if(e.type===`setIndex`){let n=t[e.index],r=this._makeDataItem(e.newValue);n.bullets&&n.bullets.length==0&&(n.bullets=void 0),p(r).forEach(e=>{n.animate({key:e,to:r[e],duration:this.get(`interpolationDuration`,0),easing:this.get(`interpolationEasing`)})}),n.dataContext=e.newValue}else if(e.type===`insertIndex`){let n=new _(this,e.newValue,this._makeDataItem(e.newValue));t.splice(e.index,0,n),this.processDataItem(n)}else if(e.type===`removeIndex`)t[e.index].dispose(),t.splice(e.index,1);else if(e.type===`moveIndex`){let n=t[e.oldIndex];t.splice(e.oldIndex,1),t.splice(e.newIndex,0,n)}else throw Error(`Unknown IStreamEvent type`);this._afterDataChange()}))}_updateFields(){this.valueFields&&(this._valueFields=[],this._valueFieldsF={},f(this.valueFields,e=>{this.get(e+`Field`)&&(this._valueFields.push(e),this._valueFieldsF[e]={fieldKey:e+`Field`,workingKey:e+`Working`})})),this.fields&&(this._fields=[],this._fieldsF={},f(this.fields,e=>{this.get(e+`Field`)&&(this._fields.push(e),this._fieldsF[e]=e+`Field`)}))}get dataItems(){return this._dataItems}processDataItem(e){}_makeDataItem(e){let t={};return this._valueFields&&f(this._valueFields,n=>{let r=this.get(this._valueFieldsF[n].fieldKey);t[n]=e[r],t[this._valueFieldsF[n].workingKey]=t[n]}),this._fields&&f(this._fields,n=>{let r=this.get(this._fieldsF[n]);t[n]=e[r]}),t}makeDataItem(e,t){let n=new _(this,t,e);return this.processDataItem(n),n}pushDataItem(e,t){let n=this.makeDataItem(e,t);return this._mainDataItems.push(n),n}disposeDataItem(e){}showDataItem(t,n){return e(this,void 0,void 0,function*(){t.set(`visible`,!0)})}hideDataItem(t,n){return e(this,void 0,void 0,function*(){t.set(`visible`,!1)})}_clearDirty(){super._clearDirty(),this._valuesDirty=!1}_afterDataChange(){}_afterChanged(){if(super._afterChanged(),this._dataChanged){let e=`datavalidated`;this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this}),this._dataChanged=!1}if(this._valuesDirty){let e=`valueschanged`;this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this})}this.inited=!0}markDirtyValues(e){this.markDirty(),this._valuesDirty=!0}_markDirtyGroup(){this._dataGrouped=!1}markDirtySize(){this._sizeDirty=!0,this.markDirty()}getDataItemById(e){return i(this.dataItems,t=>t.get(`id`)==e)}};Object.defineProperty(v,`className`,{enumerable:!0,configurable:!0,writable:!0,value:`Component`}),Object.defineProperty(v,`classNames`,{enumerable:!0,configurable:!0,writable:!0,value:d.classNames.concat([v.className])});function y(e){return new Promise((t,n)=>{setTimeout(t,e)})}let b={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:365.242/12*864e5,year:31536e6};function x(e,t){return t??=1,b[e]*t}function S(e,t,n,r,i,a,s){if(!s||i){let s=0;switch(!i&&t!=`millisecond`&&(s=e.getTimezoneOffset(),e.setUTCMinutes(e.getUTCMinutes()-s)),t){case`day`:let t=e.getUTCDate();if(n>1){if(a){a=S(a,`day`,1);let t=e.getTime()-a.getTime(),r=Math.floor(t/x(`day`)/n),i=x(`day`,r*n);e.setTime(a.getTime()+i-s*x(`minute`))}}else e.setUTCDate(t);e.setUTCHours(0,0,0,0);break;case`second`:let i=e.getUTCSeconds();n>1&&(i=Math.floor(i/n)*n),e.setUTCSeconds(i,0);break;case`millisecond`:if(n==1)return e;let c=e.getUTCMilliseconds();c=Math.floor(c/n)*n,e.setUTCMilliseconds(c);break;case`hour`:let l=e.getUTCHours();n>1&&(l=Math.floor(l/n)*n),e.setUTCHours(l,0,0,0);break;case`minute`:let u=e.getUTCMinutes();n>1&&(u=Math.floor(u/n)*n),e.setUTCMinutes(u,0,0);break;case`month`:let d=e.getUTCMonth();n>1&&(n==2||n==3||n==4||n==6)&&(d=Math.floor(d/n)*n),e.setUTCMonth(d,1),e.setUTCHours(0,0,0,0);break;case`year`:let f=e.getUTCFullYear();n>1&&(f=Math.floor(f/n)*n),e.setUTCFullYear(f,0,1),e.setUTCHours(0,0,0,0);break;case`week`:if(n>1&&a){a=S(a,`week`,1);let t=e.getTime()-a.getTime(),r=Math.floor(t/x(`week`)/n),i=x(`week`,r*n);e.setTime(a.getTime()+i-s*x(`minute`))}let p=e.getUTCDate(),m=e.getUTCDay();o(r)||(r=1),p=m>=r?p-m+r:p-(7+m)+r,e.setUTCDate(p),e.setUTCHours(0,0,0,0);break}if(!i&&t!=`millisecond`&&(e.setUTCMinutes(e.getUTCMinutes()+s),t==`day`||t==`week`||t==`month`||t==`year`)){let t=e.getTimezoneOffset();if(t!=s){let n=t-s;e.setUTCMinutes(e.getUTCMinutes()+n)}}return e}else{if(isNaN(e.getTime()))return e;let c=e.getTime(),l=s.offsetUTC(e),u=e.getTimezoneOffset(),d=s.parseDate(e),f=d.year,p=d.month,m=d.day,h=d.hour,g=d.minute,_=d.second,v=d.millisecond,y=d.weekday,b=l-u;switch(t){case`day`:if(n>1&&a){a=S(a,`day`,1,r,i,void 0,s);let t=e.getTime()-a.getTime(),o=Math.floor(t/x(`day`)/n),c=x(`day`,o*n);e.setTime(a.getTime()+c),d=s.parseDate(e),f=d.year,p=d.month,m=d.day}h=0,g=b,_=0,v=0;break;case`second`:g+=b,n>1&&(_=Math.floor(_/n)*n),v=0;break;case`millisecond`:g+=b,n>1&&(v=Math.floor(v/n)*n);break;case`hour`:n>1&&(h=Math.floor(h/n)*n),g=b,_=0,v=0;break;case`minute`:n>1&&(g=Math.floor(g/n)*n),g+=b,_=0,v=0;break;case`month`:n>1&&(p=Math.floor(p/n)*n),m=1,h=0,g=b,_=0,v=0;break;case`year`:n>1&&(f=Math.floor(f/n)*n),p=0,m=1,h=0,g=b,_=0,v=0;break;case`week`:o(r)||(r=1),m=y>=r?m-y+r:m-(7+y)+r,h=0,g=b,_=0,v=0;break}e=new Date(f,p,m,h,g,_,v);let C=e.getTime(),w=36e5;t==`hour`&&(w=36e5*n),C+w<=c&&(t==`hour`||t==`minute`||t==`second`||t==`millisecond`)&&(e=new Date(C+w));let T=e.getTimezoneOffset(),E=s.offsetUTC(e)-T;return E!=b&&e.setTime(e.getTime()+(E-b)*6e4),e}}var C=class extends v{constructor(){super(...arguments),Object.defineProperty(this,`_aggregatesCalculated`,{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,`_selectionAggregatesCalculated`,{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,`_dataProcessed`,{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,`_psi`,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,`_pei`,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,`_baseSeriesDirty`,{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,`chart`,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,`bullets`,{enumerable:!0,configurable:!0,writable:!0,value:new r}),Object.defineProperty(this,`bulletsContainer`,{enumerable:!0,configurable:!0,writable:!0,value:d.new(this._root,{width:c,height:c,position:`absolute`})})}_afterNew(){this.valueFields.push(`value`,`customValue`),super._afterNew(),this.setPrivate(`customData`,{}),this._disposers.push(this.bullets.events.onAll(e=>{if(e.type===`clear`)this._handleBullets(this.dataItems);else if(e.type===`push`)this._handleBullets(this.dataItems);else if(e.type===`setIndex`)this._handleBullets(this.dataItems);else if(e.type===`insertIndex`)this._handleBullets(this.dataItems);else if(e.type===`removeIndex`)this._handleBullets(this.dataItems);else if(e.type===`moveIndex`)this._handleBullets(this.dataItems);else throw Error(`Unknown IListEvent type`)}))}_dispose(){this.bulletsContainer.dispose(),super._dispose()}startIndex(){let e=this.dataItems.length;return Math.min(this.getPrivate(`startIndex`,0),e)}endIndex(){let e=this.dataItems.length;return Math.max(0,Math.min(this.getPrivate(`endIndex`,e),e))}_handleBullets(e){f(e,e=>{let t=e.bullets;t&&(f(t,e=>{e.dispose()}),e.bullets=void 0)}),this.markDirtyValues()}_makeBullets(e){this._shouldMakeBullet(e)&&(e.bullets=[],this.bullets.each(t=>{this._makeBullet(e,t)}))}_shouldMakeBullet(e){return!0}_makeBullet(e,t,n){let r=t(this._root,this,e);return r&&(r._index=n,this._makeBulletReal(e,r)),r}_makeBulletReal(e,t){let n=t.get(`sprite`);n&&(n._setDataItem(e),n.setRaw(`position`,`absolute`),this.bulletsContainer.children.push(n)),t.series=this,e.bullets.push(t)}addBullet(e,t){e.bullets||=[],t&&this._makeBulletReal(e,t)}_clearDirty(){super._clearDirty(),this._aggregatesCalculated=!1,this._baseSeriesDirty=!1,this._selectionAggregatesCalculated=!1}_prepareChildren(){super._prepareChildren();let e=this.startIndex(),t=this.endIndex();if(this.isDirty(`name`)&&this.updateLegendValue(),this.isDirty(`heatRules`)&&(this._valuesDirty=!0),this.isPrivateDirty(`baseValueSeries`)){let e=this.getPrivate(`baseValueSeries`);e&&this._disposers.push(e.onPrivate(`startIndex`,()=>{this._baseSeriesDirty=!0,this.markDirtyValues()}))}if(this.get(`calculateAggregates`)&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0,e!=0&&(this._psi=void 0))),(this._psi!=e||this._pei!=t||this.isPrivateDirty(`adjustedStartIndex`))&&!this._selectionAggregatesCalculated&&(e===0&&t===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(e,t),this._selectionAggregatesCalculated=!0)),this.isDirty(`tooltip`)){let e=this.get(`tooltip`);e&&(e.hide(0),e.set(`tooltipTarget`,this))}if(this.isDirty(`fill`)||this.isDirty(`stroke`)){let e,t=this.get(`legendDataItem`);if(t&&(e=t.get(`markerRectangle`),e&&this.isVisible())){if(this.isDirty(`stroke`)){let t=this.get(`stroke`);e.set(`stroke`,t)}if(this.isDirty(`fill`)){let t=this.get(`fill`);e.set(`fill`,t)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0){let e=this.startIndex(),t=this.endIndex();t<this.dataItems.length&&t++;for(let n=e;n<t;n++){let e=this.dataItems[n];e.bullets||this._makeBullets(e)}}}_handleRemoved(){}_adjustStartIndex(e){return e}_calculateAggregates(e,t){let n=this._valueFields;if(!n)throw Error(`No value fields are set for the series.`);let r={},i={},a={},o={},s={},c={},l={},u={},d={};f(n,e=>{r[e]=0,i[e]=0,a[e]=0});let p=this.dataItems.length;f(n,n=>{let f=n+`Change`,m=n+`ChangePercent`,h=n+`ChangePrevious`,g=n+`ChangePreviousPercent`,_=n+`ChangeSelection`,v=n+`ChangeSelectionPercent`,y=`valueY`;(n==`valueX`||n==`openValueX`||n==`lowValueX`||n==`highValueX`)&&(y=`valueX`);let b=this.getPrivate(`baseValueSeries`),x=this.getPrivate(`adjustedStartIndex`,e),S=(e,t)=>{if(e){let n=e.get(t);n!=null&&(e.setRaw(h,n-d[y]),e.setRaw(g,(n-d[y])/d[y]*100),e.setRaw(_,n-c[y]),e.setRaw(v,(n-c[y])/c[y]*100),d[t]=n)}};for(let p=x;p<t;p++){let t=this.dataItems[p];if(t){let p=t.get(n);p!=null&&(a[n]++,r[n]+=p,i[n]+=Math.abs(p),u[n]=r[n]/a[n],(o[n]>p||o[n]==null)&&(o[n]=p),(s[n]<p||s[n]==null)&&(s[n]=p),l[n]=p,c[n]??(c[n]=p,d[n]=p,b&&(c[y]=b._getBase(y))),e===0&&(t.setRaw(f,p-c[y]),t.setRaw(m,(p-c[y])/c[y]*100)),S(t,n))}}t<p&&S(this.dataItems[t],n),t+1<p&&S(this.dataItems[t+1],n),e>0&&e--,delete d[n];for(let t=e;t<x;t++){let e=this.dataItems[t];if(e){let t=e.get(n);d[n]??(d[n]=t),t!=null&&(e.setRaw(h,t-d[y]),e.setRaw(g,(t-d[y])/d[y]*100),e.setRaw(_,t-c[y]),e.setRaw(v,(t-c[y])/c[y]*100),d[n]=t)}}}),f(n,e=>{this.setPrivate(e+`AverageSelection`,u[e]),this.setPrivate(e+`CountSelection`,a[e]),this.setPrivate(e+`SumSelection`,r[e]),this.setPrivate(e+`AbsoluteSumSelection`,i[e]),this.setPrivate(e+`LowSelection`,o[e]),this.setPrivate(e+`HighSelection`,s[e]),this.setPrivate(e+`OpenSelection`,c[e]),this.setPrivate(e+`CloseSelection`,l[e])}),e===0&&t===p&&f(n,e=>{this.setPrivate(e+`Average`,u[e]),this.setPrivate(e+`Count`,a[e]),this.setPrivate(e+`Sum`,r[e]),this.setPrivate(e+`AbsoluteSum`,i[e]),this.setPrivate(e+`Low`,o[e]),this.setPrivate(e+`High`,s[e]),this.setPrivate(e+`Open`,c[e]),this.setPrivate(e+`Close`,l[e])})}_updateChildren(){super._updateChildren(),this._psi=this.startIndex(),this._pei=this.endIndex(),this.isDirty(`visible`)&&this.bulletsContainer.set(`visible`,this.get(`visible`));let e=this.get(`heatRules`);if(this._valuesDirty&&e&&e.length>0&&f(e,e=>{let t=e.minValue||this.getPrivate(e.dataField+`Low`)||0,r=e.maxValue||this.getPrivate(e.dataField+`High`)||0;f(e.target._entities,i=>{let a=i.dataItem.get(e.dataField);if(!o(a)){e.neutral&&i.set(e.key,e.neutral);let t=i.states;if(t){let n=t.lookup(`default`);n&&e.neutral&&n.set(e.key,e.neutral)}if(!e.customFunction)return}if(e.customFunction)e.customFunction.call(this,i,t,r,a);else{let c;c=e.logarithmic?(Math.log(a)*Math.LOG10E-Math.log(t)*Math.LOG10E)/(Math.log(r)*Math.LOG10E-Math.log(t)*Math.LOG10E):(a-t)/(r-t),o(a)&&(!o(c)||Math.abs(c)==1/0)&&(c=.5);let l;o(e.min)?l=e.min+(e.max-e.min)*c:e.min instanceof h?l=h.interpolate(c,e.min,e.max):e.min instanceof s&&(l=n(c,e.min,e.max)),i.set(e.key,l);let u=i.states;if(u){let t=u.lookup(`default`);t&&t.set(e.key,l)}}})}),this.get(`visible`)){let e=this.dataItems.length,t=this.startIndex(),n=this.endIndex();n<e&&n++,t>0&&t--;for(let e=0;e<t;e++)this._hideBullets(this.dataItems[e]);for(let e=t;e<n;e++)this._positionBullets(this.dataItems[e]);for(let t=n;t<e;t++)this._hideBullets(this.dataItems[t])}}_positionBullets(e){e.bullets&&f(e.bullets,e=>{this._positionBullet(e);let t=e.get(`sprite`);e.get(`dynamic`)&&(t&&(t._markDirtyKey(`fill`),t.markDirtySize()),t instanceof d&&t.walkChildren(e=>{e._markDirtyKey(`fill`),e.markDirtySize(),e instanceof m&&e.text.markDirtyText()})),t instanceof m&&t.get(`populateText`)&&t.text.markDirtyText()})}_hideBullets(e){e.bullets&&f(e.bullets,e=>{let t=e.get(`sprite`);t&&t.setPrivate(`visible`,!1)})}_positionBullet(e){}_placeBulletsContainer(e){e.bulletsContainer.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){let e=this.bulletsContainer;e.parent&&e.parent.children.removeValue(e)}disposeDataItem(e){let t=e.bullets;t&&(f(t,e=>{e.dispose()}),e.bullets=void 0)}_getItemReaderLabel(){return``}showDataItem(t,n){let r=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return e(this,void 0,void 0,function*(){let e=[r.showDataItem.call(this,t,n)],i=t.bullets;i&&f(i,t=>{let r=t.get(`sprite`);r&&e.push(r.show(n))}),yield Promise.all(e)})}hideDataItem(t,n){let r=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return e(this,void 0,void 0,function*(){let e=[r.hideDataItem.call(this,t,n)],i=t.bullets;i&&f(i,t=>{let r=t.get(`sprite`);r&&e.push(r.hide(n))}),yield Promise.all(e)})}_sequencedShowHide(n,r){return e(this,void 0,void 0,function*(){if(this.get(`sequencedInterpolation`))if(o(r)||(r=this.get(`interpolationDuration`,0)),r>0){let i=this.startIndex(),a=this.endIndex();yield Promise.all(t(this.dataItems,(t,o)=>e(this,void 0,void 0,function*(){let e=r||0;(o<i-10||o>a+10)&&(e=0);let s=this.get(`sequencedDelay`,0)+e/(a-i);yield y(s*(o-i)),n?yield this.showDataItem(t,e):yield this.hideDataItem(t,e)})))}else yield Promise.all(t(this.dataItems,e=>n?this.showDataItem(e,0):this.hideDataItem(e,0)))})}updateLegendValue(e){if(e){let t=e.get(`legendDataItem`);if(t){let n=t.get(`valueLabel`);if(n){let t=n.text,r=``;n._setDataItem(e),r=this.get(`legendValueText`,t.get(`text`,``)),n.set(`text`,r),t.markDirtyText()}let r=t.get(`label`);if(r){let t=r.text,n=``;r._setDataItem(e),n=this.get(`legendLabelText`,t.get(`text`,``)),r.set(`text`,n),t.markDirtyText()}}}}updateLegendMarker(e){}_onHide(){super._onHide();let e=this.getTooltip();e&&e.hide()}hoverDataItem(e){}unhoverDataItem(e){}_getBase(e){let t=this.dataItems[this.startIndex()];return t?t.get(e):0}};Object.defineProperty(C,`className`,{enumerable:!0,configurable:!0,writable:!0,value:`Series`}),Object.defineProperty(C,`classNames`,{enumerable:!0,configurable:!0,writable:!0,value:v.classNames.concat([C.className])});function w(e,t){for(let n=0,r=t.length;n<r;n++){let r=t[n];if(r.length>0){let t=r[0];if(t.length>0){let n=t[0];e.moveTo(n.x,n.y);for(let t=0,n=r.length;t<n;t++)T(e,r[t])}}}}function T(e,t){for(let n=0,r=t.length;n<r;n++){let r=t[n];e.lineTo(r.x,r.y)}}var E=class extends l{_beforeChanged(){super._beforeChanged(),(this.isDirty(`points`)||this.isDirty(`segments`)||this._sizeDirty||this.isPrivateDirty(`width`)||this.isPrivateDirty(`height`))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){let e=this.get(`points`),t=this.get(`segments`);if(e&&e.length>0){let t=e[0];this._display.moveTo(t.x,t.y),w(this._display,[[e]])}else if(t)w(this._display,t);else if(!this.get(`draw`)){let e=this.width(),t=this.height();this._display.moveTo(0,0),this._display.lineTo(e,t)}}}};Object.defineProperty(E,`className`,{enumerable:!0,configurable:!0,writable:!0,value:`Line`}),Object.defineProperty(E,`classNames`,{enumerable:!0,configurable:!0,writable:!0,value:l.classNames.concat([E.className])});function D(e){return function(){return e}}var O=Math.PI,k=2*O,A=1e-6,j=k-A;function M(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function N(e){let t=Math.floor(e);if(!(t>=0))throw Error(`invalid digits: ${e}`);if(t>15)return M;let n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}var P=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._=``,this._append=e==null?M:N(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,a){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+a}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,i=+i,i<0)throw Error(`negative radius: ${i}`);let a=this._x1,o=this._y1,s=n-e,c=r-t,l=a-e,u=o-t,d=l*l+u*u;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(d>A)if(!(Math.abs(u*s-c*l)>A)||!i)this._append`L${this._x1=e},${this._y1=t}`;else{let f=n-a,p=r-o,m=s*s+c*c,h=f*f+p*p,g=Math.sqrt(m),_=Math.sqrt(d),v=i*Math.tan((O-Math.acos((m+d-h)/(2*g*_)))/2),y=v/_,b=v/g;Math.abs(y-1)>A&&this._append`L${e+y*l},${t+y*u}`,this._append`A${i},${i},0,0,${+(u*f>l*p)},${this._x1=e+b*s},${this._y1=t+b*c}`}}arc(e,t,n,r,i,a){if(e=+e,t=+t,n=+n,a=!!a,n<0)throw Error(`negative radius: ${n}`);let o=n*Math.cos(r),s=n*Math.sin(r),c=e+o,l=t+s,u=1^a,d=a?r-i:i-r;this._x1===null?this._append`M${c},${l}`:(Math.abs(this._x1-c)>A||Math.abs(this._y1-l)>A)&&this._append`L${c},${l}`,n&&(d<0&&(d=d%k+k),d>j?this._append`A${n},${n},0,1,${u},${e-o},${t-s}A${n},${n},0,1,${u},${this._x1=c},${this._y1=l}`:d>A&&this._append`A${n},${n},0,${+(d>=O)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}};function F(){return new P}F.prototype=P.prototype;function I(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{let e=Math.floor(n);if(!(e>=0))throw RangeError(`invalid digits: ${n}`);t=e}return e},()=>new P(t)}var L=class extends d{constructor(){super(...arguments),Object.defineProperty(this,`chartContainer`,{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(d.new(this._root,{width:c,height:c,interactiveChildren:!1}))}),Object.defineProperty(this,`bulletsContainer`,{enumerable:!0,configurable:!0,writable:!0,value:d.new(this._root,{interactiveChildren:!1,isMeasured:!1,position:`absolute`,width:c,height:c})})}};Object.defineProperty(L,`className`,{enumerable:!0,configurable:!0,writable:!0,value:`Chart`}),Object.defineProperty(L,`classNames`,{enumerable:!0,configurable:!0,writable:!0,value:d.classNames.concat([L.className])});var R=class extends L{constructor(){super(...arguments),Object.defineProperty(this,`seriesContainer`,{enumerable:!0,configurable:!0,writable:!0,value:d.new(this._root,{width:c,height:c,isMeasured:!1})}),Object.defineProperty(this,`series`,{enumerable:!0,configurable:!0,writable:!0,value:new a})}_afterNew(){super._afterNew(),this._disposers.push(this.series);let e=this.seriesContainer.children;this._disposers.push(this.series.events.onAll(t=>{if(t.type===`clear`){f(t.oldValues,e=>{this._removeSeries(e)});let e=this.get(`colors`);e&&e.reset();let n=this.get(`patterns`);n&&n.reset()}else if(t.type===`push`)e.moveValue(t.newValue),this._processSeries(t.newValue);else if(t.type===`setIndex`)e.setIndex(t.index,t.newValue),this._processSeries(t.newValue);else if(t.type===`insertIndex`)e.insertIndex(t.index,t.newValue),this._processSeries(t.newValue);else if(t.type===`removeIndex`)this._removeSeries(t.oldValue);else if(t.type===`moveIndex`)e.moveValue(t.value,t.newIndex),this._processSeries(t.value);else if(t.type===`swap`){let n=t.a,r=t.b,i=this.series.indexOf(n),a=this.series.indexOf(r);e.moveValue(n,a),e.moveValue(r,i),this.series.each(e=>{this._processSeries(e),e.markDirtyValues()})}else throw Error(`Unknown IListEvent type`)}))}_processSeries(e){e.chart=this,e._placeBulletsContainer(this)}_removeSeries(e){e._handleRemoved(),e.isDisposed()||(this.seriesContainer.children.removeValue(e),e._removeBulletsContainer())}};Object.defineProperty(R,`className`,{enumerable:!0,configurable:!0,writable:!0,value:`SerialChart`}),Object.defineProperty(R,`classNames`,{enumerable:!0,configurable:!0,writable:!0,value:L.classNames.concat([R.className])});var z=class extends E{};Object.defineProperty(z,`className`,{enumerable:!0,configurable:!0,writable:!0,value:`Tick`}),Object.defineProperty(z,`classNames`,{enumerable:!0,configurable:!0,writable:!0,value:E.classNames.concat([z.className])});export{C as a,_ as c,D as i,R as n,S as o,I as r,v as s,z as t};