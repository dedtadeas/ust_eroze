import{c as e,d as t,g as n,i as r,m as i,r as a,s as o,t as s,u as c}from"./utils-BcHO3hev.js";import{c as l,l as u,n as d}from"./utils-C2AeUOnb.js";async function f(e){let{attribute:r,features:i}=e,{normalizationType:o,normalizationField:s,minValue:l,maxValue:u,fieldType:f,outStatisticTypes:p}=r,m=await d({field:r.field,valueExpression:r.valueExpression,normalizationType:o,normalizationField:s,normalizationTotal:r.normalizationTotal,viewInfoParams:r.viewInfoParams,timeZone:r.timeZone,fieldInfos:r.fieldInfos},i),h=c({normalizationType:o,normalizationField:s,minValue:l,maxValue:u}),g={value:.5,fieldType:f},_=f===`esriFieldTypeString`?t({values:m,supportsNullCount:h,percentileParams:g,outStatisticTypes:p}):n({values:m,minValue:l,maxValue:u,useSampleStdDev:!o,supportsNullCount:h,percentileParams:g,outStatisticTypes:p});return a(_,p,f===`esriFieldTypeDate`)}async function p(e){let{attribute:t,features:n}=e,r=await d({field:t.field,field2:t.field2,field3:t.field3,fieldDelimiter:t.fieldDelimiter,valueExpression:t.valueExpression,viewInfoParams:t.viewInfoParams,timeZone:t.timeZone,fieldInfos:t.fieldInfos},n,!1),a=i(r);return s(a,t.domains,t.returnAllCodedValues,t.fieldDelimiter)}async function m(e){let{attribute:t,features:n}=e,{field:i,normalizationType:a,normalizationField:s,normalizationTotal:c,classificationMethod:l}=t,u=await d({field:i,valueExpression:t.valueExpression,normalizationType:a,normalizationField:s,normalizationTotal:c,viewInfoParams:t.viewInfoParams,timeZone:t.timeZone,fieldInfos:t.fieldInfos},n),f=r(u,{field:i,normalizationType:a,normalizationField:s,normalizationTotal:c,classificationMethod:l,standardDeviationInterval:t.standardDeviationInterval,numClasses:t.numClasses,minValue:t.minValue,maxValue:t.maxValue});return o(f,l)}async function h(t){let{attribute:n,features:r}=t,{field:i,normalizationType:a,normalizationField:o,normalizationTotal:s,classificationMethod:c}=n,l=await d({field:i,valueExpression:n.valueExpression,normalizationType:a,normalizationField:o,normalizationTotal:s,viewInfoParams:n.viewInfoParams,timeZone:n.timeZone,fieldInfos:n.fieldInfos},r);return e(l,{field:i,normalizationType:a,normalizationField:o,normalizationTotal:s,classificationMethod:c,standardDeviationInterval:n.standardDeviationInterval,numBins:n.numBins,minValue:n.minValue,maxValue:n.maxValue})}async function g(e){let{attribute:t,features:n}=e,{field:r,radius:i,transform:a,spatialReference:o}=t,s=t.size??[0,0],c=u(n??[],a,o,s);return l(c,i??void 0,r,s[0],s[1])}export{g as a,h as i,f as n,p as r,m as t};