import{FE as e,HE as t,JE as n,NE as r,Qw as i,Sw as a,UE as o,_E as s,iT as c,lC as l,sE as u,sc as d,uE as f}from"./index-BqmCqmfp.js";import{a as p,t as m}from"./Indices-BsTLKVdx.js";function h(e,t){g(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function g(n,i,a=2,s=a){let c=i.length/2,l=0,u=0;if(!o(i)||t(i)){for(let e=0;e<c;++e)n[l]=i[u],n[l+1]=i[u+1],l+=a,u+=s;return}let d=e(i);if(r(i))for(let e=0;e<c;++e)n[l]=Math.max(i[u]/d,-1),n[l+1]=Math.max(i[u+1]/d,-1),l+=a,u+=s;else for(let e=0;e<c;++e)n[l]=i[u]/d,n[l+1]=i[u+1]/d,l+=a,u+=s}function _(e,t,n,r){let i=e.typedBuffer,a=e.typedBufferStride,o=r?.count??e.count,s=(r?.dstIndex??0)*a;for(let e=0;e<o;++e)i[s]=t,i[s+1]=n,s+=a}Object.freeze(Object.defineProperty({__proto__:null,fill:_,normalizeIntegerBuffer:g,normalizeIntegerBufferView:h},Symbol.toStringTag,{value:`Module`}));var v=class{constructor(e){this._streamDataRequester=e}async loadJSON(e,t){return this._load(0,e,t)}async loadBinary(e,t){return f(e)?(c(t),u(e)):this._load(1,e,t)}async loadImage(e,t){return this._load(2,e,t)}async _load(e,t,n){if(this._streamDataRequester==null)return(await a(t,{responseType:y[e]})).data;let r=await l(this._streamDataRequester.request(t,e,n));if(!0===r.ok)return r.value;throw i(r.error),new s(`glt-loader-request-error`,`Request for resource failed: ${r.error}`)}},y={2:`image`,1:`array-buffer`,0:`json`,3:void 0};function b(e,t){switch(t){case d.TRIANGLES:return x(e);case d.TRIANGLE_STRIP:return S(e);case d.TRIANGLE_FAN:return C(e)}}function x(e){return typeof e==`number`?m(e):n(e)?new Uint16Array(e):e}function S(e){let t=typeof e==`number`?e:e.length;if(t<3)return[];let n=t-2,r=p(3*n);if(typeof e==`number`){let e=0;for(let t=0;t<n;t+=1)t%2==0?(r[e++]=t,r[e++]=t+1,r[e++]=t+2):(r[e++]=t+1,r[e++]=t,r[e++]=t+2)}else{let t=0;for(let i=0;i<n;i+=1)i%2==0?(r[t++]=e[i],r[t++]=e[i+1],r[t++]=e[i+2]):(r[t++]=e[i+1],r[t++]=e[i],r[t++]=e[i+2])}return r}function C(e){let t=typeof e==`number`?e:e.length;if(t<3)return new Uint16Array;let n=t-2,r=n<=65536?new Uint16Array(3*n):new Uint32Array(3*n);if(typeof e==`number`){let e=0;for(let t=0;t<n;++t)r[e++]=0,r[e++]=t+1,r[e++]=t+2;return r}let i=e[0],a=e[1],o=0;for(let t=0;t<n;++t){let n=e[t+2];r[o++]=i,r[o++]=a,r[o++]=n,a=n}return r}export{h as a,g as i,v as n,_ as r,b as t};