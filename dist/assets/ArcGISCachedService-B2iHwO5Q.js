import{CD as e,Hx as t,MC as n,Ux as r,jm as i,kC as a}from"./index-BqmCqmfp.js";import{t as o}from"./TileInfoTilemapCache-CuMyse4g.js";import{t as s}from"./TilemapCache-C88wwB2j.js";var c=c=>{let l=c,u=class extends l{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}destroy(){this.tilemapCache?.destroy?.()}readMinScale(e,t){return t.minLOD!=null&&t.maxLOD!=null?e:0}readMaxScale(e,t){return t.minLOD!=null&&t.maxLOD!=null?e:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(e,t,n){let r=t.capabilities?.includes(`Tilemap`),{minLOD:a,maxLOD:c,minScale:l,maxScale:u}=t;if(a==null&&c==null&&(l!==0||u!==0)){let e=e=>Math.round(1e4*e)/1e4;l=e(l||t.tileInfo.lods[0].scale),u=e(u||t.tileInfo.lods[t.tileInfo.lods.length-1].scale);for(let n of t.tileInfo.lods){let t=e(n.scale);a=t>=l?n.level:a,c=t>=u?n.level:c}}if(r)return new s({layer:this,minLOD:a,maxLOD:c});if(t.tileInfo){let e=new i;return e.read(t.tileInfo,n),new o(e,a,c)}return null}};return e([n({json:{read:{source:`copyrightText`}}})],u.prototype,`copyright`,void 0),e([n()],u.prototype,`minScale`,void 0),e([t(`service`,`minScale`)],u.prototype,`readMinScale`,null),e([n()],u.prototype,`maxScale`,void 0),e([t(`service`,`maxScale`)],u.prototype,`readMaxScale`,null),e([n({type:r})],u.prototype,`spatialReference`,void 0),e([n({readOnly:!0})],u.prototype,`supportsBlankTile`,null),e([n({type:i})],u.prototype,`tileInfo`,void 0),e([n()],u.prototype,`tilemapCache`,void 0),e([t(`service`,`tilemapCache`,[`capabilities`,`tileInfo`])],u.prototype,`readTilemapCache`,null),e([n()],u.prototype,`version`,void 0),u=e([a(`esri.layers.mixins.ArcGISCachedService`)],u),u};export{c as t};