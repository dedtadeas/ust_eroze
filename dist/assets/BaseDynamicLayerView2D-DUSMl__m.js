import{CD as e,MC as t,Zw as n,kC as r,vE as i}from"./index-BqmCqmfp.js";import"./memoryEstimations-O7VgDRVG.js";import"./OptimizedFeature-Dx4_lHip.js";import"./OptimizedGeometry-f3I9Z6C1.js";import"./OptimizedFeatureSet-DlHqIhoP.js";import"./featureConversionUtils-7vyVIZ6j.js";import"./earcut-Drx511Ix.js";import"./layerViewUtils-Bbe7IKvz.js";import"./VertexAttributeLocations-IAhvKZqd.js";import"./VertexElementDescriptor-BGWnA0Rs.js";import"./BoundingBox-DnR5UeUT.js";import"./config-BSvujflG.js";import"./WGLContainer-Caxzva6E.js";import"./utils-DBLYSlue.js";import"./ProgramTemplate-ks-pn-xm.js";import"./VertexArrayObject-Dzn28byJ.js";import"./BufferObject-lp8QWmVQ.js";import"./VertexBuffer-DL5rIQzc.js";import"./vec3f32-CZ7wi78s.js";import"./Container-DgT8F3N0.js";import"./EffectView-CvH-XuUh.js";import"./GraphShaderModule-D5xwSwIQ.js";import"./FramebufferObject-CkeUwNOD.js";import"./ShaderBuilder-C3C7fUwK.js";import"./bitmapUtils-EQTC4Su-.js";import"./Bitmap-Bh-_NMdJ.js";import{t as a}from"./BitmapContainer-CdqXg0Ib.js";import{t as o}from"./LayerView2D-DVE2Teoj.js";import{t as s}from"./ExportStrategy-DxWskyNu.js";import{t as c}from"./LayerView-DKEUJRIQ.js";import{t as l}from"./RefreshableLayerView-CNJlNdyl.js";var u=class extends l(o(c)){update(e){this._strategy.update(e).catch(e=>{n(e)||i.getLogger(this).error(e)}),this.notifyChange(`updating`)}attach(){this._bitmapContainer=new a,this.container.addChild(this._bitmapContainer),this._strategy=new s({container:this._bitmapContainer,fetchSource:this.fetchBitmapData.bind(this),requestUpdate:this.requestUpdate.bind(this)})}detach(){this._strategy.destroy(),this._strategy=null,this.container.removeChild(this._bitmapContainer),this._bitmapContainer.removeAllChildren()}viewChange(){}moveEnd(){this.requestUpdate()}fetchBitmapData(e,t,n){return this.layer.fetchImageBitmap(e,t,n)}async doRefresh(){this.requestUpdate()}isUpdating(){return this._strategy.updating||this.updateRequested}};e([t()],u.prototype,`_strategy`,void 0),u=e([r(`esri.views.2d.layers.BaseDynamicLayerView2D`)],u);var d=u;export{d as default};