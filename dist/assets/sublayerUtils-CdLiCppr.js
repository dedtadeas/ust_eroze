function e(e,t,r){return t.flatten(({sublayers:e})=>e).length===e.length?!!e.some(e=>e.originIdOf(`minScale`)>r||e.originIdOf(`maxScale`)>r||e.originIdOf(`renderer`)>r||e.originIdOf(`labelingInfo`)>r||e.originIdOf(`opacity`)>r||e.originIdOf(`labelsVisible`)>r||e.originIdOf(`source`)>r)||!n(e,t):!0}function t(e,t,r){return!!e.some(e=>{let t=e.source,n=!t||t.type===`map-layer`&&t.mapLayerId===e.id&&(t.gdbVersion==null||t.gdbVersion===r);e.commitProperty(`renderer`),e.commitProperty(`labelingInfo`),e.commitProperty(`opacity`),e.commitProperty(`labelsVisible`),e.commitProperty(`orderBy`);let i=e.layer?.capabilities?.exportMap?.supportsSublayerOrderBy??!1;return!n||e.originIdOf(`renderer`)>2||e.originIdOf(`labelingInfo`)>2||e.originIdOf(`opacity`)>2||e.originIdOf(`labelsVisible`)>2||i&&e.originIdOf(`orderBy`)>2})||!n(e,t)}function n(e,t){if(!e?.length||t==null)return!0;let n=t.slice().reverse().flatten(({sublayers:e})=>e&&e.toArray().reverse()).map(e=>e.id).toArray();if(e.length>n.length)return!1;let r=0,i=n.length;for(let{id:t}of e){for(;r<i&&n[r]!==t;)r++;if(r>=i)return!1}return!0}function r(e){return!!e&&e.some(e=>e.minScale!=null||e.layerDefinition?.minScale!=null)}export{r as n,e as r,t};