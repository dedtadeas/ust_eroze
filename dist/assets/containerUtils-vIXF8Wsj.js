import{OC as e,Vn as t,fm as n,hm as r,mm as i}from"./index-BqmCqmfp.js";import{k as a,lt as o,rt as s,t as c,tt as l,ut as u,w as d}from"./Dictionary-B3Q9BFVY.js";var f={point:[`hasZ`,`hasM`,`spatialReference`,`type`,`x`,`y`,`z`,`m`],multipoint:[`hasZ`,`hasM`,`spatialReference`,`type`,`points`],polyline:[`hasZ`,`hasM`,`spatialReference`,`type`,`paths`],polygon:[`hasZ`,`hasM`,`spatialReference`,`type`,`rings`],extent:[`hasZ`,`hasM`,`spatialReference`,`type`,`xmin`,`xmax`,`ymin`,`ymax`,`zmin`,`zmax`,`mmin`,`mmax`]};function p(e){return f[e.type]}var m=0;function h(n,r,i,a,s=1){let l;switch(r=r.toLowerCase()){case`hasz`:{let e=n.hasZ;return e!==void 0&&e}case`hasm`:{let e=n.hasM;return e!==void 0&&e}case`spatialreference`:{let t=n.spatialReference._arcadeCacheId;if(t===void 0){let r=!0;e.isFrozen(n.spatialReference)&&(r=!1),r&&(m++,n.spatialReference._arcadeCacheId=m,t=m)}let r=new c({__proto__:null,wkt:n.spatialReference.wkt,wkid:n.spatialReference.wkid});return t!==void 0&&(r._arcadeCacheId=`SPREF`+t.toString()),r}}switch(n.type){case`extent`:switch(r){case`xmin`:case`xmax`:case`ymin`:case`ymax`:case`zmin`:case`zmax`:case`mmin`:case`mmax`:{let e=n[r];return e===void 0?null:e}case`type`:return`Extent`}break;case`polygon`:switch(r){case`rings`:return l=n.cache._arcadeCacheId,l===void 0&&(m++,l=m,n.cache._arcadeCacheId=l),new o(n.rings,n.spatialReference,!0===n.hasZ,!0===n.hasM,l);case`type`:return`Polygon`}break;case`point`:switch(r){case`x`:case`y`:case`z`:case`m`:return n[r]??null;case`type`:return`Point`}break;case`polyline`:switch(r){case`paths`:return l=n.cache._arcadeCacheId,l===void 0&&(m++,l=m,n.cache._arcadeCacheId=l),new o(n.paths,n.spatialReference,!0===n.hasZ,!0===n.hasM,l);case`type`:return`Polyline`}break;case`multipoint`:switch(r){case`points`:return l=n.cache._arcadeCacheId,l===void 0&&(m++,l=m,n.cache._arcadeCacheId=l),new u(n.points,n.spatialReference,!0===n.hasZ,!0===n.hasM,l,1);case`type`:return`Multipoint`}}if(s===1)throw new t(i,`InvalidIdentifier`,a);return s===2?{keystate:`notfound`}:null}function g(e,t){let o,s=e;if(s==null)return null;if(r(t))o=t;else if(l(t))o=t.toArray();else{if(t==null)return null;o=[t]}for(let e of o){if(d(s)){if(!1===n(e)||!s.hasField(e))return null;s=s.field(e)}else if(a(s)){if(!1===n(e))return null;s=h(s,e,null,null,0)}else if(r(s)){if(!1===i(e))return null;s=e>=0?s[e]:s[s.length+e]}else{if(!l(s)||!1===i(e))return null;s=e>=0?s.get(e):s.get(s.length()+e)}if(s==null)return null}return s}function _(e){return!!s(e)||(r(e)?e.length===0:l(e)?e.length()===0:!!d(e)&&e.isEmpty())}export{g as i,p as n,_ as r,h as t};