import{Bu as e,F as t,Sw as n,Vu as r,_E as i,zu as a}from"./index-BqmCqmfp.js";async function o(i,o,s){let l=a(i),u=o.toJSON();o.validationSet&&(u.validationSet=JSON.stringify(o.validationSet));let d={...u,returnEdits:!0,f:`json`},f=r({...l.query,...d}),p=e(f,{...s,method:`post`}),m=`${l.path}/validateNetworkTopology`,{data:h}=await n(m,p);return t.fromJSON(c(h))}async function s(t,o,s){if(!o.gdbVersion)throw new i(`submit-validate-network-topology-job:missing-gdb-version`,`version is missing`);let c=a(t),l=o.toJSON();o.validationSet&&(l.validationSet=JSON.stringify(o.validationSet));let u=e(c.query,{query:r({...l,returnEdits:!0,async:!0,f:`json`}),...s,method:`post`}),d=`${c.path}/validateNetworkTopology`,{data:f}=await n(d,u);return f?f.statusUrl:null}function c(e){return e.serviceEdits&&=e.serviceEdits.map(e=>(e.editedFeatures.spatialReference&&(e.editedFeatures.spatialReference={wkid:e.editedFeatures.spatialReference.wkid,wkt:e.editedFeatures.spatialReference.wkt,wkt2:e.editedFeatures.spatialReference.wkt2,latestWkid:e.editedFeatures.spatialReference.latestWkid,latestVcsWkid:e.editedFeatures.spatialReference.latestVcsWkid,vcsWkid:e.editedFeatures.spatialReference.vcsWkid}),e={layerId:e.id,editedFeatures:e.editedFeatures})),e}export{c as handleValidateNetworkTopologyResult,s as submitValidateNetworkTopologyJob,o as validateNetworkTopology};