const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/lyr3DWorker-DaoA-V3N.js","assets/_commonjsHelpers-D6ht1XAa.js"])))=>i.map(i=>d[i]);
import{Cw as e,nC as t}from"./index-BqmCqmfp.js";function n(){return new Promise(t=>e(()=>import(`./lyr3DWorker-DaoA-V3N.js`),__vite__mapDeps([0,1])).then(e=>e.l).then(({default:e})=>{let n=e({locateFile:r,onRuntimeInitialized:()=>t(n)})})).catch(e=>{throw e})}function r(e){return t(`esri/libs/lyr3d/${e}`)}var i,a;async function o(e){await l();let t={status:1,error:``,jobDescJson:``,data:new Uint8Array,missingInputUrls:[]};if(e.inputs.length<1)return{result:t,transferList:[]};let n={ptrs:[],sizes:[]};for(let t of e.inputs){let e=a._malloc(t.byteLength);new Uint8Array(a.HEAPU8.buffer,e,t.byteLength).set(new Uint8Array(t)),n.ptrs.push(e),n.sizes.push(t.byteLength)}let r=a.process(e.jobDescJson,e.id,n,e.isMissingResourceCase);t.status=r.status,t.missingInputUrls=r.missingInputUrls.slice();let i=r.status===0&&r.data,o=t.status===2&&t.missingInputUrls.length>0;t.jobDescJson=r.jobDescJson.slice(),t.error=r.error.slice(),i?t.data=r.data.slice():o&&(t.originalInputs=e.inputs.slice());for(let e=0;e<n.ptrs.length;++e)a._free(n.ptrs[e]);let s=[];if(i)s.push(t.data.buffer);else if(o)for(let t of e.inputs)s.push(t);return{result:t,transferList:s}}async function s(e){await l(),a.add_spatial_reference_info(e.sr,e.isGCS,e.toMetersXY,e.toMetersZ)}function c(){a&&=(a.uninitialize_lyr3d_worker_wasm(),null)}function l(){return a?Promise.resolve():(i||=n().then(e=>{a=e,a.initialize_lyr3d_worker_wasm(),i=null}),i)}export{s as addSpatialReferenceInfo,c as destroyWasm,l as initialize,o as process};