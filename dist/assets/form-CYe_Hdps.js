import{Go as e,Xo as t}from"./index-BqmCqmfp.js";import{m as n,t as r}from"./dom-atD5WAsR.js";var i=[`calcite-input`,`calcite-input-number`,`calcite-input-text`,`calcite-text-area`];function a(e){return`${e.split(`-`).map((e,t)=>t===0?e:`${e[0].toUpperCase()}${e.slice(1)}`).join(``)}${i.includes(e)?`Input`:`Change`}`}var o=`hidden-form-input`;function s(e){return`checked`in e}var c=new WeakMap,l=new WeakSet;function u(e,t){if(r(t.parentElement,`[form]`))return!0;let n=`calciteInternalFormComponentRegister`,i=!1;return e.addEventListener(n,e=>{i=e.composedPath().some(e=>l.has(e)),e.stopPropagation()},{once:!0}),t.dispatchEvent(new CustomEvent(n,{bubbles:!0,composed:!0})),i}function d(e,{status:t,message:n,icon:r}){`status`in e&&(e.status=t),`validationIcon`in e&&typeof e.validationIcon!=`string`&&(e.validationIcon=r),`validationMessage`in e&&!e.validationMessage&&(e.validationMessage=n)}function f(e){return e.nodeName===`CALCITE-RADIO-BUTTON`?r(e,`calcite-radio-button-group`):e}var p=new CustomEvent(`calciteInvalid`,{bubbles:!0,composed:!0});function m(e){let t=e?.target,n=t?.validationMessage,r=f(t?.parentElement);if(!r)return;let i=r?.nodeName?.toLowerCase(),o=i?.split(`-`);if(o.length<2||o[0]!==`calcite`)return;e?.preventDefault(),`validity`in r&&(r.validity=t?.validity),r.dispatchEvent(p),d(r,{message:n,icon:!0,status:`invalid`});let s=a(i);r.addEventListener(s,()=>{`status`in r&&(r.status=`idle`),`validationIcon`in r&&(r.validationIcon===``||r.validationIcon===!0)&&(r.validationIcon=!1),`validationMessage`in r&&r.validationMessage===n&&(r.validationMessage=``),`validity`in r&&(r.validity=t?.validity)},{once:!0})}function h(e){let{formEl:t}=e;return t?(t.addEventListener(`invalid`,m,!0),t.requestSubmit(),t.removeEventListener(`invalid`,m,!0),requestAnimationFrame(()=>{let e=t.querySelectorAll(`[status=invalid]`);for(let t of e)if(t?.validationMessage){t?.setFocus();break}}),!0):!1}function g(e){e.formEl?.reset()}function _(e){let{el:t,value:n}=e,r=v(e);if(!r||u(r,t))return;e.formEl=r,e.defaultValue=n,s(e)&&(e.defaultChecked=e.checked);let i=y.bind(e);r.addEventListener(`reset`,i),c.set(e.el,i),l.add(t)}function v(e){let{el:t,form:i}=e;return i?n(t,{id:i}):r(t,`form`)}function y(){if(`status`in this&&(this.status=`idle`),`validationIcon`in this&&(this.validationIcon=!1),`validationMessage`in this&&(this.validationMessage=``),s(this)){this.checked=this.defaultChecked;return}this.value=this.defaultValue,this.onFormReset?.()}function b(e){let{el:t,formEl:n}=e;if(!n)return;let r=c.get(t);n.removeEventListener(`reset`,r),c.delete(t),e.formEl=null,l.delete(t)}var x=`calciteInternalHiddenInputInput`,S=e=>{e.target.dispatchEvent(new CustomEvent(x,{bubbles:!0}))},C=e=>e.removeEventListener(`input`,S);function w(e){let{el:t,formEl:n,name:r,value:i}=e,{ownerDocument:a}=t,s=t.querySelectorAll(`input[slot="${o}"]`);if(!n||!r){s.forEach(e=>{C(e),e.remove()});return}let c=Array.isArray(i)?i:[i],l=[],u=new Set;s.forEach(t=>{let n=c.find(e=>e==t.value);n==null?l.push(t):(u.add(n),T(e,t,n))});let d;c.forEach(t=>{if(u.has(t))return;let n=l.pop();n||(n=a.createElement(`input`),n.ariaHidden=`true`,n.slot=o),d||=a.createDocumentFragment(),d.append(n),n.addEventListener(`input`,S),T(e,n,t)}),d&&t.append(d),l.forEach(e=>{C(e),e.remove()})}function T(e,t,n){let{defaultValue:r,disabled:i,form:a,name:o,required:c}=e;t.defaultValue=r,t.disabled=i,t.name=o,t.required=c,t.tabIndex=-1,a?t.setAttribute(`form`,a):t.removeAttribute(`form`),s(e)?(t.checked=e.checked,t.defaultChecked=e.defaultChecked,t.value=e.checked?n||`on`:``):t.value=n||``,e.syncHiddenFormInput?.(t);let l=f(e.el);if(l&&`validity`in l)for(let e in{...t?.validity})l.validity[e]=t.validity[e]}var E=({component:e})=>(w(e),t`<slot name=${o}></slot>`);export{x as a,v as i,_ as n,g as o,b as r,h as s,E as t};