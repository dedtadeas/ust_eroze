import{Qa as e,eo as t,no as n,to as r}from"./index-BqmCqmfp.js";import"./originUtils-Xpg5-Q2D.js";import"./saveUtils-DsVVlvmj.js";import{n as i,t as a}from"./utils-yJnMCzaE.js";var o=`Stream Service`,s=`Feed`,c=`stream-layer-save`,l=`stream-layer-save-as`;function u(e){return{isValid:e.type===`stream`&&!!e.url&&!e.webSocketUrl,errorMessage:`Stream layer should be created using a url to a stream service`}}function d(e){let t=e.layerJSON;return Promise.resolve(t&&Object.keys(t).length?t:null)}async function f(i,a){let{parsedUrl:o,title:s,fullExtent:c}=i;a.url=o.path,a.title||=s,a.extent=null,c!=null&&(a.extent=await n(c)),t(a,e.METADATA),r(a,e.SINGLE_LAYER)}async function p(e,t){return i({layer:e,itemType:o,additionalItemType:s,validateLayer:u,createItemData:d,errorNamePrefix:c},t)}async function m(e,t,n){return a({layer:e,itemType:o,validateLayer:u,createItemData:d,errorNamePrefix:l,newItem:t,setItemProperties:f},n)}export{p as save,m as saveAs};