import{Kx as e,nD as t}from"./index-BqmCqmfp.js";import{n,t as r}from"./SimpleGeometryCursor-CI9GIWKa.js";import{mn as i}from"./Point2D-UYEfE6HP.js";import{t as a}from"./Envelope2D-BNwQDrOT.js";import{et as o}from"./UnitFactory-J9WMNXdY.js";import"./Transformation2D-DVoPQwGC.js";import"./OperatorDefinitions-DQQu7-BK.js";import{a as s,n as c,t as l}from"./jsonConverter-DiNOXEUJ.js";import"./OperatorSimplifyOGC-r9P7gVey.js";import"./GeometryCleaner-BEJM7I4l-DybJvg8-.js";import"./OperatorGeneralize-Ce-8cGyg.js";import{t as u}from"./Bufferer-Dw9Qi4T1-D8dblflm.js";var d=class{getOperatorType(){return 10111}supportsCurves(){return!0}accelerateGeometry(e,t,n){return!1}canAccelerateGeometry(e){return!1}executeMany(e,t,n,r,i,a,s,c,l,u,d){if(l){let l=new f(e,t,n,r,i,a,s,c,d);return new o().executeMany(l,t,d,2)}return new f(e,t,n,r,i,a,s,c,d)}},f=class extends n{constructor(e,t,n,r,i,o,s,c,l){super(),this.m_currentUnionEnvelope2D=new a,this.m_index=-1,this.m_dindex=-1,this.m_progressTracker=l,this.m_bufferer=new u(l),this.m_inputGeoms=e,this.m_spatialReference=t,this.m_distances=n,this.m_maxDeviation=s,this.m_maxVerticesInFullCircle=c,this.m_joins=r,this.m_caps=i,this.m_miterLimit=o}tock(){return!0}getRank(){return 1}next(){{let e;for(;e=this.m_inputGeoms.next();)return i(e),this.m_index=this.m_inputGeoms.getGeometryID(),this.m_dindex+1<this.m_distances.length&&this.m_dindex++,this.buffer(e,this.m_distances[this.m_dindex]);return null}}getGeometryID(){return this.m_index}buffer(e,t){return this.m_bufferer.buffer(e,t,this.m_spatialReference,this.m_joins,this.m_caps,this.m_miterLimit,this.m_maxDeviation,this.m_maxVerticesInFullCircle)}},p=new d;function m(e,t,n,i,a,o,s,c,l){let u=p.executeMany(new r(e),t,n,i,a,o,s,c,l,0,null);return Array.from(u)}var h={round:0,miter:1,bevel:2},g={round:0,butt:1,square:2};function _(n,r,i,a,o={}){let{miterLimit:u=10,maxDeviation:d=NaN,maxVerticesInFullCircle:f=96,union:p=!1,unit:_}=o,[v,y]=l(n);if(_){let t=c(n);t&&(r=r.map(n=>e(n,_,t)),d&&=e(d,_,t))}return m(v,y,r,h[i],g[a],u,d,f,p).map(e=>s(e,y)).filter(t)}export{_ as executeMany};