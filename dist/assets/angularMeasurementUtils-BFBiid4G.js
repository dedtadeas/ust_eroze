import{$l as e,IS as t,Jg as n,Qx as r,fv as i,id as a,jl as o,nh as s,ru as c,td as l,th as u}from"./index-BqmCqmfp.js";import{t as d}from"./projectVectorToVector-D-Bbb8fP.js";import{a as f,i as p,r as m,t as h}from"./geodesicUtils-DJORTTMv.js";import{a as g,r as _}from"./quantityUtils-Dywg00j-.js";function v(e,t){if(e==null||t==null)return;let n=y(e,t);return n==null?void 0:_(n,`radians`,`geographic`)}var y=(()=>{let t=n(),r=n();return(n,i)=>(e(t,n.x,n.y,n.z??0),e(r,i.x,i.y,i.z??0),b(t,r,n.spatialReference,i.spatialReference))})(),b=(()=>{let e=a(),s=n(),c=n();return(n,a,u,p)=>{if(o(n,a))return;let m=h(u),g=h(p);if(m&&g&&t(m,g)&&d(n,u,s,m)&&d(a,p,c,g)){let{azimuth:e}=f(k,s,c,m);return e==null?void 0:r(e,`degrees`,`radians`)}e[0]=a[0]-n[0],e[1]=a[1]-n[1];let _=i(l,e);return e[0]<0&&(_=A-_),_}})();function x(e,t,n,r=`absolute`){if(t&&n)switch(r){case`absolute`:return v(t,n);case`relative`:return C(S(e,t,n),`relative`);case`relative-bilateral`:return C(S(e,t,n),`relative-bilateral`)}}function S(e,t,n){if(!e||!t||!n)return;let r=y(e,t),i=y(t,n);return r!=null&&i!=null?_(i-r,`radians`,`geographic`):void 0}function C(e,t){if(e!=null)switch(t){case`absolute`:return w(e);case`relative`:{let t=E(e),n=M.normalize(t,0,!0);return n===-180&&(n=180),_(n,`degrees`,`geographic`)}case`relative-bilateral`:{let t=E(e),n=Math.abs(M.normalize(t,0,!0));return _(n,`degrees`,`geographic`)}}}function w(e){let t=E(e),n=j.normalize(t,0,!0);return _(n,`degrees`,`geographic`)}var T=(()=>{let t=n();return(n,i,a,o,s,l=`geodesic`)=>{c(t,i);let u=E(s);if(l===`geodesic`){let e=h(a);if(e&&d(t,a,t,e))return p(n,t,u,o,e),n[2]=i[2],!!d(n,e,n,a)}let f=g(u,`geographic`,`arithmetic`),m=r(f,`degrees`,`radians`),_=i[0]+o*Math.cos(m),v=i[1]+o*Math.sin(m),y=i[2];return e(n,_,v,y),!0}})();function E(e){if(e!=null)return g(O(e),e.rotationType,`geographic`)}function D(e){if(e!=null)return g(O(e),e.rotationType,`arithmetic`)}function O(e){return r(e.value,e.unit,`degrees`)}var k=new m,A=2*Math.PI,j=u,M=new s(-180,180);export{D as a,b as c,v as i,E as n,C as o,T as r,x as s,w as t};