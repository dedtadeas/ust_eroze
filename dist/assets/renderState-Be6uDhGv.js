function e(e,t,n=32774,r=[0,0,0,0]){return{srcRgb:e,srcAlpha:e,dstRgb:t,dstAlpha:t,opRgb:n,opAlpha:n,color:{r:r[0],g:r[1],b:r[2],a:r[3]}}}function t(e,t,n,r,i=32774,a=32774,o=[0,0,0,0]){return{srcRgb:e,srcAlpha:t,dstRgb:n,dstAlpha:r,opRgb:i,opAlpha:a,color:{r:o[0],g:o[1],b:o[2],a:o[3]}}}var n=e(0,771);e(1,0),e(1,1);var r=e(1,771),i=t(770,1,771,771);t(0,0,768,1);var a={face:1029,mode:2305},o={face:1028,mode:2305},s=e=>e===2?a:e===1?o:null,c={zNear:0,zFar:1},l={r:!0,g:!0,b:!0,a:!0};function u(e){return S.intern(e)}function d(e){return w.intern(e)}function f(e){return E.intern(e)}function p(e){return O.intern(e)}function m(e){return A.intern(e)}function h(e){return M.intern(e)}function g(e){return P.intern(e)}function _(e){return I.intern(e)}function v(e){return R.intern(e)}function y(e){return B.intern(e)}var b=class{constructor(e,t){this._makeKey=e,this._makeRef=t,this._interns=new Map}intern(e){if(!e)return null;let t=this._makeKey(e),n=this._interns;return n.has(t)||n.set(t,this._makeRef(e)),n.get(t)??null}};function x(e){return`[`+e.join(`,`)+`]`}var S=new b(C,e=>({__tag:`Blending`,...e}));function C(e){return e?x([e.srcRgb,e.srcAlpha,e.dstRgb,e.dstAlpha,e.opRgb,e.opAlpha,e.color.r,e.color.g,e.color.b,e.color.a]):null}var w=new b(T,e=>({__tag:`Culling`,...e}));function T(e){return e?x([e.face,e.mode]):null}var E=new b(D,e=>({__tag:`PolygonOffset`,...e}));function D(e){return e?x([e.factor,e.units]):null}var O=new b(k,e=>({__tag:`DepthTest`,...e}));function k(e){return e?x([e.func]):null}var A=new b(j,e=>({__tag:`StencilTest`,...e}));function j(e){return e?x([e.function.func,e.function.ref,e.function.mask,e.operation.fail,e.operation.zFail,e.operation.zPass]):null}var M=new b(N,e=>({__tag:`DepthWrite`,...e}));function N(e){return e?x([e.zNear,e.zFar]):null}var P=new b(F,e=>({__tag:`ColorWrite`,...e}));function F(e){return e?x([e.r,e.g,e.b,e.a]):null}var I=new b(L,e=>({__tag:`StencilWrite`,...e}));function L(e){return e?x([e.mask]):null}var R=new b(z,e=>({__tag:`DrawBuffers`,...e}));function z(e){return e?x(e.buffers):null}var B=new b(V,e=>({blending:u(e.blending),culling:d(e.culling),polygonOffset:f(e.polygonOffset),depthTest:p(e.depthTest),stencilTest:m(e.stencilTest),depthWrite:h(e.depthWrite),colorWrite:g(e.colorWrite),stencilWrite:_(e.stencilWrite),drawBuffers:v(e.drawBuffers)}));function V(e){return e?x([C(e.blending),T(e.culling),D(e.polygonOffset),k(e.depthTest),j(e.stencilTest),N(e.depthWrite),F(e.colorWrite),L(e.stencilWrite),z(e.drawBuffers)]):null}var H=class{constructor(e){this._pipelineInvalid=!0,this._blendingInvalid=!0,this._cullingInvalid=!0,this._polygonOffsetInvalid=!0,this._depthTestInvalid=!0,this._stencilTestInvalid=!0,this._depthWriteInvalid=!0,this._colorWriteInvalid=!0,this._stencilWriteInvalid=!0,this._drawBuffersInvalid=!0,this._stateSetters=e}setPipeline(e){(this._pipelineInvalid||e!==this._pipeline)&&(this._setBlending(e.blending),this._setCulling(e.culling),this._setPolygonOffset(e.polygonOffset),this._setDepthTest(e.depthTest),this._setStencilTest(e.stencilTest),this._setDepthWrite(e.depthWrite),this._setColorWrite(e.colorWrite),this._setStencilWrite(e.stencilWrite),this._setDrawBuffers(e.drawBuffers),this._pipeline=e),this._pipelineInvalid=!1}invalidateBlending(){this._blendingInvalid=!0,this._pipelineInvalid=!0}invalidateCulling(){this._cullingInvalid=!0,this._pipelineInvalid=!0}invalidatePolygonOffset(){this._polygonOffsetInvalid=!0,this._pipelineInvalid=!0}invalidateDepthTest(){this._depthTestInvalid=!0,this._pipelineInvalid=!0}invalidateStencilTest(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}invalidateDepthWrite(){this._depthWriteInvalid=!0,this._pipelineInvalid=!0}invalidateColorWrite(){this._colorWriteInvalid=!0,this._pipelineInvalid=!0}invalidateStencilWrite(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}invalidateDrawBuffers(){this._drawBuffersInvalid=!0,this._pipelineInvalid=!0}_setBlending(e){this._blending=this._setSubState(e,this._blending,this._blendingInvalid,this._stateSetters.setBlending),this._blendingInvalid=!1}_setCulling(e){this._culling=this._setSubState(e,this._culling,this._cullingInvalid,this._stateSetters.setCulling),this._cullingInvalid=!1}_setPolygonOffset(e){this._polygonOffset=this._setSubState(e,this._polygonOffset,this._polygonOffsetInvalid,this._stateSetters.setPolygonOffset),this._polygonOffsetInvalid=!1}_setDepthTest(e){this._depthTest=this._setSubState(e,this._depthTest,this._depthTestInvalid,this._stateSetters.setDepthTest),this._depthTestInvalid=!1}_setStencilTest(e){this._stencilTest=this._setSubState(e,this._stencilTest,this._stencilTestInvalid,this._stateSetters.setStencilTest),this._stencilTestInvalid=!1}_setDepthWrite(e){this._depthWrite=this._setSubState(e,this._depthWrite,this._depthWriteInvalid,this._stateSetters.setDepthWrite),this._depthWriteInvalid=!1}_setColorWrite(e){this._colorWrite=this._setSubState(e,this._colorWrite,this._colorWriteInvalid,this._stateSetters.setColorWrite),this._colorWriteInvalid=!1}_setStencilWrite(e){this._stencilWrite=this._setSubState(e,this._stencilWrite,this._stencilWriteInvalid,this._stateSetters.setStencilWrite),this._stencilTestInvalid=!1}_setDrawBuffers(e){this._drawBuffers=this._setSubState(e,this._drawBuffers,this._drawBuffersInvalid,this._stateSetters.setDrawBuffers),this._drawBuffersInvalid=!1}_setSubState(e,t,n,r){return(n||e!==t)&&(r(e),this._pipelineInvalid=!0),e}};export{l as a,r as c,c as i,o as l,y as n,t as o,s as r,n as s,H as t,i as u};