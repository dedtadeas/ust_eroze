const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/QueueProcessor-BvwIRsLI.js","assets/QueueProcessor-C8_CgXms.js","assets/ElevationLayer-qz_xsJhc.js","assets/memoryEstimations-O7VgDRVG.js","assets/WorkerHandle-CxcgZaVn.js","assets/TilemapCache-C88wwB2j.js","assets/ArcGISCachedService-B2iHwO5Q.js","assets/TileInfoTilemapCache-CuMyse4g.js","assets/resourceUtils-ePeGAA3s.js","assets/resourceUtils-CEABprin.js","assets/portalLayers-_EiwnKaP.js","assets/loadUtils-BWnAUV23.js","assets/associatedFeatureServiceUtils-C1iuzbPQ.js","assets/fetchService-BUtv2ntd.js","assets/lazyLayerLoader-DjJLNY3M.js","assets/portalLayers-DW_lsX5Z.js","assets/arcgisLayers-7R6iP0v2.js","assets/layersCreator-B3hxuLBQ.js","assets/layersCreator-B-_WTkJO.js","assets/ElevationQuery-DX2l3hUV.js","assets/GeometryDescriptor-BAsgbvB_.js","assets/projectOperator-BUKyFcqE.js","assets/SimpleGeometryCursor-CI9GIWKa.js","assets/operatorProject-xNL6vJqt.js","assets/projectOperator-D9Kz8ulR.js","assets/projectOperator-CJqnPCQu.js","assets/statsWorker-BQzUv1Ng.js","assets/quantizationUtils-C5shine1.js","assets/generateRendererUtils-BgK3c0Qk.js","assets/statsWorker-JK_YVXSy.js","assets/utils-C2AeUOnb.js","assets/utils-DD1PtgG7.js","assets/utils-BcHO3hev.js","assets/geometryEngineWorker-Bu28btWu.js","assets/_commonjsHelpers-D6ht1XAa.js","assets/geometryEngineBase-Bv_XSz7W.js","assets/geometryEngineJSON-BiUuLbJ8.js","assets/CSVSourceWorker-DXBeKxcl.js","assets/date-DKxAu4UK.js","assets/PooledRBush-DKfG2PAm.js","assets/number-Dq0Kt6xf.js","assets/WhereClause-h6PJ6gjs.js","assets/WhereClauseCache-BuGDygNN.js","assets/timeSupport-DheFkvFH.js","assets/OptimizedGeometry-f3I9Z6C1.js","assets/queryUtils-BA7HiGeg.js","assets/featureConversionUtils-7vyVIZ6j.js","assets/OptimizedFeature-Dx4_lHip.js","assets/OptimizedFeatureSet-DlHqIhoP.js","assets/QueryEngine-DjyUd3-5.js","assets/QueryEngineCapabilities-DPTJ40n4.js","assets/SnappingCandidate-B_1Ysqys.js","assets/FixedIntervalBinParameters-BO-nZFQ3.js","assets/BoundsStore-C1JqKB7k.js","assets/FeatureStore-qdIVrmQw.js","assets/optimizedFeatureQueryEngineAdapter-8HKICOsa.js","assets/clientSideDefaults-CpyaF_rm.js","assets/locationUtils-DmjCjKC3.js","assets/EdgeProcessingWorker-Dr7_SoWA.js","assets/FloatArray-cqhQU3FO.js","assets/BufferView-DNaZpbJX.js","assets/Util-3rPi0NfK.js","assets/types-BLimCzcc.js","assets/VertexAttributeLocations-IAhvKZqd.js","assets/VertexElementDescriptor-BGWnA0Rs.js","assets/Indices-BsTLKVdx.js","assets/Normals-607wbOBC.js","assets/deduplicate-BuZ0DaaO.js","assets/workerHelper-JURRZITv.js","assets/edgeProcessing-BuuQd5_I.js","assets/ElevationSamplerWorker-zYRX8Hcw.js","assets/vec3-40WN6G4a.js","assets/vec4-CcFo8HF1.js","assets/computeTranslationToOriginAndRotation-BC3OuSky.js","assets/projectPointToVector-Clou1sfo.js","assets/spatialReferenceEllipsoidUtils-DBtdxVkA.js","assets/MeshLocalVertexSpace-HjmVAuYa.js","assets/vertexSpaceConversion-g9XG_RJW.js","assets/meshVertexSpaceUtils-Y8FeTLov.js","assets/FeatureServiceSnappingSourceWorker-Ge1IvCzr.js","assets/pbf-CwGh07vG.js","assets/urlUtils-CtPsFIu4.js","assets/pbfQueryUtils-DOeTJOP2.js","assets/query-D8IHih8e.js","assets/queryUtils-GIY2oFHT.js","assets/symbologySnappingCandidates-CMGkAgRH.js","assets/GeoJSONSourceWorker-DhJ8DHWE.js","assets/geojson-HXfjj8c5.js","assets/sourceUtils-DtMoGpXR.js","assets/MemorySourceWorker-Cx2msgJc.js","assets/objectIdUtils-CDGh-k0K.js","assets/PBFDecoderWorker-Xil9ttIC.js","assets/dehydratedFeatureComparison-Ch8xWl-8.js","assets/dehydratedFeatures-DW1qFa9i.js","assets/FeaturePipelineWorker-CWwOadum.js","assets/bundle-BMKKOu1E.js","assets/BidiEngine-CpIovbIK.js","assets/CIMSymbolHelper-bdBsF42t.js","assets/rasterizingUtils-B0Pd5uE0.js","assets/fontUtils-CWolFklQ.js","assets/labelPoint-B7zLrA23.js","assets/GeometryUtils-DBkUrkz1.js","assets/Rect-BMNJQxpm.js","assets/BoundingBox-DnR5UeUT.js","assets/CircularArray-Bnt6GPkP.js","assets/FeatureSetReaderParquet-B9dyg3Yd.js","assets/callExpressionWithCursor-kl7GHpJ1.js","assets/TurboLine-CViGHhaf.js","assets/operatorGeodeticDensify--20BEid9.js","assets/geodeticCurveType-hqCRc72W.js","assets/normalizeUtilsSync-Btn24Gtg.js","assets/FeatureIdInfo-tnzYk6tz.js","assets/createConnection-CFFQQHl_.js","assets/ogcFeatureUtils-CnKh80Pr.js","assets/ComputedAttributeStorage-D_u4lyEq.js","assets/utils-DBLYSlue.js","assets/UpdateTracking2D-yw0xaCSk.js","assets/constants-BOI_CTg-.js","assets/streamLayerUtils-BMw-RtDi.js","assets/parquet-79J3NX0y.js","assets/PieChartMeshWriter-CI24zfQF.js","assets/MeshWriterRegistry-yNvtoNhB.js","assets/FeatureMetadata-H6WAS0Lx.js","assets/PointCloudWorker-BIIOVfBw.js","assets/vectorStacks-CKtslZxP.js","assets/quatf64-CJzmL3cc.js","assets/vec3f32-CZ7wi78s.js","assets/quat-Bk_ZaVz9.js","assets/I3SBinaryReader-BEyu-d1C.js","assets/plane-CTjDePZl.js","assets/PointCloudUniqueValueRenderer-Ce5k7uWk.js","assets/orientedBoundingBox-DZQLHGx0.js","assets/RasterWorker-Bxrfm-xy.js","assets/RasterSymbolizer-CkbjgVe_.js","assets/colorUtils-uG2qTogT.js","assets/PixelBlock-CjVaas_l.js","assets/pixelRangeUtils-DMjHgTK0.js","assets/vectorFieldUtils-yzcuu25U.js","assets/rasterFunctionHelper-CMjb75WD.js","assets/clipUtils-ZHQqHn8q.js","assets/rasterProjectionHelper-CyS9RtmF.js","assets/GCSShiftTransform-ClfQwpo0.js","assets/dataUtils-lUZ4DUuE.js","assets/SceneLayerSnappingSourceWorker-BRcu5-R5.js","assets/sphere-CicnK0Bn.js","assets/frustum-DNBPrNIX.js","assets/lineSegment-uFalXigL.js","assets/Octree-CJ8Y2SCh.js","assets/SceneLayerWorker-BLmSnsLO.js","assets/projectVectorToVector-D-Bbb8fP.js","assets/dehydratedPoint-Dwb3orme.js","assets/WFSSourceWorker-Cl277yQI.js","assets/wfsUtils-BPCk15Sc.js","assets/xmlUtils-HEdXfQxd.js","assets/WorkerTileHandler-BJIItVPt.js","assets/earcut-Drx511Ix.js","assets/SourceLayerData-DuCIlCYR.js","assets/constants-gtdOjz1K.js","assets/StyleRepository-Dv4t_iVw.js","assets/config-BSvujflG.js","assets/Feature3DPipelineWorker-B-N2wtJO.js","assets/DefaultMaterial.glsl-CPcjrtyI.js","assets/Transform.glsl-YgD9m_jl.js","assets/Float2BindUniform-BJ75NEvo.js","assets/Uniform-DXwqrKA1.js","assets/FloatBindUniform-TDSkRzMc.js","assets/glsl-C2sn87h0.js","assets/NoParameters-CpAItLvD.js","assets/ReadShadowMap.glsl-DONMmaDt.js","assets/Emissions.glsl-DaTtsIIp.js","assets/Float3DrawUniform-UsZpj3mh.js","assets/Float3PassUniform-Co8OqiAU.js","assets/FloatPassUniform-BEwJjV4q.js","assets/Texture2DDrawUniform-hiIQoiSn.js","assets/Texture2DPassUniform-Cd7cdF1a.js","assets/AlphaCutoff-DTq90Si4.js","assets/HighlightReadBitmap.glsl-DB3CoKpG.js","assets/Texture2DBindUniform-CSngcuNV.js","assets/PiUtils.glsl-CZJ_KlHj.js","assets/Float3BindUniform-BrSuqm5i.js","assets/Float4BindUniform-CtMVDjau.js","assets/MixExternalColor.glsl-n6kVrPsi.js","assets/View.glsl-B6vOoRsw.js","assets/Matrix4BindUniform-BUS9JrUC.js","assets/VisualVariables.glsl-xWfUXTFa.js","assets/FloatsPassUniform-BT-ZsPj-.js","assets/Float4PassUniform-Bo_mhcMi.js","assets/ObjectAndLayerIdColor.glsl-CrEuv_nr.js","assets/SnowCover.glsl-CxdL6slB.js","assets/SSAO.glsl-D6CAmj04.js","assets/ScreenSpacePass.glsl-Br3vxYsG.js","assets/ReadDepth.glsl-DvJ8t0GM.js","assets/CameraSpace.glsl-cnQVTSzq.js","assets/Float2PassUniform-D4VTGzqn.js","assets/ShaderBuilder-C3C7fUwK.js","assets/SSAOBlur.glsl-Cl8tUkbE.js","assets/Float2DrawUniform-BXYGUyM9.js","assets/SceneLighting-BWVxtKEm.js","assets/HUDIntersectorResult-CCf93UUm.js","assets/renderState-Be6uDhGv.js","assets/BooleanBindUniform-8vtZmSI6.js","assets/IntegerPassUniform-zyEEceJY.js","assets/Matrix4PassUniform-DbEU5DCd.js","assets/MaterialUtil-DdudaLIK.js","assets/VertexColor.glsl-CHR9Q-WR.js","assets/VerticalOffset.glsl-DYy5IZ2H.js","assets/ScreenSizePerspective.glsl-CRhKUJLC.js","assets/Normals.glsl-BlytCSCC.js","assets/TerrainDepthTest.glsl-neHlKy5u.js","assets/OutputColorHighlightOID.glsl-MUXZi3dC.js","assets/HUDMaterial.glsl-CE_2EJp4.js","assets/HUDVisibility.glsl-BkjA-IFP.js","assets/RealisticTree.glsl-CbVkeEfD.js","assets/boundedPlane-Cn9n7acY.js","assets/graphicUtils-BCCvOGWP.js","assets/hydratedFeatures-BSV-K3yB.js","assets/DefaultBufferWriter-BihhFqiH.js","assets/triangle-1kWe4-AP.js","assets/RenderCoordsHelper-3X105nA6.js","assets/videoUtils-L_CLmnNC.js","assets/Texture-BUgDxlWW.js","assets/requestImageUtils-Co3yn10g.js","assets/placementUtils-DeHIJZHC.js","assets/primitiveObjectSymbolUtils-YY1qMuBN.js","assets/Intersector-DrVIdDEe.js","assets/sdfPrimitives-BFsFtiPt.js","assets/DefaultMaterial-BeGY-ryU.js","assets/VertexBuffer-DL5rIQzc.js","assets/BufferObject-lp8QWmVQ.js","assets/FlowWorker-DQlHLlSY.js","assets/loadUtils-DPhTZgBE.js","assets/ParquetSourceWorker-CIUMiWNv.js","assets/parquetUtils-BveyfTr9.js","assets/PanoramicMeshWorker-CpMOGuNf.js","assets/Popup-DWJ1qV-j.js","assets/Feature-BEHOadAe.js","assets/shared-BZhQTnH4.js","assets/throttle-C7RAnISb.js","assets/unitFormatUtils-D4yCMgjI.js","assets/quantityUtils-Dywg00j-.js","assets/isImageryGraphicOrigin-Qwa2m0c8.js","assets/isImageryTileGraphicOrigin-DkUl-5nl.js","assets/AttachmentInfo-BN0SLgvw.js","assets/utils-CLvHNiZV.js","assets/utils-5jlQHYup.js","assets/cimSymbolUtils-1FVTTBxd.js","assets/gfxUtils-DZoKCRMw.js","assets/executeQueryJSON-BAg2ttNX.js","assets/FeatureUtilityNetworkAssociationsViewModel-BAKZ0nr8.js","assets/featureUtils-SEVs0V51.js","assets/ReactiveSet-DIaWCgzH.js","assets/devEnvironmentUtils-8TtBy-wV.js","assets/previewSymbol3D-CgFD1bFX.js","assets/previewUtils-CT5v5cXU.js","assets/renderUtils-Ckhxu64U.js","assets/webStyleSymbolUtils-Vsg9bxK_.js","assets/webStyleAcceptedFormats-vp0B4e2w.js","assets/symbolUtils-lbLywa7t.js","assets/layerViewUtils-Bbe7IKvz.js","assets/WhereClauseCache-BkAl8XfB.js","assets/arcadeUtils-Dws7Nmy5.js","assets/Dictionary-B3Q9BFVY.js","assets/ImmutableArray-C3KNQCVd.js","assets/track-CqQN9dI1.js","assets/ArcadePortal-B5V7N8wX.js","assets/Attachment-CoFGJO-I.js","assets/Feature-Bd-5gqon.js","assets/arcadeEnvironment-DfjU7s2m.js","assets/containerUtils-vIXF8Wsj.js","assets/functions-WMuSJ2is.js","assets/fieldStats-DP2AlUAP.js","assets/arcade-D8hsF49o.js","assets/unitConversion-BbIQHFw4.js","assets/aiServices-BSz92p7H.js","assets/commonProperties-fyxj-C5K.js","assets/rasterFieldUtils-BXl_hh-f.js","assets/batchExec-CitotI9u.js","assets/aiServices-syZb0zjX.js","assets/webStyleSymbolUtils-BixzdQsc.js","assets/webglDeps-DGwTBPOk.js","assets/FramebufferObject-CkeUwNOD.js","assets/ProgramTemplate-ks-pn-xm.js","assets/ProgramCache-CEARrkpW.js","assets/VertexArrayObject-Dzn28byJ.js","assets/mapViewDeps-3moYDkzu.js","assets/WGLContainer-Caxzva6E.js","assets/Container-DgT8F3N0.js","assets/EffectView-CvH-XuUh.js","assets/densifyCurvedGeometry-C2XDhl14.js","assets/geodesicUtils-DJORTTMv.js","assets/CIMResourceManager-toL-2Xk5.js","assets/OverrideHelper-BKNowJt8.js","assets/callExpressionWithFeature-BK7JnF3H.js","assets/SDFHelper-DcS4hwwo.js","assets/FeatureCommandQueue-COnDeivB.js","assets/GraphShaderModule-D5xwSwIQ.js","assets/utils-CY7cI7hp.js","assets/GridShader-DMXvzdaC.js","assets/SymbolFader-sQMZEde1.js","assets/DisjointTimerQuery-DmiPM9r5.js","assets/TechniqueInstance-BhM4b8eb.js","assets/TileContainer-BwjyXNO3.js","assets/RenderingContext-BQqzsg0C.js","assets/utils-t8RXx5_N.js","assets/AGraphicContainer-ShIe2ypS.js","assets/GraphicsView2D-Dg0AUWQu.js","assets/utils-CyTmGCxv.js","assets/gridUtils-7cbr2rDG.js","assets/GraphicContainer-DNktOekL.js","assets/TileLayerView2D-BasuIK3x.js","assets/floorFilterUtils-CQ-SmVM_.js","assets/sublayerUtils-CdLiCppr.js","assets/drapedUtils-p7eKCYi3.js","assets/MapServiceLayerViewHelper-Bw9Ns8lB.js","assets/popupUtils-h58HBZOO.js","assets/Bitmap-Bh-_NMdJ.js","assets/bitmapUtils-EQTC4Su-.js","assets/imageUtils-Jkh7sLFa.js","assets/LayerView2D-DVE2Teoj.js","assets/HighlightGraphicContainer-CU3v7_T8.js","assets/LayerView-DKEUJRIQ.js","assets/RefreshableLayerView-CNJlNdyl.js","assets/highlightOptionsUtils-DiIoW0j2.js","assets/FeatureLayerView2D-DXcbIcI3.js","assets/FeatureLayerView2D-KHEVvpED.js","assets/AttributeBinsFeatureSet-Cw3XBtzs.js","assets/constants-hGT2UJiZ.js","assets/featurePopupQueryUtils-D4olkuib.js","assets/timeSupport-RxzvaDaJ.js","assets/AttributeBinsQuery-DyK0zHZB.js","assets/featureReductionUtils-DBH-XoP8.js","assets/tagSymbols-CNjeVVdC.js","assets/BaseDynamicLayerView2D-DUSMl__m.js","assets/BitmapContainer-CdqXg0Ib.js","assets/ExportStrategy-DxWskyNu.js","assets/CatalogLayerView2D-BLxzv3Rf.js","assets/CatalogDynamicGroupLayerView2D-D4highGD.js","assets/CatalogFootprintLayerView2D-fULRFWda.js","assets/GeoRSSLayerView2D-B5VEkNIH.js","assets/GraphicsLayerView2D-DSmsUyci.js","assets/GroupLayerView2D-f5-gQutS.js","assets/ImageryLayerView2D-Cw9MsW3_.js","assets/RasterVFDisplayObject-BZ2z06Ss.js","assets/ImageryTileLayerView2D-wi3IJNUO.js","assets/multidimensionalUtils-yEWHc_se.js","assets/RawBlockCache-Dlb6yJNd.js","assets/datasetUtils-DSaKkE9z.js","assets/rasterUtils-CFO6nsd3.js","assets/KMLLayerView2D-D4fONZaf.js","assets/kmlUtils-DH9kTish.js","assets/KnowledgeGraphLayerView2D-CVDvMwhy.js","assets/MapImageLayerView2D-CZVXLDsG.js","assets/ExportImageParameters-rbwYTeB-.js","assets/MapNotesLayerView2D-UBFDm3k7.js","assets/MediaLayerView2D-Kje8wRrk.js","assets/MediaElementView-DeBmnAcW.js","assets/OverlayContainer-CB0dR5QJ.js","assets/OGCFeatureLayerView2D-CUTBmpNe.js","assets/RouteLayerView2D-D7eUXbS_.js","assets/Stop-DfLyF0Gk.js","assets/networkEnums-BShtiFSl.js","assets/RouteInfo-BYlTBn3w.js","assets/StreamLayerView2D-_utHuxpm.js","assets/SubtypeGroupLayerView2D-FJiWjTRF.js","assets/VectorTileLayerView2D-BUOEORBz.js","assets/VideoLayerView2D-B0FzM42I.js","assets/GraphicsLayer-BGvt7_Y1.js","assets/ControlPoint-Benu0MjK.js","assets/videoUtils-CDV-epE9.js","assets/WMSLayerView2D-B6jlw0Ak.js","assets/ExportWMSImageParameters-DDuJmo5d.js","assets/WMTSLayerView2D-CpYGl0dt.js","assets/ElevationProfileAnalysisView2D-DAS0TugW.js","assets/Distance2DCalculator-CXhBP-8I-Xmr2hQVp.js","assets/UnitFactory-J9WMNXdY.js","assets/Envelope2D-BNwQDrOT.js","assets/Point2D-UYEfE6HP.js","assets/OperatorDefinitions-DQQu7-BK.js","assets/Transformation2D-DVoPQwGC.js","assets/distanceOperator-5uQbTYel.js","assets/apiConverter-DVPFZqjR.js","assets/jsonConverter-DiNOXEUJ.js","assets/geodeticLengthOperator-Bd7syy7j.js","assets/simplifyOperator-CVaMEoed.js","assets/operatorSimplify-BpM6lQIp.js","assets/mapCollectionUtils-BFnXgZfs.js","assets/elevationInfoUtils-Df_uYU_q.js","assets/createUtils-DwAaa929.js","assets/getDefaultUnitForView-CBP34vcm.js","assets/SketchViewModel-BCYoa7_w.js","assets/isSupportedObject-CNmfINgj.js","assets/layerUtils-DVQFdwBE.js","assets/SketchOptions-CfisVcr8.js","assets/LineSnappingHint-BAcwqgNT.js","assets/ParallelSnappingHint-Knbe-U69.js","assets/DrapedEdgeSnappingCandidate-Ck4Ob_c8.js","assets/constraints-DXu8cqG3.js","assets/EdgeSnappingCandidate-C1pApw0q.js","assets/SnappingCandidate-BzUm7cf4.js","assets/IntersectionSnappingCandidate-Cv9i7Mdt.js","assets/IntersectionSnappingHint-C3U4Rx6H.js","assets/LineSnappingCandidate-Cp24TJlP.js","assets/RightAngleTriangleSnappingCandidate-B-XFn7NT.js","assets/RightAngleSnappingHint--LJCiSno.js","assets/viewUtils-CPzQ7QWB.js","assets/viewUtils-CtJQ47Dj.js","assets/snappingUtils-CbrwOS61.js","assets/euclideanLengthMeasurementUtils-Bhl6nD1D.js","assets/hitTestSelectUtils-CyV_4TZP.js","assets/apng-BQvKdOJQ.js","assets/calcite-button-DeHTsYH-.js","assets/controllers-DZ7pbtKF.js","assets/useSetFocus-BOgV9A-L.js","assets/dom-atD5WAsR.js","assets/form-CYe_Hdps.js","assets/guid-D8BoG5RM.js","assets/interactive-C1Xh6Lv0.js","assets/label-CbTib4du.js","assets/logger-N52NEE_B.js","assets/observers-Ca90Dkfx.js","assets/useT9n-bRfAARgx.js","assets/calcite-icon-DU8UXGam.js","assets/calcite-loader-C2BnVEC6.js","assets/static-CFhWbVpa.js","assets/calcite-icon-D_iKcGa4.js","assets/webdocSaveUtils-DEpneqKp.js","assets/originUtils-Xpg5-Q2D.js","assets/resourceUtils-Dtqy_ILo.js","assets/saveUtils-DsVVlvmj.js","assets/editingSupport-DZmD-Wdk.js","assets/editingSupport-z-WY3UuH.js","assets/OverrideHelper-DUSfJggL.js","assets/layersLoader-CIBYtAfb.js","assets/featureUtils-BgR0K4Eq.js","assets/featureLayerUtils-exT5YSi4.js","assets/utils-yJnMCzaE.js","assets/FeatureLayerSource-EVkqILnf.js","assets/MeshTransform-B2p38eYR.js","assets/axisAngleDegrees-Di7q97jx.js","assets/External-Cyg8cgWj.js","assets/applyEditsUtils-6Wi1ZwPV.js","assets/FeatureLayerSource-Hn81GwdL.js","assets/QueryTask-vPpZxMGi.js","assets/executeForIds-CFB4h9Bk.js","assets/executeQueryPBF-DMb74A0k.js","assets/PivotQuery-f3G138Y5.js","assets/PivotQuery-VQ28ggdJ.js","assets/TopFeaturesQuery-ayaPBruu.js","assets/TopFeaturesQuery-BCmsIF5I.js","assets/AttributeBinsQuery-AhqeSGKe.js","assets/queryAssociations-YLS8NWEn.js","assets/queryAssociations-BWCQTNY8.js","assets/Association-B4hLXpmY.js","assets/QueryAssociationsParameters-DreBq2N7.js","assets/QueryAssociationsParameters-D7_WIbIv.js","assets/synthesizeAssociationGeometries-CYT5bq43.js","assets/calcite-action-BRb-AbYg.js","assets/calcite-action-CVrDQiWf.js","assets/keyed-CU6bsPrA.js","assets/calcite-action-group-B9vJ5YWu.js","assets/FloatingArrow-B1y4p2MR.js","assets/calcite-action-menu-CKG8WFN_.js","assets/array-GwTbyvCf.js","assets/floating-ui-bSZlirwY.js","assets/debounce-JuHvylml.js","assets/key-UZzOT_rp.js","assets/openCloseComponent-C1bAqVbv.js","assets/calcite-action-group-Bb_6JISA.js","assets/calcite-action-menu-C0BM-Z9j.js","assets/calcite-list-item-BNrqiIAE.js","assets/dynamicClasses-DOR4n0eL.js","assets/resources5-CUqenAI5.js","assets/resources7-BZ7SBRw5.js","assets/utils2-B1dhLot4.js","assets/calcite-dropdown-group-Cw7DBVuL.js","assets/calcite-dropdown-item-CuDPcNk9.js","assets/calcite-dropdown-gAQ7koWv.js","assets/calcite-list-CgWjPxHf.js","assets/calcite-input-C8DWvaD7.js","assets/useCancelable-CRHa62_S.js","assets/calcite-input-message-BD7sw1wZ.js","assets/calcite-progress-B9qY8ZRX.js","assets/calcite-scrim-ChNbuBJA.js","assets/calcite-notice-CvAfSaDY.js","assets/Legend-DWRrpbRN.js","assets/rendererConversion-C80YhbmI.js","assets/CIMSymbolRasterizer-guvrPj-Q.js","assets/previewCIMSymbol-CBOpjv_L.js","assets/calcite-flow-D4rd49Lr.js","assets/calcite-flow-item-B58QADYb.js","assets/calcite-panel-Dcr_8l-E.js","assets/calcite-tooltip-DOISgjum.js"])))=>i.map(i=>d[i]);
var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},c=(n,r,a)=>(a=n==null?{}:e(i(n)),s(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var l=o((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,S||(S=!0,ie());else{var t=n(l);t!==null&&se(x,t.startTime-e)}}var S=!1,ee=-1,C=5,te=-1;function ne(){return g?!0:!(e.unstable_now()-te<C)}function re(){if(g=!1,S){var t=e.unstable_now();te=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(ee),ee=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&ne());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&se(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?ie():S=!1}}}var ie;if(typeof y==`function`)ie=function(){y(re)};else if(typeof MessageChannel<`u`){var ae=new MessageChannel,oe=ae.port2;ae.port1.onmessage=re,ie=function(){oe.postMessage(null)}}else ie=function(){_(re,0)};function se(t,n){ee=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):C=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(ee),ee=-1):h=!0,se(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,S||(S=!0,ie()))),r},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),u=o(((e,t)=>{t.exports=l()})),d=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function ee(){}var C={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function ne(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function re(e,t){return ne(e.type,t,e.props)}function ie(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function ae(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var oe=/\/+/g;function se(e,t){return typeof e==`object`&&e&&e.key!=null?ae(``+e.key):t.toString(36)}function ce(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(ee,ee):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function le(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,le(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+se(e,0):a,S(o)?(i=``,c!=null&&(i=c.replace(oe,`$&/`)+`/`),le(o,r,i,``,function(e){return e})):o!=null&&(ie(o)&&(o=re(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(oe,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(S(e))for(var u=0;u<e.length;u++)a=e[u],s=l+se(a,u),c+=le(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+se(a,u++),c+=le(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return le(ce(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function w(e,t,n){if(e==null)return e;var r=[],i=0;return le(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function ue(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var T=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},de={map:w,forEach:function(e,t,n){w(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return w(e,function(){t++}),t},toArray:function(e){return w(e,function(e){return e})||[]},only:function(e){if(!ie(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=de,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return C.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!te.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return ne(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)te.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return ne(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=ie,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:ue}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=C.T,n={};C.T=n;try{var r=e(),i=C.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(ee,T)}catch(e){T(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),C.T=t}},e.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},e.use=function(e){return C.H.use(e)},e.useActionState=function(e,t,n){return C.H.useActionState(e,t,n)},e.useCallback=function(e,t){return C.H.useCallback(e,t)},e.useContext=function(e){return C.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return C.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return C.H.useEffect(e,t)},e.useEffectEvent=function(e){return C.H.useEffectEvent(e)},e.useId=function(){return C.H.useId()},e.useImperativeHandle=function(e,t,n){return C.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return C.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return C.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return C.H.useMemo(e,t)},e.useOptimistic=function(e,t){return C.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return C.H.useReducer(e,t,n)},e.useRef=function(e){return C.H.useRef(e)},e.useState=function(e){return C.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return C.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return C.H.useTransition()},e.version=`19.2.0`})),f=o(((e,t)=>{t.exports=d()})),p=o((e=>{var t=f();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.0`})),m=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=p()})),h=o((e=>{var t=u(),n=f(),r=m();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function d(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var h=Object.assign,g=Symbol.for(`react.element`),_=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),S=Symbol.for(`react.consumer`),ee=Symbol.for(`react.context`),C=Symbol.for(`react.forward_ref`),te=Symbol.for(`react.suspense`),ne=Symbol.for(`react.suspense_list`),re=Symbol.for(`react.memo`),ie=Symbol.for(`react.lazy`),ae=Symbol.for(`react.activity`),oe=Symbol.for(`react.memo_cache_sentinel`),se=Symbol.iterator;function ce(e){return typeof e!=`object`||!e?null:(e=se&&e[se]||e[`@@iterator`],typeof e==`function`?e:null)}var le=Symbol.for(`react.client.reference`);function w(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===le?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case te:return`Suspense`;case ne:return`SuspenseList`;case ae:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case ee:return e.displayName||`Context`;case S:return(e._context.displayName||`Context`)+`.Consumer`;case C:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case re:return t=e.displayName||null,t===null?w(e.type)||`Memo`:t;case ie:t=e._payload,e=e._init;try{return w(e(t))}catch{}}return null}var ue=Array.isArray,T=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},pe=[],me=-1;function he(e){return{current:e}}function ge(e){0>me||(e.current=pe[me],pe[me]=null,me--)}function _e(e,t){me++,pe[me]=e.current,e.current=t}var ve=he(null),ye=he(null),be=he(null),xe=he(null);function Se(e,t){switch(_e(be,t),_e(ye,e),_e(ve,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=bf(t),e=xf(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}ge(ve),_e(ve,e)}function Ce(){ge(ve),ge(ye),ge(be)}function we(e){e.memoizedState!==null&&_e(xe,e);var t=ve.current,n=xf(t,e.type);t!==n&&(_e(ye,e),_e(ve,n))}function Te(e){ye.current===e&&(ge(ve),ge(ye)),xe.current===e&&(ge(xe),kp._currentValue=fe)}var Ee,De;function Oe(e){if(Ee===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Ee=t&&t[1]||``,De=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+Ee+e+De}var ke=!1;function Ae(e,t){if(!e||ke)return``;ke=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{ke=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?Oe(n):``}function je(e,t){switch(e.tag){case 26:case 27:case 5:return Oe(e.type);case 16:return Oe(`Lazy`);case 13:return e.child!==t&&t!==null?Oe(`Suspense Fallback`):Oe(`Suspense`);case 19:return Oe(`SuspenseList`);case 0:case 15:return Ae(e.type,!1);case 11:return Ae(e.type.render,!1);case 1:return Ae(e.type,!0);case 31:return Oe(`Activity`);default:return``}}function Me(e){try{var t=``,n=null;do t+=je(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var Ne=Object.prototype.hasOwnProperty,Pe=t.unstable_scheduleCallback,Fe=t.unstable_cancelCallback,Ie=t.unstable_shouldYield,Le=t.unstable_requestPaint,Re=t.unstable_now,ze=t.unstable_getCurrentPriorityLevel,Be=t.unstable_ImmediatePriority,Ve=t.unstable_UserBlockingPriority,E=t.unstable_NormalPriority,He=t.unstable_LowPriority,Ue=t.unstable_IdlePriority,We=t.log,Ge=t.unstable_setDisableYieldValue,Ke=null,D=null;function qe(e){if(typeof We==`function`&&Ge(e),D&&typeof D.setStrictMode==`function`)try{D.setStrictMode(Ke,e)}catch{}}var Je=Math.clz32?Math.clz32:Ze,Ye=Math.log,Xe=Math.LN2;function Ze(e){return e>>>=0,e===0?32:31-(Ye(e)/Xe|0)|0}var Qe=256,$e=262144,et=4194304;function tt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function nt(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=tt(n))):i=tt(o):i=tt(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=tt(n))):i=tt(o)):i=tt(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function rt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function it(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function at(){var e=et;return et<<=1,!(et&62914560)&&(et=4194304),e}function ot(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function st(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ct(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-Je(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&lt(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function lt(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Je(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function ut(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Je(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function dt(e,t){var n=t&-t;return n=n&42?1:ft(n),(n&(e.suspendedLanes|t))===0?n:0}function ft(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pt(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function mt(){var e=de.p;return e===0?(e=window.event,e===void 0?32:Gp(e.type)):e}function ht(e,t){var n=de.p;try{return de.p=e,t()}finally{de.p=n}}var gt=Math.random().toString(36).slice(2),_t=`__reactFiber$`+gt,vt=`__reactProps$`+gt,yt=`__reactContainer$`+gt,bt=`__reactEvents$`+gt,xt=`__reactListeners$`+gt,St=`__reactHandles$`+gt,Ct=`__reactResources$`+gt,wt=`__reactMarker$`+gt;function Tt(e){delete e[_t],delete e[vt],delete e[bt],delete e[xt],delete e[St]}function Et(e){var t=e[_t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yt]||n[_t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Uf(e);e!==null;){if(n=e[_t])return n;e=Uf(e)}return t}e=n,n=e.parentNode}return null}function Dt(e){if(e=e[_t]||e[yt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ot(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function kt(e){var t=e[Ct];return t||=e[Ct]={hoistableStyles:new Map,hoistableScripts:new Map},t}function At(e){e[wt]=!0}var jt=new Set,Mt={};function Nt(e,t){Pt(e,t),Pt(e+`Capture`,t)}function Pt(e,t){for(Mt[e]=t,e=0;e<t.length;e++)jt.add(t[e])}var Ft=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),It={},Lt={};function Rt(e){return Ne.call(Lt,e)?!0:Ne.call(It,e)?!1:Ft.test(e)?Lt[e]=!0:(It[e]=!0,!1)}function zt(e,t,n){if(Rt(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function Bt(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function Vt(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function Ht(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function Ut(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function Wt(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gt(e){if(!e._valueTracker){var t=Ut(e)?`checked`:`value`;e._valueTracker=Wt(e,t,``+e[t])}}function Kt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=Ut(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function qt(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var Jt=/[\n"\\]/g;function Yt(e){return e.replace(Jt,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function Xt(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+Ht(t)):e.value!==``+Ht(t)&&(e.value=``+Ht(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):Qt(e,o,Ht(n)):Qt(e,o,Ht(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+Ht(s):e.removeAttribute(`name`)}function Zt(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){Gt(e);return}n=n==null?``:``+Ht(n),t=t==null?n:``+Ht(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),Gt(e)}function Qt(e,t,n){t===`number`&&qt(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function $t(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+Ht(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function en(e,t,n){if(t!=null&&(t=``+Ht(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+Ht(n)}function tn(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(ue(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=Ht(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),Gt(e)}function nn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rn=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function an(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||rn.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function on(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&an(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&an(e,o,t[o])}function sn(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var cn=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),eee=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ln(e){return eee.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function un(){}var dn=null;function fn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pn=null,mn=null;function hn(e){var t=Dt(e);if(t&&(e=t.stateNode)){var n=e[vt]||null;a:switch(e=t.stateNode,t.type){case`input`:if(Xt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+Yt(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[vt]||null;if(!a)throw Error(i(90));Xt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Kt(r)}break a;case`textarea`:en(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&$t(e,!!n.multiple,t,!1)}}}var gn=!1;function _n(e,t,n){if(gn)return e(t,n);gn=!0;try{return e(t)}finally{if(gn=!1,(pn!==null||mn!==null)&&(qu(),pn&&(t=pn,e=mn,mn=pn=null,hn(t),e)))for(t=0;t<e.length;t++)hn(e[t])}}function vn(e,t){var n=e.stateNode;if(n===null)return null;var r=n[vt]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var yn=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),bn=!1;if(yn)try{var xn={};Object.defineProperty(xn,`passive`,{get:function(){bn=!0}}),window.addEventListener(`test`,xn,xn),window.removeEventListener(`test`,xn,xn)}catch{bn=!1}var Sn=null,Cn=null,wn=null;function Tn(){if(wn)return wn;var e,t=Cn,n=t.length,r,i=`value`in Sn?Sn.value:Sn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return wn=i.slice(e,1<r?1-r:void 0)}function En(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dn(){return!0}function On(){return!1}function kn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?Dn:On,this.isPropagationStopped=On,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=Dn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=Dn)},persist:function(){},isPersistent:Dn}),t}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jn=kn(An),Mn=h({},An,{view:0,detail:0}),Nn=kn(Mn),Pn,Fn,In,Ln=h({},Mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==In&&(In&&e.type===`mousemove`?(Pn=e.screenX-In.screenX,Fn=e.screenY-In.screenY):Fn=Pn=0,In=e),Pn)},movementY:function(e){return`movementY`in e?e.movementY:Fn}}),Rn=kn(Ln),zn=h({},Ln,{dataTransfer:0}),Bn=kn(zn),Vn=h({},Mn,{relatedTarget:0}),Hn=kn(Vn),Un=h({},An,{animationName:0,elapsedTime:0,pseudoElement:0}),Wn=kn(Un),Gn=h({},An,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}}),Kn=kn(Gn),qn=h({},An,{data:0}),Jn=kn(qn),Yn={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},tee={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},Xn={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function Zn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xn[e])?!!t[e]:!1}function Qn(){return Zn}var $n=h({},Mn,{key:function(e){if(e.key){var t=Yn[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=En(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?tee[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qn,charCode:function(e){return e.type===`keypress`?En(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?En(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}}),er=kn($n),tr=h({},Ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nr=kn(tr),rr=h({},Mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qn}),ir=kn(rr),ar=h({},An,{propertyName:0,elapsedTime:0,pseudoElement:0}),or=kn(ar),sr=h({},Ln,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cr=kn(sr),lr=h({},An,{newState:0,oldState:0}),ur=kn(lr),dr=[9,13,27,32],fr=yn&&`CompositionEvent`in window,pr=null;yn&&`documentMode`in document&&(pr=document.documentMode);var mr=yn&&`TextEvent`in window&&!pr,hr=yn&&(!fr||pr&&8<pr&&11>=pr),gr=` `,_r=!1;function vr(e,t){switch(e){case`keyup`:return dr.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function yr(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var br=!1;function xr(e,t){switch(e){case`compositionend`:return yr(t);case`keypress`:return t.which===32?(_r=!0,gr):null;case`textInput`:return e=t.data,e===gr&&_r?null:e;default:return null}}function Sr(e,t){if(br)return e===`compositionend`||!fr&&vr(e,t)?(e=Tn(),wn=Cn=Sn=null,br=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return hr&&t.locale!==`ko`?null:t.data;default:return null}}var Cr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!Cr[e.type]:t===`textarea`}function Tr(e,t,n,r){pn?mn?mn.push(r):mn=[r]:pn=r,t=rf(t,`onChange`),0<t.length&&(n=new jn(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var Er=null,Dr=null;function Or(e){Yd(e,0)}function kr(e){var t=Ot(e);if(Kt(t))return e}function Ar(e,t){if(e===`change`)return t}var jr=!1;if(yn){var Mr;if(yn){var Nr=`oninput`in document;if(!Nr){var Pr=document.createElement(`div`);Pr.setAttribute(`oninput`,`return;`),Nr=typeof Pr.oninput==`function`}Mr=Nr}else Mr=!1;jr=Mr&&(!document.documentMode||9<document.documentMode)}function Fr(){Er&&(Er.detachEvent(`onpropertychange`,Ir),Dr=Er=null)}function Ir(e){if(e.propertyName===`value`&&kr(Dr)){var t=[];Tr(t,Dr,e,fn(e)),_n(Or,t)}}function Lr(e,t,n){e===`focusin`?(Fr(),Er=t,Dr=n,Er.attachEvent(`onpropertychange`,Ir)):e===`focusout`&&Fr()}function Rr(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return kr(Dr)}function zr(e,t){if(e===`click`)return kr(t)}function Br(e,t){if(e===`input`||e===`change`)return kr(t)}function Vr(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var Hr=typeof Object.is==`function`?Object.is:Vr;function Ur(e,t){if(Hr(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ne.call(t,i)||!Hr(e[i],t[i]))return!1}return!0}function Wr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gr(e,t){var n=Wr(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=Wr(n)}}function Kr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kr(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=qt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=qt(e.document)}return t}function Jr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var Yr=yn&&`documentMode`in document&&11>=document.documentMode,Xr=null,Zr=null,Qr=null,$r=!1;function ei(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$r||Xr==null||Xr!==qt(r)||(r=Xr,`selectionStart`in r&&Jr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qr&&Ur(Qr,r)||(Qr=r,r=rf(Zr,`onSelect`),0<r.length&&(t=new jn(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=Xr)))}function ti(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var ni={animationend:ti(`Animation`,`AnimationEnd`),animationiteration:ti(`Animation`,`AnimationIteration`),animationstart:ti(`Animation`,`AnimationStart`),transitionrun:ti(`Transition`,`TransitionRun`),transitionstart:ti(`Transition`,`TransitionStart`),transitioncancel:ti(`Transition`,`TransitionCancel`),transitionend:ti(`Transition`,`TransitionEnd`)},ri={},ii={};yn&&(ii=document.createElement(`div`).style,`AnimationEvent`in window||(delete ni.animationend.animation,delete ni.animationiteration.animation,delete ni.animationstart.animation),`TransitionEvent`in window||delete ni.transitionend.transition);function ai(e){if(ri[e])return ri[e];if(!ni[e])return e;var t=ni[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ii)return ri[e]=t[n];return e}var oi=ai(`animationend`),si=ai(`animationiteration`),ci=ai(`animationstart`),li=ai(`transitionrun`),ui=ai(`transitionstart`),di=ai(`transitioncancel`),fi=ai(`transitionend`),pi=new Map,mi=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);mi.push(`scrollEnd`);function hi(e,t){pi.set(e,t),Nt(t,[e])}var gi=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},_i=[],vi=0,yi=0;function bi(){for(var e=vi,t=yi=vi=0;t<e;){var n=_i[t];_i[t++]=null;var r=_i[t];_i[t++]=null;var i=_i[t];_i[t++]=null;var a=_i[t];if(_i[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&wi(n,i,a)}}function xi(e,t,n,r){_i[vi++]=e,_i[vi++]=t,_i[vi++]=n,_i[vi++]=r,yi|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Si(e,t,n,r){return xi(e,t,n,r),Ti(e)}function Ci(e,t){return xi(e,null,null,t),Ti(e)}function wi(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-Je(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function Ti(e){if(50<Ru)throw Ru=0,zu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ei={};function Di(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oi(e,t,n,r){return new Di(e,t,n,r)}function ki(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ai(e,t){var n=e.alternate;return n===null?(n=Oi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function ji(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Mi(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)ki(e)&&(s=1);else if(typeof e==`string`)s=bp(e,n,ve.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case ae:return e=Oi(31,n,t,a),e.elementType=ae,e.lanes=o,e;case y:return Ni(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=Oi(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case te:return e=Oi(13,n,t,a),e.elementType=te,e.lanes=o,e;case ne:return e=Oi(19,n,t,a),e.elementType=ne,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case ee:s=10;break a;case S:s=9;break a;case C:s=11;break a;case re:s=14;break a;case ie:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=Oi(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function Ni(e,t,n,r){return e=Oi(7,e,r,t),e.lanes=n,e}function Pi(e,t,n){return e=Oi(6,e,null,t),e.lanes=n,e}function Fi(e){var t=Oi(18,null,null,0);return t.stateNode=e,t}function Ii(e,t,n){return t=Oi(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Li=new WeakMap;function Ri(e,t){if(typeof e==`object`&&e){var n=Li.get(e);return n===void 0?(t={value:e,source:t,stack:Me(t)},Li.set(e,t),t):n}return{value:e,source:t,stack:Me(t)}}var zi=[],Bi=0,Vi=null,Hi=0,Ui=[],Wi=0,Gi=null,Ki=1,qi=``;function Ji(e,t){zi[Bi++]=Hi,zi[Bi++]=Vi,Vi=e,Hi=t}function Yi(e,t,n){Ui[Wi++]=Ki,Ui[Wi++]=qi,Ui[Wi++]=Gi,Gi=e;var r=Ki;e=qi;var i=32-Je(r)-1;r&=~(1<<i),n+=1;var a=32-Je(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ki=1<<32-Je(t)+i|n<<i|r,qi=a+e}else Ki=1<<a|n<<i|r,qi=e}function Xi(e){e.return!==null&&(Ji(e,1),Yi(e,1,0))}function Zi(e){for(;e===Vi;)Vi=zi[--Bi],zi[Bi]=null,Hi=zi[--Bi],zi[Bi]=null;for(;e===Gi;)Gi=Ui[--Wi],Ui[Wi]=null,qi=Ui[--Wi],Ui[Wi]=null,Ki=Ui[--Wi],Ui[Wi]=null}function Qi(e,t){Ui[Wi++]=Ki,Ui[Wi++]=qi,Ui[Wi++]=Gi,Ki=t.id,qi=t.overflow,Gi=e}var $i=null,ea=null,ta=!1,na=null,ra=!1,ia=Error(i(519));function aa(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``));throw da(Ri(t,e)),ia}function oa(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[_t]=e,t[vt]=r,n){case`dialog`:Xd(`cancel`,t),Xd(`close`,t);break;case`iframe`:case`object`:case`embed`:Xd(`load`,t);break;case`video`:case`audio`:for(n=0;n<qd.length;n++)Xd(qd[n],t);break;case`source`:Xd(`error`,t);break;case`img`:case`image`:case`link`:Xd(`error`,t),Xd(`load`,t);break;case`details`:Xd(`toggle`,t);break;case`input`:Xd(`invalid`,t),Zt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:Xd(`invalid`,t);break;case`textarea`:Xd(`invalid`,t),tn(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||df(t.textContent,n)?(r.popover!=null&&(Xd(`beforetoggle`,t),Xd(`toggle`,t)),r.onScroll!=null&&Xd(`scroll`,t),r.onScrollEnd!=null&&Xd(`scrollend`,t),r.onClick!=null&&(t.onclick=un),t=!0):t=!1,t||aa(e,!0)}function sa(e){for($i=e.return;$i;)switch($i.tag){case 5:case 31:case 13:ra=!1;return;case 27:case 3:ra=!0;return;default:$i=$i.return}}function ca(e){if(e!==$i)return!1;if(!ta)return sa(e),ta=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||Sf(e.type,e.memoizedProps)),n=!n),n&&ea&&aa(e),sa(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));ea=Hf(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));ea=Hf(e)}else t===27?(t=ea,Af(e.type)?(e=Vf,Vf=null,ea=e):ea=t):ea=$i?Bf(e.stateNode.nextSibling):null;return!0}function la(){ea=$i=null,ta=!1}function ua(){var e=na;return e!==null&&(wu===null?wu=e:wu.push.apply(wu,e),na=null),e}function da(e){na===null?na=[e]:na.push(e)}var fa=he(null),pa=null,ma=null;function ha(e,t,n){_e(fa,t._currentValue),t._currentValue=n}function ga(e){e._currentValue=fa.current,ge(fa)}function _a(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function va(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),_a(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),_a(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function ya(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;Hr(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===xe.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[kp]:e.push(kp))}a=a.return}e!==null&&va(t,e,n,r),t.flags|=262144}function ba(e){for(e=e.firstContext;e!==null;){if(!Hr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xa(e){pa=e,ma=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Sa(e){return wa(pa,e)}function Ca(e,t){return pa===null&&xa(e),wa(e,t)}function wa(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ma===null){if(e===null)throw Error(i(308));ma=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ma=ma.next=t;return n}var Ta=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ea=t.unstable_scheduleCallback,Da=t.unstable_NormalPriority,Oa={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ka(){return{controller:new Ta,data:new Map,refCount:0}}function Aa(e){e.refCount--,e.refCount===0&&Ea(Da,function(){e.controller.abort()})}var ja=null,Ma=0,Na=0,Pa=null;function Fa(e,t){if(ja===null){var n=ja=[];Ma=0,Na=zd(),Pa={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return Ma++,t.then(Ia,Ia),t}function Ia(){if(--Ma===0&&ja!==null){Pa!==null&&(Pa.status=`fulfilled`);var e=ja;ja=null,Na=0,Pa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function La(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var Ra=T.S;T.S=function(e,t){Du=Re(),typeof t==`object`&&t&&typeof t.then==`function`&&Fa(e,t),Ra!==null&&Ra(e,t)};var za=he(null);function Ba(){var e=za.current;return e===null?cu.pooledCache:e}function Va(e,t){t===null?_e(za,za.current):_e(za,t.pool)}function Ha(){var e=Ba();return e===null?null:{parent:Oa._currentValue,pool:e}}var Ua=Error(i(460)),Wa=Error(i(474)),Ga=Error(i(542)),Ka={then:function(){}};function qa(e){return e=e.status,e===`fulfilled`||e===`rejected`}function Ja(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(un,un),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Qa(e),e;default:if(typeof t.status==`string`)t.then(un,un);else{if(e=cu,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Qa(e),e}throw Xa=t,Ua}}function Ya(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(Xa=e,Ua):e}}var Xa=null;function Za(){if(Xa===null)throw Error(i(459));var e=Xa;return Xa=null,e}function Qa(e){if(e===Ua||e===Ga)throw Error(i(483))}var $a=null,eo=0;function to(e){var t=eo;return eo+=1,$a===null&&($a=[]),Ja($a,e,t)}function no(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function ro(e,t){throw t.$$typeof===g?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function io(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=Ai(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=Pi(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===ie&&Ya(i)===t.type)?(t=a(t,n.props),no(t,n),t.return=e,t):(t=Mi(n.type,n.key,n.props,null,e.mode,r),no(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Ii(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=Ni(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=Pi(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case _:return n=Mi(t.type,t.key,t.props,null,e.mode,n),no(n,t),n.return=e,n;case v:return t=Ii(t,e.mode,n),t.return=e,t;case ie:return t=Ya(t),f(e,t,n)}if(ue(t)||ce(t))return t=Ni(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,to(t),n);if(t.$$typeof===ee)return f(e,Ca(e,t),n);ro(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case ie:return n=Ya(n),p(e,t,n,r)}if(ue(n)||ce(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,to(n),r);if(n.$$typeof===ee)return p(e,t,Ca(e,n),r);ro(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case _:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case ie:return r=Ya(r),m(e,t,n,r,i)}if(ue(r)||ce(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,to(r),i);if(r.$$typeof===ee)return m(e,t,n,Ca(t,r),i);ro(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),ta&&Ji(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return ta&&Ji(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),ta&&Ji(i,h),l}function g(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),ta&&Ji(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return ta&&Ji(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),ta&&Ji(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case _:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===ie&&Ya(l)===r.type){n(e,r.sibling),c=a(r,o.props),no(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=Ni(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=Mi(o.type,o.key,o.props,null,e.mode,c),no(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=Ii(o,e.mode,c),c.return=e,e=c}return s(e);case ie:return o=Ya(o),b(e,r,o,c)}if(ue(o))return h(e,r,o,c);if(ce(o)){if(l=ce(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),g(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,to(o),c);if(o.$$typeof===ee)return b(e,r,Ca(e,o),c);ro(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=Pi(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{eo=0;var i=b(e,t,n,r);return $a=null,i}catch(t){if(t===Ua||t===Ga)throw t;var a=Oi(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var ao=io(!0),oo=io(!1),so=!1;function co(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function uo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function fo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,su&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Ti(e),wi(e,null,n),t}return xi(e,r,t,n),Ti(e)}function po(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ut(e,n)}}function mo(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ho=!1;function go(){if(ho){var e=Pa;if(e!==null)throw e}}function _o(e,t,n,r){ho=!1;var i=e.updateQueue;so=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var f=s.lane&-536870913,p=f!==s.lane;if(p?(uu&f)===f:(r&f)===f){f!==0&&f===Na&&(ho=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var m=e,g=s;f=t;var _=n;switch(g.tag){case 1:if(m=g.payload,typeof m==`function`){d=m.call(_,d,f);break a}d=m;break a;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m==`function`?m.call(_,d,f):m,f==null)break a;d=h({},d,f);break a;case 2:so=!0}}f=s.callback,f!==null&&(e.flags|=64,p&&(e.flags|=8192),p=i.callbacks,p===null?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=p,c=d):u=u.next=p,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),vu|=o,e.lanes=o,e.memoizedState=d}}function vo(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function yo(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)vo(n[e],t)}var bo=he(null),xo=he(0);function So(e,t){e=gu,_e(xo,e),_e(bo,t),gu=e|t.baseLanes}function Co(){_e(xo,gu),_e(bo,bo.current)}function wo(){gu=xo.current,ge(bo),ge(xo)}var To=he(null),Eo=null;function Do(e){var t=e.alternate;_e(Mo,Mo.current&1),_e(To,e),Eo===null&&(t===null||bo.current!==null||t.memoizedState!==null)&&(Eo=e)}function Oo(e){_e(Mo,Mo.current),_e(To,e),Eo===null&&(Eo=e)}function ko(e){e.tag===22?(_e(Mo,Mo.current),_e(To,e),Eo===null&&(Eo=e)):Ao(e)}function Ao(){_e(Mo,Mo.current),_e(To,To.current)}function jo(e){ge(To),Eo===e&&(Eo=null),ge(Mo)}var Mo=he(0);function No(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Lf(n)||Rf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Po=0,Fo=null,Io=null,Lo=null,Ro=!1,zo=!1,Bo=!1,Vo=0,Ho=0,Uo=null,Wo=0;function Go(){throw Error(i(321))}function Ko(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Hr(e[n],t[n]))return!1;return!0}function qo(e,t,n,r,i,a){return Po=a,Fo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,T.H=e===null||e.memoizedState===null?uc:dc,Bo=!1,a=n(r,i),Bo=!1,zo&&(a=Yo(t,n,r,i)),Jo(e),a}function Jo(e){T.H=lc;var t=Io!==null&&Io.next!==null;if(Po=0,Lo=Io=Fo=null,Ro=!1,Ho=0,Uo=null,t)throw Error(i(300));e===null||Dc||(e=e.dependencies,e!==null&&ba(e)&&(Dc=!0))}function Yo(e,t,n,r){Fo=e;var a=0;do{if(zo&&(Uo=null),Ho=0,zo=!1,25<=a)throw Error(i(301));if(a+=1,Lo=Io=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}T.H=fc,o=t(n,r)}while(zo);return o}function Xo(){var e=T.H,t=e.useState()[0];return t=typeof t.then==`function`?rs(t):t,e=e.useState()[0],(Io===null?null:Io.memoizedState)!==e&&(Fo.flags|=1024),t}function Zo(){var e=Vo!==0;return Vo=0,e}function Qo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function $o(e){if(Ro){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ro=!1}Po=0,Lo=Io=Fo=null,zo=!1,Ho=Vo=0,Uo=null}function es(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lo===null?Fo.memoizedState=Lo=e:Lo=Lo.next=e,Lo}function ts(){if(Io===null){var e=Fo.alternate;e=e===null?null:e.memoizedState}else e=Io.next;var t=Lo===null?Fo.memoizedState:Lo.next;if(t!==null)Lo=t,Io=e;else{if(e===null)throw Fo.alternate===null?Error(i(467)):Error(i(310));Io=e,e={memoizedState:Io.memoizedState,baseState:Io.baseState,baseQueue:Io.baseQueue,queue:Io.queue,next:null},Lo===null?Fo.memoizedState=Lo=e:Lo=Lo.next=e}return Lo}function ns(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rs(e){var t=Ho;return Ho+=1,Uo===null&&(Uo=[]),e=Ja(Uo,e,t),t=Fo,(Lo===null?t.memoizedState:Lo.next)===null&&(t=t.alternate,T.H=t===null||t.memoizedState===null?uc:dc),e}function os(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return rs(e);if(e.$$typeof===ee)return Sa(e)}throw Error(i(438,String(e)))}function ss(e){var t=null,n=Fo.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=Fo.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=ns(),Fo.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=oe;return t.index++,n}function cs(e,t){return typeof t==`function`?t(e):t}function ls(e){var t=ts();return us(t,Io,e)}function us(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(Po&f)===f:(uu&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Na&&(d=!0);else if((Po&p)===p){u=u.next,p===Na&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,Fo.lanes|=p,vu|=p;f=u.action,Bo&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,Fo.lanes|=f,vu|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!Hr(o,e.memoizedState)&&(Dc=!0,d&&(n=Pa,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ds(e){var t=ts(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);Hr(o,t.memoizedState)||(Dc=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function fs(e,t,n){var r=Fo,a=ts(),o=ta;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!Hr((Io||a).memoizedState,n);if(s&&(a.memoizedState=n,Dc=!0),a=a.queue,Ls(hs.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||Lo!==null&&Lo.memoizedState.tag&1){if(r.flags|=2048,Ms(9,{destroy:void 0},ms.bind(null,r,a,n,t),null),cu===null)throw Error(i(349));o||Po&127||ps(r,t,n)}return n}function ps(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Fo.updateQueue,t===null?(t=ns(),Fo.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ms(e,t,n,r){t.value=n,t.getSnapshot=r,gs(t)&&_s(e)}function hs(e,t,n){return n(function(){gs(t)&&_s(e)})}function gs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Hr(e,n)}catch{return!0}}function _s(e){var t=Ci(e,2);t!==null&&Hu(t,e,2)}function vs(e){var t=es();if(typeof e==`function`){var n=e;if(e=n(),Bo){qe(!0);try{n()}finally{qe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:e},t}function ys(e,t,n,r){return e.baseState=n,us(e,Io,typeof r==`function`?r:cs)}function bs(e,t,n,r,a){if(oc(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};T.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,xs(t,o)):(o.next=n.next,t.pending=n.next=o)}}function xs(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=T.T,o={};T.T=o;try{var s=n(i,r),c=T.S;c!==null&&c(o,s),Ss(e,t,s)}catch(n){ws(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),T.T=a}}else try{a=n(i,r),Ss(e,t,a)}catch(n){ws(e,t,n)}}function Ss(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){Cs(e,t,n)},function(n){return ws(e,t,n)}):Cs(e,t,n)}function Cs(e,t,n){t.status=`fulfilled`,t.value=n,Ts(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,xs(e,n)))}function ws(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,Ts(t),t=t.next;while(t!==r)}e.action=null}function Ts(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Es(e,t){return t}function Ds(e,t){if(ta){var n=cu.formState;if(n!==null){a:{var r=Fo;if(ta){if(ea){b:{for(var i=ea,a=ra;i.nodeType!==8;){if(!a){i=null;break b}if(i=Bf(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){ea=Bf(i.nextSibling),r=i.data===`F!`;break a}}aa(r)}r=!1}r&&(t=n[0])}}return n=es(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:t},n.queue=r,n=k.bind(null,Fo,r),r.dispatch=n,r=vs(!1),a=ac.bind(null,Fo,!1,r.queue),r=es(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=bs.bind(null,Fo,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Os(e){var t=ts();return ks(t,Io,e)}function ks(e,t,n){if(t=us(e,t,Es)[0],e=ls(cs)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=rs(t)}catch(e){throw e===Ua?Ga:e}else r=t;t=ts();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(Fo.flags|=2048,Ms(9,{destroy:void 0},As.bind(null,i,n),null)),[r,a,e]}function As(e,t){e.action=t}function js(e){var t=ts(),n=Io;if(n!==null)return ks(t,n,e);ts(),t=t.memoizedState,n=ts();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ms(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=Fo.updateQueue,t===null&&(t=ns(),Fo.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ns(){return ts().memoizedState}function Ps(e,t,n,r){var i=es();Fo.flags|=e,i.memoizedState=Ms(1|t,{destroy:void 0},n,r===void 0?null:r)}function Fs(e,t,n,r){var i=ts();r=r===void 0?null:r;var a=i.memoizedState.inst;Io!==null&&r!==null&&Ko(r,Io.memoizedState.deps)?i.memoizedState=Ms(t,a,n,r):(Fo.flags|=e,i.memoizedState=Ms(1|t,a,n,r))}function Is(e,t){Ps(8390656,8,e,t)}function Ls(e,t){Fs(2048,8,e,t)}function Rs(e){Fo.flags|=4;var t=Fo.updateQueue;if(t===null)t=ns(),Fo.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function zs(e){var t=ts().memoizedState;return Rs({ref:t,nextImpl:e}),function(){if(su&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Bs(e,t){return Fs(4,2,e,t)}function Vs(e,t){return Fs(4,4,e,t)}function Hs(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Us(e,t,n){n=n==null?null:n.concat([e]),Fs(4,4,Hs.bind(null,t,e),n)}function Ws(){}function Gs(e,t){var n=ts();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&Ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ks(e,t){var n=ts();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&Ko(t,r[1]))return r[0];if(r=e(),Bo){qe(!0);try{e()}finally{qe(!1)}}return n.memoizedState=[r,t],r}function qs(e,t,n){return n===void 0||Po&1073741824&&!(uu&261930)?e.memoizedState=t:(e.memoizedState=n,e=Vu(),Fo.lanes|=e,vu|=e,n)}function Js(e,t,n,r){return Hr(n,t)?n:bo.current===null?!(Po&42)||Po&1073741824&&!(uu&261930)?(Dc=!0,e.memoizedState=n):(e=Vu(),Fo.lanes|=e,vu|=e,t):(e=qs(e,n,r),Hr(e,t)||(Dc=!0),e)}function Ys(e,t,n,r,i){var a=de.p;de.p=a!==0&&8>a?a:8;var o=T.T,s={};T.T=s,ac(e,!1,t,n);try{var c=i(),l=T.S;if(l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`){var u=La(c,r);ic(e,t,u,Bu(e))}else ic(e,t,r,Bu(e))}catch(n){ic(e,t,{then:function(){},status:`rejected`,reason:n},Bu())}finally{de.p=a,o!==null&&s.types!==null&&(o.types=s.types),T.T=o}}function Xs(){}function O(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=Zs(e).queue;Ys(e,a,t,fe,n===null?Xs:function(){return Qs(e),n(r)})}function Zs(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:fe},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Qs(e){var t=Zs(e);t.next===null&&(t=e.alternate.memoizedState),ic(e,t.next.queue,{},Bu())}function $s(){return Sa(kp)}function ec(){return ts().memoizedState}function tc(){return ts().memoizedState}function nc(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Bu();e=uo(n);var r=fo(t,e,n);r!==null&&(Hu(r,t,n),po(r,t,n)),t={cache:ka()},e.payload=t;return}t=t.return}}function rc(e,t,n){var r=Bu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},oc(e)?sc(t,n):(n=Si(e,t,n,r),n!==null&&(Hu(n,e,r),cc(n,t,r)))}function k(e,t,n){var r=Bu();ic(e,t,n,r)}function ic(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(oc(e))sc(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Hr(s,o))return xi(e,t,i,0),cu===null&&bi(),!1}catch{}if(n=Si(e,t,i,r),n!==null)return Hu(n,e,r),cc(n,t,r),!0}return!1}function ac(e,t,n,r){if(r={lane:2,revertLane:zd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},oc(e)){if(t)throw Error(i(479))}else t=Si(e,n,r,2),t!==null&&Hu(t,e,2)}function oc(e){var t=e.alternate;return e===Fo||t!==null&&t===Fo}function sc(e,t){zo=Ro=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cc(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ut(e,n)}}var lc={readContext:Sa,use:os,useCallback:Go,useContext:Go,useEffect:Go,useImperativeHandle:Go,useLayoutEffect:Go,useInsertionEffect:Go,useMemo:Go,useReducer:Go,useRef:Go,useState:Go,useDebugValue:Go,useDeferredValue:Go,useTransition:Go,useSyncExternalStore:Go,useId:Go,useHostTransitionStatus:Go,useFormState:Go,useActionState:Go,useOptimistic:Go,useMemoCache:Go,useCacheRefresh:Go};lc.useEffectEvent=Go;var uc={readContext:Sa,use:os,useCallback:function(e,t){return es().memoizedState=[e,t===void 0?null:t],e},useContext:Sa,useEffect:Is,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),Ps(4194308,4,Hs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ps(4194308,4,e,t)},useInsertionEffect:function(e,t){Ps(4,2,e,t)},useMemo:function(e,t){var n=es();t=t===void 0?null:t;var r=e();if(Bo){qe(!0);try{e()}finally{qe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=es();if(n!==void 0){var i=n(t);if(Bo){qe(!0);try{n(t)}finally{qe(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=rc.bind(null,Fo,e),[r.memoizedState,e]},useRef:function(e){var t=es();return e={current:e},t.memoizedState=e},useState:function(e){e=vs(e);var t=e.queue,n=k.bind(null,Fo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ws,useDeferredValue:function(e,t){var n=es();return qs(n,e,t)},useTransition:function(){var e=vs(!1);return e=Ys.bind(null,Fo,e.queue,!0,!1),es().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Fo,a=es();if(ta){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),cu===null)throw Error(i(349));uu&127||ps(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Is(hs.bind(null,r,o,e),[e]),r.flags|=2048,Ms(9,{destroy:void 0},ms.bind(null,r,o,n,t),null),n},useId:function(){var e=es(),t=cu.identifierPrefix;if(ta){var n=qi,r=Ki;n=(r&~(1<<32-Je(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=Vo++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=Wo++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:$s,useFormState:Ds,useActionState:Ds,useOptimistic:function(e){var t=es();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ac.bind(null,Fo,!0,n),n.dispatch=t,[e,t]},useMemoCache:ss,useCacheRefresh:function(){return es().memoizedState=nc.bind(null,Fo)},useEffectEvent:function(e){var t=es(),n={impl:e};return t.memoizedState=n,function(){if(su&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},dc={readContext:Sa,use:os,useCallback:Gs,useContext:Sa,useEffect:Ls,useImperativeHandle:Us,useInsertionEffect:Bs,useLayoutEffect:Vs,useMemo:Ks,useReducer:ls,useRef:Ns,useState:function(){return ls(cs)},useDebugValue:Ws,useDeferredValue:function(e,t){var n=ts();return Js(n,Io.memoizedState,e,t)},useTransition:function(){var e=ls(cs)[0],t=ts().memoizedState;return[typeof e==`boolean`?e:rs(e),t]},useSyncExternalStore:fs,useId:ec,useHostTransitionStatus:$s,useFormState:Os,useActionState:Os,useOptimistic:function(e,t){var n=ts();return ys(n,Io,e,t)},useMemoCache:ss,useCacheRefresh:tc};dc.useEffectEvent=zs;var fc={readContext:Sa,use:os,useCallback:Gs,useContext:Sa,useEffect:Ls,useImperativeHandle:Us,useInsertionEffect:Bs,useLayoutEffect:Vs,useMemo:Ks,useReducer:ds,useRef:Ns,useState:function(){return ds(cs)},useDebugValue:Ws,useDeferredValue:function(e,t){var n=ts();return Io===null?qs(n,e,t):Js(n,Io.memoizedState,e,t)},useTransition:function(){var e=ds(cs)[0],t=ts().memoizedState;return[typeof e==`boolean`?e:rs(e),t]},useSyncExternalStore:fs,useId:ec,useHostTransitionStatus:$s,useFormState:js,useActionState:js,useOptimistic:function(e,t){var n=ts();return Io===null?(n.baseState=e,[e,n.queue.dispatch]):ys(n,Io,e,t)},useMemoCache:ss,useCacheRefresh:tc};fc.useEffectEvent=zs;function pc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:h({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var mc={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bu(),i=uo(r);i.payload=t,n!=null&&(i.callback=n),t=fo(e,i,r),t!==null&&(Hu(t,e,r),po(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bu(),i=uo(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=fo(e,i,r),t!==null&&(Hu(t,e,r),po(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bu(),r=uo(n);r.tag=2,t!=null&&(r.callback=t),t=fo(e,r,n),t!==null&&(Hu(t,e,n),po(t,e,n))}};function hc(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Ur(n,r)||!Ur(i,a):!0}function gc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mc.enqueueReplaceState(t,t.state,null)}function _c(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function vc(e){gi(e)}function yc(e){console.error(e)}function bc(e){gi(e)}function xc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Sc(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Cc(e,t,n){return n=uo(n),n.tag=3,n.payload={element:null},n.callback=function(){xc(e,t)},n}function wc(e){return e=uo(e),e.tag=3,e}function Tc(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Sc(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){Sc(t,n,r),typeof i!=`function`&&(Au===null?Au=new Set([this]):Au.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function nee(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&ya(t,n,a,!0),n=To.current,n!==null){switch(n.tag){case 31:case 13:return Eo===null?ed():n.alternate===null&&_u===0&&(_u=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Ka?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),yd(e,r,a)),!1;case 22:return n.flags|=65536,r===Ka?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),yd(e,r,a)),!1}throw Error(i(435,n.tag))}return yd(e,r,a),ed(),!1}if(ta)return t=To.current,t===null?(r!==ia&&(t=Error(i(423),{cause:r}),da(Ri(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=Ri(r,n),a=Cc(e.stateNode,r,a),mo(e,a),_u!==4&&(_u=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==ia&&(e=Error(i(422),{cause:r}),da(Ri(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=Ri(o,n),Cu===null?Cu=[o]:Cu.push(o),_u!==4&&(_u=2),t===null)return!0;r=Ri(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=Cc(n.stateNode,r,e),mo(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(Au===null||!Au.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=wc(a),Tc(a,e,n,r),mo(n,a),!1}n=n.return}while(n!==null);return!1}var Ec=Error(i(461)),Dc=!1;function Oc(e,t,n,r){t.child=e===null?oo(t,null,n,r):ao(t,e.child,n,r)}function kc(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return xa(t),r=qo(e,t,n,o,a,i),s=Zo(),e!==null&&!Dc?(Qo(e,t,i),$c(e,t,i)):(ta&&s&&Xi(t),t.flags|=1,Oc(e,t,r,i),t.child)}function Ac(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!ki(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,jc(e,t,a,r,i)):(e=Mi(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!A(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?Ur:n,n(o,r)&&e.ref===t.ref)return $c(e,t,i)}return t.flags|=1,e=Ai(a,r),e.ref=t.ref,e.return=t,t.child=e}function jc(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Ur(a,r)&&e.ref===t.ref)if(Dc=!1,t.pendingProps=r=a,A(e,i))e.flags&131072&&(Dc=!0);else return t.lanes=e.lanes,$c(e,t,i)}return zc(e,t,n,r,i)}function Mc(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return Pc(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Va(t,a===null?null:a.cachePool),a===null?Co():So(t,a),ko(t);else return r=t.lanes=536870912,Pc(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&Va(t,null),Co(),Ao(t)):(Va(t,a.cachePool),So(t,a),Ao(t),t.memoizedState=null);return Oc(e,t,i,n),t.child}function Nc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Pc(e,t,n,r,i){var a=Ba();return a=a===null?null:{parent:Oa._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&Va(t,null),Co(),ko(t),e!==null&&ya(e,t,r,!0),t.childLanes=i,null}function Fc(e,t){return t=Jc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ic(e,t,n){return ao(t,e.child,null,n),e=Fc(t,t.pendingProps),e.flags|=2,jo(t),t.memoizedState=null,e}function Lc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(ta){if(r.mode===`hidden`)return e=Fc(t,r),t.lanes=536870912,Nc(null,e);if(Oo(t),(e=ea)?(e=If(e,ra),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Gi===null?null:{id:Ki,overflow:qi},retryLane:536870912,hydrationErrors:null},n=Fi(e),n.return=t,t.child=n,$i=t,ea=null)):e=null,e===null)throw aa(t);return t.lanes=536870912,null}return Fc(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(Oo(t),a)if(t.flags&256)t.flags&=-257,t=Ic(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(Dc||ya(e,t,n,!1),a=(n&e.childLanes)!==0,Dc||a){if(r=cu,r!==null&&(s=dt(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,Ci(e,s),Hu(r,e,s),Ec;ed(),t=Ic(e,t,n)}else e=o.treeContext,ea=Bf(s.nextSibling),$i=t,ta=!0,na=null,ra=!1,e!==null&&Qi(t,e),t=Fc(t,r),t.flags|=4096;return t}return e=Ai(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Rc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function zc(e,t,n,r,i){return xa(t),n=qo(e,t,n,r,void 0,i),r=Zo(),e!==null&&!Dc?(Qo(e,t,i),$c(e,t,i)):(ta&&r&&Xi(t),t.flags|=1,Oc(e,t,n,i),t.child)}function Bc(e,t,n,r,i,a){return xa(t),t.updateQueue=null,n=Yo(t,r,n,i),Jo(e),r=Zo(),e!==null&&!Dc?(Qo(e,t,a),$c(e,t,a)):(ta&&r&&Xi(t),t.flags|=1,Oc(e,t,n,a),t.child)}function Vc(e,t,n,r,i){if(xa(t),t.stateNode===null){var a=Ei,o=n.contextType;typeof o==`object`&&o&&(a=Sa(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=mc,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},co(t),o=n.contextType,a.context=typeof o==`object`&&o?Sa(o):Ei,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(pc(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&mc.enqueueReplaceState(a,a.state,null),_o(t,r,a,i),go(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=_c(n,s);a.props=c;var l=a.context,u=n.contextType;o=Ei,typeof u==`object`&&u&&(o=Sa(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&gc(t,a,r,o),so=!1;var f=t.memoizedState;a.state=f,_o(t,r,a,i),go(),l=t.memoizedState,s||f!==l||so?(typeof d==`function`&&(pc(t,n,d,r),l=t.memoizedState),(c=so||hc(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,lo(e,t),o=t.memoizedProps,u=_c(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=Ei,typeof l==`object`&&l&&(c=Sa(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&gc(t,a,r,c),so=!1,f=t.memoizedState,a.state=f,_o(t,r,a,i),go();var p=t.memoizedState;o!==d||f!==p||so||e!==null&&e.dependencies!==null&&ba(e.dependencies)?(typeof s==`function`&&(pc(t,n,s,r),p=t.memoizedState),(u=so||hc(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&ba(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Rc(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=ao(t,e.child,null,i),t.child=ao(t,null,n,i)):Oc(e,t,n,i),t.memoizedState=a.state,e=t.child):e=$c(e,t,i),e}function Hc(e,t,n,r){return la(),t.flags|=256,Oc(e,t,n,r),t.child}var Uc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wc(e){return{baseLanes:e,cachePool:Ha()}}function Gc(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=xu),e}function Kc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(Mo.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(ta){if(a?Do(t):Ao(t),(e=ea)?(e=If(e,ra),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Gi===null?null:{id:Ki,overflow:qi},retryLane:536870912,hydrationErrors:null},n=Fi(e),n.return=t,t.child=n,$i=t,ea=null)):e=null,e===null)throw aa(t);return Rf(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?(Ao(t),a=t.mode,c=Jc({mode:`hidden`,children:c},a),r=Ni(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=Wc(n),r.childLanes=Gc(e,s,n),t.memoizedState=Uc,Nc(null,r)):(Do(t),qc(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(Do(t),t.flags&=-257,t=Yc(e,t,n)):t.memoizedState===null?(Ao(t),c=r.fallback,a=t.mode,r=Jc({mode:`visible`,children:r.children},a),c=Ni(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,ao(t,e.child,null,n),r=t.child,r.memoizedState=Wc(n),r.childLanes=Gc(e,s,n),t.memoizedState=Uc,t=Nc(null,r)):(Ao(t),t.child=e.child,t.flags|=128,t=null);else if(Do(t),Rf(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,da({value:r,source:null,stack:null}),t=Yc(e,t,n)}else if(Dc||ya(e,t,n,!1),s=(n&e.childLanes)!==0,Dc||s){if(s=cu,s!==null&&(r=dt(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Ci(e,r),Hu(s,e,r),Ec;Lf(c)||ed(),t=Yc(e,t,n)}else Lf(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ea=Bf(c.nextSibling),$i=t,ta=!0,na=null,ra=!1,e!==null&&Qi(t,e),t=qc(t,r.children),t.flags|=4096);return t}return a?(Ao(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=Ai(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=Ni(c,a,n,null),c.flags|=2):c=Ai(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,Nc(null,r),r=t.child,c=e.child.memoizedState,c===null?c=Wc(n):(a=c.cachePool,a===null?a=Ha():(l=Oa._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=Gc(e,s,n),t.memoizedState=Uc,Nc(e.child,r)):(Do(t),n=e.child,e=n.sibling,n=Ai(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function qc(e,t){return t=Jc({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function Jc(e,t){return e=Oi(22,e,null,t),e.lanes=0,e}function Yc(e,t,n){return ao(t,e.child,null,n),e=qc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),_a(e.return,t,n)}function Zc(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function Qc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=Mo.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,_e(Mo,o),Oc(e,t,r,n),r=ta?Hi:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xc(e,n,t);else if(e.tag===19)Xc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&No(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zc(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&No(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zc(t,!0,n,null,a,r);break;case`together`:Zc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function $c(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vu|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(ya(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=Ai(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ai(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function A(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&ba(e))):!0}function el(e,t,n){switch(t.tag){case 3:Se(t,t.stateNode.containerInfo),ha(t,Oa,e.memoizedState.cache),la();break;case 27:case 5:we(t);break;case 4:Se(t,t.stateNode.containerInfo);break;case 10:ha(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Oo(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(Do(t),e=$c(e,t,n),e===null?null:e.sibling):Kc(e,t,n):(Do(t),t.flags|=128,null);Do(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(ya(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return Qc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(Mo,Mo.current),r)break;return null;case 22:return t.lanes=0,Mc(e,t,n,t.pendingProps);case 24:ha(t,Oa,e.memoizedState.cache)}return $c(e,t,n)}function tl(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Dc=!0;else{if(!A(e,n)&&!(t.flags&128))return Dc=!1,el(e,t,n);Dc=!!(e.flags&131072)}else Dc=!1,ta&&t.flags&1048576&&Yi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=Ya(t.elementType),t.type=e,typeof e==`function`)ki(e)?(r=_c(e,r),t.tag=1,t=Vc(null,t,e,r,n)):(t.tag=0,t=zc(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===C){t.tag=11,t=kc(null,t,e,r,n);break a}else if(a===re){t.tag=14,t=Ac(null,t,e,r,n);break a}}throw t=w(e)||e,Error(i(306,t,``))}}return t;case 0:return zc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=_c(r,t.pendingProps),Vc(e,t,r,a,n);case 3:a:{if(Se(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,lo(e,t),_o(t,r,null,n);var s=t.memoizedState;if(r=s.cache,ha(t,Oa,r),r!==o.cache&&va(t,[Oa],n,!0),go(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Hc(e,t,r,n);break a}else if(r!==a){a=Ri(Error(i(424)),t),da(a),t=Hc(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(ea=Bf(e.firstChild),$i=t,ta=!0,na=null,ra=!0,n=oo(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(la(),r===a){t=$c(e,t,n);break a}Oc(e,t,r,n)}t=t.child}return t;case 26:return Rc(e,t),e===null?(n=sp(t.type,null,t.pendingProps,null))?t.memoizedState=n:ta||(n=t.type,e=t.pendingProps,r=yf(be.current).createElement(n),r[_t]=t,r[vt]=e,mf(r,n,e),At(r),t.stateNode=r):t.memoizedState=sp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return we(t),e===null&&ta&&(r=t.stateNode=Wf(t.type,t.pendingProps,be.current),$i=t,ra=!0,a=ea,Af(t.type)?(Vf=a,ea=Bf(r.firstChild)):ea=a),Oc(e,t,t.pendingProps.children,n),Rc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ta&&((a=r=ea)&&(r=Pf(r,t.type,t.pendingProps,ra),r===null?a=!1:(t.stateNode=r,$i=t,ea=Bf(r.firstChild),ra=!1,a=!0)),a||aa(t)),we(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,Sf(a,o)?r=null:s!==null&&Sf(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=qo(e,t,Xo,null,null,n),kp._currentValue=a),Rc(e,t),Oc(e,t,r,n),t.child;case 6:return e===null&&ta&&((e=n=ea)&&(n=Ff(n,t.pendingProps,ra),n===null?e=!1:(t.stateNode=n,$i=t,ea=null,e=!0)),e||aa(t)),null;case 13:return Kc(e,t,n);case 4:return Se(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ao(t,null,r,n):Oc(e,t,r,n),t.child;case 11:return kc(e,t,t.type,t.pendingProps,n);case 7:return Oc(e,t,t.pendingProps,n),t.child;case 8:return Oc(e,t,t.pendingProps.children,n),t.child;case 12:return Oc(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ha(t,t.type,r.value),Oc(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,xa(t),a=Sa(a),r=r(a),t.flags|=1,Oc(e,t,r,n),t.child;case 14:return Ac(e,t,t.type,t.pendingProps,n);case 15:return jc(e,t,t.type,t.pendingProps,n);case 19:return Qc(e,t,n);case 31:return Lc(e,t,n);case 22:return Mc(e,t,n,t.pendingProps);case 24:return xa(t),r=Sa(Oa),e===null?(a=Ba(),a===null&&(a=cu,o=ka(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},co(t),ha(t,Oa,a)):((e.lanes&n)!==0&&(lo(e,t),_o(t,null,null,n),go()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,ha(t,Oa,r),r!==a.cache&&va(t,[Oa],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),ha(t,Oa,r))),Oc(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function nl(e){e.flags|=4}function rl(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Zu())e.flags|=8192;else throw Xa=Ka,Wa}else e.flags&=-16777217}function il(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!xp(t))if(Zu())e.flags|=8192;else throw Xa=Ka,Wa}function al(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:at(),e.lanes|=t,Su|=t)}function ol(e,t){if(!ta)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function sl(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ree(e,t,n){var r=t.pendingProps;switch(Zi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sl(t),null;case 1:return sl(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ga(Oa),Ce(),n.pendingContext&&=(n.context=n.pendingContext,null),(e===null||e.child===null)&&(ca(t)?nl(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ua())),sl(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(nl(t),o===null?(sl(t),rl(t,a,null,r,n)):(sl(t),il(t,o))):o?o===e.memoizedState?(sl(t),t.flags&=-16777217):(nl(t),sl(t),il(t,o)):(e=e.memoizedProps,e!==r&&nl(t),sl(t),rl(t,a,e,r,n)),null;case 27:if(Te(t),n=be.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&nl(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return sl(t),null}e=ve.current,ca(t)?oa(t,e):(e=Wf(a,r,n),t.stateNode=e,nl(t))}return sl(t),null;case 5:if(Te(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&nl(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return sl(t),null}if(o=ve.current,ca(t))oa(t,o);else{var s=yf(be.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[_t]=t,o[vt]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(mf(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&nl(t)}}return sl(t),rl(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&nl(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=be.current,ca(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=$i,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[_t]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||df(e.nodeValue,n)),e||aa(t,!0)}else e=yf(e).createTextNode(r),e[_t]=t,t.stateNode=e}return sl(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=ca(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[_t]=t}else la(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;sl(t),e=!1}else n=ua(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(jo(t),t):(jo(t),null);if(t.flags&128)throw Error(i(558))}return sl(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=ca(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[_t]=t}else la(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;sl(t),a=!1}else a=ua(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(jo(t),t):(jo(t),null)}return jo(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),al(t,t.updateQueue),sl(t),null);case 4:return Ce(),e===null&&$d(t.stateNode.containerInfo),sl(t),null;case 10:return ga(t.type),sl(t),null;case 19:if(ge(Mo),r=t.memoizedState,r===null)return sl(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)ol(r,!1);else{if(_u!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=No(e),o!==null){for(t.flags|=128,ol(r,!1),e=o.updateQueue,t.updateQueue=e,al(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)ji(n,e),n=n.sibling;return _e(Mo,Mo.current&1|2),ta&&Ji(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Re()>Ou&&(t.flags|=128,a=!0,ol(r,!1),t.lanes=4194304)}else{if(!a)if(e=No(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,al(t,e),ol(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!ta)return sl(t),null}else 2*Re()-r.renderingStartTime>Ou&&n!==536870912&&(t.flags|=128,a=!0,ol(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(sl(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Re(),e.sibling=null,n=Mo.current,_e(Mo,a?n&1|2:n&1),ta&&Ji(t,r.treeForkCount),e);case 22:case 23:return jo(t),wo(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(sl(t),t.subtreeFlags&6&&(t.flags|=8192)):sl(t),n=t.updateQueue,n!==null&&al(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&ge(za),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ga(Oa),sl(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function cl(e,t){switch(Zi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ga(Oa),Ce(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Te(t),null;case 31:if(t.memoizedState!==null){if(jo(t),t.alternate===null)throw Error(i(340));la()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(jo(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));la()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(Mo),null;case 4:return Ce(),null;case 10:return ga(t.type),null;case 22:case 23:return jo(t),wo(),e!==null&&ge(za),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ga(Oa),null;case 25:return null;default:return null}}function ll(e,t){switch(Zi(t),t.tag){case 3:ga(Oa),Ce();break;case 26:case 27:case 5:Te(t);break;case 4:Ce();break;case 31:t.memoizedState!==null&&jo(t);break;case 13:jo(t);break;case 19:ge(Mo);break;case 10:ga(t.type);break;case 22:case 23:jo(t),wo(),e!==null&&ge(za);break;case 24:ga(Oa)}}function ul(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){vd(t,t.return,e)}}function dl(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){vd(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){vd(t,t.return,e)}}function fl(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{yo(t,n)}catch(t){vd(e,e.return,t)}}}function pl(e,t,n){n.props=_c(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){vd(e,t,n)}}function ml(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){vd(e,t,n)}}function hl(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){vd(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){vd(e,t,n)}else n.current=null}function gl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){vd(e,e.return,t)}}function _l(e,t,n){try{var r=e.stateNode;iee(r,e.type,n,t),r[vt]=t}catch(t){vd(e,e.return,t)}}function vl(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Af(e.type)||e.tag===4}function yl(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||vl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Af(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=un));else if(r!==4&&(r===27&&Af(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(bl(e,t,n),e=e.sibling;e!==null;)bl(e,t,n),e=e.sibling}function xl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Af(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(xl(e,t,n),e=e.sibling;e!==null;)xl(e,t,n),e=e.sibling}function Sl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);mf(t,r,n),t[_t]=e,t[vt]=n}catch(t){vd(e,e.return,t)}}var Cl=!1,wl=!1,Tl=!1,El=typeof WeakSet==`function`?WeakSet:Set,Dl=null;function Ol(e,t){if(e=e.containerInfo,_f=Rp,e=qr(e),Jr(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(vf={focusedElem:e,selectionRange:n},Rp=!1,Dl=t;Dl!==null;)if(t=Dl,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,Dl=e;else for(;Dl!==null;){switch(t=Dl,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=_c(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){vd(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Nf(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:Nf(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Dl=e;break}Dl=t.return}}function j(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Hl(e,n),r&4&&ul(5,n);break;case 1:if(Hl(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){vd(n,n.return,e)}else{var i=_c(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){vd(n,n.return,e)}}r&64&&fl(n),r&512&&ml(n,n.return);break;case 3:if(Hl(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{yo(e,t)}catch(e){vd(n,n.return,e)}}break;case 27:t===null&&r&4&&Sl(n);case 26:case 5:Hl(e,n),t===null&&r&4&&gl(n),r&512&&ml(n,n.return);break;case 12:Hl(e,n);break;case 31:Hl(e,n),r&4&&Nl(e,n);break;case 13:Hl(e,n),r&4&&Pl(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Sd.bind(null,n),zf(e,n))));break;case 22:if(r=n.memoizedState!==null||Cl,!r){t=t!==null&&t.memoizedState!==null||wl,i=Cl;var a=wl;Cl=r,(wl=t)&&!a?Wl(e,n,(n.subtreeFlags&8772)!=0):Hl(e,n),Cl=i,wl=a}break;case 30:break;default:Hl(e,n)}}function kl(e){var t=e.alternate;t!==null&&(e.alternate=null,kl(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Tt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Al=null,jl=!1;function Ml(e,t,n){for(n=n.child;n!==null;)M(e,t,n),n=n.sibling}function M(e,t,n){if(D&&typeof D.onCommitFiberUnmount==`function`)try{D.onCommitFiberUnmount(Ke,n)}catch{}switch(n.tag){case 26:wl||hl(n,t),Ml(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:wl||hl(n,t);var r=Al,i=jl;Af(n.type)&&(Al=n.stateNode,jl=!1),Ml(e,t,n),Gf(n.stateNode),Al=r,jl=i;break;case 5:wl||hl(n,t);case 6:if(r=Al,i=jl,Al=null,Ml(e,t,n),Al=r,jl=i,Al!==null)if(jl)try{(Al.nodeType===9?Al.body:Al.nodeName===`HTML`?Al.ownerDocument.body:Al).removeChild(n.stateNode)}catch(e){vd(n,t,e)}else try{Al.removeChild(n.stateNode)}catch(e){vd(n,t,e)}break;case 18:Al!==null&&(jl?(e=Al,jf(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),um(e)):jf(Al,n.stateNode));break;case 4:r=Al,i=jl,Al=n.stateNode.containerInfo,jl=!0,Ml(e,t,n),Al=r,jl=i;break;case 0:case 11:case 14:case 15:dl(2,n,t),wl||dl(4,n,t),Ml(e,t,n);break;case 1:wl||(hl(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&pl(n,t,r)),Ml(e,t,n);break;case 21:Ml(e,t,n);break;case 22:wl=(r=wl)||n.memoizedState!==null,Ml(e,t,n),wl=r;break;default:Ml(e,t,n)}}function Nl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{um(e)}catch(e){vd(t,t.return,e)}}}function Pl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{um(e)}catch(e){vd(t,t.return,e)}}function Fl(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new El),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new El),t;default:throw Error(i(435,e.tag))}}function Il(e,t){var n=Fl(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Cd.bind(null,e,t);t.then(r,r)}})}function Ll(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if(Af(c.type)){Al=c.stateNode,jl=!1;break a}break;case 5:Al=c.stateNode,jl=!1;break a;case 3:case 4:Al=c.stateNode.containerInfo,jl=!0;break a}c=c.return}if(Al===null)throw Error(i(160));M(o,s,a),Al=null,jl=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)zl(t,e),t=t.sibling}var Rl=null;function zl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ll(t,e),Bl(e),r&4&&(dl(3,e,e.return),ul(3,e),dl(5,e,e.return));break;case 1:Ll(t,e),Bl(e),r&512&&(wl||n===null||hl(n,n.return)),r&64&&Cl&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=Rl;if(Ll(t,e),Bl(e),r&512&&(wl||n===null||hl(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[wt]||o[_t]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),mf(o,r,n),o[_t]=e,At(o),r=o;break a;case`link`:var s=vp(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),mf(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=vp(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),mf(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[_t]=e,At(o),r=o}e.stateNode=r}else yp(a,e.type,e.stateNode);else e.stateNode=mp(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&_l(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?yp(a,e.type,e.stateNode):mp(a,r,e.memoizedProps))}break;case 27:Ll(t,e),Bl(e),r&512&&(wl||n===null||hl(n,n.return)),n!==null&&r&4&&_l(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ll(t,e),Bl(e),r&512&&(wl||n===null||hl(n,n.return)),e.flags&32){a=e.stateNode;try{nn(a,``)}catch(t){vd(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,_l(e,a,n===null?a:n.memoizedProps)),r&1024&&(Tl=!0);break;case 6:if(Ll(t,e),Bl(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){vd(e,e.return,t)}}break;case 3:if(_p=null,a=Rl,Rl=Jf(t.containerInfo),Ll(t,e),Rl=a,Bl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{um(t.containerInfo)}catch(t){vd(e,e.return,t)}Tl&&(Tl=!1,Vl(e));break;case 4:r=Rl,Rl=Jf(e.stateNode.containerInfo),Ll(t,e),Bl(e),Rl=r;break;case 12:Ll(t,e),Bl(e);break;case 31:Ll(t,e),Bl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Il(e,r)));break;case 13:Ll(t,e),Bl(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Eu=Re()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Il(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Cl,d=wl;if(Cl=u||a,wl=d||l,Ll(t,e),wl=d,Cl=u,Bl(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||Cl||wl||Ul(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){vd(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){vd(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?Mf(m,!0):Mf(l.stateNode,!1)}catch(e){vd(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Il(e,n))));break;case 19:Ll(t,e),Bl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Il(e,r)));break;case 30:break;case 21:break;default:Ll(t,e),Bl(e)}}function Bl(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(vl(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode,o=yl(e);xl(e,o,a);break;case 5:var s=n.stateNode;n.flags&32&&(nn(s,``),n.flags&=-33);var c=yl(e);xl(e,c,s);break;case 3:case 4:var l=n.stateNode.containerInfo,u=yl(e);bl(e,u,l);break;default:throw Error(i(161))}}catch(t){vd(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vl(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Vl(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Hl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)j(e,t.alternate,t),t=t.sibling}function Ul(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:dl(4,t,t.return),Ul(t);break;case 1:hl(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&pl(t,t.return,n),Ul(t);break;case 27:Gf(t.stateNode);case 26:case 5:hl(t,t.return),Ul(t);break;case 22:t.memoizedState===null&&Ul(t);break;case 30:Ul(t);break;default:Ul(t)}e=e.sibling}}function Wl(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Wl(i,a,n),ul(4,a);break;case 1:if(Wl(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){vd(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)vo(c[i],s)}catch(e){vd(r,r.return,e)}}n&&o&64&&fl(a),ml(a,a.return);break;case 27:Sl(a);case 26:case 5:Wl(i,a,n),n&&r===null&&o&4&&gl(a),ml(a,a.return);break;case 12:Wl(i,a,n);break;case 31:Wl(i,a,n),n&&o&4&&Nl(i,a);break;case 13:Wl(i,a,n),n&&o&4&&Pl(i,a);break;case 22:a.memoizedState===null&&Wl(i,a,n),ml(a,a.return);break;case 30:break;default:Wl(i,a,n)}t=t.sibling}}function Gl(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Aa(n))}function Kl(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Aa(e))}function ql(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jl(e,t,n,r),t=t.sibling}function Jl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ql(e,t,n,r),i&2048&&ul(9,t);break;case 1:ql(e,t,n,r);break;case 3:ql(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Aa(e)));break;case 12:if(i&2048){ql(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){vd(t,t.return,e)}}else ql(e,t,n,r);break;case 31:ql(e,t,n,r);break;case 13:ql(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?ql(e,t,n,r):(a._visibility|=2,Yl(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?ql(e,t,n,r):Xl(e,t),i&2048&&Gl(o,t);break;case 24:ql(e,t,n,r),i&2048&&Kl(t.alternate,t);break;default:ql(e,t,n,r)}}function Yl(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:Yl(a,o,s,c,i),ul(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,Yl(a,o,s,c,i)):u._visibility&2?Yl(a,o,s,c,i):Xl(a,o),i&&l&2048&&Gl(o.alternate,o);break;case 24:Yl(a,o,s,c,i),i&&l&2048&&Kl(o.alternate,o);break;default:Yl(a,o,s,c,i)}t=t.sibling}}function Xl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Xl(n,r),i&2048&&Gl(r.alternate,r);break;case 24:Xl(n,r),i&2048&&Kl(r.alternate,r);break;default:Xl(n,r)}t=t.sibling}}var Zl=8192;function Ql(e,t,n){if(e.subtreeFlags&Zl)for(e=e.child;e!==null;)$l(e,t,n),e=e.sibling}function $l(e,t,n){switch(e.tag){case 26:Ql(e,t,n),e.flags&Zl&&e.memoizedState!==null&&Sp(n,Rl,e.memoizedState,e.memoizedProps);break;case 5:Ql(e,t,n);break;case 3:case 4:var r=Rl;Rl=Jf(e.stateNode.containerInfo),Ql(e,t,n),Rl=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Zl,Zl=16777216,Ql(e,t,n),Zl=r):Ql(e,t,n));break;default:Ql(e,t,n)}}function eu(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function tu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Dl=r,iu(r,e)}eu(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)nu(e),e=e.sibling}function nu(e){switch(e.tag){case 0:case 11:case 15:tu(e),e.flags&2048&&dl(9,e,e.return);break;case 3:tu(e);break;case 12:tu(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ru(e)):tu(e);break;default:tu(e)}}function ru(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Dl=r,iu(r,e)}eu(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:dl(8,t,t.return),ru(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ru(t));break;default:ru(t)}e=e.sibling}}function iu(e,t){for(;Dl!==null;){var n=Dl;switch(n.tag){case 0:case 11:case 15:dl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Aa(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Dl=r;else a:for(n=e;Dl!==null;){r=Dl;var i=r.sibling,a=r.return;if(kl(r),r===n){Dl=null;break a}if(i!==null){i.return=a,Dl=i;break a}Dl=a}}}var au={getCacheForType:function(e){var t=Sa(Oa),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Sa(Oa).controller.signal}},ou=typeof WeakMap==`function`?WeakMap:Map,su=0,cu=null,lu=null,uu=0,du=0,fu=null,pu=!1,mu=!1,hu=!1,gu=0,_u=0,vu=0,yu=0,bu=0,xu=0,Su=0,Cu=null,wu=null,Tu=!1,Eu=0,Du=0,Ou=1/0,ku=null,Au=null,ju=0,Mu=null,Nu=null,Pu=0,Fu=0,Iu=null,Lu=null,Ru=0,zu=null;function Bu(){return su&2&&uu!==0?uu&-uu:T.T===null?mt():zd()}function Vu(){if(xu===0)if(!(uu&536870912)||ta){var e=$e;$e<<=1,!($e&3932160)&&($e=262144),xu=e}else xu=536870912;return e=To.current,e!==null&&(e.flags|=32),xu}function Hu(e,t,n){(e===cu&&(du===2||du===9)||e.cancelPendingCommit!==null)&&(Yu(e,0),Ku(e,uu,xu,!1)),st(e,n),(!(su&2)||e!==cu)&&(e===cu&&(!(su&2)&&(yu|=n),_u===4&&Ku(e,uu,xu,!1)),jd(e))}function Uu(e,t,n){if(su&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||rt(e,t),a=r?rd(e,t):td(e,t,!0),o=r;do{if(a===0){mu&&!r&&Ku(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!Gu(n)){a=td(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=Cu;var l=c.current.memoizedState.isDehydrated;if(l&&(Yu(c,s).flags|=256),s=td(c,s,!1),s!==2){if(hu&&!l){c.errorRecoveryDisabledLanes|=o,yu|=o,a=4;break a}o=wu,wu=a,o!==null&&(wu===null?wu=o:wu.push.apply(wu,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){Yu(e,0),Ku(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Ku(r,t,xu,!pu);break a;case 2:wu=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=Eu+300-Re(),10<a)){if(Ku(r,t,xu,!pu),nt(r,0,!0)!==0)break a;Pu=t,r.timeoutHandle=Tf(Wu.bind(null,r,n,wu,ku,Tu,t,xu,yu,Su,pu,o,`Throttled`,-0,0),a);break a}Wu(r,n,wu,ku,Tu,t,xu,yu,Su,pu,o,null,-0,0)}}break}while(1);jd(e)}function Wu(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:un},$l(t,a,d);var m=(a&62914560)===a?Eu-Re():(a&4194048)===a?Du-Re():0;if(m=wp(d,m),m!==null){Pu=a,e.cancelPendingCommit=m(ud.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),Ku(e,a,o,!l);return}}ud(e,t,a,n,r,i,o,s,c)}function Gu(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Hr(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ku(e,t,n,r){t&=~bu,t&=~yu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-Je(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&lt(e,n,t)}function qu(){return su&6?!0:(Md(0,!1),!1)}function Ju(){if(lu!==null){if(du===0)var e=lu.return;else e=lu,ma=pa=null,$o(e),$a=null,eo=0,e=lu;for(;e!==null;)ll(e.alternate,e),e=e.return;lu=null}}function Yu(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Ef(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Pu=0,Ju(),cu=e,lu=n=Ai(e.current,null),uu=t,du=0,fu=null,pu=!1,mu=rt(e,t),hu=!1,Su=xu=bu=yu=vu=_u=0,wu=Cu=null,Tu=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Je(r),a=1<<i;t|=e[i],r&=~a}return gu=t,bi(),n}function Xu(e,t){Fo=null,T.H=lc,t===Ua||t===Ga?(t=Za(),du=3):t===Wa?(t=Za(),du=4):du=t===Ec?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,fu=t,lu===null&&(_u=1,xc(e,Ri(t,e.current)))}function Zu(){var e=To.current;return e===null?!0:(uu&4194048)===uu?Eo===null:(uu&62914560)===uu||uu&536870912?e===Eo:!1}function Qu(){var e=T.H;return T.H=lc,e===null?lc:e}function $u(){var e=T.A;return T.A=au,e}function ed(){_u=4,pu||(uu&4194048)!==uu&&To.current!==null||(mu=!0),!(vu&134217727)&&!(yu&134217727)||cu===null||Ku(cu,uu,xu,!1)}function td(e,t,n){var r=su;su|=2;var i=Qu(),a=$u();(cu!==e||uu!==t)&&(ku=null,Yu(e,t)),t=!1;var o=_u;a:do try{if(du!==0&&lu!==null){var s=lu,c=fu;switch(du){case 8:Ju(),o=6;break a;case 3:case 2:case 9:case 6:To.current===null&&(t=!0);var l=du;if(du=0,fu=null,sd(e,s,c,l),n&&mu){o=0;break a}break;default:l=du,du=0,fu=null,sd(e,s,c,l)}}nd(),o=_u;break}catch(t){Xu(e,t)}while(1);return t&&e.shellSuspendCounter++,ma=pa=null,su=r,T.H=i,T.A=a,lu===null&&(cu=null,uu=0,bi()),o}function nd(){for(;lu!==null;)ad(lu)}function rd(e,t){var n=su;su|=2;var r=Qu(),a=$u();cu!==e||uu!==t?(ku=null,Ou=Re()+500,Yu(e,t)):mu=rt(e,t);a:do try{if(du!==0&&lu!==null){t=lu;var o=fu;b:switch(du){case 1:du=0,fu=null,sd(e,t,o,1);break;case 2:case 9:if(qa(o)){du=0,fu=null,od(t);break}t=function(){du!==2&&du!==9||cu!==e||(du=7),jd(e)},o.then(t,t);break a;case 3:du=7;break a;case 4:du=5;break a;case 7:qa(o)?(du=0,fu=null,od(t)):(du=0,fu=null,sd(e,t,o,7));break;case 5:var s=null;switch(lu.tag){case 26:s=lu.memoizedState;case 5:case 27:var c=lu;if(s?xp(s):c.stateNode.complete){du=0,fu=null;var l=c.sibling;if(l!==null)lu=l;else{var u=c.return;u===null?lu=null:(lu=u,cd(u))}break b}}du=0,fu=null,sd(e,t,o,5);break;case 6:du=0,fu=null,sd(e,t,o,6);break;case 8:Ju(),_u=6;break a;default:throw Error(i(462))}}id();break}catch(t){Xu(e,t)}while(1);return ma=pa=null,T.H=r,T.A=a,su=n,lu===null?(cu=null,uu=0,bi(),_u):0}function id(){for(;lu!==null&&!Ie();)ad(lu)}function ad(e){var t=tl(e.alternate,e,gu);e.memoizedProps=e.pendingProps,t===null?cd(e):lu=t}function od(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Bc(n,t,t.pendingProps,t.type,void 0,uu);break;case 11:t=Bc(n,t,t.pendingProps,t.type.render,t.ref,uu);break;case 5:$o(t);default:ll(n,t),t=lu=ji(t,gu),t=tl(n,t,gu)}e.memoizedProps=e.pendingProps,t===null?cd(e):lu=t}function sd(e,t,n,r){ma=pa=null,$o(t),$a=null,eo=0;var i=t.return;try{if(nee(e,i,t,n,uu)){_u=1,xc(e,Ri(n,e.current)),lu=null;return}}catch(t){if(i!==null)throw lu=i,t;_u=1,xc(e,Ri(n,e.current)),lu=null;return}t.flags&32768?(ta||r===1?e=!0:mu||uu&536870912?e=!1:(pu=e=!0,(r===2||r===9||r===3||r===6)&&(r=To.current,r!==null&&r.tag===13&&(r.flags|=16384))),ld(t,e)):cd(t)}function cd(e){var t=e;do{if(t.flags&32768){ld(t,pu);return}e=t.return;var n=ree(t.alternate,t,gu);if(n!==null){lu=n;return}if(t=t.sibling,t!==null){lu=t;return}lu=t=e}while(t!==null);_u===0&&(_u=5)}function ld(e,t){do{var n=cl(e.alternate,e);if(n!==null){n.flags&=32767,lu=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){lu=e;return}lu=e=n}while(e!==null);_u=6,lu=null}function ud(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do hd();while(ju!==0);if(su&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=yi,ct(e,n,o,s,c,l),e===cu&&(lu=cu=null,uu=0),Nu=t,Mu=e,Pu=n,Fu=o,Iu=a,Lu=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,wd(E,function(){return gd(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=T.T,T.T=null,a=de.p,de.p=2,s=su,su|=4;try{Ol(e,t,n)}finally{su=s,de.p=a,T.T=r}}ju=1,dd(),fd(),pd()}}function dd(){if(ju===1){ju=0;var e=Mu,t=Nu,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=T.T,T.T=null;var r=de.p;de.p=2;var i=su;su|=4;try{zl(t,e);var a=vf,o=qr(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Kr(s.ownerDocument.documentElement,s)){if(c!==null&&Jr(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=Gr(s,h),v=Gr(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}Rp=!!_f,vf=_f=null}finally{su=i,de.p=r,T.T=n}}e.current=t,ju=2}}function fd(){if(ju===2){ju=0;var e=Mu,t=Nu,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=T.T,T.T=null;var r=de.p;de.p=2;var i=su;su|=4;try{j(e,t.alternate,t)}finally{su=i,de.p=r,T.T=n}}ju=3}}function pd(){if(ju===4||ju===3){ju=0,Le();var e=Mu,t=Nu,n=Pu,r=Lu;t.subtreeFlags&10256||t.flags&10256?ju=5:(ju=0,Nu=Mu=null,md(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Au=null),pt(n),t=t.stateNode,D&&typeof D.onCommitFiberRoot==`function`)try{D.onCommitFiberRoot(Ke,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=T.T,i=de.p,de.p=2,T.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{T.T=t,de.p=i}}Pu&3&&hd(),jd(e),i=e.pendingLanes,n&261930&&i&42?e===zu?Ru++:(Ru=0,zu=e):Ru=0,Md(0,!1)}}function md(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Aa(t)))}function hd(){return dd(),fd(),pd(),gd()}function gd(){if(ju!==5)return!1;var e=Mu,t=Fu;Fu=0;var n=pt(Pu),r=T.T,a=de.p;try{de.p=32>n?32:n,T.T=null,n=Iu,Iu=null;var o=Mu,s=Pu;if(ju=0,Nu=Mu=null,Pu=0,su&6)throw Error(i(331));var c=su;if(su|=4,nu(o.current),Jl(o,o.current,s,n),su=c,Md(0,!1),D&&typeof D.onPostCommitFiberRoot==`function`)try{D.onPostCommitFiberRoot(Ke,o)}catch{}return!0}finally{de.p=a,T.T=r,md(e,t)}}function _d(e,t,n){t=Ri(n,t),t=Cc(e.stateNode,t,2),e=fo(e,t,2),e!==null&&(st(e,2),jd(e))}function vd(e,t,n){if(e.tag===3)_d(e,e,n);else for(;t!==null;){if(t.tag===3){_d(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(Au===null||!Au.has(r))){e=Ri(n,e),n=wc(2),r=fo(t,n,2),r!==null&&(Tc(n,r,t,e),st(r,2),jd(r));break}}t=t.return}}function yd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ou;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(hu=!0,i.add(n),e=bd.bind(null,e,t,n),t.then(e,e))}function bd(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,cu===e&&(uu&n)===n&&(_u===4||_u===3&&(uu&62914560)===uu&&300>Re()-Eu?!(su&2)&&Yu(e,0):bu|=n,Su===uu&&(Su=0)),jd(e)}function xd(e,t){t===0&&(t=at()),e=Ci(e,t),e!==null&&(st(e,t),jd(e))}function Sd(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xd(e,n)}function Cd(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),xd(e,n)}function wd(e,t){return Pe(e,t)}var Td=null,Ed=null,Dd=!1,Od=!1,kd=!1,Ad=0;function jd(e){e!==Ed&&e.next===null&&(Ed===null?Td=Ed=e:Ed=Ed.next=e),Od=!0,Dd||(Dd=!0,Rd())}function Md(e,t){if(!kd&&Od){kd=!0;do for(var n=!1,r=Td;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Je(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,Ld(r,a))}else a=uu,a=nt(r,r===cu?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||rt(r,a)||(n=!0,Ld(r,a));r=r.next}while(n);kd=!1}}function Nd(){Pd()}function Pd(){Od=Dd=!1;var e=0;Ad!==0&&wf()&&(e=Ad);for(var t=Re(),n=null,r=Td;r!==null;){var i=r.next,a=Fd(r,t);a===0?(r.next=null,n===null?Td=i:n.next=i,i===null&&(Ed=n)):(n=r,(e!==0||a&3)&&(Od=!0)),r=i}ju!==0&&ju!==5||Md(e,!1),Ad!==0&&(Ad=0)}function Fd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-Je(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=it(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=cu,n=uu,n=nt(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(du===2||du===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Fe(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||rt(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Fe(r),pt(n)){case 2:case 8:n=Ve;break;case 32:n=E;break;case 268435456:n=Ue;break;default:n=E}return r=Id.bind(null,e),n=Pe(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Fe(r),e.callbackPriority=2,e.callbackNode=null,2}function Id(e,t){if(ju!==0&&ju!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(hd()&&e.callbackNode!==n)return null;var r=uu;return r=nt(e,e===cu?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Uu(e,r,t),Fd(e,Re()),e.callbackNode!=null&&e.callbackNode===n?Id.bind(null,e):null)}function Ld(e,t){if(hd())return null;Uu(e,t,!0)}function Rd(){Of(function(){su&6?Pe(Be,Nd):Pd()})}function zd(){if(Ad===0){var e=Na;e===0&&(e=Qe,Qe<<=1,!(Qe&261888)&&(Qe=256)),Ad=e}return Ad}function Bd(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:ln(``+e)}function Vd(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Hd(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=Bd((i[vt]||null).action),o=r.submitter;o&&(t=(t=o[vt]||null)?Bd(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new jn(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Ad!==0){var e=o?Vd(i,o):new FormData(i);O(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?Vd(i,o):new FormData(i),O(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var Ud=0;Ud<mi.length;Ud++){var Wd=mi[Ud],Gd=Wd.toLowerCase(),Kd=Wd[0].toUpperCase()+Wd.slice(1);hi(Gd,`on`+Kd)}hi(oi,`onAnimationEnd`),hi(si,`onAnimationIteration`),hi(ci,`onAnimationStart`),hi(`dblclick`,`onDoubleClick`),hi(`focusin`,`onFocus`),hi(`focusout`,`onBlur`),hi(li,`onTransitionRun`),hi(ui,`onTransitionStart`),hi(di,`onTransitionCancel`),hi(fi,`onTransitionEnd`),Pt(`onMouseEnter`,[`mouseout`,`mouseover`]),Pt(`onMouseLeave`,[`mouseout`,`mouseover`]),Pt(`onPointerEnter`,[`pointerout`,`pointerover`]),Pt(`onPointerLeave`,[`pointerout`,`pointerover`]),Nt(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),Nt(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),Nt(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),Nt(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),Nt(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),Nt(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var qd=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),Jd=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(qd));function Yd(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){gi(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){gi(e)}i.currentTarget=null,a=c}}}}function Xd(e,t){var n=t[bt];n===void 0&&(n=t[bt]=new Set);var r=e+`__bubble`;n.has(r)||(ef(t,e,2,!1),n.add(r))}function Zd(e,t,n){var r=0;t&&(r|=4),ef(n,e,r,t)}var Qd=`_reactListening`+Math.random().toString(36).slice(2);function $d(e){if(!e[Qd]){e[Qd]=!0,jt.forEach(function(t){t!==`selectionchange`&&(Jd.has(t)||Zd(t,!1,e),Zd(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qd]||(t[Qd]=!0,Zd(`selectionchange`,!1,t))}}function ef(e,t,n,r){switch(Gp(t)){case 2:var i=zp;break;case 8:i=Bp;break;default:i=Vp}n=i.bind(null,t,n,e),i=void 0,!bn||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function tf(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=Et(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}_n(function(){var r=a,i=fn(n),s=[];a:{var c=pi.get(e);if(c!==void 0){var l=jn,u=e;switch(e){case`keypress`:if(En(n)===0)break a;case`keydown`:case`keyup`:l=er;break;case`focusin`:u=`focus`,l=Hn;break;case`focusout`:u=`blur`,l=Hn;break;case`beforeblur`:case`afterblur`:l=Hn;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=Rn;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=Bn;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=ir;break;case oi:case si:case ci:l=Wn;break;case fi:l=or;break;case`scroll`:case`scrollend`:l=Nn;break;case`wheel`:l=cr;break;case`copy`:case`cut`:case`paste`:l=Kn;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=nr;break;case`toggle`:case`beforetoggle`:l=ur}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=vn(m,p),g!=null&&d.push(nf(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==dn&&(u=n.relatedTarget||n.fromElement)&&(Et(u)||u[yt]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?Et(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=Rn,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=nr,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:Ot(l),h=u==null?c:Ot(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,Et(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=af,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&sf(s,c,l,d,!1),u!==null&&f!==null&&sf(s,f,u,d,!0)}}a:{if(c=r?Ot(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=Ar;else if(wr(c))if(jr)v=Br;else{v=Rr;var y=Lr}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&sn(r.elementType)&&(v=Ar):v=zr;if(v&&=v(e,r)){Tr(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&Qt(c,`number`,c.value)}switch(y=r?Ot(r):window,e){case`focusin`:(wr(y)||y.contentEditable===`true`)&&(Xr=y,Zr=r,Qr=null);break;case`focusout`:Qr=Zr=Xr=null;break;case`mousedown`:$r=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:$r=!1,ei(s,n,i);break;case`selectionchange`:if(Yr)break;case`keydown`:case`keyup`:ei(s,n,i)}var b;if(fr)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else br?vr(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&(hr&&n.locale!==`ko`&&(br||x!==`onCompositionStart`?x===`onCompositionEnd`&&br&&(b=Tn()):(Sn=i,Cn=`value`in Sn?Sn.value:Sn.textContent,br=!0)),y=rf(r,x),0<y.length&&(x=new Jn(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=yr(n),b!==null&&(x.data=b)))),(b=mr?xr(e,n):Sr(e,n))&&(x=rf(r,`onBeforeInput`),0<x.length&&(y=new Jn(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),Hd(s,e,r,n,i)}Yd(s,t)})}function nf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rf(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=vn(e,n),i!=null&&r.unshift(nf(e,i,a)),i=vn(e,t),i!=null&&r.push(nf(e,i,a))),e.tag===3)return r;e=e.return}return[]}function af(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function sf(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=vn(n,a),l!=null&&o.unshift(nf(n,l,c))):i||(l=vn(n,a),l!=null&&o.push(nf(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var cf=/\r\n?/g,lf=/\u0000|\uFFFD/g;function uf(e){return(typeof e==`string`?e:``+e).replace(cf,`
`).replace(lf,``)}function df(e,t){return t=uf(t),uf(e)===t}function ff(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||nn(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&nn(e,``+r);break;case`className`:Bt(e,`class`,r);break;case`tabIndex`:Bt(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:Bt(e,n,r);break;case`style`:on(e,r,o);break;case`data`:if(t!==`object`){Bt(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=ln(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&ff(e,t,`name`,a.name,a,null),ff(e,t,`formEncType`,a.formEncType,a,null),ff(e,t,`formMethod`,a.formMethod,a,null),ff(e,t,`formTarget`,a.formTarget,a,null)):(ff(e,t,`encType`,a.encType,a,null),ff(e,t,`method`,a.method,a,null),ff(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=ln(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=un);break;case`onScroll`:r!=null&&Xd(`scroll`,e);break;case`onScrollEnd`:r!=null&&Xd(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=ln(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:Xd(`beforetoggle`,e),Xd(`toggle`,e),zt(e,`popover`,r);break;case`xlinkActuate`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:Vt(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:Vt(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:Vt(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:zt(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=cn.get(n)||n,zt(e,n,r))}}function pf(e,t,n,r,a,o){switch(n){case`style`:on(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?nn(e,r):(typeof r==`number`||typeof r==`bigint`)&&nn(e,``+r);break;case`onScroll`:r!=null&&Xd(`scroll`,e);break;case`onScrollEnd`:r!=null&&Xd(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=un);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!Mt.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[vt]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):zt(e,n,r)}}}function mf(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:Xd(`error`,e),Xd(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:ff(e,t,o,s,n,null)}}a&&ff(e,t,`srcSet`,n.srcSet,n,null),r&&ff(e,t,`src`,n.src,n,null);return;case`input`:Xd(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:ff(e,t,r,d,n,null)}}Zt(e,o,c,l,u,s,a,!1);return;case`select`:for(a in Xd(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:ff(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&$t(e,!!r,n,!0):$t(e,!!r,t,!1);return;case`textarea`:for(s in Xd(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:ff(e,t,s,c,n,null)}tn(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:ff(e,t,l,r,n,null)}return;case`dialog`:Xd(`beforetoggle`,e),Xd(`toggle`,e),Xd(`cancel`,e),Xd(`close`,e);break;case`iframe`:case`object`:Xd(`load`,e);break;case`video`:case`audio`:for(r=0;r<qd.length;r++)Xd(qd[r],e);break;case`image`:Xd(`error`,e),Xd(`load`,e);break;case`details`:Xd(`toggle`,e);break;case`embed`:case`source`:case`link`:Xd(`error`,e),Xd(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:ff(e,t,u,r,n,null)}return;default:if(sn(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&pf(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&ff(e,t,c,r,n,null))}function iee(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||ff(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&ff(e,t,p,m,r,f)}}Xt(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||ff(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&ff(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?$t(e,!!n,n?[]:``,!1):$t(e,!!n,t,!0)):$t(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:ff(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&ff(e,t,s,a,r,o)}en(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:ff(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:ff(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&ff(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:ff(e,t,u,p,r,m)}return;default:if(sn(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&pf(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||pf(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&ff(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||ff(e,t,f,p,r,m)}function hf(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function gf(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&hf(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&hf(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var _f=null,vf=null;function yf(e){return e.nodeType===9?e:e.ownerDocument}function bf(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function xf(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function Sf(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cf=null;function wf(){var e=window.event;return e&&e.type===`popstate`?e===Cf?!1:(Cf=e,!0):(Cf=null,!1)}var Tf=typeof setTimeout==`function`?setTimeout:void 0,Ef=typeof clearTimeout==`function`?clearTimeout:void 0,Df=typeof Promise==`function`?Promise:void 0,Of=typeof queueMicrotask==`function`?queueMicrotask:Df===void 0?Tf:function(e){return Df.resolve(null).then(e).catch(kf)};function kf(e){setTimeout(function(){throw e})}function Af(e){return e===`head`}function jf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),um(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)Gf(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,Gf(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[wt]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&Gf(e.ownerDocument.body);n=i}while(n);um(t)}function Mf(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function Nf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:Nf(n),Tt(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function Pf(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(r){if(!e[wt])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}}else if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;if(e=Bf(e.nextSibling),e===null)break}return null}function Ff(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=Bf(e.nextSibling),e===null))return null;return e}function If(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=Bf(e.nextSibling),e===null))return null;return e}function Lf(e){return e.data===`$?`||e.data===`$~`}function Rf(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function zf(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function Bf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var Vf=null;function Hf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return Bf(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function Uf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function Wf(e,t,n){switch(t=yf(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Gf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Tt(e)}var Kf=new Map,qf=new Set;function Jf(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yf=de.d;de.d={f:Xf,r:Zf,D:ep,C:tp,L:np,m:rp,X:ap,S:ip,M:op};function Xf(){var e=Yf.f(),t=qu();return e||t}function Zf(e){var t=Dt(e);t!==null&&t.tag===5&&t.type===`form`?Qs(t):Yf.r(e)}var Qf=typeof document>`u`?null:document;function $f(e,t,n){var r=Qf;if(r&&typeof t==`string`&&t){var i=Yt(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),qf.has(i)||(qf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),mf(t,`link`,e),At(t),r.head.appendChild(t)))}}function ep(e){Yf.D(e),$f(`dns-prefetch`,e,null)}function tp(e,t){Yf.C(e,t),$f(`preconnect`,e,t)}function np(e,t,n){Yf.L(e,t,n);var r=Qf;if(r&&e&&t){var i=`link[rel="preload"][as="`+Yt(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+Yt(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+Yt(n.imageSizes)+`"]`)):i+=`[href="`+Yt(e)+`"]`;var a=i;switch(t){case`style`:a=cp(e);break;case`script`:a=fp(e)}Kf.has(a)||(e=h({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),Kf.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(lp(a))||t===`script`&&r.querySelector(pp(a))||(t=r.createElement(`link`),mf(t,`link`,e),At(t),r.head.appendChild(t)))}}function rp(e,t){Yf.m(e,t);var n=Qf;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+Yt(r)+`"][href="`+Yt(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=fp(e)}if(!Kf.has(a)&&(e=h({rel:`modulepreload`,href:e},t),Kf.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(pp(a)))return}r=n.createElement(`link`),mf(r,`link`,e),At(r),n.head.appendChild(r)}}}function ip(e,t,n){Yf.S(e,t,n);var r=Qf;if(r&&e){var i=kt(r).hoistableStyles,a=cp(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(lp(a)))s.loading=5;else{e=h({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=Kf.get(a))&&N(e,n);var c=o=r.createElement(`link`);At(c),mf(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,hp(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function ap(e,t){Yf.X(e,t);var n=Qf;if(n&&e){var r=kt(n).hoistableScripts,i=fp(e),a=r.get(i);a||(a=n.querySelector(pp(i)),a||(e=h({src:e,async:!0},t),(t=Kf.get(i))&&gp(e,t),a=n.createElement(`script`),At(a),mf(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function op(e,t){Yf.M(e,t);var n=Qf;if(n&&e){var r=kt(n).hoistableScripts,i=fp(e),a=r.get(i);a||(a=n.querySelector(pp(i)),a||(e=h({src:e,async:!0,type:`module`},t),(t=Kf.get(i))&&gp(e,t),a=n.createElement(`script`),At(a),mf(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function sp(e,t,n,r){var a=(a=be.current)?Jf(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=cp(n.href),n=kt(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=cp(n.href);var o=kt(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(lp(e)))&&!o._p&&(s.instance=o,s.state.loading=5),Kf.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Kf.set(e,n),o||dp(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=fp(n),n=kt(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function cp(e){return`href="`+Yt(e)+`"`}function lp(e){return`link[rel="stylesheet"][`+e+`]`}function up(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function dp(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),mf(t,`link`,n),At(t),e.head.appendChild(t))}function fp(e){return`[src="`+Yt(e)+`"]`}function pp(e){return`script[async]`+e}function mp(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+Yt(n.href)+`"]`);if(r)return t.instance=r,At(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),At(r),mf(r,`style`,a),hp(r,n.precedence,e),t.instance=r;case`stylesheet`:a=cp(n.href);var o=e.querySelector(lp(a));if(o)return t.state.loading|=4,t.instance=o,At(o),o;r=up(n),(a=Kf.get(a))&&N(r,a),o=(e.ownerDocument||e).createElement(`link`),At(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),mf(o,`link`,r),t.state.loading|=4,hp(o,n.precedence,e),t.instance=o;case`script`:return o=fp(n.src),(a=e.querySelector(pp(o)))?(t.instance=a,At(a),a):(r=n,(a=Kf.get(o))&&(r=h({},n),gp(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),At(a),mf(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,hp(r,n.precedence,e));return t.instance}function hp(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function N(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function gp(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var _p=null;function vp(e,t,n){if(_p===null){var r=new Map,i=_p=new Map;i.set(n,r)}else i=_p,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[wt]||a[_t]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function yp(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function bp(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function xp(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function Sp(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=cp(r.href),a=t.querySelector(lp(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=Tp.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,At(a);return}a=t.ownerDocument||t,r=up(r),(i=Kf.get(i))&&N(r,i),a=a.createElement(`link`),At(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),mf(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Tp.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var Cp=0;function wp(e,t){return e.stylesheets&&e.count===0&&Dp(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&Dp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&Cp===0&&(Cp=62500*gf());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Dp(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>Cp?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Tp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ep=null;function Dp(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ep=new Map,t.forEach(Op,e),Ep=null,Tp.call(e))}function Op(e,t){if(!(t.state.loading&4)){var n=Ep.get(e);if(n)var r=n.get(null);else{n=new Map,Ep.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=Tp.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var kp={$$typeof:ee,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function Ap(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ot(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ot(0),this.hiddenUpdates=ot(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function jp(e,t,n,r,i,a,o,s,c,l,u,d){return e=new Ap(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=Oi(3,null,null,t),e.current=a,a.stateNode=e,t=ka(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},co(a),e}function Mp(e){return e?(e=Ei,e):Ei}function Np(e,t,n,r,i,a){i=Mp(i),r.context===null?r.context=i:r.pendingContext=i,r=uo(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=fo(e,r,t),n!==null&&(Hu(n,e,t),po(n,e,t))}function Pp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fp(e,t){Pp(e,t),(e=e.alternate)&&Pp(e,t)}function Ip(e){if(e.tag===13||e.tag===31){var t=Ci(e,67108864);t!==null&&Hu(t,e,67108864),Fp(e,67108864)}}function Lp(e){if(e.tag===13||e.tag===31){var t=Bu();t=ft(t);var n=Ci(e,t);n!==null&&Hu(n,e,t),Fp(e,t)}}var Rp=!0;function zp(e,t,n,r){var i=T.T;T.T=null;var a=de.p;try{de.p=2,Vp(e,t,n,r)}finally{de.p=a,T.T=i}}function Bp(e,t,n,r){var i=T.T;T.T=null;var a=de.p;try{de.p=8,Vp(e,t,n,r)}finally{de.p=a,T.T=i}}function Vp(e,t,n,r){if(Rp){var i=Hp(r);if(i===null)tf(e,t,r,Up,n),em(e,r);else if(nm(i,e,t,n,r))r.stopPropagation();else if(em(e,r),t&4&&-1<$p.indexOf(e)){for(;i!==null;){var a=Dt(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=tt(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-Je(o);s.entanglements[1]|=c,o&=~c}jd(a),!(su&6)&&(Ou=Re()+500,Md(0,!1))}}break;case 31:case 13:s=Ci(a,2),s!==null&&Hu(s,a,2),qu(),Fp(a,2)}if(a=Hp(r),a===null&&tf(e,t,r,Up,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else tf(e,t,r,null,n)}}function Hp(e){return e=fn(e),Wp(e)}var Up=null;function Wp(e){if(Up=null,e=Et(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Up=e,null}function Gp(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(ze()){case Be:return 2;case Ve:return 8;case E:case He:return 32;case Ue:return 268435456;default:return 32}default:return 32}}var Kp=!1,qp=null,Jp=null,Yp=null,Xp=new Map,Zp=new Map,Qp=[],$p=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function em(e,t){switch(e){case`focusin`:case`focusout`:qp=null;break;case`dragenter`:case`dragleave`:Jp=null;break;case`mouseover`:case`mouseout`:Yp=null;break;case`pointerover`:case`pointerout`:Xp.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:Zp.delete(t.pointerId)}}function tm(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Dt(t),t!==null&&Ip(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function nm(e,t,n,r,i){switch(t){case`focusin`:return qp=tm(qp,e,t,n,r,i),!0;case`dragenter`:return Jp=tm(Jp,e,t,n,r,i),!0;case`mouseover`:return Yp=tm(Yp,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return Xp.set(a,tm(Xp.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,Zp.set(a,tm(Zp.get(a)||null,e,t,n,r,i)),!0}return!1}function rm(e){var t=Et(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,ht(e.priority,function(){Lp(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,ht(e.priority,function(){Lp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function im(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);dn=r,n.target.dispatchEvent(r),dn=null}else return t=Dt(n),t!==null&&Ip(t),e.blockedOn=n,!1;t.shift()}return!0}function am(e,t,n){im(e)&&n.delete(t)}function om(){Kp=!1,qp!==null&&im(qp)&&(qp=null),Jp!==null&&im(Jp)&&(Jp=null),Yp!==null&&im(Yp)&&(Yp=null),Xp.forEach(am),Zp.forEach(am)}function sm(e,n){e.blockedOn===n&&(e.blockedOn=null,Kp||(Kp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,om)))}var cm=null;function lm(e){cm!==e&&(cm=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){cm===e&&(cm=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(Wp(r||n)===null)continue;break}var a=Dt(n);a!==null&&(e.splice(t,3),t-=3,O(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function um(e){function t(t){return sm(t,e)}qp!==null&&sm(qp,e),Jp!==null&&sm(Jp,e),Yp!==null&&sm(Yp,e),Xp.forEach(t),Zp.forEach(t);for(var n=0;n<Qp.length;n++){var r=Qp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Qp.length&&(n=Qp[0],n.blockedOn===null);)rm(n),n.blockedOn===null&&Qp.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[vt]||null;if(typeof a==`function`)o||lm(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[vt]||null)s=o.formAction;else if(Wp(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),lm(n)}}}function dm(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function fm(e){this._internalRoot=e}pm.prototype.render=fm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,r=Bu();Np(n,r,e,t,null,null)},pm.prototype.unmount=fm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Np(e.current,2,null,e,null,null),qu(),t[yt]=null}};function pm(e){this._internalRoot=e}pm.prototype.unstable_scheduleHydration=function(e){if(e){var t=mt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qp.length&&t!==0&&t<Qp[n].priority;n++);Qp.splice(n,0,e),n===0&&rm(e)}};var mm=n.version;if(mm!==`19.2.0`)throw Error(i(527,mm,`19.2.0`));de.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=d(t),e=e===null?null:p(e),e=e===null?null:e.stateNode,e};var hm={bundleType:0,version:`19.2.0`,rendererPackageName:`react-dom`,currentDispatcherRef:T,reconcilerVersion:`19.2.0`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var gm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gm.isDisabled&&gm.supportsFiber)try{Ke=gm.inject(hm),D=gm}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=vc,s=yc,c=bc;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=jp(e,1,!1,null,null,n,r,null,o,s,c,dm),e[yt]=t.current,$d(e),new fm(t)}})),g=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=h()})),_=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),v=o(((e,t)=>{t.exports=_()})),y=o(((e,t)=>{
/*!
Copyright (c) 2018 Jed Watson.
Licensed under the MIT License (MIT), see
http://jedwatson.github.io/classnames
*/
(function(){var e={}.hasOwnProperty;function n(){for(var e=``,t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,r(n)))}return e}function r(t){if(typeof t==`string`||typeof t==`number`)return t;if(typeof t!=`object`)return``;if(Array.isArray(t))return n.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes(`[native code]`))return t.toString();var r=``;for(var a in t)e.call(t,a)&&t[a]&&(r=i(r,a));return r}function i(e,t){return t?e?e+` `+t:e+t:e}t!==void 0&&t.exports?(n.default=n,t.exports=n):typeof define==`function`&&typeof define.amd==`object`&&define.amd?define(`classnames`,[],function(){return n}):window.classNames=n})()}));function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(null,arguments)}function x(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var S=o(((e,t)=>{t.exports=function(e,t,n,r,i,a,o,s){if(!e){var c;if(t===void 0)c=Error(`Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.`);else{var l=[n,r,i,a,o,s],u=0;c=Error(t.replace(/%s/g,function(){return l[u++]})),c.name=`Invariant Violation`}throw c.framesToPop=1,c}}}));S();function ee(e){return`default`+e.charAt(0).toUpperCase()+e.substr(1)}var C=c(f());function te(e){var t=ne(e,`string`);return typeof t==`symbol`?t:String(t)}function ne(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function re(e,t,n){var r=(0,C.useRef)(e!==void 0),i=(0,C.useState)(t),a=i[0],o=i[1],s=e!==void 0,c=r.current;return r.current=s,!s&&c&&a!==t&&o(t),[s?e:a,(0,C.useCallback)(function(e){var t=[...arguments].slice(1);n&&n.apply(void 0,[e].concat(t)),o(e)},[n])]}function ie(e,t){return Object.keys(t).reduce(function(n,r){var i,a=n,o=a[ee(r)],s=a[r],c=x(a,[ee(r),r].map(te)),l=t[r],u=re(s,o,e[l]),d=u[0],f=u[1];return b({},c,(i={},i[r]=d,i[l]=f,i))},e)}function ae(e,t){return ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ae(e,t)}function oe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ae(e,t)}function se(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function ce(e){function t(t){return this.constructor.getDerivedStateFromProps(e,t)??null}this.setState(t.bind(this))}function le(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}se.__suppressDeprecationWarning=!0,ce.__suppressDeprecationWarning=!0,le.__suppressDeprecationWarning=!0,S();var w=c(v()),ue=C.createContext({prefixes:{},breakpoints:[`xxl`,`xl`,`lg`,`md`,`sm`,`xs`],minBreakpoint:`xs`}),{Consumer:T,Provider:de}=ue;function fe(e,t){let{prefixes:n}=(0,C.useContext)(ue);return e||n[t]||t}function pe(){let{dir:e}=(0,C.useContext)(ue);return e===`rtl`}function me(e){return e&&e.ownerDocument||document}function he(e){var t=me(e);return t&&t.defaultView||window}function ge(e,t){return he(e).getComputedStyle(e,t)}var _e=/([A-Z])/g;function ve(e){return e.replace(_e,`-$1`).toLowerCase()}var ye=/^ms-/;function be(e){return ve(e).replace(ye,`-ms-`)}var xe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Se(e){return!!(e&&xe.test(e))}function Ce(e,t){var n=``,r=``;if(typeof t==`string`)return e.style.getPropertyValue(be(t))||ge(e).getPropertyValue(be(t));Object.keys(t).forEach(function(i){var a=t[i];!a&&a!==0?e.style.removeProperty(be(i)):Se(i)?r+=i+`(`+a+`) `:n+=be(i)+`: `+a+`;`}),r&&(n+=`transform: `+r+`;`),e.style.cssText+=`;`+n}var we=Ce,Te=o(((e,t)=>{t.exports=`SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED`})),Ee=o(((e,t)=>{var n=Te();function r(){}function i(){}i.resetWarningCache=r,t.exports=function(){function e(e,t,r,i,a,o){if(o!==n){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name=`Invariant Violation`,s}}e.isRequired=e;function t(){return e}var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return a.PropTypes=a,a}})),De=o(((e,t)=>{t.exports=Ee()()})),Oe={disabled:!1},ke=C.createContext(null),Ae=function(e){return e.scrollTop},je=c(m()),Me=`unmounted`,Ne=`exited`,Pe=`entering`,Fe=`entered`,Ie=`exiting`,Le=function(e){oe(t,e);function t(t,n){var r=e.call(this,t,n)||this,i=n,a=i&&!i.isMounting?t.enter:t.appear,o;return r.appearStatus=null,t.in?a?(o=Ne,r.appearStatus=Pe):o=Fe:o=t.unmountOnExit||t.mountOnEnter?Me:Ne,r.state={status:o},r.nextCallback=null,r}t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===`unmounted`?{status:Ne}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==`entering`&&n!==`entered`&&(t=Pe):(n===`entering`||n===`entered`)&&(t=Ie)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e=this.props.timeout,t=n=r=e,n,r;return e!=null&&typeof e!=`number`&&(t=e.exit,n=e.enter,r=e.appear===void 0?n:e.appear),{exit:t,enter:n,appear:r}},n.updateStatus=function(e,t){if(e===void 0&&(e=!1),t!==null)if(this.cancelNextCallback(),t===`entering`){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:je.default.findDOMNode(this);n&&Ae(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===`exited`&&this.setState({status:Me})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[je.default.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),c=r?s.appear:s.enter;if(!e&&!n||Oe.disabled){this.safeSetState({status:Fe},function(){t.props.onEntered(a)});return}this.props.onEnter(a,o),this.safeSetState({status:Pe},function(){t.props.onEntering(a,o),t.onTransitionEnd(c,function(){t.safeSetState({status:Fe},function(){t.props.onEntered(a,o)})})})},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:je.default.findDOMNode(this);if(!t||Oe.disabled){this.safeSetState({status:Ne},function(){e.props.onExited(r)});return}this.props.onExit(r),this.safeSetState({status:Ie},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:Ne},function(){e.props.onExited(r)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:je.default.findDOMNode(this),r=e==null&&!this.props.addEndListener;if(!n||r){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}e!=null&&setTimeout(this.nextCallback,e)},n.render=function(){var e=this.state.status;if(e===`unmounted`)return null;var t=this.props,n=t.children;t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef;var r=x(t,[`children`,`in`,`mountOnEnter`,`unmountOnExit`,`appear`,`enter`,`exit`,`timeout`,`addEndListener`,`onEnter`,`onEntering`,`onEntered`,`onExit`,`onExiting`,`onExited`,`nodeRef`]);return C.createElement(ke.Provider,{value:null},typeof n==`function`?n(e,r):C.cloneElement(C.Children.only(n),r))},t}(C.Component);Le.contextType=ke,Le.propTypes={};function Re(){}Le.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Re,onEntering:Re,onEntered:Re,onExit:Re,onExiting:Re,onExited:Re},Le.UNMOUNTED=Me,Le.EXITED=Ne,Le.ENTERING=Pe,Le.ENTERED=Fe,Le.EXITING=Ie;var ze=Le;function Be(e){return e.code===`Escape`||e.keyCode===27}function Ve(){let e=`19.2.0`.split(`.`);return{major:+e[0],minor:+e[1],patch:+e[2]}}function E(e){if(!e||typeof e==`function`)return null;let{major:t}=Ve();return t>=19?e.props.ref:e.ref}var He=!!(typeof window<`u`&&window.document&&window.document.createElement),Ue=!1,We=!1;try{var Ge={get passive(){return Ue=!0},get once(){return We=Ue=!0}};He&&(window.addEventListener(`test`,Ge,Ge),window.removeEventListener(`test`,Ge,!0))}catch{}function Ke(e,t,n,r){if(r&&typeof r!=`boolean`&&!We){var i=r.once,a=r.capture,o=n;!We&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,Ue?r:a)}e.addEventListener(t,n,r)}var D=Ke;function qe(e,t,n,r){var i=r&&typeof r!=`boolean`?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)}var Je=qe;function Ye(e,t,n,r){return D(e,t,n,r),function(){Je(e,t,n,r)}}var Xe=Ye;function Ze(e,t,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),e){var i=document.createEvent(`HTMLEvents`);i.initEvent(t,n,r),e.dispatchEvent(i)}}function Qe(e){var t=we(e,`transitionDuration`)||``,n=t.indexOf(`ms`)===-1?1e3:1;return parseFloat(t)*n}function $e(e,t,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||Ze(e,`transitionend`,!0)},t+n),a=Xe(e,`transitionend`,function(){r=!0},{once:!0});return function(){clearTimeout(i),a()}}function et(e,t,n,r){n??=Qe(e)||0;var i=$e(e,n,r),a=Xe(e,`transitionend`,t);return function(){i(),a()}}function tt(e,t){let n=we(e,t)||``,r=n.indexOf(`ms`)===-1?1e3:1;return parseFloat(n)*r}function nt(e,t){let n=tt(e,`transitionDuration`),r=tt(e,`transitionDelay`),i=et(e,n=>{n.target===e&&(i(),t(n))},n+r)}function rt(...e){return e.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!=`function`)throw Error(`Invalid Argument Type, must only provide functions, undefined, or null.`);return e===null?t:function(...n){e.apply(this,n),t.apply(this,n)}},null)}var it=rt;function at(e){e.offsetHeight}var ot=e=>!e||typeof e==`function`?e:t=>{e.current=t};function st(e,t){let n=ot(e),r=ot(t);return e=>{n&&n(e),r&&r(e)}}function ct(e,t){return(0,C.useMemo)(()=>st(e,t),[e,t])}var lt=ct,ut=c(m());function dt(e){return e&&`setState`in e?ut.default.findDOMNode(e):e??null}var ft=C.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:i,onExited:a,addEndListener:o,children:s,childRef:c,...l},u)=>{let d=(0,C.useRef)(null),f=lt(d,c),p=e=>{f(dt(e))},m=e=>t=>{e&&d.current&&e(d.current,t)},h=(0,C.useCallback)(m(e),[e]),g=(0,C.useCallback)(m(t),[t]),_=(0,C.useCallback)(m(n),[n]),v=(0,C.useCallback)(m(r),[r]),y=(0,C.useCallback)(m(i),[i]),b=(0,C.useCallback)(m(a),[a]),x=(0,C.useCallback)(m(o),[o]);return(0,w.jsx)(ze,{ref:u,...l,onEnter:h,onEntered:_,onEntering:g,onExit:v,onExited:b,onExiting:y,addEndListener:x,nodeRef:d,children:typeof s==`function`?(e,t)=>s(e,{...t,ref:p}):C.cloneElement(s,{ref:p})})});ft.displayName=`TransitionWrapper`;var pt=ft,mt=c(y()),ht={height:[`marginTop`,`marginBottom`],width:[`marginLeft`,`marginRight`]};function gt(e,t){let n=`offset${e[0].toUpperCase()}${e.slice(1)}`,r=t[n],i=ht[e];return r+parseInt(we(t,i[0]),10)+parseInt(we(t,i[1]),10)}var _t={[Ne]:`collapse`,[Ie]:`collapsing`,[Pe]:`collapsing`,[Fe]:`collapse show`},vt=C.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:i,className:a,children:o,dimension:s=`height`,in:c=!1,timeout:l=300,mountOnEnter:u=!1,unmountOnExit:d=!1,appear:f=!1,getDimensionValue:p=gt,...m},h)=>{let g=typeof s==`function`?s():s,_=(0,C.useMemo)(()=>it(e=>{e.style[g]=`0`},e),[g,e]),v=(0,C.useMemo)(()=>it(e=>{let t=`scroll${g[0].toUpperCase()}${g.slice(1)}`;e.style[g]=`${e[t]}px`},t),[g,t]),y=(0,C.useMemo)(()=>it(e=>{e.style[g]=null},n),[g,n]),b=(0,C.useMemo)(()=>it(e=>{e.style[g]=`${p(g,e)}px`,at(e)},r),[r,p,g]),x=(0,C.useMemo)(()=>it(e=>{e.style[g]=null},i),[g,i]);return(0,w.jsx)(pt,{ref:h,addEndListener:nt,...m,"aria-expanded":m.role?c:null,onEnter:_,onEntering:v,onEntered:y,onExit:b,onExiting:x,childRef:E(o),in:c,timeout:l,mountOnEnter:u,unmountOnExit:d,appear:f,children:(e,t)=>C.cloneElement(o,{...t,className:(0,mt.default)(a,o.props.className,_t[e],g===`width`&&`collapse-horizontal`)})})});vt.displayName=`Collapse`;var yt=vt;function bt(e){let t=(0,C.useRef)(e);return(0,C.useEffect)(()=>{t.current=e},[e]),t}var xt=bt;function St(e){let t=xt(e);return(0,C.useCallback)(function(...e){return t.current&&t.current(...e)},[t])}var Ct=c(y()),wt=(e=>C.forwardRef((t,n)=>(0,w.jsx)(`div`,{...t,ref:n,className:(0,Ct.default)(t.className,e)})));function Tt(){return(0,C.useState)(null)}function Et(e){let t=(0,C.useRef)(e);return(0,C.useEffect)(()=>{t.current=e},[e]),t}var Dt=Et;function Ot(e){let t=Dt(e);return(0,C.useCallback)(function(...e){return t.current&&t.current(...e)},[t])}function kt(e,t,n,r=!1){let i=Ot(n);(0,C.useEffect)(()=>{let n=typeof e==`function`?e():e;return n.addEventListener(t,i,r),()=>n.removeEventListener(t,i,r)},[e])}function At(){let e=(0,C.useRef)(!0),t=(0,C.useRef)(()=>e.current);return(0,C.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function jt(e){let t=(0,C.useRef)(null);return(0,C.useEffect)(()=>{t.current=e}),t.current}var Mt=typeof global<`u`&&global.navigator&&global.navigator.product===`ReactNative`,Nt=typeof document<`u`||Mt?C.useLayoutEffect:C.useEffect,Pt=[`as`,`disabled`];function Ft(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function It(e){return!e||e.trim()===`#`}function Lt({tagName:e,disabled:t,href:n,target:r,rel:i,role:a,onClick:o,tabIndex:s=0,type:c}){e||=n!=null||r!=null||i!=null?`a`:`button`;let l={tagName:e};if(e===`button`)return[{type:c||`button`,disabled:t},l];let u=r=>{if((t||e===`a`&&It(n))&&r.preventDefault(),t){r.stopPropagation();return}o?.(r)},d=e=>{e.key===` `&&(e.preventDefault(),u(e))};return e===`a`&&(n||=`#`,t&&(n=void 0)),[{role:a??`button`,disabled:void 0,tabIndex:t?void 0:s,href:n,target:e===`a`?r:void 0,"aria-disabled":t||void 0,rel:e===`a`?i:void 0,onClick:u,onKeyDown:d},l]}var Rt=C.forwardRef((e,t)=>{let{as:n,disabled:r}=e,i=Ft(e,Pt),[a,{tagName:o}]=Lt(Object.assign({tagName:n,disabled:r},i));return(0,w.jsx)(o,Object.assign({},i,a,{ref:t}))});Rt.displayName=`Button`;var zt=Rt,Bt=[`onKeyDown`];function Vt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ht(e){return!e||e.trim()===`#`}var Ut=C.forwardRef((e,t)=>{let{onKeyDown:n}=e,r=Vt(e,Bt),[i]=Lt(Object.assign({tagName:`a`},r)),a=Ot(e=>{i.onKeyDown(e),n?.(e)});return Ht(r.href)||r.role===`button`?(0,w.jsx)(`a`,Object.assign({ref:t},r,i,{onKeyDown:a})):(0,w.jsx)(`a`,Object.assign({ref:t},r,{onKeyDown:n}))});Ut.displayName=`Anchor`;var Wt=Ut,Gt=c(y()),Kt={[Pe]:`show`,[Fe]:`show`},qt=C.forwardRef(({className:e,children:t,transitionClasses:n={},onEnter:r,...i},a)=>{let o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},s=(0,C.useCallback)((e,t)=>{at(e),r?.(e,t)},[r]);return(0,w.jsx)(pt,{ref:a,addEndListener:nt,...o,onEnter:s,childRef:E(t),children:(r,i)=>C.cloneElement(t,{...i,className:(0,Gt.default)(`fade`,e,t.props.className,Kt[r],n[r])})})});qt.displayName=`Fade`;var Jt=qt,Yt=c(De()),Xt=c(y()),Zt={"aria-label":Yt.default.string,onClick:Yt.default.func,variant:Yt.default.oneOf([`white`])},Qt=C.forwardRef(({className:e,variant:t,"aria-label":n=`Close`,...r},i)=>(0,w.jsx)(`button`,{ref:i,type:`button`,className:(0,Xt.default)(`btn-close`,t&&`btn-close-${t}`,e),"aria-label":n,...r}));Qt.displayName=`CloseButton`,Qt.propTypes=Zt;var $t=Qt,en=c(y()),tn=C.forwardRef(({as:e,bsPrefix:t,variant:n=`primary`,size:r,active:i=!1,disabled:a=!1,className:o,...s},c)=>{let l=fe(t,`btn`),[u,{tagName:d}]=Lt({tagName:e,disabled:a,...s});return(0,w.jsx)(d,{...u,...s,ref:c,disabled:a,className:(0,en.default)(o,l,i&&`active`,n&&`${l}-${n}`,r&&`${l}-${r}`,s.href&&a&&`disabled`)})});tn.displayName=`Button`;var nn=tn,rn=C.createContext(null);rn.displayName=`CardHeaderContext`;var an=rn,on=c(y()),sn=C.forwardRef(({bsPrefix:e,fluid:t=!1,as:n=`div`,className:r,...i},a)=>{let o=fe(e,`container`),s=typeof t==`string`?`-${t}`:`-fluid`;return(0,w.jsx)(n,{ref:a,...i,className:(0,on.default)(r,t?`${o}${s}`:o)})});sn.displayName=`Container`;var cn=sn,eee=Function.prototype.bind.call(Function.prototype.call,[].slice);function ln(e,t){return eee(e.querySelectorAll(t))}function un(e,t,n){let r=(0,C.useRef)(e!==void 0),[i,a]=(0,C.useState)(t),o=e!==void 0,s=r.current;return r.current=o,!o&&s&&i!==t&&a(t),[o?e:i,(0,C.useCallback)((...e)=>{let[t,...r]=e,i=n?.(t,...r);return a(t),i},[n])]}function dn(){let[,e]=(0,C.useReducer)(e=>e+1,0);return e}var fn=C.createContext(null),pn=Object.prototype.hasOwnProperty;function mn(e,t,n){for(n of e.keys())if(hn(n,t))return n}function hn(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&hn(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i==`object`&&(i=mn(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i==`object`&&(i=mn(t,i),!i)||!hn(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e==`object`){for(n in r=0,e)if(pn.call(e,n)&&++r&&!pn.call(t,n)||!(n in t)||!hn(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function gn(e){let t=At();return[e[0],(0,C.useCallback)(n=>{if(t())return e[1](n)},[t,e[1]])]}var _n=gn,vn=`bottom`,yn=`right`,bn=`left`,xn=`auto`,Sn=[`top`,vn,yn,bn],Cn=`start`,wn=`clippingParents`,Tn=`viewport`,En=`popper`,Dn=`reference`,On=Sn.reduce(function(e,t){return e.concat([t+`-`+Cn,t+`-end`])},[]),kn=[].concat(Sn,[xn]).reduce(function(e,t){return e.concat([t,t+`-`+Cn,t+`-end`])},[]),An=[`beforeRead`,`read`,`afterRead`,`beforeMain`,`main`,`afterMain`,`beforeWrite`,`write`,`afterWrite`];function jn(e){return e.split(`-`)[0]}function Mn(e){if(e==null)return window;if(e.toString()!==`[object Window]`){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Nn(e){var t=Mn(e).Element;return e instanceof t||e instanceof Element}function Pn(e){var t=Mn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Fn(e){if(typeof ShadowRoot>`u`)return!1;var t=Mn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var In=Math.max,Ln=Math.min,Rn=Math.round;function zn(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+`/`+e.version}).join(` `):navigator.userAgent}function Bn(){return!/^((?!chrome|android).)*safari/i.test(zn())}function Vn(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,a=1;t&&Pn(e)&&(i=e.offsetWidth>0&&Rn(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Rn(r.height)/e.offsetHeight||1);var o=(Nn(e)?Mn(e):window).visualViewport,s=!Bn()&&n,c=(r.left+(s&&o?o.offsetLeft:0))/i,l=(r.top+(s&&o?o.offsetTop:0))/a,u=r.width/i,d=r.height/a;return{width:u,height:d,top:l,right:c+u,bottom:l+d,left:c,x:c,y:l}}function Hn(e){var t=Vn(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Un(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Fn(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Wn(e){return e?(e.nodeName||``).toLowerCase():null}function Gn(e){return Mn(e).getComputedStyle(e)}function Kn(e){return[`table`,`td`,`th`].indexOf(Wn(e))>=0}function qn(e){return((Nn(e)?e.ownerDocument:e.document)||window.document).documentElement}function Jn(e){return Wn(e)===`html`?e:e.assignedSlot||e.parentNode||(Fn(e)?e.host:null)||qn(e)}function Yn(e){return!Pn(e)||Gn(e).position===`fixed`?null:e.offsetParent}function tee(e){var t=/firefox/i.test(zn());if(/Trident/i.test(zn())&&Pn(e)&&Gn(e).position===`fixed`)return null;var n=Jn(e);for(Fn(n)&&(n=n.host);Pn(n)&&[`html`,`body`].indexOf(Wn(n))<0;){var r=Gn(n);if(r.transform!==`none`||r.perspective!==`none`||r.contain===`paint`||[`transform`,`perspective`].indexOf(r.willChange)!==-1||t&&r.willChange===`filter`||t&&r.filter&&r.filter!==`none`)return n;n=n.parentNode}return null}function Xn(e){for(var t=Mn(e),n=Yn(e);n&&Kn(n)&&Gn(n).position===`static`;)n=Yn(n);return n&&(Wn(n)===`html`||Wn(n)===`body`&&Gn(n).position===`static`)?t:n||tee(e)||t}function Zn(e){return[`top`,`bottom`].indexOf(e)>=0?`x`:`y`}function Qn(e,t,n){return In(e,Ln(t,n))}function $n(e,t,n){var r=Qn(e,t,n);return r>n?n:r}function er(){return{top:0,right:0,bottom:0,left:0}}function tr(e){return Object.assign({},er(),e)}function nr(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}var rr=function(e,t){return e=typeof e==`function`?e(Object.assign({},t.rects,{placement:t.placement})):e,tr(typeof e==`number`?nr(e,Sn):e)};function ir(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=jn(n.placement),c=Zn(s),l=[`left`,`right`].indexOf(s)>=0?`height`:`width`;if(!(!a||!o)){var u=rr(i.padding,n),d=Hn(a),f=c===`y`?`top`:bn,p=c===`y`?vn:yn,m=n.rects.reference[l]+n.rects.reference[c]-o[c]-n.rects.popper[l],h=o[c]-n.rects.reference[c],g=Xn(a),_=g?c===`y`?g.clientHeight||0:g.clientWidth||0:0,v=m/2-h/2,y=u[f],b=_-d[l]-u[p],x=_/2-d[l]/2+v,S=Qn(y,x,b),ee=c;n.modifiersData[r]=(t={},t[ee]=S,t.centerOffset=S-x,t)}}function ar(e){var t=e.state,n=e.options.element,r=n===void 0?`[data-popper-arrow]`:n;r!=null&&(typeof r==`string`&&(r=t.elements.popper.querySelector(r),!r)||Un(t.elements.popper,r)&&(t.elements.arrow=r))}var or={name:`arrow`,enabled:!0,phase:`main`,fn:ir,effect:ar,requires:[`popperOffsets`],requiresIfExists:[`preventOverflow`]};function sr(e){return e.split(`-`)[1]}var cr={top:`auto`,right:`auto`,bottom:`auto`,left:`auto`};function lr(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Rn(n*i)/i||0,y:Rn(r*i)/i||0}}function ur(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,c=e.gpuAcceleration,l=e.adaptive,u=e.roundOffsets,d=e.isFixed,f=o.x,p=f===void 0?0:f,m=o.y,h=m===void 0?0:m,g=typeof u==`function`?u({x:p,y:h}):{x:p,y:h};p=g.x,h=g.y;var _=o.hasOwnProperty(`x`),v=o.hasOwnProperty(`y`),y=bn,b=`top`,x=window;if(l){var S=Xn(n),ee=`clientHeight`,C=`clientWidth`;if(S===Mn(n)&&(S=qn(n),Gn(S).position!==`static`&&s===`absolute`&&(ee=`scrollHeight`,C=`scrollWidth`)),S=S,i===`top`||(i===`left`||i===`right`)&&a===`end`){b=vn;var te=d&&S===x&&x.visualViewport?x.visualViewport.height:S[ee];h-=te-r.height,h*=c?1:-1}if(i===`left`||(i===`top`||i===`bottom`)&&a===`end`){y=yn;var ne=d&&S===x&&x.visualViewport?x.visualViewport.width:S[C];p-=ne-r.width,p*=c?1:-1}}var re=Object.assign({position:s},l&&cr),ie=u===!0?lr({x:p,y:h},Mn(n)):{x:p,y:h};if(p=ie.x,h=ie.y,c){var ae;return Object.assign({},re,(ae={},ae[b]=v?`0`:``,ae[y]=_?`0`:``,ae.transform=(x.devicePixelRatio||1)<=1?`translate(`+p+`px, `+h+`px)`:`translate3d(`+p+`px, `+h+`px, 0)`,ae))}return Object.assign({},re,(t={},t[b]=v?h+`px`:``,t[y]=_?p+`px`:``,t.transform=``,t))}function dr(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,a=n.adaptive,o=a===void 0?!0:a,s=n.roundOffsets,c=s===void 0?!0:s,l={placement:jn(t.placement),variation:sr(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy===`fixed`};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,ur(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,ur(Object.assign({},l,{offsets:t.modifiersData.arrow,position:`absolute`,adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var fr={name:`computeStyles`,enabled:!0,phase:`beforeWrite`,fn:dr,data:{}},pr={passive:!0};function mr(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=i===void 0?!0:i,o=r.resize,s=o===void 0?!0:o,c=Mn(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&l.forEach(function(e){e.addEventListener(`scroll`,n.update,pr)}),s&&c.addEventListener(`resize`,n.update,pr),function(){a&&l.forEach(function(e){e.removeEventListener(`scroll`,n.update,pr)}),s&&c.removeEventListener(`resize`,n.update,pr)}}var hr={name:`eventListeners`,enabled:!0,phase:`write`,fn:function(){},effect:mr,data:{}},gr={left:`right`,right:`left`,bottom:`top`,top:`bottom`};function _r(e){return e.replace(/left|right|bottom|top/g,function(e){return gr[e]})}var vr={start:`end`,end:`start`};function yr(e){return e.replace(/start|end/g,function(e){return vr[e]})}function br(e){var t=Mn(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function xr(e){return Vn(qn(e)).left+br(e).scrollLeft}function Sr(e,t){var n=Mn(e),r=qn(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,c=0;if(i){a=i.width,o=i.height;var l=Bn();(l||!l&&t===`fixed`)&&(s=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:s+xr(e),y:c}}function Cr(e){var t=qn(e),n=br(e),r=e.ownerDocument?.body,i=In(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=In(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),o=-n.scrollLeft+xr(e),s=-n.scrollTop;return Gn(r||t).direction===`rtl`&&(o+=In(t.clientWidth,r?r.clientWidth:0)-i),{width:i,height:a,x:o,y:s}}function wr(e){var t=Gn(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Tr(e){return[`html`,`body`,`#document`].indexOf(Wn(e))>=0?e.ownerDocument.body:Pn(e)&&wr(e)?e:Tr(Jn(e))}function Er(e,t){t===void 0&&(t=[]);var n=Tr(e),r=n===e.ownerDocument?.body,i=Mn(n),a=r?[i].concat(i.visualViewport||[],wr(n)?n:[]):n,o=t.concat(a);return r?o:o.concat(Er(Jn(a)))}function Dr(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Or(e,t){var n=Vn(e,!1,t===`fixed`);return n.top+=e.clientTop,n.left+=e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function kr(e,t,n){return t===`viewport`?Dr(Sr(e,n)):Nn(t)?Or(t,n):Dr(Cr(qn(e)))}function Ar(e){var t=Er(Jn(e)),n=[`absolute`,`fixed`].indexOf(Gn(e).position)>=0&&Pn(e)?Xn(e):e;return Nn(n)?t.filter(function(e){return Nn(e)&&Un(e,n)&&Wn(e)!==`body`}):[]}function jr(e,t,n,r){var i=t===`clippingParents`?Ar(e):[].concat(t),a=[].concat(i,[n]),o=a[0],s=a.reduce(function(t,n){var i=kr(e,n,r);return t.top=In(i.top,t.top),t.right=Ln(i.right,t.right),t.bottom=Ln(i.bottom,t.bottom),t.left=In(i.left,t.left),t},kr(e,o,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Mr(e){var t=e.reference,n=e.element,r=e.placement,i=r?jn(r):null,a=r?sr(r):null,o=t.x+t.width/2-n.width/2,s=t.y+t.height/2-n.height/2,c;switch(i){case`top`:c={x:o,y:t.y-n.height};break;case vn:c={x:o,y:t.y+t.height};break;case yn:c={x:t.x+t.width,y:s};break;case bn:c={x:t.x-n.width,y:s};break;default:c={x:t.x,y:t.y}}var l=i?Zn(i):null;if(l!=null){var u=l===`y`?`height`:`width`;switch(a){case Cn:c[l]=c[l]-(t[u]/2-n[u]/2);break;case`end`:c[l]=c[l]+(t[u]/2-n[u]/2);break;default:}}return c}function Nr(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,a=n.strategy,o=a===void 0?e.strategy:a,s=n.boundary,c=s===void 0?wn:s,l=n.rootBoundary,u=l===void 0?Tn:l,d=n.elementContext,f=d===void 0?En:d,p=n.altBoundary,m=p===void 0?!1:p,h=n.padding,g=h===void 0?0:h,_=tr(typeof g==`number`?nr(g,Sn):g),v=f===`popper`?Dn:En,y=e.rects.popper,b=e.elements[m?v:f],x=jr(Nn(b)?b:b.contextElement||qn(e.elements.popper),c,u,o),S=Vn(e.elements.reference),ee=Mr({reference:S,element:y,strategy:`absolute`,placement:i}),C=Dr(Object.assign({},y,ee)),te=f===`popper`?C:S,ne={top:x.top-te.top+_.top,bottom:te.bottom-x.bottom+_.bottom,left:x.left-te.left+_.left,right:te.right-x.right+_.right},re=e.modifiersData.offset;if(f===`popper`&&re){var ie=re[i];Object.keys(ne).forEach(function(e){var t=[`right`,`bottom`].indexOf(e)>=0?1:-1,n=[`top`,`bottom`].indexOf(e)>=0?`y`:`x`;ne[e]+=ie[n]*t})}return ne}function Pr(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,l=c===void 0?kn:c,u=sr(r),d=u?s?On:On.filter(function(e){return sr(e)===u}):Sn,f=d.filter(function(e){return l.indexOf(e)>=0});f.length===0&&(f=d);var p=f.reduce(function(t,n){return t[n]=Nr(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[jn(n)],t},{});return Object.keys(p).sort(function(e,t){return p[e]-p[t]})}function Fr(e){if(jn(e)===`auto`)return[];var t=_r(e);return[yr(e),t,yr(t)]}function Ir(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=i===void 0?!0:i,o=n.altAxis,s=o===void 0?!0:o,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,h=n.allowedAutoPlacements,g=t.options.placement,_=jn(g)===g,v=c||(_||!m?[_r(g)]:Fr(g)),y=[g].concat(v).reduce(function(e,n){return e.concat(jn(n)===`auto`?Pr(t,{placement:n,boundary:u,rootBoundary:d,padding:l,flipVariations:m,allowedAutoPlacements:h}):n)},[]),b=t.rects.reference,x=t.rects.popper,S=new Map,ee=!0,C=y[0],te=0;te<y.length;te++){var ne=y[te],re=jn(ne),ie=sr(ne)===Cn,ae=[`top`,vn].indexOf(re)>=0,oe=ae?`width`:`height`,se=Nr(t,{placement:ne,boundary:u,rootBoundary:d,altBoundary:f,padding:l}),ce=ae?ie?yn:bn:ie?vn:`top`;b[oe]>x[oe]&&(ce=_r(ce));var le=_r(ce),w=[];if(a&&w.push(se[re]<=0),s&&w.push(se[ce]<=0,se[le]<=0),w.every(function(e){return e})){C=ne,ee=!1;break}S.set(ne,w)}if(ee)for(var ue=m?3:1,T=function(e){var t=y.find(function(t){var n=S.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return C=t,`break`},de=ue;de>0&&T(de)!==`break`;de--);t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}}var Lr={name:`flip`,enabled:!0,phase:`main`,fn:Ir,requiresIfExists:[`offset`],data:{_skip:!1}};function Rr(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function zr(e){return[`top`,yn,vn,bn].some(function(t){return e[t]>=0})}function Br(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=Nr(t,{elementContext:`reference`}),s=Nr(t,{altBoundary:!0}),c=Rr(o,r),l=Rr(s,i,a),u=zr(c),d=zr(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var Vr={name:`hide`,enabled:!0,phase:`main`,requiresIfExists:[`preventOverflow`],fn:Br};function Hr(e,t,n){var r=jn(e),i=[`left`,`top`].indexOf(r)>=0?-1:1,a=typeof n==`function`?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o||=0,s=(s||0)*i,[`left`,`right`].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}function Ur(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=i===void 0?[0,0]:i,o=kn.reduce(function(e,n){return e[n]=Hr(n,t.rects,a),e},{}),s=o[t.placement],c=s.x,l=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=o}var Wr={name:`offset`,enabled:!0,phase:`main`,requires:[`popperOffsets`],fn:Ur};function Gr(e){var t=e.state,n=e.name;t.modifiersData[n]=Mr({reference:t.rects.reference,element:t.rects.popper,strategy:`absolute`,placement:t.placement})}var Kr={name:`popperOffsets`,enabled:!0,phase:`read`,fn:Gr,data:{}};function qr(e){return e===`x`?`y`:`x`}function Jr(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=i===void 0?!0:i,o=n.altAxis,s=o===void 0?!1:o,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,p=f===void 0?!0:f,m=n.tetherOffset,h=m===void 0?0:m,g=Nr(t,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),_=jn(t.placement),v=sr(t.placement),y=!v,b=Zn(_),x=qr(b),S=t.modifiersData.popperOffsets,ee=t.rects.reference,C=t.rects.popper,te=typeof h==`function`?h(Object.assign({},t.rects,{placement:t.placement})):h,ne=typeof te==`number`?{mainAxis:te,altAxis:te}:Object.assign({mainAxis:0,altAxis:0},te),re=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,ie={x:0,y:0};if(S){if(a){var ae=b===`y`?`top`:bn,oe=b===`y`?vn:yn,se=b===`y`?`height`:`width`,ce=S[b],le=ce+g[ae],w=ce-g[oe],ue=p?-C[se]/2:0,T=v===`start`?ee[se]:C[se],de=v===`start`?-C[se]:-ee[se],fe=t.elements.arrow,pe=p&&fe?Hn(fe):{width:0,height:0},me=t.modifiersData[`arrow#persistent`]?t.modifiersData[`arrow#persistent`].padding:er(),he=me[ae],ge=me[oe],_e=Qn(0,ee[se],pe[se]),ve=y?ee[se]/2-ue-_e-he-ne.mainAxis:T-_e-he-ne.mainAxis,ye=y?-ee[se]/2+ue+_e+ge+ne.mainAxis:de+_e+ge+ne.mainAxis,be=t.elements.arrow&&Xn(t.elements.arrow),xe=be?b===`y`?be.clientTop||0:be.clientLeft||0:0,Se=re?.[b]??0,Ce=ce+ve-Se-xe,we=ce+ye-Se,Te=Qn(p?Ln(le,Ce):le,ce,p?In(w,we):w);S[b]=Te,ie[b]=Te-ce}if(s){var Ee=b===`x`?`top`:bn,De=b===`x`?vn:yn,Oe=S[x],ke=x===`y`?`height`:`width`,Ae=Oe+g[Ee],je=Oe-g[De],Me=[`top`,bn].indexOf(_)!==-1,Ne=re?.[x]??0,Pe=Me?Ae:Oe-ee[ke]-C[ke]-Ne+ne.altAxis,Fe=Me?Oe+ee[ke]+C[ke]-Ne-ne.altAxis:je,Ie=p&&Me?$n(Pe,Oe,Fe):Qn(p?Pe:Ae,Oe,p?Fe:je);S[x]=Ie,ie[x]=Ie-Oe}t.modifiersData[r]=ie}}var Yr={name:`preventOverflow`,enabled:!0,phase:`main`,fn:Jr,requiresIfExists:[`offset`]};function Xr(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Zr(e){return e===Mn(e)||!Pn(e)?br(e):Xr(e)}function Qr(e){var t=e.getBoundingClientRect(),n=Rn(t.width)/e.offsetWidth||1,r=Rn(t.height)/e.offsetHeight||1;return n!==1||r!==1}function $r(e,t,n){n===void 0&&(n=!1);var r=Pn(t),i=Pn(t)&&Qr(t),a=qn(t),o=Vn(e,i,n),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Wn(t)!==`body`||wr(a))&&(s=Zr(t)),Pn(t)?(c=Vn(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):a&&(c.x=xr(a))),{x:o.left+s.scrollLeft-c.x,y:o.top+s.scrollTop-c.y,width:o.width,height:o.height}}function ei(e){var t=new Map,n=new Set,r=[];e.forEach(function(e){t.set(e.name,e)});function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}}),r.push(e)}return e.forEach(function(e){n.has(e.name)||i(e)}),r}function ti(e){var t=ei(e);return An.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}function ni(e){var t;return function(){return t||=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})}),t}}function ri(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}var ii={placement:`bottom`,modifiers:[],strategy:`absolute`};function ai(){return![...arguments].some(function(e){return!(e&&typeof e.getBoundingClientRect==`function`)})}function oi(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,a=i===void 0?ii:i;return function(e,t,n){n===void 0&&(n=a);var i={placement:`bottom`,orderedModifiers:[],options:Object.assign({},ii,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,c={state:i,setOptions:function(n){var o=typeof n==`function`?n(i.options):n;return u(),i.options=Object.assign({},a,i.options,o),i.scrollParents={reference:Nn(e)?Er(e):e.contextElement?Er(e.contextElement):[],popper:Er(t)},i.orderedModifiers=ti(ri([].concat(r,i.options.modifiers))).filter(function(e){return e.enabled}),l(),c.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(ai(t,n)){i.rects={reference:$r(t,Xn(n),i.options.strategy===`fixed`),popper:Hn(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach(function(e){return i.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<i.orderedModifiers.length;r++){if(i.reset===!0){i.reset=!1,r=-1;continue}var a=i.orderedModifiers[r],o=a.fn,l=a.options,u=l===void 0?{}:l,d=a.name;typeof o==`function`&&(i=o({state:i,options:u,name:d,instance:c})||i)}}}},update:ni(function(){return new Promise(function(e){c.forceUpdate(),e(i)})}),destroy:function(){u(),s=!0}};if(!ai(e,t))return c;c.setOptions(n).then(function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)});function l(){i.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=n===void 0?{}:n,a=e.effect;if(typeof a==`function`){var s=a({state:i,name:t,instance:c,options:r});o.push(s||function(){})}})}function u(){o.forEach(function(e){return e()}),o=[]}return c}}const si=oi({defaultModifiers:[Vr,Kr,fr,hr,Wr,Lr,Yr,or]});var ci=[`enabled`,`placement`,`strategy`,`modifiers`];function li(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ui={name:`applyStyles`,enabled:!1,phase:`afterWrite`,fn:()=>void 0},di={name:`ariaDescribedBy`,enabled:!0,phase:`afterWrite`,effect:({state:e})=>()=>{let{reference:t,popper:n}=e.elements;if(`removeAttribute`in t){let e=(t.getAttribute(`aria-describedby`)||``).split(`,`).filter(e=>e.trim()!==n.id);e.length?t.setAttribute(`aria-describedby`,e.join(`,`)):t.removeAttribute(`aria-describedby`)}},fn:({state:e})=>{let{popper:t,reference:n}=e.elements,r=t.getAttribute(`role`)?.toLowerCase();if(t.id&&r===`tooltip`&&`setAttribute`in n){let e=n.getAttribute(`aria-describedby`);if(e&&e.split(`,`).indexOf(t.id)!==-1)return;n.setAttribute(`aria-describedby`,e?`${e},${t.id}`:t.id)}}},fi=[];function pi(e,t,n={}){let{enabled:r=!0,placement:i=`bottom`,strategy:a=`absolute`,modifiers:o=fi}=n,s=li(n,ci),c=(0,C.useRef)(o),l=(0,C.useRef)(),u=(0,C.useCallback)(()=>{var e;(e=l.current)==null||e.update()},[]),d=(0,C.useCallback)(()=>{var e;(e=l.current)==null||e.forceUpdate()},[]),[f,p]=_n((0,C.useState)({placement:i,update:u,forceUpdate:d,attributes:{},styles:{popper:{},arrow:{}}})),m=(0,C.useMemo)(()=>({name:`updateStateModifier`,enabled:!0,phase:`write`,requires:[`computeStyles`],fn:({state:e})=>{let t={},n={};Object.keys(e.elements).forEach(r=>{t[r]=e.styles[r],n[r]=e.attributes[r]}),p({state:e,styles:t,attributes:n,update:u,forceUpdate:d,placement:e.placement})}}),[u,d,p]),h=(0,C.useMemo)(()=>(hn(c.current,o)||(c.current=o),c.current),[o]);return(0,C.useEffect)(()=>{!l.current||!r||l.current.setOptions({placement:i,strategy:a,modifiers:[...h,m,ui]})},[a,i,m,r,h]),(0,C.useEffect)(()=>{if(!(!r||e==null||t==null))return l.current=si(e,t,Object.assign({},s,{placement:i,strategy:a,modifiers:[...h,di,m]})),()=>{l.current!=null&&(l.current.destroy(),l.current=void 0,p(e=>Object.assign({},e,{attributes:{},styles:{popper:{}}})))}},[r,e,t]),f}var mi=pi;function hi(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}var gi=o(((e,t)=>{var n=!1,r=function(){};if(n){var i=function(e,t){var n=arguments.length;t=Array(n>1?n-1:0);for(var r=1;r<n;r++)t[r-1]=arguments[r];var i=0,a=`Warning: `+e.replace(/%s/g,function(){return t[i++]});typeof console<`u`&&console.error(a);try{throw Error(a)}catch{}};r=function(e,t,n){var r=arguments.length;n=Array(r>2?r-2:0);for(var a=2;a<r;a++)n[a-2]=arguments[a];if(t===void 0)throw Error("`warning(condition, format, ...args)` requires a warning message argument");e||i.apply(null,[t].concat(n))}}t.exports=r})),_i=c(gi()),vi=()=>{};function yi(e){return e.button===0}function bi(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const xi=e=>e&&(`current`in e?e.current:e);var Si={click:`mousedown`,mouseup:`mousedown`,pointerup:`pointerdown`};function Ci(e,t=vi,{disabled:n,clickTrigger:r=`click`}={}){let i=(0,C.useRef)(!1),a=(0,C.useRef)(!1),o=(0,C.useCallback)(t=>{let n=xi(e);(0,_i.default)(!!n,`ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node`),i.current=!n||bi(t)||!yi(t)||!!hi(n,t.target)||a.current,a.current=!1},[e]),s=Ot(t=>{let n=xi(e);n&&hi(n,t.target)?a.current=!0:a.current=!1}),c=Ot(e=>{i.current||t(e)});(0,C.useEffect)(()=>{if(n||e==null)return;let t=me(xi(e)),i=t.defaultView||window,a=i.event??i.parent?.event,l=null;Si[r]&&(l=Xe(t,Si[r],s,!0));let u=Xe(t,r,o,!0),d=Xe(t,r,e=>{if(e===a){a=void 0;return}c(e)}),f=[];return`ontouchstart`in t.documentElement&&(f=[].slice.call(t.body.children).map(e=>Xe(e,`mousemove`,vi))),()=>{l?.(),u(),d(),f.forEach(e=>e())}},[e,n,r,o,s,c])}var wi=Ci;function Ti(e){let t={};return Array.isArray(e)?(e?.forEach(e=>{t[e.name]=e}),t):e||t}function Ei(e={}){return Array.isArray(e)?e:Object.keys(e).map(t=>(e[t].name=t,e[t]))}function Di({enabled:e,enableEvents:t,placement:n,flip:r,offset:i,fixed:a,containerPadding:o,arrowElement:s,popperConfig:c={}}){let l=Ti(c.modifiers);return Object.assign({},c,{placement:n,enabled:e,strategy:a?`fixed`:c.strategy,modifiers:Ei(Object.assign({},l,{eventListeners:{enabled:t,options:l.eventListeners?.options},preventOverflow:Object.assign({},l.preventOverflow,{options:o?Object.assign({padding:o},l.preventOverflow?.options):l.preventOverflow?.options}),offset:{options:Object.assign({offset:i},l.offset?.options)},arrow:Object.assign({},l.arrow,{enabled:!!s,options:Object.assign({},l.arrow?.options,{element:s})}),flip:Object.assign({enabled:!!r},l.flip)}))})}var Oi=[`children`,`usePopper`];function ki(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Ai=()=>{};function ji(e={}){let t=(0,C.useContext)(fn),[n,r]=Tt(),i=(0,C.useRef)(!1),{flip:a,offset:o,rootCloseEvent:s,fixed:c=!1,placement:l,popperConfig:u={},enableEventListeners:d=!0,usePopper:f=!!t}=e,p=t?.show==null?!!e.show:t.show;p&&!i.current&&(i.current=!0);let m=e=>{t?.toggle(!1,e)},{placement:h,setMenu:g,menuElement:_,toggleElement:v}=t||{},y=mi(v,_,Di({placement:l||h||`bottom-start`,enabled:f,enableEvents:d??p,offset:o,flip:a,fixed:c,arrowElement:n,popperConfig:u})),b=Object.assign({ref:g||Ai,"aria-labelledby":v?.id},y.attributes.popper,{style:y.styles.popper}),x={show:p,placement:h,hasShown:i.current,toggle:t?.toggle,popper:f?y:null,arrowProps:f?Object.assign({ref:r},y.attributes.arrow,{style:y.styles.arrow}):{}};return wi(_,m,{clickTrigger:s,disabled:!p}),[b,x]}function Mi(e){let{children:t,usePopper:n=!0}=e,r=ki(e,Oi),[i,a]=ji(Object.assign({},r,{usePopper:n}));return(0,w.jsx)(w.Fragment,{children:t(i,a)})}Mi.displayName=`DropdownMenu`;var Ni=Mi,Pi={prefix:String(Math.round(Math.random()*1e10)),current:0},Fi=C.createContext(Pi),Ii=C.createContext(!1);typeof window<`u`&&window.document&&window.document.createElement;var Li=new WeakMap;function Ri(e=!1){let t=(0,C.useContext)(Fi),n=(0,C.useRef)(null);if(n.current===null&&!e){let e=C.default.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED?.ReactCurrentOwner?.current;if(e){let n=Li.get(e);n==null?Li.set(e,{id:t.current,state:e.memoizedState}):e.memoizedState!==n.state&&(t.current=n.id,Li.delete(e))}n.current=++t.current}return n.current}function zi(e){let t=(0,C.useContext)(Fi),n=Ri(!!e),r=`react-aria${t.prefix}`;return e||`${r}-${n}`}function Bi(e){let t=C.useId(),[n]=(0,C.useState)(Gi()),r=n?`react-aria`:`react-aria${Pi.prefix}`;return e||`${r}-${t}`}var Vi=typeof C.useId==`function`?Bi:zi;function Hi(){return!1}function Ui(){return!0}function Wi(e){return()=>{}}function Gi(){return typeof C.useSyncExternalStore==`function`?C.useSyncExternalStore(Wi,Hi,Ui):(0,C.useContext)(Ii)}const Ki=e=>e.getAttribute(`role`)?.toLowerCase()===`menu`;var qi=()=>{};function Ji(){let e=Vi(),{show:t=!1,toggle:n=qi,setToggle:r,menuElement:i}=(0,C.useContext)(fn)||{},a=(0,C.useCallback)(e=>{n(!t,e)},[t,n]),o={id:e,ref:r||qi,onClick:a,"aria-expanded":!!t};return i&&Ki(i)&&(o[`aria-haspopup`]=!0),[o,{show:t,toggle:n}]}function Yi({children:e}){let[t,n]=Ji();return(0,w.jsx)(w.Fragment,{children:e(t,n)})}Yi.displayName=`DropdownToggle`;var Xi=Yi,Zi=C.createContext(null);const Qi=(e,t=null)=>e==null?t||null:String(e);var $i=Zi,ea=C.createContext(null);ea.displayName=`NavContext`;var ta=ea;function na(e){return`data-rr-ui-${e}`}function ra(e){return`rrUi${e}`}var ia=[`eventKey`,`disabled`,`onClick`,`active`,`as`];function aa(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function oa({key:e,href:t,active:n,disabled:r,onClick:i}){let a=(0,C.useContext)($i),{activeKey:o}=(0,C.useContext)(ta)||{},s=Qi(e,t),c=n==null&&e!=null?Qi(o)===s:n;return[{onClick:Ot(e=>{r||(i?.(e),a&&!e.isPropagationStopped()&&a(s,e))}),"aria-disabled":r||void 0,"aria-selected":c,[na(`dropdown-item`)]:``},{isActive:c}]}var sa=C.forwardRef((e,t)=>{let{eventKey:n,disabled:r,onClick:i,active:a,as:o=zt}=e,s=aa(e,ia),[c]=oa({key:n,href:s.href,disabled:r,onClick:i,active:a});return(0,w.jsx)(o,Object.assign({},s,{ref:t},c))});sa.displayName=`DropdownItem`;var ca=sa,la=(0,C.createContext)(He?window:void 0);la.Provider;function ua(){return(0,C.useContext)(la)}function da(){let e=dn(),t=(0,C.useRef)(null),n=(0,C.useCallback)(n=>{t.current=n,e()},[e]);return[t,n]}function fa({defaultShow:e,show:t,onSelect:n,onToggle:r,itemSelector:i=`* [${na(`dropdown-item`)}]`,focusFirstItemOnShow:a,placement:o=`bottom-start`,children:s}){let c=ua(),[l,u]=un(t,e,r),[d,f]=da(),p=d.current,[m,h]=da(),g=m.current,_=jt(l),v=(0,C.useRef)(null),y=(0,C.useRef)(!1),b=(0,C.useContext)($i),x=(0,C.useCallback)((e,t,n=t?.type)=>{u(e,{originalEvent:t,source:n})},[u]),S=Ot((e,t)=>{n?.(e,t),x(!1,t,`select`),t.isPropagationStopped()||b?.(e,t)}),ee=(0,C.useMemo)(()=>({toggle:x,placement:o,show:l,menuElement:p,toggleElement:g,setMenu:f,setToggle:h}),[x,o,l,p,g,f,h]);p&&_&&!l&&(y.current=p.contains(p.ownerDocument.activeElement));let te=Ot(()=>{g&&g.focus&&g.focus()}),ne=Ot(()=>{let e=v.current,t=a;if(t??=d.current&&Ki(d.current)?`keyboard`:!1,t===!1||t===`keyboard`&&!/^key.+$/.test(e))return;let n=ln(d.current,i)[0];n&&n.focus&&n.focus()});(0,C.useEffect)(()=>{l?ne():y.current&&(y.current=!1,te())},[l,y,te,ne]),(0,C.useEffect)(()=>{v.current=null});let re=(e,t)=>{if(!d.current)return null;let n=ln(d.current,i),r=n.indexOf(e)+t;return r=Math.max(0,Math.min(r,n.length)),n[r]};return kt((0,C.useCallback)(()=>c.document,[c]),`keydown`,e=>{let{key:t}=e,n=e.target,r=d.current?.contains(n),i=m.current?.contains(n);if(/input|textarea/i.test(n.tagName)&&(t===` `||t!==`Escape`&&r||t===`Escape`&&n.type===`search`)||!r&&!i||t===`Tab`&&(!d.current||!l))return;v.current=e.type;let a={originalEvent:e,source:e.type};switch(t){case`ArrowUp`:{let t=re(n,-1);t&&t.focus&&t.focus(),e.preventDefault();return}case`ArrowDown`:if(e.preventDefault(),!l)u(!0,a);else{let e=re(n,1);e&&e.focus&&e.focus()}return;case`Tab`:D(n.ownerDocument,`keyup`,e=>{var t;(e.key===`Tab`&&!e.target||!((t=d.current)!=null&&t.contains(e.target)))&&u(!1,a)},{once:!0});break;case`Escape`:t===`Escape`&&(e.preventDefault(),e.stopPropagation()),u(!1,a);break;default:}}),(0,w.jsx)($i.Provider,{value:S,children:(0,w.jsx)(fn.Provider,{value:ee,children:s})})}fa.displayName=`Dropdown`,fa.Menu=Ni,fa.Toggle=Xi,fa.Item=ca;var pa=fa,ma=C.createContext({});ma.displayName=`DropdownContext`;var ha=ma,ga=c(y()),_a=C.forwardRef(({className:e,bsPrefix:t,as:n=`hr`,role:r=`separator`,...i},a)=>(t=fe(t,`dropdown-divider`),(0,w.jsx)(n,{ref:a,className:(0,ga.default)(e,t),role:r,...i})));_a.displayName=`DropdownDivider`;var va=_a,ya=c(y()),ba=C.forwardRef(({className:e,bsPrefix:t,as:n=`div`,role:r=`heading`,...i},a)=>(t=fe(t,`dropdown-header`),(0,w.jsx)(n,{ref:a,className:(0,ya.default)(e,t),role:r,...i})));ba.displayName=`DropdownHeader`;var xa=ba,Sa=c(y()),Ca=C.forwardRef(({bsPrefix:e,className:t,eventKey:n,disabled:r=!1,onClick:i,active:a,as:o=Wt,...s},c)=>{let l=fe(e,`dropdown-item`),[u,d]=oa({key:n,href:s.href,disabled:r,onClick:i,active:a});return(0,w.jsx)(o,{...s,...u,ref:c,className:(0,Sa.default)(t,l,d.isActive&&`active`,r&&`disabled`)})});Ca.displayName=`DropdownItem`;var wa=Ca,Ta=c(y()),Ea=C.forwardRef(({className:e,bsPrefix:t,as:n=`span`,...r},i)=>(t=fe(t,`dropdown-item-text`),(0,w.jsx)(n,{ref:i,className:(0,Ta.default)(e,t),...r})));Ea.displayName=`DropdownItemText`;var Da=Ea,Oa=typeof global<`u`&&global.navigator&&global.navigator.product===`ReactNative`,ka=typeof document<`u`||Oa?C.useLayoutEffect:C.useEffect,Aa=C.createContext(null);Aa.displayName=`InputGroupContext`;var ja=Aa,Ma=C.createContext(null);Ma.displayName=`NavbarContext`;var Na=Ma;S();function Pa(e,t){return e}var Fa=c(y());gi();function Ia(e,t,n){let r=n?`top-end`:`top-start`,i=n?`top-start`:`top-end`,a=n?`bottom-end`:`bottom-start`,o=n?`bottom-start`:`bottom-end`,s=n?`right-start`:`left-start`,c=n?`right-end`:`left-end`,l=n?`left-start`:`right-start`,u=n?`left-end`:`right-end`,d=e?o:a;return t===`up`?d=e?i:r:t===`end`?d=e?u:l:t===`start`?d=e?c:s:t===`down-centered`?d=`bottom`:t===`up-centered`&&(d=`top`),d}var La=C.forwardRef(({bsPrefix:e,className:t,align:n,rootCloseEvent:r,flip:i=!0,show:a,renderOnMount:o,as:s=`div`,popperConfig:c,variant:l,...u},d)=>{let f=!1,p=(0,C.useContext)(Na),m=fe(e,`dropdown-menu`),{align:h,drop:g,isRTL:_}=(0,C.useContext)(ha);n||=h;let v=(0,C.useContext)(ja),y=[];if(n)if(typeof n==`object`){let e=Object.keys(n);if(e.length){let t=e[0],r=n[t];f=r===`start`,y.push(`${m}-${t}-${r}`)}}else n===`end`&&(f=!0);let b=Ia(f,g,_),[x,{hasShown:S,popper:ee,show:te,toggle:ne}]=ji({flip:i,rootCloseEvent:r,show:a,usePopper:!p&&y.length===0,offset:[0,2],popperConfig:c,placement:b});if(x.ref=lt(Pa(d,`DropdownMenu`),x.ref),ka(()=>{te&&ee?.update()},[te]),!S&&!o&&!v)return null;typeof s!=`string`&&(x.show=te,x.close=()=>ne?.(!1),x.align=n);let re=u.style;return ee!=null&&ee.placement&&(re={...u.style,...x.style},u[`x-placement`]=ee.placement),(0,w.jsx)(s,{...u,...x,style:re,...(y.length||p)&&{"data-bs-popper":`static`},className:(0,Fa.default)(t,m,te&&`show`,f&&`${m}-end`,l&&`${m}-${l}`,...y)})});La.displayName=`DropdownMenu`;var Ra=La,za=c(y()),Ba=C.forwardRef(({bsPrefix:e,split:t,className:n,childBsPrefix:r,as:i=nn,...a},o)=>{let s=fe(e,`dropdown-toggle`),c=(0,C.useContext)(fn);r!==void 0&&(a.bsPrefix=r);let[l]=Ji();return l.ref=lt(l.ref,Pa(o,`DropdownToggle`)),(0,w.jsx)(i,{className:(0,za.default)(n,s,t&&`${s}-split`,c?.show&&`show`),...l,...a})});Ba.displayName=`DropdownToggle`;var Va=Ba,Ha=c(y()),Ua=C.forwardRef((e,t)=>{let{bsPrefix:n,drop:r=`down`,show:i,className:a,align:o=`start`,onSelect:s,onToggle:c,focusFirstItemOnShow:l,as:u=`div`,navbar:d,autoClose:f=!0,...p}=ie(e,{show:`onToggle`}),m=(0,C.useContext)(ja),h=fe(n,`dropdown`),g=pe(),_=e=>f===!1?e===`click`:f===`inside`?e!==`rootClose`:f===`outside`?e!==`select`:!0,v=St((e,t)=>{var n;!((n=t.originalEvent)==null||(n=n.target)==null)&&n.classList.contains(`dropdown-toggle`)&&t.source===`mousedown`||(t.originalEvent.currentTarget===document&&(t.source!==`keydown`||t.originalEvent.key===`Escape`)&&(t.source=`rootClose`),_(t.source)&&c?.(e,t))}),y=Ia(o===`end`,r,g),b=(0,C.useMemo)(()=>({align:o,drop:r,isRTL:g}),[o,r,g]),x={down:h,"down-centered":`${h}-center`,up:`dropup`,"up-centered":`dropup-center dropup`,end:`dropend`,start:`dropstart`};return(0,w.jsx)(ha.Provider,{value:b,children:(0,w.jsx)(pa,{placement:y,show:i,onSelect:s,onToggle:v,focusFirstItemOnShow:l,itemSelector:`.${h}-item:not(.disabled):not(:disabled)`,children:m?p.children:(0,w.jsx)(u,{...p,ref:t,className:(0,Ha.default)(a,i&&`show`,x[r])})})})});Ua.displayName=`Dropdown`;var Wa=Object.assign(Ua,{Toggle:Va,Menu:Ra,Item:wa,ItemText:Da,Divider:va,Header:xa}),Ga=e=>!e||typeof e==`function`?e:t=>{e.current=t};function Ka(e,t){let n=Ga(e),r=Ga(t);return e=>{n&&n(e),r&&r(e)}}function qa(e,t){return(0,C.useMemo)(()=>Ka(e,t),[e,t])}var Ja=qa,Ya=C.createContext(null),Xa=[`as`,`active`,`eventKey`];function Za(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Qa({key:e,onClick:t,active:n,id:r,role:i,disabled:a}){let o=(0,C.useContext)($i),s=(0,C.useContext)(ta),c=(0,C.useContext)(Ya),l=n,u={role:i};if(s){!i&&s.role===`tablist`&&(u.role=`tab`);let t=s.getControllerId(e??null),a=s.getControlledId(e??null);u[na(`event-key`)]=e,u.id=t||r,l=n==null&&e!=null?s.activeKey===e:n,(l||!(c!=null&&c.unmountOnExit)&&!(c!=null&&c.mountOnEnter))&&(u[`aria-controls`]=a)}return u.role===`tab`&&(u[`aria-selected`]=l,l||(u.tabIndex=-1),a&&(u.tabIndex=-1,u[`aria-disabled`]=!0)),u.onClick=Ot(n=>{a||(t?.(n),e!=null&&o&&!n.isPropagationStopped()&&o(e,n))}),[u,{isActive:l}]}var $a=C.forwardRef((e,t)=>{let{as:n=zt,active:r,eventKey:i}=e,a=Za(e,Xa),[o,s]=Qa(Object.assign({key:Qi(i,a.href),active:r},a));return o[na(`active`)]=s.isActive,(0,w.jsx)(n,Object.assign({},a,o,{ref:t}))});$a.displayName=`NavItem`;var eo=$a,to=[`as`,`onSelect`,`activeKey`,`role`,`onKeyDown`];function no(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ro=()=>{},io=na(`event-key`),ao=C.forwardRef((e,t)=>{let{as:n=`div`,onSelect:r,activeKey:i,role:a,onKeyDown:o}=e,s=no(e,to),c=dn(),l=(0,C.useRef)(!1),u=(0,C.useContext)($i),d=(0,C.useContext)(Ya),f,p;d&&(a||=`tablist`,i=d.activeKey,f=d.getControlledId,p=d.getControllerId);let m=(0,C.useRef)(null),h=e=>{let t=m.current;if(!t)return null;let n=ln(t,`[${io}]:not([aria-disabled=true])`),r=t.querySelector(`[aria-selected=true]`);if(!r||r!==document.activeElement)return null;let i=n.indexOf(r);if(i===-1)return null;let a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},g=(e,t)=>{e!=null&&(r?.(e,t),u?.(e,t))},_=e=>{if(o?.(e),!d)return;let t;switch(e.key){case`ArrowLeft`:case`ArrowUp`:t=h(-1);break;case`ArrowRight`:case`ArrowDown`:t=h(1);break;default:return}t&&(e.preventDefault(),g(t.dataset[ra(`EventKey`)]||null,e),l.current=!0,c())};(0,C.useEffect)(()=>{m.current&&l.current&&m.current.querySelector(`[${io}][aria-selected=true]`)?.focus(),l.current=!1});let v=Ja(t,m);return(0,w.jsx)($i.Provider,{value:g,children:(0,w.jsx)(ta.Provider,{value:{role:a,activeKey:Qi(i),getControlledId:f||ro,getControllerId:p||ro},children:(0,w.jsx)(n,Object.assign({},s,{onKeyDown:_,ref:v,role:a}))})})});ao.displayName=`Nav`;var oo=Object.assign(ao,{Item:eo});function so(e){e===void 0&&(e=me());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function co(e){let t=(0,C.useRef)(e);return t.current=e,t}function lo(e){let t=co(e);(0,C.useEffect)(()=>()=>t.current(),[])}function uo(e=document){let t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const fo=na(`modal-open`);var po=class{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}={}){this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return uo(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){let t={overflow:`hidden`},n=this.isRTL?`paddingLeft`:`paddingRight`,r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]=`${parseInt(we(r,n)||`0`,10)+e.scrollBarWidth}px`),r.setAttribute(fo,``),we(r,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){let t=this.getElement();t.removeAttribute(fo),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)?t:(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state),t)}remove(e){let t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}};const mo=(e,t)=>He?e==null?(t||me()).body:(typeof e==`function`&&(e=e()),e&&`current`in e&&(e=e.current),e&&(`nodeType`in e||e.getBoundingClientRect)?e:null):null;function ho(e,t){let n=ua(),[r,i]=(0,C.useState)(()=>mo(e,n?.document));if(!r){let t=mo(e);t&&i(t)}return(0,C.useEffect)(()=>{t&&r&&t(r)},[t,r]),(0,C.useEffect)(()=>{let t=mo(e);t!==r&&i(t)},[e,r]),r}function go({children:e,in:t,onExited:n,mountOnEnter:r,unmountOnExit:i}){let a=(0,C.useRef)(null),o=(0,C.useRef)(t),s=Ot(n);(0,C.useEffect)(()=>{t?o.current=!0:s(a.current)},[t,s]);let c=Ja(a,E(e)),l=(0,C.cloneElement)(e,{ref:c});return t?l:i||!o.current&&r?null:l}var _o=go,vo=[`onEnter`,`onEntering`,`onEntered`,`onExit`,`onExiting`,`onExited`,`addEndListener`,`children`];function yo(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function bo(e){let{onEnter:t,onEntering:n,onEntered:r,onExit:i,onExiting:a,onExited:o,addEndListener:s,children:c}=e,l=yo(e,vo),u=(0,C.useRef)(null),d=Ja(u,E(c)),f=e=>t=>{e&&u.current&&e(u.current,t)},p=(0,C.useCallback)(f(t),[t]),m=(0,C.useCallback)(f(n),[n]),h=(0,C.useCallback)(f(r),[r]),g=(0,C.useCallback)(f(i),[i]),_=(0,C.useCallback)(f(a),[a]),v=(0,C.useCallback)(f(o),[o]),y=(0,C.useCallback)(f(s),[s]);return Object.assign({},l,{nodeRef:u},t&&{onEnter:p},n&&{onEntering:m},r&&{onEntered:h},i&&{onExit:g},a&&{onExiting:_},o&&{onExited:v},s&&{addEndListener:y},{children:typeof c==`function`?(e,t)=>c(e,Object.assign({},t,{ref:d})):(0,C.cloneElement)(c,{ref:d})})}var xo=[`component`];function So(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Co=C.forwardRef((e,t)=>{let{component:n}=e,r=So(e,xo),i=bo(r);return(0,w.jsx)(n,Object.assign({ref:t},i))});function wo({in:e,onTransition:t}){let n=(0,C.useRef)(null),r=(0,C.useRef)(!0),i=Ot(t);return Nt(()=>{if(!n.current)return;let t=!1;return i({in:e,element:n.current,initial:r.current,isStale:()=>t}),()=>{t=!0}},[e,i]),Nt(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function To({children:e,in:t,onExited:n,onEntered:r,transition:i}){let[a,o]=(0,C.useState)(!t);t&&a&&o(!1);let s=wo({in:!!t,onTransition:e=>{Promise.resolve(i(e)).then(()=>{e.isStale()||(e.in?r?.(e.element,e.initial):(o(!0),n?.(e.element)))},t=>{throw e.in||o(!0),t})}}),c=Ja(s,E(e));return a&&!t?null:(0,C.cloneElement)(e,{ref:c})}function Eo(e,t,n){return e?(0,w.jsx)(Co,Object.assign({},n,{component:e})):t?(0,w.jsx)(To,Object.assign({},n,{transition:t})):(0,w.jsx)(_o,Object.assign({},n))}var Do=c(m()),Oo=`show.role.className.style.children.backdrop.keyboard.onBackdropClick.onEscapeKeyDown.transition.runTransition.backdropTransition.runBackdropTransition.autoFocus.enforceFocus.restoreFocus.restoreFocusOptions.renderDialog.renderBackdrop.manager.container.onShow.onHide.onExit.onExited.onExiting.onEnter.onEntering.onEntered`.split(`.`);function ko(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Ao;function jo(e){return Ao||=new po({ownerDocument:e?.document}),Ao}function Mo(e){let t=ua(),n=e||jo(t),r=(0,C.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:(0,C.useCallback)(e=>{r.current.dialog=e},[]),setBackdropRef:(0,C.useCallback)(e=>{r.current.backdrop=e},[])})}var No=(0,C.forwardRef)((e,t)=>{let{show:n=!1,role:r=`dialog`,className:i,style:a,children:o,backdrop:s=!0,keyboard:c=!0,onBackdropClick:l,onEscapeKeyDown:u,transition:d,runTransition:f,backdropTransition:p,runBackdropTransition:m,autoFocus:h=!0,enforceFocus:g=!0,restoreFocus:_=!0,restoreFocusOptions:v,renderDialog:y,renderBackdrop:b=e=>(0,w.jsx)(`div`,Object.assign({},e)),manager:x,container:S,onShow:ee,onHide:te=()=>{},onExit:ne,onExited:re,onExiting:ie,onEnter:ae,onEntering:oe,onEntered:se}=e,ce=ko(e,Oo),le=ua(),ue=ho(S),T=Mo(x),de=At(),fe=jt(n),[pe,me]=(0,C.useState)(!n),he=(0,C.useRef)(null);(0,C.useImperativeHandle)(t,()=>T,[T]),He&&!fe&&n&&(he.current=so(le?.document)),n&&pe&&me(!1);let ge=Ot(()=>{if(T.add(),Se.current=Xe(document,`keydown`,be),xe.current=Xe(document,`focus`,()=>setTimeout(ve),!0),ee&&ee(),h){let e=so(T.dialog?.ownerDocument??le?.document);T.dialog&&e&&!hi(T.dialog,e)&&(he.current=e,T.dialog.focus())}}),_e=Ot(()=>{if(T.remove(),Se.current==null||Se.current(),xe.current==null||xe.current(),_){var e;(e=he.current)==null||e.focus==null||e.focus(v),he.current=null}});(0,C.useEffect)(()=>{!n||!ue||ge()},[n,ue,ge]),(0,C.useEffect)(()=>{pe&&_e()},[pe,_e]),lo(()=>{_e()});let ve=Ot(()=>{if(!g||!de()||!T.isTopModal())return;let e=so(le?.document);T.dialog&&e&&!hi(T.dialog,e)&&T.dialog.focus()}),ye=Ot(e=>{e.target===e.currentTarget&&(l?.(e),s===!0&&te())}),be=Ot(e=>{c&&Be(e)&&T.isTopModal()&&(u?.(e),e.defaultPrevented||te())}),xe=(0,C.useRef)(),Se=(0,C.useRef)(),Ce=(...e)=>{me(!0),re?.(...e)};if(!ue)return null;let we=Object.assign({role:r,ref:T.setDialogRef,"aria-modal":r===`dialog`?!0:void 0},ce,{style:a,className:i,tabIndex:-1}),Te=y?y(we):(0,w.jsx)(`div`,Object.assign({},we,{children:C.cloneElement(o,{role:`document`})}));Te=Eo(d,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:ne,onExiting:ie,onExited:Ce,onEnter:ae,onEntering:oe,onEntered:se,children:Te});let Ee=null;return s&&(Ee=b({ref:T.setBackdropRef,onClick:ye}),Ee=Eo(p,m,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Ee})),(0,w.jsx)(w.Fragment,{children:Do.createPortal((0,w.jsxs)(w.Fragment,{children:[Ee,Te]}),ue)})});No.displayName=`Modal`;var Po=Object.assign(No,{Manager:po});function Fo(e,t){return e.classList?!!t&&e.classList.contains(t):(` `+(e.className.baseVal||e.className)+` `).indexOf(` `+t+` `)!==-1}function Io(e,t){e.classList?e.classList.add(t):Fo(e,t)||(typeof e.className==`string`?e.className=e.className+` `+t:e.setAttribute(`class`,(e.className&&e.className.baseVal||``)+` `+t))}function Lo(e,t){return e.replace(RegExp(`(^|\\s)`+t+`(?:\\s|$)`,`g`),`$1`).replace(/\s+/g,` `).replace(/^\s*|\s*$/g,``)}function Ro(e,t){e.classList?e.classList.remove(t):typeof e.className==`string`?e.className=Lo(e.className,t):e.setAttribute(`class`,Lo(e.className&&e.className.baseVal||``,t))}var zo={FIXED_CONTENT:`.fixed-top, .fixed-bottom, .is-fixed, .sticky-top`,STICKY_CONTENT:`.sticky-top`,NAVBAR_TOGGLER:`.navbar-toggler`},Bo=class extends po{adjustAndStore(e,t,n){let r=t.style[e];t.dataset[e]=r,we(t,{[e]:`${parseFloat(we(t,e))+n}px`})}restore(e,t){let n=t.dataset[e];n!==void 0&&(delete t.dataset[e],we(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);let t=this.getElement();if(Io(t,`modal-open`),!e.scrollBarWidth)return;let n=this.isRTL?`paddingLeft`:`paddingRight`,r=this.isRTL?`marginLeft`:`marginRight`;ln(t,zo.FIXED_CONTENT).forEach(t=>this.adjustAndStore(n,t,e.scrollBarWidth)),ln(t,zo.STICKY_CONTENT).forEach(t=>this.adjustAndStore(r,t,-e.scrollBarWidth)),ln(t,zo.NAVBAR_TOGGLER).forEach(t=>this.adjustAndStore(r,t,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);let t=this.getElement();Ro(t,`modal-open`);let n=this.isRTL?`paddingLeft`:`paddingRight`,r=this.isRTL?`marginLeft`:`marginRight`;ln(t,zo.FIXED_CONTENT).forEach(e=>this.restore(n,e)),ln(t,zo.STICKY_CONTENT).forEach(e=>this.restore(r,e)),ln(t,zo.NAVBAR_TOGGLER).forEach(e=>this.restore(r,e))}},Vo;function Ho(e){return Vo||=new Bo(e),Vo}var Uo=Bo,Wo=C.createContext({onHide(){}}),Go=C.forwardRef(({closeLabel:e=`Close`,closeVariant:t,closeButton:n=!1,onHide:r,children:i,...a},o)=>{let s=(0,C.useContext)(Wo),c=St(()=>{s?.onHide(),r?.()});return(0,w.jsxs)(`div`,{ref:o,...a,children:[i,n&&(0,w.jsx)($t,{"aria-label":e,variant:t,onClick:c})]})});Go.displayName=`AbstractModalHeader`;var Ko=Go,qo=c(y()),Jo=C.forwardRef(({className:e,bsPrefix:t,as:n=`div`,...r},i)=>(t=fe(t,`nav-item`),(0,w.jsx)(n,{ref:i,className:(0,qo.default)(e,t),...r})));Jo.displayName=`NavItem`;var Yo=Jo,Xo=c(y()),Zo=C.forwardRef(({bsPrefix:e,className:t,as:n=Wt,active:r,eventKey:i,disabled:a=!1,...o},s)=>{e=fe(e,`nav-link`);let[c,l]=Qa({key:Qi(i,o.href),active:r,disabled:a,...o});return(0,w.jsx)(n,{...o,...c,ref:s,disabled:a,className:(0,Xo.default)(t,e,a&&`disabled`,l.isActive&&`active`)})});Zo.displayName=`NavLink`;var Qo=Zo,$o=c(y()),es=C.forwardRef((e,t)=>{let{as:n=`div`,bsPrefix:r,variant:i,fill:a=!1,justify:o=!1,navbar:s,navbarScroll:c,className:l,activeKey:u,...d}=ie(e,{activeKey:`onSelect`}),f=fe(r,`nav`),p,m,h=!1,g=(0,C.useContext)(Na),_=(0,C.useContext)(an);return g?(p=g.bsPrefix,h=s??!0):_&&({cardHeaderBsPrefix:m}=_),(0,w.jsx)(oo,{as:n,ref:t,activeKey:u,className:(0,$o.default)(l,{[f]:!h,[`${p}-nav`]:h,[`${p}-nav-scroll`]:h&&c,[`${m}-${i}`]:!!m,[`${f}-${i}`]:!!i,[`${f}-fill`]:a,[`${f}-justified`]:o}),...d})});es.displayName=`Nav`;var ts=Object.assign(es,{Item:Yo,Link:Qo}),ns=c(y()),rs=C.forwardRef(({bsPrefix:e,className:t,as:n,...r},i)=>{e=fe(e,`navbar-brand`);let a=n||(r.href?`a`:`span`);return(0,w.jsx)(a,{...r,ref:i,className:(0,ns.default)(t,e)})});rs.displayName=`NavbarBrand`;var os=rs,ss=C.forwardRef(({children:e,bsPrefix:t,...n},r)=>{t=fe(t,`navbar-collapse`);let i=(0,C.useContext)(Na);return(0,w.jsx)(yt,{in:!!(i&&i.expanded),...n,children:(0,w.jsx)(`div`,{ref:r,className:t,children:e})})});ss.displayName=`NavbarCollapse`;var cs=ss,ls=c(y()),us=C.forwardRef(({bsPrefix:e,className:t,children:n,label:r=`Toggle navigation`,as:i=`button`,onClick:a,...o},s)=>{e=fe(e,`navbar-toggler`);let{onToggle:c,expanded:l}=(0,C.useContext)(Na)||{},u=St(e=>{a&&a(e),c&&c()});return i===`button`&&(o.type=`button`),(0,w.jsx)(i,{...o,ref:s,onClick:u,"aria-label":r,className:(0,ls.default)(t,e,!l&&`collapsed`),children:n||(0,w.jsx)(`span`,{className:`${e}-icon`})})});us.displayName=`NavbarToggle`;var ds=us,fs=new WeakMap,ps=(e,t)=>{if(!e||!t)return;let n=fs.get(t)||new Map;fs.set(t,n);let r=n.get(e);return r||(r=t.matchMedia(e),r.refCount=0,n.set(r.media,r)),r};function ms(e,t=typeof window>`u`?void 0:window){let n=ps(e,t),[r,i]=(0,C.useState)(()=>n?n.matches:!1);return ka(()=>{let n=ps(e,t);if(!n)return i(!1);let r=fs.get(t),a=()=>{i(n.matches)};return n.refCount++,n.addListener(a),a(),()=>{n.removeListener(a),n.refCount--,n.refCount<=0&&r?.delete(n.media),n=void 0}},[e]),r}function hs(e){let t=Object.keys(e);function n(e,t){return e===t?t:e?`${e} and ${t}`:t}function r(e){return t[Math.min(t.indexOf(e)+1,t.length-1)]}function i(t){let n=r(t),i=e[n];return i=typeof i==`number`?`${i-.2}px`:`calc(${i} - 0.2px)`,`(max-width: ${i})`}function a(t){let n=e[t];return typeof n==`number`&&(n=`${n}px`),`(min-width: ${n})`}function o(e,t,r){let o;typeof e==`object`?(o=e,r=t,t=!0):(t||=!0,o={[e]:t});let s=(0,C.useMemo)(()=>Object.entries(o).reduce((e,[t,r])=>((r===`up`||r===!0)&&(e=n(e,a(t))),(r===`down`||r===!0)&&(e=n(e,i(t))),e),``),[JSON.stringify(o)]);return ms(s,r)}return o}var gs=hs({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),_s=c(y()),vs=C.forwardRef(({className:e,bsPrefix:t,as:n=`div`,...r},i)=>(t=fe(t,`offcanvas-body`),(0,w.jsx)(n,{ref:i,className:(0,_s.default)(e,t),...r})));vs.displayName=`OffcanvasBody`;var ys=vs,bs=c(y()),xs={[Pe]:`show`,[Fe]:`show`},Ss=C.forwardRef(({bsPrefix:e,className:t,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:a=!1,appear:o=!1,...s},c)=>(e=fe(e,`offcanvas`),(0,w.jsx)(pt,{ref:c,addEndListener:nt,in:r,mountOnEnter:i,unmountOnExit:a,appear:o,...s,childRef:E(n),children:(r,i)=>C.cloneElement(n,{...i,className:(0,bs.default)(t,n.props.className,(r===`entering`||r===`exiting`)&&`${e}-toggling`,xs[r])})})));Ss.displayName=`OffcanvasToggling`;var Cs=Ss,ws=c(y()),Ts=C.forwardRef(({bsPrefix:e,className:t,closeLabel:n=`Close`,closeButton:r=!1,...i},a)=>(e=fe(e,`offcanvas-header`),(0,w.jsx)(Ko,{ref:a,...i,className:(0,ws.default)(t,e),closeLabel:n,closeButton:r})));Ts.displayName=`OffcanvasHeader`;var Es=Ts,Ds=c(y()),Os=wt(`h5`),ks=C.forwardRef(({className:e,bsPrefix:t,as:n=Os,...r},i)=>(t=fe(t,`offcanvas-title`),(0,w.jsx)(n,{ref:i,className:(0,Ds.default)(e,t),...r})));ks.displayName=`OffcanvasTitle`;var As=ks,js=c(y());function Ms(e){return(0,w.jsx)(Cs,{...e})}function Ns(e){return(0,w.jsx)(Jt,{...e})}var Ps=C.forwardRef(({bsPrefix:e,className:t,children:n,"aria-labelledby":r,placement:i=`start`,responsive:a,show:o=!1,backdrop:s=!0,keyboard:c=!0,scroll:l=!1,onEscapeKeyDown:u,onShow:d,onHide:f,container:p,autoFocus:m=!0,enforceFocus:h=!0,restoreFocus:g=!0,restoreFocusOptions:_,onEntered:v,onExit:y,onExiting:b,onEnter:x,onEntering:S,onExited:ee,backdropClassName:te,manager:ne,renderStaticNode:re=!1,...ie},ae)=>{let oe=(0,C.useRef)();e=fe(e,`offcanvas`);let[se,ce]=(0,C.useState)(!1),le=St(f),ue=gs(a||`xs`,`up`);(0,C.useEffect)(()=>{ce(a?o&&!ue:o)},[o,a,ue]);let T=(0,C.useMemo)(()=>({onHide:le}),[le]);function de(){return ne||(l?(oe.current||=new Uo({handleContainerOverflow:!1}),oe.current):Ho())}let pe=(e,...t)=>{e&&(e.style.visibility=`visible`),x?.(e,...t)},me=(e,...t)=>{e&&(e.style.visibility=``),ee?.(...t)},he=(0,C.useCallback)(t=>(0,w.jsx)(`div`,{...t,className:(0,js.default)(`${e}-backdrop`,te)}),[te,e]),ge=o=>(0,w.jsx)(`div`,{...o,...ie,className:(0,js.default)(t,a?`${e}-${a}`:e,`${e}-${i}`),"aria-labelledby":r,children:n});return(0,w.jsxs)(w.Fragment,{children:[!se&&(a||re)&&ge({}),(0,w.jsx)(Wo.Provider,{value:T,children:(0,w.jsx)(Po,{show:se,ref:ae,backdrop:s,container:p,keyboard:c,autoFocus:m,enforceFocus:h&&!l,restoreFocus:g,restoreFocusOptions:_,onEscapeKeyDown:u,onShow:d,onHide:le,onEnter:pe,onEntering:S,onEntered:v,onExit:y,onExiting:b,onExited:me,manager:de(),transition:Ms,backdropTransition:Ns,renderBackdrop:he,renderDialog:ge})})]})});Ps.displayName=`Offcanvas`;var Fs=Object.assign(Ps,{Body:ys,Header:Es,Title:As}),Is=C.forwardRef(({onHide:e,...t},n)=>{let r=(0,C.useContext)(Na),i=St(()=>{r==null||r.onToggle==null||r.onToggle(),e?.()});return(0,w.jsx)(Fs,{ref:n,show:!!(r!=null&&r.expanded),...t,renderStaticNode:!0,onHide:i})});Is.displayName=`NavbarOffcanvas`;var Ls=Is,Rs=c(y()),zs=C.forwardRef(({className:e,bsPrefix:t,as:n=`span`,...r},i)=>(t=fe(t,`navbar-text`),(0,w.jsx)(n,{ref:i,className:(0,Rs.default)(e,t),...r})));zs.displayName=`NavbarText`;var Bs=zs,Vs=c(y()),Hs=C.forwardRef((e,t)=>{let{bsPrefix:n,expand:r=!0,variant:i=`light`,bg:a,fixed:o,sticky:s,className:c,as:l=`nav`,expanded:u,onToggle:d,onSelect:f,collapseOnSelect:p=!1,...m}=ie(e,{expanded:`onToggle`}),h=fe(n,`navbar`),g=(0,C.useCallback)((...e)=>{f?.(...e),p&&u&&d?.(!1)},[f,p,u,d]);m.role===void 0&&l!==`nav`&&(m.role=`navigation`);let _=`${h}-expand`;typeof r==`string`&&(_=`${_}-${r}`);let v=(0,C.useMemo)(()=>({onToggle:()=>d?.(!u),bsPrefix:h,expanded:!!u,expand:r}),[h,u,r,d]);return(0,w.jsx)(Na.Provider,{value:v,children:(0,w.jsx)($i.Provider,{value:g,children:(0,w.jsx)(l,{ref:t,...m,className:(0,Vs.default)(c,h,r&&_,i&&`${h}-${i}`,a&&`bg-${a}`,s&&`sticky-${s}`,o&&`fixed-${o}`)})})})});Hs.displayName=`Navbar`;var Us=Object.assign(Hs,{Brand:os,Collapse:cs,Offcanvas:Ls,Text:Bs,Toggle:ds}),Ws=c(y()),Gs=C.forwardRef(({id:e,title:t,children:n,bsPrefix:r,className:i,rootCloseEvent:a,menuRole:o,disabled:s,active:c,renderMenuOnMount:l,menuVariant:u,...d},f)=>{let p=fe(void 0,`nav-item`);return(0,w.jsxs)(Wa,{ref:f,...d,className:(0,Ws.default)(i,p),children:[(0,w.jsx)(Wa.Toggle,{id:e,eventKey:null,active:c,disabled:s,childBsPrefix:r,as:Qo,children:t}),(0,w.jsx)(Wa.Menu,{role:o,renderOnMount:l,rootCloseEvent:a,variant:u,children:n})]})});Gs.displayName=`NavDropdown`;var Ks=Object.assign(Gs,{Item:Wa.Item,ItemText:Wa.ItemText,Divider:Wa.Divider,Header:Wa.Header}),qs=c(g());function Js(){return(0,w.jsx)(Us,{expand:`md`,sticky:`top`,className:`border-bottom shadow-sm`,style:{backgroundColor:`hsl(var(--card))`,backdropFilter:`blur(12px)`},children:(0,w.jsxs)(cn,{fluid:!0,className:`px-4`,children:[(0,w.jsx)(Us.Brand,{href:`#/`,children:(0,w.jsxs)(`div`,{className:`d-flex align-items-center gap-2`,children:[(0,w.jsx)(`div`,{className:`d-flex align-items-center justify-content-center rounded`,style:{width:`40px`,height:`40px`,backgroundColor:`hsla(var(--primary), 0.1)`},children:(0,w.jsx)(`span`,{style:{fontSize:`1.5rem`},children:`🗺️`})}),(0,w.jsxs)(`div`,{className:`d-none d-sm-block`,children:[(0,w.jsx)(`div`,{style:{fontSize:`1.125rem`,fontWeight:600,lineHeight:1.2,color:`hsl(var(--foreground))`},children:`Mapový portál eroze půdy`}),(0,w.jsx)(`div`,{style:{fontSize:`0.75rem`,color:`hsl(var(--muted-foreground))`},children:`UJEP`})]})]})}),(0,w.jsx)(Us.Toggle,{"aria-controls":`main-navbar-nav`,className:`border-0`,style:{filter:`invert(1)`}}),(0,w.jsx)(Us.Collapse,{id:`main-navbar-nav`,children:(0,w.jsxs)(ts,{className:`ms-auto align-items-center`,children:[(0,w.jsx)(ts.Link,{href:`#/`,className:`px-3 fw-medium`,style:{color:`hsl(var(--foreground))`},children:`Domů`}),(0,w.jsx)(Ks,{title:`Mapy`,id:`mapy-dropdown`,className:`px-3`,align:`end`,menuVariant:`dark`,style:{color:`hsl(var(--foreground))`},children:(0,w.jsxs)(`div`,{className:`dropdown-menu-custom`,children:[(0,w.jsx)(Ks.Item,{href:`#/mapy/vodni-eroze`,children:`💧 Vodní eroze`}),(0,w.jsx)(Ks.Item,{href:`#/mapy/eroze-tani-snehu`,children:`❄️ Eroze táním sněhu`}),(0,w.jsx)(Ks.Item,{href:`#/mapy/vetrna-eroze`,children:`🌬️ Větrná eroze`}),(0,w.jsx)(Ks.Item,{href:`#/mapy/retence`,children:`📁 Retence`})]})})]})})]})})}function Ys(){return(0,w.jsx)(`footer`,{className:`border-t bg-card px-6 py-4`,children:(0,w.jsxs)(`div`,{className:`flex items-center justify-between text-sm text-muted-foreground`,children:[(0,w.jsx)(`p`,{children:`© 2025 Univerzita J. E. Purkyně v Ústí nad Labem`}),(0,w.jsxs)(`div`,{className:`flex gap-4`,children:[(0,w.jsx)(`a`,{href:`#/o-projektu`,className:`hover:text-foreground transition-colors`,children:`O projektu`}),(0,w.jsx)(`a`,{href:`#/kontakt`,className:`hover:text-foreground transition-colors`,children:`Kontakt`}),(0,w.jsx)(`a`,{href:`https://www.ujep.cz`,target:`_blank`,rel:`noopener noreferrer`,className:`hover:text-foreground transition-colors`,children:`UJEP`})]})]})})}function Xs(){return(0,w.jsxs)(`div`,{className:`flex-1 overflow-y-auto`,children:[(0,w.jsx)(`section`,{className:`relative h-96 flex items-center justify-center bg-cover bg-center`,style:{backgroundImage:`linear-gradient(rgba(20, 56, 127, 0.7), rgba(20, 56, 127, 0.7)), url("https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?w=1600")`},children:(0,w.jsxs)(`div`,{className:`text-center px-4`,children:[(0,w.jsx)(`h1`,{className:`text-5xl font-bold text-white mb-4`,children:`Mapové výstupy projektu PERUN`}),(0,w.jsx)(`p`,{className:`text-xl text-white/90 max-w-2xl mx-auto`,children:`Interaktivní mapy a aplikace pro výzkum klimatických extrémů a eroze půdy`})]})}),(0,w.jsx)(`section`,{className:`py-16 bg-card`,children:(0,w.jsx)(`div`,{className:`container mx-auto px-6 max-w-4xl`,children:(0,w.jsxs)(`div`,{className:`text-center mb-12`,children:[(0,w.jsx)(`h2`,{className:`text-3xl font-bold mb-6 text-primary`,children:`O projektu`}),(0,w.jsxs)(`div`,{className:`space-y-4 text-lg text-foreground/80`,children:[(0,w.jsx)(`p`,{children:(0,w.jsx)(`strong`,{children:`Na těchto stránkách jsou k dispozici výstupy projektu PERUN prezentované pomocí interaktivních map a mapových aplikací.`})}),(0,w.jsx)(`p`,{className:`text-base text-muted-foreground`,children:`Pro správné zobrazení na mobilních zařízeních doporučujeme zapnout v menu internetového prohlížeče možnost "Stránky pro počítač".`})]})]})})}),(0,w.jsx)(`section`,{className:`py-16 bg-background`,children:(0,w.jsxs)(`div`,{className:`container mx-auto px-6 max-w-5xl`,children:[(0,w.jsxs)(`div`,{className:`grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12`,children:[(0,w.jsxs)(`a`,{href:`#/mapy/vodni-eroze`,className:`bg-card p-6 rounded-lg border hover:border-primary/50 transition-all hover:shadow-lg hover:shadow-primary/20`,children:[(0,w.jsx)(`div`,{className:`text-4xl mb-4`,children:`💧`}),(0,w.jsx)(`h3`,{className:`text-xl font-semibold mb-2`,children:`Vodní eroze`}),(0,w.jsx)(`p`,{className:`text-muted-foreground text-sm`,children:`Analýza a mapování vodní eroze půdy`})]}),(0,w.jsxs)(`a`,{href:`#/mapy/eroze-tani-snehu`,className:`bg-card p-6 rounded-lg border hover:border-primary/50 transition-all hover:shadow-lg hover:shadow-primary/20`,children:[(0,w.jsx)(`div`,{className:`text-4xl mb-4`,children:`❄️`}),(0,w.jsx)(`h3`,{className:`text-xl font-semibold mb-2`,children:`Eroze táním sněhu`}),(0,w.jsx)(`p`,{className:`text-muted-foreground text-sm`,children:`Monitoring eroze způsobené táním sněhu`})]}),(0,w.jsxs)(`a`,{href:`#/mapy/vetrna-eroze`,className:`bg-card p-6 rounded-lg border hover:border-primary/50 transition-all hover:shadow-lg hover:shadow-primary/20`,children:[(0,w.jsx)(`div`,{className:`text-4xl mb-4`,children:`🌬️`}),(0,w.jsx)(`h3`,{className:`text-xl font-semibold mb-2`,children:`Větrná eroze`}),(0,w.jsx)(`p`,{className:`text-muted-foreground text-sm`,children:`Studie větrné eroze a její prevence`})]}),(0,w.jsxs)(`a`,{href:`#/mapy/retence`,className:`bg-card p-6 rounded-lg border hover:border-primary/50 transition-all hover:shadow-lg hover:shadow-primary/20`,children:[(0,w.jsx)(`div`,{className:`text-4xl mb-4`,children:`🌊`}),(0,w.jsx)(`h3`,{className:`text-xl font-semibold mb-2`,children:`Retence`}),(0,w.jsx)(`p`,{className:`text-muted-foreground text-sm`,children:`Mapování retenční schopnosti krajiny`})]})]}),(0,w.jsxs)(`div`,{className:`bg-card p-8 rounded-lg border`,children:[(0,w.jsx)(`h2`,{className:`text-2xl font-bold mb-4`,children:`O projektu PERUN`}),(0,w.jsx)(`p`,{className:`text-foreground/80 mb-6 leading-relaxed`,children:`Projekt PERUN je zaměřen na výzkum klimatických extrémů, sucha a důsledků jeho prohlubování v České republice. Garantem projektu je Ministerstvo životního prostředí a kromě ČHMÚ jsou řešiteli projektu Česká geologická služba, Matematicko-fyzikální fakulta a Přírodovědecká fakulta Univerzity Karlovy, Ústav fyziky atmosféry AV ČR, v. v. i., Ústav výzkumu globální změny AV ČR, v. v. i., Výzkumný ústav vodohospodářský T. G. Masaryka, v. v. i. a PROGEO, s. r. o.`}),(0,w.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,w.jsx)(`div`,{className:`flex-shrink-0`,children:(0,w.jsx)(`div`,{className:`w-16 h-16 bg-primary/10 rounded-lg flex items-center justify-center`,children:(0,w.jsx)(`span`,{className:`text-2xl`,children:`🔗`})})}),(0,w.jsxs)(`div`,{children:[(0,w.jsx)(`p`,{className:`text-sm text-muted-foreground mb-1`,children:`Více podrobností o projektu je možné najít na webových stránkách:`}),(0,w.jsx)(`a`,{href:`https://www.perun-klima.cz/`,target:`_blank`,rel:`noopener noreferrer`,className:`text-xl font-semibold text-primary hover:underline`,children:`www.perun-klima.cz`})]})]})]})]})})]})}function O(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect==`object`&&typeof Reflect.decorate==`function`)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function Zs(e,t){return function(n,r){t(n,r,e)}}function Qs(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})}function $s(e,t,n){if(t!=null){if(typeof t!=`object`&&typeof t!=`function`)throw TypeError(`Object expected.`);var r,i;if(n){if(!Symbol.asyncDispose)throw TypeError(`Symbol.asyncDispose is not defined.`);r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw TypeError(`Symbol.dispose is not defined.`);r=t[Symbol.dispose],n&&(i=r)}if(typeof r!=`function`)throw TypeError(`Object not disposable.`);i&&(r=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var ec=typeof SuppressedError==`function`?SuppressedError:function(e,t,n){var r=Error(n);return r.name=`SuppressedError`,r.error=e,r.suppressed=t,r};function tc(e){function t(t){e.error=e.hasError?new ec(t,e.error,`An error was suppressed during disposal.`):t,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(e){return t(e),i()})}else r|=1}catch(e){t(e)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}var nc,rc=globalThis;function k(e){return typeof nc[e]==`function`?nc[e]=nc[e](rc):nc[e]}nc=rc.dojoConfig?.has||rc.esriConfig?.has?{...rc.dojoConfig?.has,...rc.esriConfig?.has}:{},k.add=(e,t,n,r)=>{(r||nc[e]===void 0)&&(nc[e]=t),n&&k(e)},k.cache=nc,k.add(`big-integer-warning-enabled`,!0),k.add(`esri-deprecation-warnings`,!0),k.add(`esri-tests-disable-screenshots`,!1),k.add(`esri-tests-use-full-window`,!1),k.add(`esri-tests-post-to-influx`,!0),k.add(`esri-cim-animations-enable-status`,`enabled`),k.add(`esri-cim-animations-spotlight`,!1),k.add(`esri-cim-animations-freeze-time`,!1),(()=>{k.add(`host-webworker`,rc.WorkerGlobalScope!==void 0&&self instanceof rc.WorkerGlobalScope);let e=typeof window<`u`&&typeof location<`u`&&typeof document<`u`&&window.location===location&&window.document===document;if(k.add(`host-browser`,e),k.add(`host-node`,!(typeof rc.process!=`object`||!rc.process.versions?.node||!rc.process.versions.v8)),k.add(`dom`,e),k(`host-browser`)){let e=navigator,t=e.userAgent,n=e.appVersion,r=parseFloat(n);if(k.add(`wp`,parseFloat(t.split(`Windows Phone`)[1])||void 0),k.add(`msapp`,parseFloat(t.split(`MSAppHost/`)[1])||void 0),k.add(`khtml`,n.includes(`Konqueror`)?r:void 0),k.add(`edge`,parseFloat(t.split(`Edge/`)[1])||void 0),k.add(`opr`,parseFloat(t.split(`OPR/`)[1])||void 0),k.add(`webkit`,!k(`wp`)&&!k(`edge`)&&parseFloat(t.split(`WebKit/`)[1])||void 0),k.add(`chrome`,!k(`edge`)&&!k(`opr`)&&parseFloat(t.split(`Chrome/`)[1])||void 0),k.add(`android`,!k(`wp`)&&parseFloat(t.split(`Android `)[1])||void 0),k.add(`safari`,!n.includes(`Safari`)||k(`wp`)||k(`chrome`)||k(`android`)||k(`edge`)||k(`opr`)?void 0:parseFloat(n.split(`Version/`)[1])),k.add(`mac`,n.includes(`Macintosh`)),!k(`wp`)&&/(iPhone|iPod|iPad)/.test(t)){let e=RegExp.$1.replace(/P/,`p`),n=/OS ([\d_]+)/.test(t)?RegExp.$1:`1`,r=parseFloat(n.replace(/_/,`.`).replaceAll(`_`,``));k.add(e,r),k.add(`ios`,r)}k(`webkit`)||(!t.includes(`Gecko`)||k(`wp`)||k(`khtml`)||k(`edge`)||k.add(`mozilla`,r),k(`mozilla`)&&k.add(`ff`,parseFloat(t.split(`Firefox/`)[1]||t.split(`Minefield/`)[1])||void 0))}})(),(()=>{if(rc.navigator){let e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),n=/iPhone/i.test(e);t&&k.add(`esri-mobile`,t),n&&k.add(`esri-iPhone`,n),k.add(`esri-geolocation`,!!navigator.geolocation)}k.add(`esri-wasm`,`WebAssembly`in rc),k.add(`esri-performance-mode-frames-between-render`,20),k.add(`esri-force-performance-mode`,!1),k.add(`esri-shared-array-buffer`,()=>{let e=`SharedArrayBuffer`in rc,t=!1===rc.crossOriginIsolated;return e&&!t}),k.add(`wasm-simd`,()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]))),k.add(`esri-atomics`,`Atomics`in rc),k.add(`esri-workers`,`Worker`in rc),k.add(`web-feat:cache`,`caches`in rc),k.add(`esri-workers-arraybuffer-transfer`,!k(`safari`)||Number(k(`safari`))>=12),k.add(`workers-pool-size`,8),k.add(`featurelayer-simplify-thresholds`,[.5,.5,.5,.5]),k.add(`featurelayer-simplify-payload-size-factors`,[1,1,4]),k.add(`featurelayer-fast-triangulation-enabled`,!0),k.add(`featurelayer-animation-enabled`,!0),k.add(`featurelayer-snapshot-enabled`,!0),k.add(`featurelayer-snapshot-initial-tolerance`,0),k.add(`featurelayer-snapshot-point-min-threshold`,8e4),k.add(`featurelayer-snapshot-point-max-threshold`,4e5),k.add(`featurelayer-snapshot-multipoint-min-threshold`,2e4),k.add(`featurelayer-snapshot-multipoint-max-threshold`,1e5),k.add(`featurelayer-snapshot-polygon-min-threshold`,2e3),k.add(`featurelayer-snapshot-polygon-max-threshold`,2e3),k.add(`featurelayer-snapshot-polyline-min-threshold`,2e3),k.add(`featurelayer-snapshot-polyline-max-threshold`,2e3),k.add(`featurelayer-snapshot-max-vertex-count`,25e4),k.add(`featurelayer-snapshot-non-hosted-exceedslimit-enabled`,!0),k.add(`featurelayer-snapshot-concurrency`,4),k.add(`featurelayer-snapshot-coverage`,.1),k.add(`featurelayer-query-max-depth`,4),k.add(`featurelayer-query-pausing-enabled`,!1),k.add(`featurelayer-query-tile-concurrency`,4),k.add(`featurelayer-query-tile-max-features`,6e5),k.add(`featurelayer-advanced-symbols`,!1),k.add(`featurelayer-pbf`,!0),k.add(`featurelayer-pbf-statistics`,!1),k.add(`feature-layers-workers`,!0),k.add(`feature-polyline-generalization-factor`,1),k.add(`parquetlayer-full-query-feature-count`,2e4),k.add(`parquetlayer-hittest-max-feature-count`,1),k.add(`mapview-transitions-duration`,200),k.add(`mapview-essential-goto-duration`,200),k.add(`mapview-srswitch-adjust-rotation-scale-threshold`,24e6),k.add(`mapserver-pbf-version-support`,10.81),k.add(`mapservice-popup-identify-max-tolerance`,20),k.add(`request-queue-concurrency-hosted`,16),k.add(`request-queue-concurrency-non-hosted`,4),k.add(`curve-densification-coarse-segments`,128),k.add(`curve-densification-max-segments`,2e3),k.add(`curve-densification-min-segments`,3),k.add(`curve-densification-pixel-deviation`,.5),k.add(`view-readyState-waiting-delay`,1e3),k.add(`gradient-depth-bias`,.01),k.add(`gradient-depth-epsilon`,1e-8),k.add(`enable-feature:esri-compress-textures`,!0),k(`host-webworker`)||k(`host-browser`)&&(k.add(`esri-csp-restrictions`,()=>{try{Function()}catch{return!0}return!1}),k.add(`esri-url-encodes-apostrophe`,()=>{let e=window.document.createElement(`a`);return e.href=`?'`,e.href.includes(`?%27`)}))})();function ic(e){}function ac(e){return()=>e}function oc(e){return e}var sc=class e{static{this._m=2147483647}static{this._a=48271}static{this._c=0}constructor(e=1){this._seed=e}set seed(t){this._seed=t??Math.random()*e._m}getInt(){return this._seed=(e._a*this._seed+e._c)%e._m,this._seed}getFloat(){return this.getInt()/(e._m-1)}getIntRange(e,t){return Math.round(this.getFloatRange(e,t))}getFloatRange(t,n){let r=n-t;return t+this.getInt()/e._m*r}},cc=1.5,lc=1/cc,uc=.5;function dc(e){return e}function fc(e,t=dc){if(!e||e.length===0)return;let n=e[0],r=t(n);for(let i=1;i<e.length;++i){let a=e[i],o=Number(t(a));o>r&&(r=o,n=a)}return n}function pc(e,t=dc){return fc(e,e=>-t(e))}function mc(e,t){return t?e.filter((e,n,r)=>r.findIndex(t.bind(null,e))===n):Array.from(new Set(e))}function hc(e,t,n,r,i,a,o){if(e==null&&r==null)return!0;t=Math.max(0,t),i=Math.max(0,i),n=Math.max(0,n<0?(e?.length??0)+n:n),a=Math.max(0,a<0?(r?.length??0)+a:a);let s=n-t;if(e==null||r==null||s!==a-i)return!1;if(o){for(let n=0;n<s;n++)if(!o(e[t+n],r[i+n]))return!1}else for(let n=0;n<s;n++)if(e[t+n]!==r[i+n])return!1;return!0}function gc(e,t,n){return hc(e,0,e?.length??0,t,0,t?.length??0,n)}function _c(){return(e,t)=>{if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}}function vc(e,t,n){let r,i;return n?(r=t.filter(t=>!e.some(e=>n(e,t))),i=e.filter(e=>!t.some(t=>n(t,e)))):(r=t.filter(t=>!e.includes(t)),i=e.filter(e=>!t.includes(e))),{added:r,removed:i}}function yc(e){return e&&typeof e.length==`number`}function bc(e,t){let n=e.length;if(n===0)return[];let r=[];for(let i=0;i<n;i+=t)r.push(e.slice(i,i+t));return r}var xc=class{constructor(){this.last=0}},Sc=new xc;function Cc(e,t,n,r){r||=Sc;let i=Math.max(0,r.last-10);for(let a=i;a<n;++a)if(e[a]===t)return r.last=a,a;let a=Math.min(i,n);for(let n=0;n<a;++n)if(e[n]===t)return r.last=n,n;return-1}function wc(e,t,n,r){let i=n??e.length,a=Cc(e,oc(t),i,r);if(a!==-1)return e[a]=e[i-1],n??e.pop(),t}var Tc=new Set;function nee(e,t,n=e.length,r=t.length,i,a){if(r===0||n===0)return n;Tc.clear();for(let e=0;e<r;++e)Tc.add(t[e]);i||=Sc;let o=Math.max(0,i.last-10);for(let t=o;t<n;++t)if(Tc.has(e[t])&&(a?.push(e[t]),Tc.delete(e[t]),e[t]=e[n-1],--n,--t,Tc.size===0||n===0))return Tc.clear(),n;for(let t=0;t<o;++t)if(Tc.has(e[t])&&(a?.push(e[t]),Tc.delete(e[t]),e[t]=e[n-1],--n,--t,Tc.size===0||n===0))return Tc.clear(),n;return Tc.clear(),n}function Ec(e,t){let n=0;for(let r=0;r<e.length;++r){let i=e[r];t(i,r)&&(e[n]=i,n++)}return e.length=n,e}function Dc(e,t,n){let r=e.length;if(t>=r)return e.slice();let i=Oc(n),a=new Set,o=[];for(;o.length<t;){let t=Math.floor(i()*r);a.has(t)||(a.add(t),o.push(e[t]))}return o}function Oc(e){return e?(kc.seed=e,()=>kc.getFloat()):Math.random}var kc=new sc;function Ac(e,t){if(!e)return e;let n=Oc(t);for(let t=e.length-1;t>0;t--){let r=Math.floor(n()*(t+1)),i=e[t];e[t]=e[r],e[r]=i}return e}function jc(e,t){let n=e.indexOf(t);return n===-1?null:(e.splice(n,1),t)}function Mc(e,t){return e!=null}var Nc=[];function Pc(e){return e instanceof ArrayBuffer}function Fc(e){return e?.constructor?.name===`Int8Array`}function Ic(e){return e?.constructor?.name===`Uint8Array`}function Lc(e){return e?.constructor?.name===`Uint8ClampedArray`}function Rc(e){return e?.constructor?.name===`Int16Array`}function zc(e){return e?.constructor?.name===`Uint16Array`}function Bc(e){return e?.constructor?.name===`Int32Array`}function Vc(e){return e?.constructor?.name===`Uint32Array`}function Hc(e){return e?.constructor?.name===`Float16Array`}function Uc(e){return e?.constructor?.name===`Float32Array`}function Wc(e){return e?.constructor?.name===`Float64Array`}function Gc(e){return`buffer`in e}var Kc=1024;function qc(e){return Wc(e)||Uc(e)||Bc(e)||Rc(e)||Fc(e)}function Jc(e){return Wc(e)||Uc(e)}function Yc(e){return Wc(e)?179769e303:Hc(e)?65504:Uc(e)?3402823e32:Vc(e)?4294967295:zc(e)?65535:Ic(e)||Lc(e)?255:Bc(e)?2147483647:Rc(e)?32767:Fc(e)?127:256}var Xc=-32768,Zc=-2147483648;function Qc(e){return e}function $c(e,t){let n;if(t)for(n in e)e.hasOwnProperty(n)&&(e[n]===void 0?delete e[n]:e[n]instanceof Object&&$c(e[n],!0));else for(n in e)e.hasOwnProperty(n)&&e[n]===void 0&&delete e[n];return e}function A(e){if(!e||typeof e!=`object`||typeof e==`function`)return e;let t=al(e);if(t!=null)return t;if(tl(e))return e.clone();if(nl(e))return e.map(A);if(rl(e))throw Error(`Trying to clone an unclonable Accessor instance`);let n={};for(let t of Object.getOwnPropertyNames(e))n[t]=A(e[t]);return n}function el(e,t){if(!e||typeof e!=`object`||typeof e==`function`||`HTMLElement`in globalThis&&e instanceof HTMLElement)return e;let n=al(e);if(n!=null)return n;if(nl(e)){let n=!0,r=e.map(e=>{let r=el(e,t);return e!=null&&r==null&&(n=!1),r});return n?r:null}if(tl(e))return e.clone(t);if(e instanceof File||e instanceof Blob)return e;if(rl(e))return null;let r=new(Object.getPrototypeOf(e)).constructor;for(let t of Object.getOwnPropertyNames(e)){let n=e[t],i=el(n);if(n!=null&&i==null)return null;r[t]=i}return r}function tl(e){return typeof e.clone==`function`}function nl(e){return typeof e.map==`function`&&typeof e.forEach==`function`}function rl(e){return typeof e.notifyChange==`function`&&typeof e.watch==`function`}function il(e){if(Object.prototype.toString.call(e)!==`[object Object]`)return!1;let t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function al(e){if(Fc(e)||Ic(e)||Lc(e)||Rc(e)||zc(e)||Bc(e)||Vc(e)||Uc(e)||Wc(e))return e.slice();if(e instanceof Date)return new Date(e);if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){let t=new Map;for(let[n,r]of e)t.set(n,A(r));return t}if(e instanceof Set){let t=new Set;for(let n of e)t.add(A(n));return t}return null}function ol(e,t){return e===t||typeof e==`number`&&isNaN(e)&&typeof t==`number`&&isNaN(t)||typeof e?.getTime==`function`&&typeof t?.getTime==`function`&&e.getTime()===t.getTime()||!1}function sl(e,t){return e===t||(e==null||typeof e==`string`?e===t:typeof e==`number`?e===t||typeof t==`number`&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&gc(e,t):e instanceof Set?t instanceof Set&&cl(e,t):e instanceof Map?t instanceof Map&&ll(e,t):!!il(e)&&il(t)&&ree(e,t))}function ree(e,t){if(e===null||t===null)return!1;let n=Object.keys(e);if(t===null||Object.keys(t).length!==n.length)return!1;for(let r of n)if(e[r]!==t[r]||!Object.prototype.hasOwnProperty.call(t,r))return!1;return!0}function cl(e,t){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}function ll(e,t){if(e.size!==t.size)return!1;for(let[n,r]of e){let e=t.get(n);if(e!==r||e===void 0&&!t.has(n))return!1}return!0}function ul(e,t,n=!1){return hl(e,t,n)}function dl(e,t){if(t!=null)return t[e]||ml(e.split(`.`),!1,t)}function fl(e,t,n){let r=e.split(`.`),i=r.pop(),a=ml(r,!0,n);a&&i&&(a[i]=t)}function pl(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(typeof e==`object`){if(Array.isArray(e)){let n=t;if(e.length!==n.length)return!0;for(let t=0;t<e.length;t++)if(pl(e[t],n[t]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(let n in e)if(pl(e[n],t[n]))return!0;return!1}return e!==t}function ml(e,t,n){let r=n;for(let n of e){if(r==null)return;if(!(n in r)){if(!t)return;r[n]={}}r=r[n]}return r}function hl(e,t,n){return t?Object.keys(t).reduce((e,r)=>{if(r===`__proto__`)return e;let i=e[r],a=t[r];return i===a?e:i===void 0?(e[r]=A(a),e):(Array.isArray(a)||Array.isArray(e)?(i=i?Array.isArray(i)?e[r]=i.slice():e[r]=[i]:e[r]=[],a&&(Array.isArray(a)||(a=[a]),n?a.forEach(e=>{i.includes(e)||i.push(e)}):e[r]=a.slice())):a&&typeof a==`object`?e[r]=hl(i,a,n):e.hasOwnProperty(r)&&!t.hasOwnProperty(r)||(e[r]=a),e)},e||{}):e}function gl(e,t){for(let n of Object.entries(e))if(t===n[1])return n[0]}function _l(e,t){return Object.values(e).includes(t)}var vl={apiKey:void 0,apiKeys:{scopes:[]},applicationName:``,applicationUrl:globalThis.location?.href,assetsPath:``,fontsUrl:`https://static.arcgis.com/fonts`,geometryServiceUrl:`https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer`,geoRSSServiceUrl:`https://utility.arcgis.com/sharing/rss`,kmlServiceUrl:`https://utility.arcgis.com/sharing/kml`,userPrivilegesApplied:!0,portalUrl:`https://www.arcgis.com`,respectPrefersReducedMotion:!0,routeServiceUrl:`https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World`,workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:[`arcgis.com`,`arcgisonline.com`,`esrikr.com`,`premiumservices.blackbridge.com`,`esripremium.accuweather.com`,`gbm.digitalglobe.com`,`firstlook.digitalglobe.com`,`msi.digitalglobe.com`],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:`high`,proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&(ul(vl,globalThis.esriConfig,!0),delete vl.has),!vl.assetsPath&&(vl.assetsPath=`https://js.arcgis.com/4.34/@arcgis/core/assets`,vl.defaultAssetsPath=vl.assetsPath);var yl=/\{([^}]+)\}/g;function bl(e){return e??``}function xl(e,t){return t?e.replaceAll(yl,typeof t==`object`?(e,n)=>bl(dl(n,t)):(e,n)=>bl(t(n))):e}function Sl(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,e=>t?.includes(e)?e:`\\${e}`)}function Cl(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}var wl;function Tl(e){return wl??=new DOMParser,wl.parseFromString(e||``,`text/html`).body.innerText||``}function El(e,t){return RegExp(`{${t}}`,`ig`).test(e)}function Dl(e,...t){let n=e[0];for(let r=0;r<t.length;++r)n+=t[r]+e[r+1];return n}var Ol={info:0,warn:1,error:2,none:3},j=class e{constructor(t){this.level=null,this._module=``,this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,e._loggers.set(this.module,this);let n=this.module.lastIndexOf(`.`);n!==-1&&(this._parent=e.getLogger(this.module.slice(0,n)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log(`error`,`always`,...e)}warn(...e){this._log(`warn`,`always`,...e)}info(...e){this._log(`info`,`always`,...e)}errorOnce(...e){this._log(`error`,`once`,...e)}warnOnce(...e){this._log(`warn`,`once`,...e)}infoOnce(...e){this._log(`info`,`once`,...e)}errorOncePerTick(...e){this._log(`error`,`oncePerTick`,...e)}warnOncePerTick(...e){this._log(`warn`,`oncePerTick`,...e)}infoOncePerTick(...e){this._log(`info`,`oncePerTick`,...e)}get test(){}static get test(){}static getLogger(t){return t=typeof t==`string`?t:t.declaredClass,e._loggers.get(t)||new e({module:t})}static{this._loggers=new Map}static{this._tickCounter=0}static{this._tickCounterScheduled=!1}static{this._throttlingDisabled=!1}_log(t,n,...r){if(this._matchLevel(t)){if(n!==`always`&&!e._throttlingDisabled){let i=Al(r),a=this._loggedMessages[t].get(i);if(n===`once`&&a!=null||n===`oncePerTick`&&a&&a>=e._tickCounter)return;this._loggedMessages[t].set(i,e._tickCounter),e._scheduleTickCounterIncrement()}for(let e of vl.log.interceptors)if(e(t,this.module,...r))return;this._inheritedWriter()(t,this.module,...r)}}_parentWithMember(e,t){let n=this;for(;n!=null;){let t=n[e];if(t!=null)return t;n=n.parent}return t}_inheritedWriter(){return this._parentWithMember(`writer`,kl)}_matchLevel(e){let t=vl.log.level||`warn`;return Ol[this._parentWithMember(`level`,t)]<=Ol[e]}static _scheduleTickCounterIncrement(){e._tickCounterScheduled||(e._tickCounterScheduled=!0,Promise.resolve().then(()=>{e._tickCounter++,e._tickCounterScheduled=!1}))}};function kl(e,t,...n){console[e](`[${t}]`,...n)}function Al(...e){return Cl(JSON.stringify(e,(e,t)=>typeof t!=`object`||Array.isArray(t)?t:`[Object]`))}function jl(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(e,n)=>n===``?`$`:(dl(n,t)??``).toString())}var Ml=class{constructor(e,t,n=void 0){this.name=e,this.details=n,this.message=(t&&jl(t,n))??``}toString(){return`[`+this.name+`]: `+this.message}},M=class e extends Ml{constructor(e,t,n){super(e,t,n)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(e,t)=>{if(t&&typeof t==`object`&&typeof t.toJSON==`function`)return t;try{return A(t)}catch{return`[object]`}}))}}catch(e){throw j.getLogger(`esri.core.Error`).error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new e(t.name,t.message,t.details)}};M.prototype.type=`error`;function Nl(e){return e&&typeof e==`object`&&`toJSON`in e&&typeof e.toJSON==`function`}var Pl=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,Fl={devext:{customBaseUrl:`mapsdevext.arcgis.com`,portalHostname:`devext.arcgis.com`},qaext:{customBaseUrl:`mapsqa.arcgis.com`,portalHostname:`qaext.arcgis.com`},www:{customBaseUrl:`maps.arcgis.com`,portalHostname:`www.arcgis.com`}};function Il(e){let t=e?.match(Pl);if(!t)return null;let[,n,r,i]=t;if(!n)return null;let a=null,o=null,s=null,{devext:c,qaext:l,www:u}=Fl;if(r)if(a=n,i)switch(i.toLowerCase()){case`devext`:({customBaseUrl:o,portalHostname:s}=c);break;case`qa`:({customBaseUrl:o,portalHostname:s}=l);break;default:return null}else ({customBaseUrl:o,portalHostname:s}=u);else switch(n.toLowerCase()){case`devext`:({customBaseUrl:o,portalHostname:s}=c);break;case`qaext`:({customBaseUrl:o,portalHostname:s}=l);break;case`www`:({customBaseUrl:o,portalHostname:s}=u);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:s,urlKey:a}}function Ll(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function Rl(e){let t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,n=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,r=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,`https://www.arcgis.com`):n.test(e)?e=e.replace(n,`https://devext.arcgis.com`):r.test(e)&&(e=e.replace(r,`https://qaext.arcgis.com`)),e}function zl(e){let t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n.buffer}function Bl(e){let t=new Uint8Array(e),n=``;for(let e=0;e<t.length;e++)n+=String.fromCharCode(t[e]);return btoa(n)}var Vl=()=>j.getLogger(`esri.core.urlUtils`),Hl=vl.request,Ul=`esri/config: esriConfig.request.proxyUrl is not set.`,Wl=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,Gl=/^\s*http:/i,Kl=/^\s*https:/i,ql=/^\s*file:/i,Jl=/:\d+$/,Yl=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,Xl=RegExp(`^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$`),Zl=RegExp(`^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$`),Ql=class{constructor(e=``){this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let t=this.uri.match(Xl);this.scheme=t[2]||(t[1]?``:null),this.authority=t[4]||(t[3]?``:null),this.path=t[5],this.query=t[7]||(t[6]?``:null),this.fragment=t[9]||(t[8]?``:null),this.authority!=null&&(t=this.authority.match(Zl),this.user=t[3]||null,this.password=t[4]||null,this.host=t[6]||t[7],this.port=t[9]||null)}toString(){return this.uri}},$l={},eu=new Ql(vl.applicationUrl),tu=iu(),nu=()=>eu,ru=()=>tu;function iu(){let e=eu.path,t=e.slice(0,e.lastIndexOf(`/`)+1);return`${`${eu.scheme}://${eu.host}${eu.port==null?``:`:${eu.port}`}`}${t}`}function au(e){if(!e)return null;let t={path:null,query:null},n=new Ql(e),r=e.indexOf(`?`);return n.query===null?t.path=e:(t.path=e.slice(0,r),t.query=ou(n.query)),n.fragment&&(t.hash=n.fragment,n.query===null&&(t.path=t.path.slice(0,t.path.length-(n.fragment.length+1)))),t}function ou(e){let t=e.split(`&`),n={};for(let e of t){if(!e)continue;let t=e.indexOf(`=`),r,i;t<0?(r=decodeURIComponent(e),i=``):(r=decodeURIComponent(e.slice(0,t)),i=decodeURIComponent(e.slice(t+1)));let a=n[r];typeof a==`string`&&(a=n[r]=[a]),Array.isArray(a)?a.push(i):n[r]=i}return n}function su(e,t){return e?t&&typeof t==`function`?Object.keys(e).map(n=>encodeURIComponent(n)+`=`+encodeURIComponent(t(n,e[n]))).join(`&`):Object.keys(e).map(n=>{let r=e[n];if(r==null)return``;let i=encodeURIComponent(n)+`=`,a=t?.[n];return a?i+encodeURIComponent(a(r)):Array.isArray(r)?r.map(e=>Nl(e)?i+encodeURIComponent(JSON.stringify(e)):i+encodeURIComponent(e)).join(`&`):Nl(r)?i+encodeURIComponent(JSON.stringify(r)):i+encodeURIComponent(r)}).filter(e=>e).join(`&`):``}function cu(e=!1){let t,n=Hl.proxyUrl;if(typeof e==`string`){t=zu(e);let r=mu(e);r&&(n=r.proxyUrl)}else t=!!e;if(!n)throw Vl().warn(Ul),new M(`urlUtils:proxy-not-set`,Ul);return t&&Wu()&&(n=Hu(n)),au(n)}function lu(e,t=!1){let n=mu(e),r,i;if(n){let e=du(n.proxyUrl);r=e.path,i=e.query?ou(e.query):null}else if(t){let t=cu(e);r=t.path,i=t.query}if(r){let t=au(e);e=r+`?`+t.path;let n=su({...i,...t.query});n&&(e=`${e}?${n}`)}return e}var uu={path:``,query:``};function du(e){let t=e.indexOf(`?`);return t===-1?(uu.path=e,uu.query=null):(uu.path=e.slice(0,t),uu.query=e.slice(t+1)),uu}function fu(e){return e=(e=Gu(e=Yu(e=du(e).path),!0)).toLowerCase()}function pu(e){let t={proxyUrl:e.proxyUrl,urlPrefix:fu(e.urlPrefix)},n=Hl.proxyRules,r=t.urlPrefix,i=n.length;for(let e=0;e<n.length;e++){let t=n[e].urlPrefix;if(r.startsWith(t)){if(r.length===t.length)return-1;i=e;break}t.startsWith(r)&&(i=e+1)}return n.splice(i,0,t),i}function mu(e){let t=Hl.proxyRules,n=fu(e);for(let e=0;e<t.length;e++)if(n.startsWith(t[e].urlPrefix))return t[e]}function hu(e,t){if(!e||!t)return!1;e=_u(e),t=_u(t);let n=Il(e),r=Il(t);return n!=null&&r!=null?n.portalHostname===r.portalHostname:n==null&&r==null&&yu(e,t,!0)}function gu(e,t){return e=_u(e),t=_u(t),Gu(e)===Gu(t)}function _u(e){let t=(e=wu(e)).indexOf(`/sharing`);return t>0?e.slice(0,t):e.replace(/\/+$/,``)}function vu(e,t=Hl.interceptors){let n=t=>t instanceof RegExp?t.test(e):typeof t==`string`?e.startsWith(t):t==null;if(t){for(let e of t)if(Array.isArray(e.urls)){if(e.urls.some(n))return e}else if(n(e.urls))return e}return null}function yu(e,t,n=!1){if(!e||!t)return!1;let r=rd(e),i=rd(t);return!(!n&&r.scheme!==i.scheme)&&r.host!=null&&i.host!=null&&r.host.toLowerCase()===i.host.toLowerCase()&&r.port===i.port}function bu(e){if(typeof e==`string`){if(!Du(e))return!0;e=rd(e)}if(yu(e,eu))return!0;let t=Hl.trustedServers||[];for(let n=0;n<t.length;n++){let r=xu(t[n]);for(let t=0;t<r.length;t++)if(yu(e,r[t]))return!0}return!1}function xu(e){return $l[e]||(Ru(e)||Lu(e)?$l[e]=[new Ql(Su(e))]:$l[e]=[new Ql(`http://${e}`),new Ql(`https://${e}`)]),$l[e]}function Su(e,t=tu,n){return Lu(e)?n?.preserveProtocolRelative?e:eu.scheme===`http`&&eu.authority===Eu(e).slice(2)?`http:${e}`:`https:${e}`:Ru(e)?e:Tu(e.startsWith(`/`)?Ku(t):t,e)}function Cu(e,t=tu,n){if(e==null||!Du(e))return e;let r=wu(e),i=r.toLowerCase(),a=wu(t).toLowerCase().replace(/\/+$/,``),o=n?wu(n).toLowerCase().replace(/\/+$/,``):null;if(o&&!a.startsWith(o))return e;let s=(e,t,n)=>(n=e.indexOf(t,n))===-1?e.length:n,c=s(i,`/`,i.indexOf(`//`)+2),l=-1;for(;i.slice(0,c+1)===a.slice(0,c)+`/`&&(l=c+1,c!==i.length);)c=s(i,`/`,c+1);if(l===-1||o&&l<o.length)return e;e=r.slice(l);let u=a.slice(l-1).replaceAll(/[^/]+/g,``).length;if(u>0)for(let t=0;t<u;t++)e=`../${e}`;else e=`./${e}`;return e}function wu(e){return e=$u(e=Qu(e=Zu(e=Su(e=e.trim()))))}function Tu(...e){let t=e.filter(Mc);if(!t?.length)return;let n=[];if(Du(t[0])){let e=t[0],r=e.indexOf(`//`);r!==-1&&(n.push(e.slice(0,r+1)),Vu(t[0])&&(n[0]+=`/`),t[0]=e.slice(r+2))}else t[0].startsWith(`/`)&&n.push(``);let r=t.reduce((e,t)=>t?e.concat(t.split(`/`)):e,[]);for(let e=0;e<r.length;e++){let t=r[e];t===`..`&&n.length>0&&n[n.length-1]!==`..`?n.pop():(!t&&e===r.length-1||t&&(t!==`.`||n.length===0))&&n.push(t)}return n.join(`/`)}function Eu(e,t=!1){if(e==null||Ou(e)||ku(e))return null;let n=e.indexOf(`://`);if(n===-1&&Lu(e))n=2;else{if(n===-1)return null;n+=3}let r=e.indexOf(`/`,n);return r!==-1&&(e=e.slice(0,r)),t&&(e=Gu(e,!0)),e}function Du(e){return Lu(e)||Ru(e)}function Ou(e){return e!=null&&e.startsWith(`blob:`)}function ku(e){return e!=null&&e.startsWith(`data:`)}function Au(e){let t=Nu(e);return t?.isBase64?zl(t.data):null}function ju(e){return Bl(e).replaceAll(`+`,`-`).replaceAll(`/`,`_`).replace(/=+$/,``)}var Mu=/^data:(.*?)(;base64)?,(.*)$/;function Nu(e){let t=e.match(Mu);if(!t)return null;let[,n,r,i]=t;return{mediaType:n,isBase64:!!r,data:i}}function Pu(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function Fu(e){return(await fetch(e)).blob()}function Iu(e){let t=Au(e);if(!t)return null;let n=Nu(e);return new Blob([t],{type:n.mediaType})}function Lu(e){return e!=null&&e.startsWith(`/`)&&e[1]===`/`}function Ru(e){return e!=null&&Wl.test(e)}function zu(e){return e!=null&&Kl.test(e)||eu.scheme===`https`&&Lu(e)}function Bu(e){return e!=null&&Gl.test(e)||eu.scheme===`http`&&Lu(e)}function Vu(e){return e!=null&&ql.test(e)}function Hu(e){return Lu(e)?`https:${e}`:e.replace(Gl,`https:`)}function Uu(){return eu.scheme===`http`}function Wu(){return eu.scheme===`https`}function Gu(e,t=!1){return Lu(e)?e.slice(2):(e=e.replace(Wl,``),t&&e.length>1&&e.startsWith(`/`)&&e[1]===`/`&&(e=e.slice(2)),e)}function Ku(e){let t=e.indexOf(`//`),n=e.indexOf(`/`,t+2);return n===-1?e:e.slice(0,n)}function qu(e){let t=0;if(Du(e)){let n=e.indexOf(`//`);n!==-1&&(t=n+2)}let n=e.lastIndexOf(`/`);return n<t?e:e.slice(0,n+1)}function Ju(e,t){if(!e)return``;let n=au(e).path.replace(/\/+$/,``),r=n.slice(n.lastIndexOf(`/`)+1);if(!t?.length)return r;let i=RegExp(`\\.(${t.join(`|`)})$`,`i`);return r.replace(i,``)}function Yu(e){return e.endsWith(`/`)?e:`${e}/`}function Xu(e){return e.replace(/\/+$/,``)}function Zu(e){if(/^https?:\/\//i.test(e)){let t=du(e);e=(e=t.path.replaceAll(/\/{2,}/g,`/`)).replace(`/`,`//`),t.query&&(e+=`?${t.query}`)}return e}function Qu(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,`$1www.$2`)}function $u(e){let t=Hl.httpsDomains;if(!Bu(e))return e;let n=e.indexOf(`/`,7),r;if(r=n===-1?e:e.slice(0,n),r=r.toLowerCase().slice(7),Jl.test(r)){if(!r.endsWith(`:80`))return e;r=r.slice(0,-3),e=e.replace(`:80`,``)}return Uu()&&r===eu.authority&&!Yl.test(e)||(Wu()&&r===eu.authority||t&&t.some(e=>r===e||r.endsWith(`.${e}`))||Wu()&&!mu(e))&&(e=Hu(e)),e}function ed(e,t,n){if(!(t&&n&&e&&Du(e)))return e;let r=e.indexOf(`//`),i=e.indexOf(`/`,r+2),a=e.indexOf(`:`,r+2),o=Math.min(i<0?e.length:i,a<0?e.length:a);return e.slice(r+2,o).toLowerCase()===t.toLowerCase()?`${e.slice(0,r+2)}${n}${e.slice(o)}`:e}function td(e,t){let n=new URL(e);return n.host=t,n.port&&!Jl.test(t)&&(n.port=``),n.toString()}function nd(e){return new URL(e).host}function rd(e){return typeof e==`string`?new Ql(Su(e)):(e.scheme||=eu.scheme,e)}function id(e){return fd.test(e)}function ad(e,t){let n=au(e),r=Object.keys(n.query||{});return r.length>0&&t&&t.warn(`removeQueryParameters()`,`Url query parameters are not supported, the following parameters have been removed: ${r.join(`, `)}.`),n.path}function od(e,t,n){let r=au(e),i=r.query||{};return i[t]=String(n),`${r.path}?${su(i)}`}function sd(e,t){if(!t)return e;let n=au(e),r=n.query||{};for(let[e,n]of Object.entries(t))n!=null&&(r[e]=n);let i=su(r);return i?`${n.path}?${i}`:n.path}function cd(e){if(e==null)return null;let t=e.match(dd);return t?t[2]:null}function ld(e){if(e==null)return null;let t=e.match(dd);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function ud(e){return typeof e==`string`?Nu(e)??{data:e}:new Promise((t,n)=>{let r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(Nu(r.result)),r.onerror=e=>n(e)})}var dd=/([^.]*)\.([^/]*)$/,fd=/(^data:image\/svg|\.svg$)/i,pd=`20251030`,md=`835d81a62f2298b45c84da553637cfdca5626858`;Symbol.dispose??=Symbol(`Symbol.dispose`),Symbol.asyncDispose??=Symbol(`Symbol.asyncDispose`);var hd=`4.34`,gd,_d=hd;function vd(e){gd=e}function yd(e){let t=gd?.findCredential(e);return t?.token?od(e,`token`,t.token):e}_d=`4.34.6`,k(`host-webworker`)||globalThis.$arcgis||Object.defineProperty(globalThis,`$arcgis`,{configurable:!1,enumerable:!0,writable:!1,value:{}}),k(`host-webworker`);function bd(e,t){for(let n of e.values())if(t(n))return!0;return!1}function xd(e,t){for(let n of e.values())if(!t(n))return!1;return!0}function Sd(e,t){for(let n of e.values())if(t(n))return n;return null}function Cd(e,t,n){let r=e.get(t);if(r!==void 0)return r;let i=n();return e.set(t,i),i}function wd(e){let t=new Map;return n=>(t.has(n)||t.set(n,e(n)),t.get(n))}var Td={remove:()=>{}};function Ed(e){return e?{remove(){e&&=(e(),void 0)}}:Td}function Dd(e){e.forEach(e=>e?.remove())}function Od(e){Dd(e),e.length=0}function kd(e){return Ed(()=>Dd(e))}function Ad(e){return Ed(()=>e()?.remove())}function jd(e){return Ed(()=>e?.abort())}function Md(e){return Ed(e==null?void 0:()=>e.destroy())}function Nd(e){return typeof e==`object`&&!!e&&`remove`in e&&typeof e.remove==`function`}function Pd(e){Nd(e)&&e.remove()}function Fd(e){return{[Symbol.dispose](){e.remove()}}}function Id(e){return{setTimeout:(t,n)=>{let r=e.setTimeout(t,n);return Ed(()=>e.clearTimeout(r))}}}var Ld=Id(globalThis);function Rd(e){return zd(e)||Bd(e)}function zd(e){return typeof e==`object`&&!!e&&`on`in e&&typeof e.on==`function`}function Bd(e){return typeof e==`object`&&!!e&&`addEventListener`in e&&typeof e.addEventListener==`function`}function Vd(e,t,n){if(!Rd(e))throw TypeError(`target is not a Evented or EventTarget object`);return Bd(e)?Hd(e,t,n):e.on(t,n)}function Hd(e,t,n,r){if(Array.isArray(t)){let i=t.slice();for(let t of i)e.addEventListener(t,n,r);return Ed(()=>{for(let t of i)e.removeEventListener(t,n,r)})}return e.addEventListener(t,n,r),Ed(()=>e.removeEventListener(t,n,r))}function Ud(e,t,n){if(!Rd(e))throw TypeError(`target is not a Evented or EventTarget object`);if(`once`in e)return e.once(t,n);let r=Vd(e,t,t=>{r.remove(),n.call(e,t)});return r}function Wd(e,t){if(e==null)throw Error(t??`value is None`)}function Gd(e){return e?.destroy(),null}function Kd(e){return e?.dispose(),null}function qd(e){return e?.remove(),null}function Jd(e){return e?.abort(),null}function Yd(e){return e?.release(),null}function Xd(e,t,n){return e!=null&&t!=null?n==null?e.equals(t):n(e,t):e===t}function Zd(e,t){let n;return e.some((e,r)=>(n=t(e,r),n!=null)),n??void 0}function Qd(e=`Aborted`){return new M(`AbortError`,e)}function $d(e,t=`Aborted`){if(tf(e))throw Qd(t)}function ef(e){return e instanceof AbortSignal?e:e?.signal??void 0}function tf(e){let t=ef(e);return t!=null&&t.aborted}function nf(e){if(lf(e))throw e}function rf(e){if(!lf(e))throw e}function af(e,t){let n=ef(e);if(n!=null){if(!n.aborted)return Ud(n,`abort`,()=>t());t()}}function sf(e,t){let n=ef(e);if(n!=null)return $d(n),Ud(n,`abort`,()=>t(Qd()))}function cf(e,t){return ef(t)==null?e:new Promise((n,r)=>{let i=af(t,()=>r(Qd())),a=()=>{i=qd(i)};e.then(a,a),e.then(n,r)})}function lf(e){return e?.name===`AbortError`}async function uf(e){try{return await e}catch(e){if(!lf(e))throw e;return}}async function df(e){if(!e)return;if(typeof e.forEach!=`function`){let t=Object.keys(e),n=t.map(t=>e[t]),r=await df(n),i={};return t.map((e,t)=>i[e]=r[t]),i}let t=e;return Promise.allSettled(t).then(e=>Array.from(t,(t,n)=>{let r=e[n];return r.status===`fulfilled`?{promise:t,value:r.value}:{promise:t,error:r.reason}}))}async function ff(e){return(await Promise.allSettled(e)).filter(e=>e.status===`fulfilled`).map(e=>e.value)}async function pf(e){return(await Promise.allSettled(e)).filter(e=>e.status===`rejected`).map(e=>e.reason)}function mf(e,t=void 0,n){let r=new AbortController;return af(n,()=>r.abort()),new Promise((n,i)=>{let a=setTimeout(()=>{a=0,n(t)},e);af(r,()=>{a&&(clearTimeout(a),i(Qd()))})})}function iee(e,t,n,r){let i=n&&`abort`in n?n:null;r!=null||i||(r=n);let a=setTimeout(()=>{a=0,i?.abort()},t),o=()=>r||new M(`promiseUtils:timeout`,`The wrapped promise did not resolve within `+t+` ms`);return e.then(e=>{if(a===0)throw o();return clearTimeout(a),e},e=>{throw clearTimeout(a),a===0?o():e})}function hf(e,t){let n=new AbortController,r=setTimeout(()=>n.abort(),t);return af(e,()=>{n.abort(),clearTimeout(r)}),{...e,signal:n.signal}}function gf(e){return e&&typeof e.then==`function`}function _f(e){return gf(e)?e:Promise.resolve(e)}function vf(e,t=-1){let n,r,i,a,o=null,s=(...c)=>{if(n){r=c,a&&a.reject(Qd()),a=yf();let e=a.promise;if(o){let e=o;o=null,e.abort()}return e}if(i=a||yf(),a=null,t>0){let r=new AbortController;n=_f(e(...c,r.signal));let i=n;mf(t).then(()=>{n===i&&(a?r.abort():o=r)})}else n=1,n=_f(e(...c));let l=()=>{let e=r;r=i=n=o=null,e!=null&&s(...e)},u=n,d=i;return u.then(l,l),u.then(d.resolve,d.reject),d.promise};return s}function yf(){let e,t,n=new Promise((n,r)=>{e=n,t=r}),r=t=>{e(t)};return r.resolve=t=>e(t),r.reject=e=>t(e),r.timeout=(e,t)=>Ld.setTimeout(()=>r.reject(t),e),r.promise=n,r}function bf(e,t){t.then(e.resolve,e.reject)}async function xf(e){await Promise.resolve(),$d(e)}function Sf(e,t){let n=t?.url?.path;if(e&&n&&(e=Su(e,n,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){let n=Cu(e,t.portalItem.itemUrl);n!=null&&n.startsWith(Df)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return(e=jf(e,t?.portal))&&Ef.test(e)?Mf(e):e}function Cf(e,t,n=0){if((e=e&&Ef.test(e)?Nf(e):e)==null)return e;!Du(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let r=Su(e);if(t){let n=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(n){let i=jf(n,t.portal),a=jf(r,t.portal);r=Cu(a,i,i),r!=null&&r!==a&&r!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=Af(r,t?.portal),Du(r)&&(r=wu(r)),t?.resources&&t?.portalItem&&!Du(r)&&!ku(r)&&n===0&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),r}function wf(e,t,n){return Sf(e,n)}function Tf(e,t,n,r){let i=Cf(e,r);i!==void 0&&(t[n]=i)}var Ef=/\/items\/([^/]+)\/resources\/(.*)/,Df=`./resources/`;function Of(e){return(e?.match(Ef)??null)?.[1]??null}function kf(e){let t=e?.match(Ef)??null;if(t==null)return null;let n=t[2],r=n.lastIndexOf(`/`);if(r===-1){let{path:e,extension:t}=ld(n);return{prefix:null,filename:e,extension:t}}let{path:i,extension:a}=ld(n.slice(r+1));return{prefix:n.slice(0,r),filename:i,extension:a}}function Af(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?ed(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function jf(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;let n=`${t.urlKey}.${t.customBaseUrl}`,r=nu();return yu(r,`${r.scheme}://${n}`)?ed(e,t.portalHostname,n):ed(e,n,t.portalHostname)}function Mf(e){if(!e)return e||null;let t=e;return t&&gd&&!gd.findCredential(t)&&(t=Rl(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,`https://cdn.arcgis.com`),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,`https://cdndev.arcgis.com`),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,`https://cdnqa.arcgis.com`)),t}function Nf(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,`https://www.arcgis.com`),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,`https://devext.arcgis.com`),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,`https://qaext.arcgis.com`),t&&gd&&!gd.findCredential(t)&&(t=Rl(t)),t}var Pf=Object.freeze(Object.defineProperty({__proto__:null,ensureMainOnlineDomain:Af,fromCDNUrl:Nf,fromJSON:Sf,itemIdFromResourceUrl:Of,prefixAndFilenameFromResourceUrl:kf,read:wf,toCDNUrl:Mf,toJSON:Cf,write:Tf},Symbol.toStringTag,{value:`Module`})),Ff={mapserver:`MapServer`,imageserver:`ImageServer`,featureserver:`FeatureServer`,knowledgegraphserver:`KnowledgeGraphServer`,sceneserver:`SceneServer`,streamserver:`StreamServer`,vectortileserver:`VectorTileServer`,"3dtilesserver":`3DTilesServer`,videoserver:`VideoServer`},If=Object.values(Ff),Lf=RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${If.join(`|`)}))(?:\\/(?:layers\\/)?(\\d+))?`,`i`),Rf=RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${If.join(`|`)}))(?:\\/(?:layers\\/)?(\\d+))?`,`i`),zf=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function Bf(e){return Lf.test(e)}function Vf(e){if(e==null)return null;let t=au(e),n=t?.path.match(Lf)||t?.path.match(Rf);if(!n)return null;let[,r,i,a,o]=n,s=i.indexOf(`/`);return{title:Uf(s===-1?i:i.slice(s+1)),serverType:Ff[a.toLowerCase()],sublayer:o!=null&&o!==``?parseInt(o,10):null,url:{path:r}}}function Hf(e){let t=au(e).path.match(zf);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function Uf(e){return(e=e.replaceAll(/\s*[/_]+\s*/g,` `))[0].toUpperCase()+e.slice(1)}function Wf(e,t){let n=[];if(e){let t=Vf(e);t!=null&&t.title&&n.push(t.title)}if(t){let e=Uf(t);n.push(e)}if(n.length===2){if(n[0].toLowerCase().includes(n[1].toLowerCase()))return n[0];if(n[1].toLowerCase().includes(n[0].toLowerCase()))return n[1]}return n.join(` - `)}function Gf(e){let t=Eu(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(`.arcgis.com`)&&(t.startsWith(`services`)||t.startsWith(`tiles`)||t.startsWith(`features`)||/^[a-z\d-]+\.svcs[a-z\d-]*\./.test(t)))}function Kf(e,t){return e&&Xu(ad(e,t))}function qf(e){let{url:t}=e;if(!t)return{url:t};t=ad(t,e.logger);let n=au(t),r=Vf(n.path),i;if(r!=null)r.sublayer!=null&&e.layer.layerId==null&&(i=r.sublayer),t=r.url.path;else if(e.nonStandardUrlAllowed){let e=Hf(n.path);e!=null&&(t=e.serviceUrl,i=e.sublayerId)}return{url:Xu(t),layerId:i}}function Jf(e,t,n,r,i){Tf(t,r,`url`,i),r.url&&e.layerId!=null&&(r.url=Tu(r.url,n,e.layerId.toString()))}function Yf(e){if(!e)return!1;let t=e.toLowerCase(),n=t.includes(`/services/`),r=t.includes(`/mapserver/wmsserver`),i=t.includes(`/imageserver/wmsserver`),a=t.includes(`/wmsserver`);return n&&(r||i||a)}function Xf(e){if(!e)return!1;let t=new Ql(Su(e)).authority?.toLowerCase();return t===`server.arcgisonline.com`||t===`services.arcgisonline.com`}var Zf=new Set([`elevation3d.arcgis.com`,`js.arcgis.com`,`jsdev.arcgis.com`,`jsqa.arcgis.com`,`static.arcgis.com`]);function Qf(e){if(!tp(e))return null;let t=t=>t instanceof RegExp?t.test(e):typeof t==`string`&&e.startsWith(t),n=vl.apiKeys;if(Array.isArray(n.scopes)){for(let e of n.scopes)if(Array.isArray(e.urls)){if(e.urls.some(t))return e.token}else if(t(e.urls))return e.token}return n.basemapStyles&&/^https?:\/\/(i?basemaps|basemapstyles)-api\.arcgis\.com\//i.test(e)?n.basemapStyles:vl.apiKey&&/^https?:\/\/.+\.arcgis\.com(\/|$)/i.test(e)?vl.apiKey:null}function $f(){return vl.apiKey!=null||vl.apiKeys.basemapStyles!=null}function ep(e,t){return t?tp(e):Qf(e)!=null}function tp(e){let t=Eu(e,!0);return!!t&&!Zf.has(t)&&!e.endsWith(`/sharing/rest/generateToken`)}function np(e,t,n=!1,r){return new Promise((i,a)=>{if(tf(r))return void a(rp());let o=()=>{l(),a(Error(`Unable to load ${t}`))},s=async()=>{let t=e;try{await t.decode()}catch{}l(),i(t)},c=()=>{if(!e)return;let t=e;l(),t.src=``,a(rp())},l=()=>{e&&(e.removeEventListener(`error`,o),e.removeEventListener(`load`,s),o=null,s=null,e=null,r?.removeEventListener(`abort`,c),c=null,n&&URL.revokeObjectURL(t))};r?.addEventListener(`abort`,c),e.addEventListener(`error`,o),e.addEventListener(`load`,s)})}function rp(){try{return new DOMException(`Aborted`,`AbortError`)}catch{let e=Error();return e.name=`AbortError`,e}}var ip=`Timeout exceeded`;function ap(){return Error(ip)}function op(e){return typeof e==`object`&&!!e&&`message`in e&&e.message===ip}function sp(e){vl.request.crossOriginNoCorsDomains||(vl.request.crossOriginNoCorsDomains={});let t=vl.request.crossOriginNoCorsDomains;for(let n of e)n=n.toLowerCase(),/^https?:\/\//.test(n)?t[Eu(n)??``]=0:(t[Eu(`http://`+n)??``]=0,t[Eu(`https://`+n)??``]=0)}function cp(e){let t=vl.request.crossOriginNoCorsDomains;if(t){let n=Eu(e);if(n)return n=n.toLowerCase(),!yu(n,nu())&&t[n]<Date.now()-36e5}return!1}async function lp(e){let t=au(e);e=t.path,t.query?.f===`json`&&(e+=`?f=json`);try{await fetch(e,{mode:`no-cors`,credentials:`include`})}catch{}let n=vl.request.crossOriginNoCorsDomains,r=Eu(e);n&&r&&(n[r.toLowerCase()]=Date.now())}var up=new Map;function dp(e,t){let n=t?.preferredHost;if(!n||yu(e,`https://${n}`,!0))return;let r=Vf(e);if(!r||r.serverType!==`FeatureServer`||Ll(e))return;let i=r.url.path.toLowerCase();up.has(i)||up.set(i,n)}function fp(e){let t=Vf(e)?.url.path.toLowerCase();if(!t)return e;let n=up.get(t);return n?td(e,n):e}var pp=`modulepreload`,mp=function(e){return`/ust_eroze/`+e},hp={};const N=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=document.getElementsByTagName(`link`),i=document.querySelector(`meta[property=csp-nonce]`),a=i?.nonce||i?.getAttribute(`nonce`);function o(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:`fulfilled`,value:e}),e=>({status:`rejected`,reason:e}))))}r=o(t.map(t=>{if(t=mp(t,n),t in hp)return;hp[t]=!0;let r=t.endsWith(`.css`),i=r?`[rel="stylesheet"]`:``;if(n)for(let n=e.length-1;n>=0;n--){let i=e[n];if(i.href===t&&(!r||i.rel===`stylesheet`))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;let o=document.createElement(`link`);if(o.rel=r?`stylesheet`:pp,r||(o.as=`script`),o.crossOrigin=``,o.href=t,a&&o.setAttribute(`nonce`,a),document.head.appendChild(o),r)return new Promise((e,n)=>{o.addEventListener(`load`,e),o.addEventListener(`error`,()=>n(Error(`Unable to preload CSS for ${t}`)))})}))}function i(e){let t=new Event(`vite:preloadError`,{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(let e of t||[])e.status===`rejected`&&i(e.reason);return e().catch(i)})};async function gp(e,t){e instanceof URL&&(e=e.toString()),t?.query instanceof URLSearchParams&&(t.query=ou(t.query.toString().replaceAll(`+`,` `)));let n=ku(e),r=Ou(e);r||n||(e=wu(e));let i={url:e,requestOptions:{...t}},a=e=>({data:e,getAllHeaders:wp,getHeader:wp,httpStatus:200,requestOptions:i.requestOptions,url:i.url}),o=vu(e,yp.internalInterceptors);if(o){let e=await Pp(o,i);if(e!=null)return a(e)}let s=vu(e);if(s){let e=await Pp(s,i);if(e!=null)return a(e);s.after||s.error||(s=null)}if(e=i.url,(t=i.requestOptions).responseType===`image`&&(k(`host-webworker`)||k(`host-node`)))throw Op(`request:invalid-parameters`,Error(`responseType 'image' is not supported in Web Workers or Node environment`),i);if(t.method===`head`){if(t.body)throw Op(`request:invalid-parameters`,Error(`body parameter cannot be set when method is 'head'`),i);if(n||r)throw Op(`request:invalid-parameters`,Error(`data and blob URLs are not supported for method 'head'`),i)}if(await kp(),_p)return _p.execute(e,t);let c=new AbortController,l=af(t,()=>c.abort()),u={controller:c,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:s,params:i,redoRequest:!1,useIdentity:yp.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},d=await(t.useRequestQueue?Rp(u):zp(u)).finally(()=>l?.remove());return s?.after?.(d),d}var _p,vp=!1,yp=vl.request,bp=`FormData`in globalThis,xp=new Set([499,498,403,401]),Sp=new Set([`COM_0056`,`COM_0057`,`SB_0008`]),Cp=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],wp=()=>null,Tp=Symbol();function Ep(e){let t=Eu(e);t&&!gp._corsServers.includes(t)&&gp._corsServers.push(t)}function Dp(e){let t=Eu(e);return!t||t.endsWith(`.arcgis.com`)||gp._corsServers.includes(t)||bu(t)}function Op(e,t,n,r){let i,a={url:n.url,requestOptions:n.requestOptions,getAllHeaders:wp,getHeader:wp,ssl:!1};if(t instanceof M)return t.details?(t.details=A(t.details),t.details.url=n.url,t.details.requestOptions=n.requestOptions):t.details=a,t;if(t){let e=r&&(()=>Array.from(r.headers)),n=r&&(e=>r.headers.get(e)),o=r?.status,s=t.message;s&&(i=s),e&&n&&(a.getAllHeaders=e,a.getHeader=n),a.httpStatus=(t.httpCode==null?t.code:t.httpCode)||o||0,a.subCode=t.subcode,a.messageCode=t.messageCode,typeof t.details==`string`?(a.messages=[t.details],i??=t.details):(a.messages=t.details,i??=a.messages?.[0]),a.raw=Tp in t?t[Tp]:t}return i??=`Error`,lf(t)?Qd():new M(e,i,a)}async function kp(){k(`host-webworker`)&&(!_p&&globalThis.invokeStaticMessage?_p=await N(()=>import(`./request-CtGRVOSP.js`),[]):vp=!0)}async function Ap(){gd||await N(()=>import(`./IdentityManager-vlF5H4qJ.js`),[])}async function jp(e){let t=e.params.url,n=e.params.requestOptions,r=e.controller.signal,i=n.body,a=null,o=null;if(bp&&`HTMLFormElement`in globalThis&&(i instanceof FormData?a=i:i instanceof HTMLFormElement&&(a=new FormData(i))),typeof i==`string`&&(o=i),e.fetchOptions={cache:n.cacheBust?`no-cache`:`default`,credentials:`same-origin`,headers:n.headers||{},keepalive:n.keepAlive??!1,method:n.method===`head`?`HEAD`:`GET`,mode:`cors`,priority:yp.priority,redirect:`follow`,signal:r},(a||o)&&(e.fetchOptions.body=a||o),(vp||n.authMode===`anonymous`)&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||n.query?.token||a?.get(`token`)),!e.hasToken){let r=Qf(t);r&&(n.query??={},n.query.token=r,e.hasToken=!0)}if(e.useIdentity&&!e.hasToken&&!e.credential&&!e.credentialToken&&!Mp(t)&&!tf(r)){let i;n.authMode===`immediate`?(await Ap(),i=await gd.getCredential(t,{signal:r})):n.authMode===`no-prompt`?(await Ap(),i=await gd.getCredential(t,{prompt:!1,signal:r}).catch(()=>{})):gd&&(i=gd.findCredential(t)),i&&(e.credential=i,e.credentialToken=i.token,e.useSSL=!!i.ssl)}}function Mp(e){return Cp.some(t=>t.test(e))}async function Np(e){let t=e.params.url,n=fp(t),r=e.params.requestOptions,i=e.fetchOptions??{},a=Ou(t)||ku(t),o=r.responseType||`json`,s=a?0:r.timeout==null?yp.timeout:r.timeout,c=!1;if(!a){e.useSSL&&(t=Hu(t));let a={...r.query};e.credentialToken&&(a.token=e.credentialToken);let o=su(a);k(`esri-url-encodes-apostrophe`)&&(o=o.replaceAll(`'`,`%27`));let s=n.length+1+o.length,l;c=r.method===`delete`||r.method===`post`||r.method===`put`||!!r.body||s>yp.maxUrlLength;let u=r.useProxy||!!mu(t);if(u){let e=cu(t);l=e.path,!c&&l.length+1+s>yp.maxUrlLength&&(c=!0),e.query&&(a={...e.query,...a})}if(i.method===`HEAD`&&(c||u)){if(c)throw s>yp.maxUrlLength?Op(`request:invalid-parameters`,Error(`URL exceeds maximum length`),e.params):Op(`request:invalid-parameters`,Error(`cannot use POST request when method is 'head'`),e.params);if(u)throw Op(`request:invalid-parameters`,Error(`cannot use proxy when method is 'head'`),e.params)}c?(i.method=r.method===`delete`?`DELETE`:r.method===`put`?`PUT`:`POST`,r.body?t=sd(t,a):(i.body=su(a),i.headers||={},i.headers[`Content-Type`]=`application/x-www-form-urlencoded`)):t=sd(t,a),u&&(e.useProxy=!0,t=`${l}?${t}`),a.token&&bp&&i.body instanceof FormData&&!Ll(t)&&i.body.set(`token`,a.token),r.hasOwnProperty(`withCredentials`)?e.withCredentials=r.withCredentials:yu(t,nu())||(bu(t)||gd&&gd.findServerInfo(t)?.webTierAuth)&&(e.withCredentials=!0),e.withCredentials&&(i.credentials=`include`,cp(t)&&await lp(c?sd(t,a):t)),n=fp(t)}let l,u,d=0,f=!1;s>0&&(d=setTimeout(()=>{f=!0,e.controller.abort()},s));try{if(r.responseType===`native-request-init`)u=i,u.url=n,r.signal?u.signal=r.signal:delete u.signal;else if(r.responseType!==`image`||i.cache!==`default`||i.keepalive||i.method!==`GET`||c||Fp(r.headers)||!a&&!e.useProxy&&yp.proxyUrl&&!Dp(t)){if(gp._beforeFetch&&await gp._beforeFetch(t,i),l=await fetch(n,i),gp._afterFetch&&await gp._afterFetch(l),e.useProxy||Ep(t),r.responseType===`native`)u=l;else if(i.method!==`HEAD`)if(l.ok){switch(o){case`array-buffer`:u=await l.arrayBuffer();break;case`blob`:case`image`:u=await l.blob();break;default:u=await l.text()}if(d&&=(clearTimeout(d),0),o===`json`||o===`xml`||o===`document`)if(u)switch(o){case`json`:u=JSON.parse(u);break;case`xml`:u=Ip(u,`application/xml`);break;case`document`:u=Ip(u,`text/html`)}else u=null;if(u){if(o===`array-buffer`||o===`blob`){let e=l.headers.get(`Content-Type`);if(e&&/application\/json|text\/plain/i.test(e)&&u[o===`blob`?`size`:`byteLength`]<=750)try{let e=await new Response(u).json();e.error&&(u=e)}catch{}}o===`image`&&u instanceof Blob&&(u=await Vp(URL.createObjectURL(u),e,!0))}}else{u=await l.text();try{u=JSON.parse(u)}catch{}}}else u=await Vp(n,e)}catch(n){if(n.name===`AbortError`)throw f?ap():Qd(`Request canceled`);if(!(!l&&n instanceof TypeError&&yp.proxyUrl)||r.body||r.method===`delete`||r.method===`head`||r.method===`post`||r.method===`put`||e.useProxy||Dp(t))throw n;e.redoRequest=!0,pu({proxyUrl:yp.proxyUrl,urlPrefix:Eu(t)??``})}finally{d&&clearTimeout(d)}return[l,u]}async function Pp(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let n,r;try{r=await e.before(t)}catch(e){n=Op(`request:interceptor`,e,t)}if((r instanceof Error||r instanceof M)&&(n=Op(`request:interceptor`,r,t)),n)throw e.error&&e.error(n),n;return r}}function Fp(e){if(e){for(let t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function Ip(e,t){let n;try{n=new DOMParser().parseFromString(e,t)}catch{}if(!n||n.getElementsByTagName(`parsererror`).length)throw SyntaxError(`XML Parse error`);return n}gp._corsServers=[`https://server.arcgisonline.com`,`https://services.arcgisonline.com`],gp._beforeFetch=void 0,gp._afterFetch=void 0;var Lp=new Map;async function Rp(e){let t=Hp(e.params.url);if(!t)return zp(e);let{QueueProcessor:n}=await N(async()=>{let{QueueProcessor:e}=await import(`./QueueProcessor-BvwIRsLI.js`);return{QueueProcessor:e}},__vite__mapDeps([0,1]));return Cd(Lp,t.origin,()=>{let e=t.isHosted?k(`request-queue-concurrency-hosted`):k(`request-queue-concurrency-non-hosted`);return new n({concurrency:e,process:e=>{if(tf(e.params.requestOptions))throw Op(``,Qd(`Request canceled`),e.params);return zp(e)}})}).push(e)}async function zp(e){let t,n;await jp(e);try{do[t,n]=await Np(e);while(!await Bp(e,t,n))}catch(n){let r=Op(`request:server`,n,e.params,t);throw r.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(r),r}let r=e.params.url;if(n)if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(r)){if(!e.hasToken&&!e.credentialToken&&n.user?.username&&!bu(r)){let e=Eu(r,!0);e&&yp.trustedServers.push(e)}Array.isArray(n.authorizedCrossOriginNoCorsDomains)&&sp(n.authorizedCrossOriginNoCorsDomains)}else (e.params.requestOptions.responseType||`json`)===`json`&&dp(r,n);let i=e.credential;if(i&&gd){let e=gd.findServerInfo(i.server)?.owningSystemUrl;if(e){e=e.replace(/\/?$/,`/sharing`);let t=gd.findCredential(e,i.userId);t&&gd._getIdenticalSvcIdx(e,t)===-1&&t.resources.unshift(e)}}return{data:n,getAllHeaders:t?()=>Array.from(t.headers):wp,getHeader:t?e=>t.headers.get(e):wp,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function Bp(e,t,n){if(e.redoRequest)return e.redoRequest=!1,!1;let r=e.params.requestOptions;if(!t||r.responseType===`native`||r.responseType===`native-request-init`)return!0;let i,a;if(n&&(n.error&&typeof n.error==`object`?i=n.error:n.status===`error`&&Array.isArray(n.messages)&&(i={...n},i[Tp]=n,i.details=n.messages)),!i&&!t.ok)throw i=Error(`Unable to load ${t.url} status: ${t.status}`),i[Tp]=n,i;let o,s=null;i&&(a=Number(i.code),s=i.hasOwnProperty(`subcode`)?Number(i.subcode):null,o=i.messageCode,o=o?.toUpperCase());let c=r.authMode;if(a===403&&(s===4||i.message?.toLowerCase().includes(`ssl`)&&!i.message.toLowerCase().includes(`permission`))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(c!==`no-prompt`||a===498)&&a!==void 0&&xp.has(a)&&!Mp(e.params.url)&&(a!==403||(!o||!Sp.has(o))&&(s==null||s===2&&e.credentialToken))){await Ap();try{let t=await gd.getCredential(e.params.url,{error:Op(`request:server`,i,e.params),credential:e.credential,prompt:c!==`no-prompt`,signal:e.controller.signal,token:e.credentialToken});return e.credential=t,e.credentialToken=t.token,e.useSSL=e.useSSL||t.ssl,!1}catch(t){if(c===`no-prompt`)return e.credential=void 0,e.credentialToken=void 0,!1;i=t}}if(i)throw i;return!0}function Vp(e,t,n=!1){let r=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin=`use-credentials`:i.crossOrigin=`anonymous`,i.alt=``,i.fetchPriority=yp.priority,i.src=e,np(i,e,n,r)}function Hp(e){let t,n;return typeof e==`string`?(t=Eu(e,!0),n=Gf(e)):(t=e.origin,n=Gf(e.toString())),t==null?null:{origin:t,isHosted:n}}function Up(e){return e?.release&&typeof e.release==`function`}function Wp(e){return e?.acquire&&typeof e.acquire==`function`}var Gp=class e{constructor(e,t,n,r=1,i=0){this._creator=e,this._acquireFunction=t,this._releaseFunction=n,this.allocationSize=r,this._pool=Array(i),this._initialSize=i;for(let e=0;e<i;e++)this._pool[e]=this._creator();this.allocationSize=Math.max(r,1)}destroy(){this.prune(0)}acquire(...t){let n;if(e.test.disabled)n=this._creator();else{if(this._pool.length===0){let e=this.allocationSize;for(let t=0;t<e;t++)this._pool[t]=this._creator()}n=this._pool.pop()}return this._acquireFunction?this._acquireFunction(n,...t):Wp(n)&&n.acquire(...t),n}release(t){t&&!e.test.disabled&&(this._releaseFunction?this._releaseFunction(t):Up(t)&&t.release(),this._pool.push(t))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let t=e;t<this._pool.length;++t){let e=this._pool[t];this._dispose(e)}this._pool.length=e}}_dispose(e){e.dispose&&typeof e.dispose==`function`&&e.dispose()}static{this.test={disabled:!!k(`esri-tests-disable-memory-pools`)}}};function Kp(e){e.length=0}var qp=class{constructor(e=50,t=50){this._pool=new Gp(()=>[],void 0,Kp,t,e)}acquire(){return this._pool.acquire()}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return Jp.acquire()}static release(e){return Jp.release(e)}static prune(){Jp.prune()}},Jp=new qp(100),Yp=new WeakMap;function Xp(e,t,n=!1){let r=`🛑 DEPRECATED - ${t}`;if(!n)return void e.warn(r);let i=Yp.get(e);i||(i=new Set,Yp.set(e,i)),i.has(t)||(i.add(t),e.warn(r))}var Zp=`https://www.esriurl.com/`;function Qp(e,t,n,r={}){k(`esri-deprecation-warnings`)&&im(e,`This widget is deprecated. Use the ${t} component instead.`,{see:[`${t} component reference: ${Zp}${n}/`,`Esri's move to web components: ${Zp}components-transition-plan/`],replacement:`<${n}></${n}>`,warnOnce:!0,...r})}function $p(e,t,n,r={}){k(`esri-deprecation-warnings`)&&im(e,`This view model is deprecated. Use the ${t} component directly instead.`,{see:[`${t} component reference: ${Zp}${n}/`,`Esri's move to web components: ${Zp}components-transition-plan/`],replacement:`<${n}></${n}>`,warnOnce:!0,...r})}function em(e,t,n={}){k(`esri-deprecation-warnings`)&&im(e,`Module: ${t}`,n)}function tm(e,t,n={}){if(k(`esri-deprecation-warnings`)){let{moduleName:r}=n;im(e,`Function: ${(r?r+`::`:``)+t+`()`}`,n)}}function nm(e,t,n={}){if(k(`esri-deprecation-warnings`)){let{moduleName:r}=n;im(e,`Property: ${(r?r+`::`:``)+t}`,n)}}function rm(e,t,n={}){k(`esri-deprecation-warnings`)&&im(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...n})}function im(e,t,n={}){if(k(`esri-deprecation-warnings`)){let{replacement:r,version:i,see:a,warnOnce:o}=n,s=t;if(r&&(s+=`\n\t🛠️ Replacement: ${r}`),i&&(s+=`\n\t⚙️ Version: ${i}`),a)if(Array.isArray(a)){s+=`
	🔗 See for more details:`;for(let e of a)s+=`\n\t\t${e}`}else s+=`\n\t🔗 See ${a} for more details.`;Xp(e,s,o)}}function am(e){let t=[];return function*(){yield*t;let n,r=t.length;for(;!(n=e.next()).done;)for(t.push(n.value),yield n.value;++r<t.length;)yield t[r]}}function om(e,t){for(let n of e)if(n!=null&&t(n))return n}function sm(e){return e!=null&&typeof e[Symbol.iterator]==`function`}var cm=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach(t=>{e+=t.length}),e}add(e,t){if(sm(e)){let n=this._getOrCreateGroup(t);for(let t of e)dm(t)&&n.push(t)}else dm(e)&&this._getOrCreateGroup(t).push(e);return this}forEach(e,t){if(typeof e==`function`)this._groups.forEach(t=>t.forEach(e));else{let n=this._getGroup(e);n&&t&&n.forEach(t)}}has(e){return this._groups.has(lm(e))}remove(e){if(typeof e!=`string`&&sm(e)){for(let t of e)this.remove(t);return this}return this.has(e)?(um(this._getGroup(e)),this._groups.delete(lm(e)),this):this}removeAll(){return this._groups.forEach(um),this._groups.clear(),this}removeReference(e){return this._groups.delete(e),this}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);let t=[];return this._groups.set(lm(e),t),t}_getGroup(e){return this._groups.get(lm(e))}};function lm(e){return e||`_default_`}function um(e){for(let t of e)t instanceof cm?t.removeAll():t.remove()}function dm(e){return e!=null&&(!!e.remove||e instanceof cm)}var fm=Symbol(`Accessor-beforeDestroy`);function pm(e){return e.__accessor__??null}function mm(e,t){return e?.metadata?.[t]!=null}function hm(e,t,n){return n?gm(e,t,{policy:n,path:``}):gm(e,t,null)}function gm(e,t,n){return t?Object.keys(t).reduce((e,r)=>{let i=r;if(i===`__proto__`)return e;let a=null,o=`merge`;if(n&&(a=n.path?`${n.path}.${r}`:r,o=n.policy(a)),o===`replace`||o===`replace-arrays`&&Array.isArray(e[i]))return e[i]=t[i],e;if(e[i]===void 0)return e[i]=A(t[i]),e;let s=e[i],c=t[i];if(s===c)return e;if(Array.isArray(c)||Array.isArray(e))s=s?Array.isArray(s)?e[i]=s.slice():e[i]=[s]:e[i]=[],c&&(Array.isArray(c)||(c=[c]),c.forEach(e=>{s.includes(e)||s.push(e)}));else if(c&&typeof c==`object`)if(n){let t=n.path;n.path=a,e[i]=gm(s,c,n),n.path=t}else e[i]=gm(s,c,null);else e.hasOwnProperty(r)&&!t.hasOwnProperty(r)||(e[i]=c);return e},e||{}):e}function _m(e){return Array.isArray(e)?e:e.split(`.`)}function vm(e){return e.includes(`,`)?e.split(`,`).map(e=>e.trim()):[e.trim()]}function aee(e){if(Array.isArray(e)){let t=[];for(let n of e)t.push(...vm(n));return t}return vm(e)}function oee(e,t,n,r){let i=aee(t);if(i.length!==1){let t=i.map(t=>r(e,t,n));return kd(t)}return r(e,i[0],n)}function see(e,t){let n=e.endsWith(`?`)?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){let e=parseInt(n,10);if(!isNaN(e))return Array.isArray(t)?t[e]:t.at(e)}let r=pm(t);return mm(r,n)?r.get(n):t[n]}function cee(e,t,n){if(e==null)return e;let r=see(t[n],e);return!r&&n<t.length-1?void 0:n===t.length-1?r:cee(r,t,n+1)}function ym(e,t,n=0){return typeof t!=`string`||t.includes(`.`)?cee(e,_m(t),n):see(t,e)}function bm(e,t){return ym(e,t)}function lee(e,t){return ym(t,e)!==void 0}var xm={INITIALIZING:0,CONSTRUCTING:1,CONSTRUCTED:2,DESTROYING:3,DESTROYED:4};function Sm(e){let t=e.constructor.__accessorMetadata__,n=Object.prototype.hasOwnProperty.call(e.constructor,`__accessorMetadata__`);if(t){if(!n){for(let e in t=Object.create(t),t)t[e]=A(t[e]);Object.defineProperty(e.constructor,`__accessorMetadata__`,{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,`__accessorMetadata__`,{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function Cm(e,t){let n=Sm(e),r=n[t];return r||=n[t]={},r}function uee(e,t){return hm(e,t,fee)}var dee=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function fee(e){return dee.test(e)?`replace`:`merge`}var pee=class{constructor(e,t){this._observers=e,this._observer=t}remove(){jc(this._observers,this._observer)}},wm=class{constructor(){this._observers=null,this.destroyed=!1}observe(e){if(this.destroyed||e.destroyed)return mee;this._observers??=[];let t=this._observers,n=!1,r=!1,i=t.length;for(let a=0;a<i;++a){let i=t[a];if(i.destroyed)r=!0;else if(i===e){n=!0;break}}return n||(t.push(e),r&&this._removeDestroyedObservers()),new pee(t,e)}_removeDestroyedObservers(){let e=this._observers;if(!e||e.length===0)return;let t=e.length,n=0;for(let r=0;r<t;++r){for(;r+n<t&&e[r+n].destroyed;)++n;if(n>0){if(!(r+n<t))break;e[r]=e[r+n]}}e.length=t-n}destroy(){if(this.destroyed)return;this.destroyed=!0;let e=this._observers;if(e!=null){for(let t of e)t.onCommitted();this._observers=null}}},mee=Ed(),Tm={Dirty:1,Overridden:2,Computing:4,NonNullable:8,HasDefaultValue:16,DepTrackingInitialized:32,AutoTracked:64,ExplicitlyTracking:128},Em=class{constructor(e){this.accessed=void 0,this._handles=void 0,this._observer=e}destroy(){this.accessed?.clear(),this.clear()}onAccessed(e){this._observer!=null&&e!==this._observer&&(this.accessed??=new Set,this.accessed.add(e))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles??=[],this.accessed.forEach(e=>{this._handles.push(e.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let e=0;e<this._handles.length;++e)this._handles[e].remove();this._handles.length=0}}},Dm=new Em,Om=[],km=Dm;function Am(e){km.onAccessed(e)}var jm=!1,Mm=!1;function Nm(e,t,n){if(jm)return Pm(e,t,n);let r=null;return Fm(e),r=t.call(n),Im(),r}function hee(e,t){return Nm(Dm,e,t)}function Pm(e,t,n){let r=jm;jm=!0,Fm(e);let i=null;try{i=t.call(n)}catch(e){Mm&&j.getLogger(`esri.core.accessorSupport.tracking`).error(e)}return Im(),jm=r,i}function Fm(e){km=e,Om.push(e)}function Im(){let e=Om.length;if(e>1){let t=Om.pop();km=Om[e-2],t.onTrackingEnd()}else if(e===1){let e=Om.pop();km=Dm,e.onTrackingEnd()}else km=Dm}function Lm(e,t){if(t.flags&Tm.DepTrackingInitialized)return;t.flags|=Tm.DepTrackingInitialized;let n=Mm;Mm=!1,t.flags&Tm.AutoTracked?Pm(t.trackingTarget,t.metadata.get,e):Rm(e,t),Mm=n}var gee=[];function Rm(e,t){t.flags&Tm.ExplicitlyTracking||(t.flags|=Tm.ExplicitlyTracking,Pm(t.trackingTarget,()=>{let n=t.metadata.dependsOn||gee;for(let t of n)if(typeof t!=`string`||t.includes(`.`)){let n=_m(t);for(let t=0,r=e;t<n.length&&typeof r==`object`&&r;++t)r=zm(r,n[t],t!==n.length-1)}else zm(e,t,!1)}),t.flags&=~Tm.ExplicitlyTracking)}function zm(e,t,n){let r=t.endsWith(`?`)?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){let t=parseInt(r,10);if(!isNaN(t))return Array.isArray(e)?e[t]:e.at(t)}let i=pm(e);if(i){let t=i.propertiesByName.get(r);t&&(Am(t),Lm(e,t))}return n?e[r]:void 0}var Bm=class extends wm{constructor(e,t){super(),this.propertyName=e,this.metadata=t,this.trackingTarget=new Em(this),this.flags=0,this.flags=Tm.Dirty|(t.nonNullable?Tm.NonNullable:0)|(t.hasOwnProperty(`value`)?Tm.HasDefaultValue:0)|(t.get===void 0?Tm.DepTrackingInitialized:0)|(t.dependsOn===void 0?Tm.AutoTracked:0)}destroy(){this.flags&Tm.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(e){e.mutable&&Am(this);let t=e.store,n=this.propertyName,r=this.flags,i=t.get(n);if(r&Tm.Computing||~r&Tm.Dirty&&t.has(n))return i;this.flags|=Tm.Computing;let a=e.host,o;r&Tm.AutoTracked?o=Nm(this.trackingTarget,this.metadata.get,a):(Rm(a,this),o=this.metadata.get.call(a)),this.flags|=Tm.DepTrackingInitialized,t.set(n,o,1);let s=t.get(n);return s===i?this.flags&=~Tm.Dirty:hee(this.commit,this),this.flags&=~Tm.Computing,s}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~Tm.Dirty,this.onCommitted()}onInvalidated(){~this.flags&Tm.Overridden&&(this.flags|=Tm.Dirty);let e=this._observers;if(e&&e.length>0)for(let t of e)t.onInvalidated()}onCommitted(){let e=this._observers;if(e&&e.length>0){let t=e.slice();for(let e of t)e.onCommitted()}}};function Vm(e){switch(e){case`defaults`:return 0;case`service`:return 2;case`portal-item`:return 3;case`web-scene`:return 4;case`web-map`:return 5;case`link-chart`:return 6;case`user`:return 7;default:return null}}function Hm(e){switch(e){case 0:return`defaults`;case 2:return`service`;case 3:return`portal-item`;case 4:return`web-scene`;case 5:return`web-map`;case 6:return`link-chart`;case 7:return`user`}}function _ee(e){return Hm(e)}var vee=class e{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){let n=new e;return this._values.forEach((e,r)=>{t&&t.has(r)||n.set(r,A(e))}),n}get(e){return this._values.get(e)}originOf(){return 7}keys(){return[...this._values.keys()]}set(e,t){this._values.set(e,t)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}isAtOrigin(e,t){return this.has(e)}isBelowOrigin(e,t){return!this.has(e)}forEach(e){this._values.forEach(e)}};function Um(e,t,n){return e!==void 0}function Wm(e,t,n,r){return e!==void 0&&(!(n==null&&e.flags&Tm.NonNullable)||(r.lifecycle,xm.INITIALIZING,!1))}var yee=class{constructor(e){this.host=e,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=xm.INITIALIZING,this.store=new vee,this.mutable=!0,this._origin=7;let t=this.host.constructor.__accessorMetadata__;for(let e in t){let n=new Bm(e,t[e]);this.propertiesByName.set(e,n)}this.metadata=t}initialize(){this.lifecycle=xm.CONSTRUCTING}constructed(){this.lifecycle=xm.CONSTRUCTED}destroy(){this.lifecycle=xm.DESTROYED,this.propertiesByName.forEach(e=>e.destroy())}get initialized(){return this.lifecycle!==xm.INITIALIZING}get(e){let t=this.propertiesByName.get(e);if(!Um(t))return;if(t.metadata.get)return t.getComputed(this);this.mutable&&Am(t);let n=this.store;return n.has(e)?n.get(e):t.metadata.value}originOf(e){let t=this.store.originOf(e);if(t===void 0){let t=this.propertiesByName.get(e);if(t!==void 0&&t.flags&Tm.HasDefaultValue)return`defaults`}return Hm(t)}has(e){return this.propertiesByName.has(e)&&this.store.has(e)}keys(){return[...this.propertiesByName.keys()]}internalGet(e){let t=this.propertiesByName.get(e);if(Um(t))return this.store.has(e)?this.store.get(e):t.metadata.value}internalSet(e,t){let n=this.propertiesByName.get(e);Um(n)&&this._internalSet(n,t)}getDependsInfo(e,t,n){let r=this.propertiesByName.get(t);if(!Um(r))return``;let i=new Em,a=Nm(i,()=>r.metadata.get?.call(e)),o=`${n}${e.declaredClass.split(`.`).pop()}.${t}: ${a}\n`,s=i.accessed??new Set;if(s.size===0)return o;n+=`  `;for(let e of s)e instanceof Bm&&(o+=`${n}${e.propertyName}: undefined\n`);return o}setAtOrigin(e,t,n){let r=this.propertiesByName.get(e);if(Um(r))return this._setAtOrigin(r,t,n)}isOverridden(e){let t=this.propertiesByName.get(e);return t!==void 0&&!!(t.flags&Tm.Overridden)}clearOrigin(e,t){let n=this.store,r=this.propertiesByName.get(e);if(!Um(r))return;let i=n.isAtOrigin(e,t)&&!(r.flags&Tm.Overridden);n.delete(e,t),i&&r.notifyChange()}clearOverride(e){let t=this.propertiesByName.get(e);t&&t.flags&Tm.Overridden&&(t.flags&=~Tm.Overridden,t.notifyChange())}override(e,t){let n=this.propertiesByName.get(e);if(!Wm(n,e,t,this))return;let r=n.metadata.cast;if(r){let e=this._cast(r,t),{valid:n,value:i}=e;if(Gm.release(e),!n)return;t=i}n.flags|=Tm.Overridden,this._internalSet(n,t)}set(e,t){let n=this.propertiesByName.get(e);if(!Wm(n,e,t,this))return;let r=n.metadata.cast;if(r){let e=this._cast(r,t),{valid:n,value:i}=e;if(Gm.release(e),!n)return;t=i}let i=n.metadata.set;i?i.call(this.host,t):this._internalSet(n,t)}setDefaultOrigin(e){this._origin=Vm(e)}getDefaultOrigin(){return Hm(this._origin)}notifyChange(e){let t=this.propertiesByName.get(e);t!==void 0&&t.notifyChange()}invalidate(e){let t=this.propertiesByName.get(e);t!==void 0&&t.invalidate()}commit(e){let t=this.propertiesByName.get(e);t!==void 0&&t.commit()}_internalSet(e,t){let n=this.lifecycle===xm.INITIALIZING?0:this._origin;this._setAtOrigin(e,t,n)}_setAtOrigin(e,t,n){let r=this.store,i=e.propertyName;if(r.isAtOrigin(i,n)&&ol(t,r.get(i))&&~e.flags&Tm.Overridden)return;let a=r.isBelowOrigin(i,n)||r.isAtOrigin(i,n);a&&e.invalidate(),r.set(i,t,n),a&&e.commit(),Lm(this.host,e)}_cast(e,t){let n=Gm.acquire();return n.valid=!0,n.value=t,e&&(n.value=e.call(this.host,t,n)),n}},bee=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}},Gm=new Gp(()=>new bee);function Km(e,t,n){if(e&&t)if(typeof t==`object`)for(let n of Object.getOwnPropertyNames(t))Km(e,n,t[n]);else{if(t.includes(`.`)){let r=t.split(`.`),i=r.splice(-1,1)[0];Km(bm(e,r),i,n);return}let r=e.__accessor__;r!=null&&xee(t,r),e[t]=n}}function xee(e,t){if(k(`esri-unknown-property-errors`)&&!See(e,t))throw new M(`set:unknown-property`,Cee(e,t))}function See(e,t){return t.metadata[e]!=null}function Cee(e,t){return`setting unknown property '`+e+`' on instance of `+t.host.declaredClass}var wee;function qm(){return wee}var Jm=class extends Gp{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...e){let t=super.acquire(...e);return this._set.delete(t),t}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}},Ym=[];function Xm(e){Ym.push(e),Ym.length===1&&queueMicrotask(()=>{let e=Ym.slice();Ym.length=0;for(let t of e)t()})}var Zm=class{constructor(e,t=30){this.name=e,this._counter=0,this._samples=Array(t)}push(e){e!=null&&(this._samples[++this._counter%this._samples.length]=e)}set(e){e!=null&&(this._samples[this._counter%this._samples.length]=e)}get median(){return this._samples.slice().sort((e,t)=>e-t)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((e,t)=>e+t,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}},Qm=(e,t,n,r)=>{let i=t,a=t,o=n>>>1,s=e[i-1];for(;a<=o;){a=i<<1,a<n&&r(e[a-1],e[a])<0&&++a;let t=e[a-1];if(r(t,s)<=0)break;e[i-1]=t,i=a}e[i-1]=s},$m=(e,t)=>e<t?-1:e>t?1:0;function Tee(e,t,n,r){t===void 0&&(t=0),n===void 0&&(n=e.length),r===void 0&&(r=$m);for(let i=n>>>1;i>t;i--)Qm(e,i,n,r);let i=t+1;for(let a=n-1;a>t;a--){let n=e[t];e[t]=e[a],e[a]=n,Qm(e,i,a,r)}}function*Eee(e,t,n,r){t===void 0&&(t=0),n===void 0&&(n=e.length),r===void 0&&(r=$m);for(let i=n>>>1;i>t;i--)Qm(e,i,n,r),yield;let i=t+1;for(let a=n-1;a>t;a--){let n=e[t];e[t]=e[a],e[a]=n,Qm(e,i,a,r),yield}}var Dee=1.5,Oee=1.1,eh=class{constructor(e){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new xc,e&&(e.initialSize&&(this.data=Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),e.deallocator!==void 0&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=()=>th(this)))}toArray(){return this.data.slice(0,this.length)}filter(e){let t=[];for(let n=0;n<this._length;n++){let r=this.data[n];e(r)&&t.push(r)}return t}at(e){if((e=Math.trunc(e)||0)<0&&(e+=this._length),!(e<0||e>=this._length))return this.data[e]}includes(e,t){let n=this.data.indexOf(e,t);return n!==-1&&n<this.length}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(let t=e;t<this._length;++t)this.data[t]=this._deallocator(this.data[t]);this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,t=e.length){for(let n=0;n<t;n++)this.data[this._length++]=e[n]}fill(e,t){for(let n=0;n<t;n++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));let e=this.data[this._length];return++this._length,e}unshift(e){this.data.unshift(e),this._length++,th(this)}pop(){if(this.length===0)return;let e=this.data[this.length-1];return--this.length,this._shrink(),e}remove(e){let t=Cc(this.data,oc(e),this.length,this._hint);if(t!==-1)return this.data.splice(t,1),--this.length,e}removeUnordered(e){return this.removeUnorderedIndex(Cc(this.data,oc(e),this.length,this._hint))}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(e,t=e.length,n){this.length=nee(this.data,e,this.length,t,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(e,t){if(e>=this.length||t>=this.length||e===t)return;let n=this.data[e];this.data[e]=this.data[t],this.data[t]=n}sort(e){Tee(this.data,0,this.length,e)}iterableSort(e){return Eee(this.data,0,this.length,e)}some(e,t){for(let n=0;n<this.length;++n)if(e.call(t,this.data[n],n,this.data))return!0;return!1}find(e,t){let{data:n,length:r}=this;for(let i=0;i<r;++i)if(e.call(t,n[i]))return n[i]}filterInPlace(e,t){let n=0;for(let r=0;r<this._length;++r){let i=this.data[r];e.call(t,i,r,this.data)&&(this.data[r]=this.data[n],this.data[n]=i,n++)}if(this._deallocator)for(let e=n;e<this._length;e++)this.data[e]=this._deallocator(this.data[e]);return this._length=n,this._shrink(),this}forAll(e,t){let{data:n,length:r}=this;for(let i=0;i<r;++i)e.call(t,n[i],i,n)}forEach(e,t){this.data.slice(0,this.length).forEach(e,t)}map(e,t){let n=Array(this.length);for(let r=0;r<this.length;++r)n[r]=e.call(t,this.data[r],r,this.data);return n}reduce(e,t){let n=t;for(let t=0;t<this.length;++t)n=e(n,this.data[t],t,this.data);return n}has(e){let t=this.length,n=this.data;for(let r=0;r<t;++r)if(n[r]===e)return!0;return!1}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.data[e]}};function th(e){e.data.length>Dee*e.length&&(e.data.length=Math.floor(e.length*Oee))}function nh(e){return e}function rh(e){return nh(1e3*e)}function ih(e){return e}function kee(e){return ih(.001*e)}var Aee=class{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}},jee=class{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}},ah=0,oh=0,sh={time:nh(0),deltaTime:nh(0),elapsedFrameTime:nh(0),frameDuration:nh(0)},ch=[`prepare`,`preRender`,`render`,`postRender`,`update`,`finish`],lh=[],uh=new eh,Mee=class{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,dh()}};function Nee(){hh!=null&&(cancelAnimationFrame(hh),hh=requestAnimationFrame(gh))}function dh(){hh??=(ah=performance.now(),requestAnimationFrame(gh))}var fh={frameTasks:uh,willDispatch:!1,clearFrameTasks:Pee,dispatch:yh,executeFrameTasks:Fee,reschedule:Nee};function ph(e){let t=new jee(e);return lh.push(t),fh.willDispatch||(fh.willDispatch=!0,Xm(yh)),t}function mh(e){let t=new Aee(e);return uh.push(t),dh(),new Mee(t)}var hh=null;function Pee(e=!1){uh.forAll(e=>{e.removed=!0}),e&&vh()}function gh(){let e=performance.now();hh=null,hh=uh.some(e=>!e.paused&&!e.removed)?requestAnimationFrame(gh):null,fh.executeFrameTasks(e)}function Fee(e){let t=nh(e-ah);ah=e;let n=oh>0?oh:1e3/60,r=Math.max(0,t-n);sh.time=e,sh.frameDuration=nh(n-r);for(let n=0;n<ch.length;n++){let r=performance.now(),i=ch[n];uh.forAll(r=>{r.paused||r.removed||(n===0&&r.ticks++,r.phases[i]&&(sh.elapsedFrameTime=nh(performance.now()-e),sh.deltaTime=r.ticks===0?nh(0):t,r.phases[i]?.call(r,sh)))}),Iee[n].push(performance.now()-r)}vh(),Lee.push(performance.now()-e)}var _h=new eh;function vh(){uh.forAll(e=>{e.removed&&_h.push(e)}),uh.removeUnorderedMany(_h.data,_h.length),_h.clear()}function yh(){for(;lh.length;){let e=lh.shift();e.isActive&&e.callback()}fh.willDispatch=!1}function bh(e=1,t){let n=yf(),r=()=>{tf(t)?n.reject(Qd()):e===0?n():(--e,Xm(()=>r()))};return r(),n.promise}function xh(e){return bh(1,e)}async function Sh(e){await xh(e),await new Promise(t=>requestAnimationFrame(()=>{e?.aborted||t()}))}var Iee=ch.map(e=>new Zm(e)),Lee=new Zm(`total`);function Ch(e,t){for(let n of e.values())if(t(n))return!0;return!1}function wh(e,t){if(!t)return e;for(let n of t)n!=null&&e.add(n);return e}function Th(e,t){return t!=null&&e.add(t),e}function Eh(e,t){let n=new Set;return wh(n,e),wh(n,t),n}function Dh(e,t){let n=new Set;for(let r of t)e.has(r)&&n.add(r);return n}function Ree(e,t){if(!e||!t)return!1;if(e===t)return!0;for(let n of e)if(!t.has(n))return!1;return!0}function zee(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}function Oh(e,t){let n=new Set(e);for(let e of t)n.delete(e);return n}function Bee(e,t){return Oh(Eh(e,t),Dh(e,t))}var Vee=0;function kh(){return++Vee}var Ah=class extends Em{constructor(e){super(new Hee(e)),this._observer&&jh.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&jh.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},Hee=class{constructor(e){this._notify=e,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;let e=this._invalidCount;if(e===1)return this._invalidCount=0,void this._notify();this._invalidCount=e>0?e-1:0}destroy(){this.destroyed=!0,this._notify=Uee}},jh=new FinalizationRegistry(e=>{e.deref()?.destroy()});function Uee(){}var Mh=!1,Nh=[];function Ph(e,t){let n=new Ah(a),r=null,i=!1;function a(){if(!n||i)return;if(Mh)return void Lh(a);let o=r;n.clear(),Mh=!0,i=!0,r=Nm(n,e),i=!1,Mh=!1,t(r,o),Rh()}function o(){n&&(n.destroy(),n=null,r=null)}return i=!0,r=Nm(n,e),i=!1,Ed(o)}function Fh(e,t){let n=new Ah(i),r=null;function i(){t(r,o)}function a(){n&&=(n.destroy(),null),r=null}function o(){return n?(n.clear(),r=Nm(n,e),r):null}return o(),Ed(a)}function Ih(e,t){let n=!1,r=!1,i=!!t?.sync,a=new Ah(()=>{n||r||(r=!0,i?o():queueMicrotask(o))});function o(){r=!1,a&&!n&&(Mh?Lh(o):(a.clear(),Mh=!0,n=!0,Nm(a,e),n=!1,Mh=!1,Rh()))}function s(){a&&=(a.destroy(),null)}return n=!0,Nm(a,e),n=!1,Ed(s)}function Lh(e){Nh.includes(e)||Nh.unshift(e)}function Rh(){for(;Nh.length;)Nh.pop()()}var zh=class e{constructor(){this.uid=kh(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static{this.pool=new Jm(()=>new e)}static acquireUntracked(e,t,n,r,i){return this.pool.acquire(0,e,t,n,r,i,ol)}static acquireTracked(e,t,n,r){return this.pool.acquire(1,e,t,n,null,null,r)}notify(e,t){this.type===0?this.callback.call(this.target,e,t,this.path,this.target):this.callback.call(null,e,t,void 0,void 0)}acquire(e,t,n,r,i,a,o){this.uid=kh(),this.removed=!1,this.type=e,this.oldValue=t,this.callback=n,this.getValue=r,this.target=i,this.path=a,this.equals=o}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=kh(),this.removed=!0}},Bh=new qp,Vh=new Set,Hh;function Uh(e){Vh.delete(e),Vh.add(e),Wh()}function Wh(){Hh||=ph(Kee)}function Wee(e){if(e.removed)return;let t=e.oldValue,n=e.getValue();e.equals(t,n)||(e.oldValue=n,e.notify(n,t))}function Gee(e){for(let t of Vh.values())t.target===e&&(t.removed=!0)}function Kee(){let e=10;for(;Hh&&e--;){Hh=null;let e=qee(),t=Bh.acquire();for(let n of e){let e=n.uid;Wee(n),e===n.uid&&n.removed&&t.push(n)}for(let e of Vh)e.removed&&(t.push(e),Vh.delete(e));for(let e of t)zh.pool.release(e);Bh.release(t),Bh.release(e),Gh.forEach(e=>e())}}function qee(){let e=Bh.acquire();e.length=Vh.size;let t=0;for(let n of Vh)e[t]=n,++t;return Vh.clear(),e}var Gh=new Set;function Jee(e){return Gh.add(e),Ed(()=>Gh.delete(e))}function Yee(e,t,n){let r=oee(e,t,n,(e,t,n)=>{let i,a,o=Fh(()=>ym(e,t),(o,s)=>{e.__accessor__?.lifecycle===xm.DESTROYED||i&&i.uid!==a?r.remove():(i||(i=zh.acquireUntracked(o,n,s,e,t),a=i.uid),Uh(i))});return Ed(()=>{o.remove(),i&&=(i.uid!==a||i.removed||(i.removed=!0,Uh(i)),null),r=o=null})});return r}function Xee(e,t,n){let r=oee(e,t,n,(e,t,n)=>{let i=!1;return Ph(()=>ym(e,t),(a,o)=>{e.__accessor__.lifecycle===xm.DESTROYED?r.remove():i||=(i=!0,ol(o,a)||n.call(e,a,o,t,e),!1)})});return r}function Zee(e,t,n,r=!1){return e.__accessor__&&e.__accessor__.lifecycle!==xm.DESTROYED?r?Xee(e,t,n):Yee(e,t,n):Ed()}function Qee(e,t,n){let r,i,a=Fh(e,(e,o)=>{r&&r.uid!==i?a.remove():(r||(r=zh.acquireTracked(e,t,o,n),i=r.uid),Uh(r))});return Ed(()=>{a.remove(),r&&=(r.uid!==i||r.removed||(r.removed=!0,Uh(r)),null),a=null})}function $ee(e,t,n){let r=!1;return Ph(e,(e,i)=>{r||=(r=!0,n(i,e)||t(e,i),!1)})}function ete(e,t,n=!1,r=sl){return n?$ee(e,t,r):Qee(e,t,r)}function Kh(e){return Ch(Vh,t=>t.oldValue===e)}var qh=()=>j.getLogger(`esri.core.accessorSupport.ensureTypes`);function tte(e){if(e==null)return e;let t=new Date(e);return isNaN(t.getTime())?(qh().error(`Accessor#set`,`Invalid date value: '${e}', falling back to current date`),new Date):t}function nte(e){return e==null?e:!!e}function Jh(e){return e==null?e:e.toString()}function Yh(e,t=0){return e==null?e:(e=parseFloat(e),isNaN(e)?t:e)}function Xh(e){return e==null?e:Math.round(parseFloat(e))}function rte(e){return null}function Zh(e,t){return n=>{let r=e(n);return t.step!=null&&(r=Math.round(r/t.step)*t.step),t.min!=null&&(r=Math.max(t.min,r)),t.max!=null&&(r=Math.min(t.max,r)),r}}function Qh(e){return e?.constructor&&e.constructor.__accessorMetadata__!==void 0}function $h(e,t){return t!=null&&e&&!(t instanceof e)}function eg(e){return e&&`isCollection`in e}function tg(e){return e?.Type?typeof e.Type==`function`?e.Type:e.Type.base:null}function ite(e,t){if(!t?.constructor||!eg(t.constructor))return ng(e,t)?t:new e(t);let n=tg(e.prototype.itemType),r=tg(t.constructor.prototype.itemType);return n?r?n===r?t:n.prototype.isPrototypeOf(r.prototype)?new e(t):(ng(e,t),t):new e(t):t}function ng(e,t){return!!Qh(t)&&(qh().error(`Accessor#set`,`Assigning an instance of '`+(t.declaredClass||`unknown`)+`' which is not a subclass of '`+ig(e)+`'`),!0)}function rg(e,t){return t==null?t:eg(e)?ite(e,t):$h(e,t)?ng(e,t)?t:new e(t):t}function ig(e){return e?.prototype?.declaredClass||`unknown`}var ate=new WeakMap;function ote(e){switch(e){case Number:return e=>Yh(e);case dg:return Xh;case Boolean:return nte;case String:return Jh;case Date:return tte;case fg:return rte;default:return Cd(ate,e,()=>rg.bind(null,e))}}function ag(e,t){let n=ote(e);return arguments.length===1?n:n(t)}function og(e,t,n){return arguments.length===1?og.bind(null,e):t&&(Array.isArray(t)?t.map(t=>e(t,n)):[e(t,n)])}function ste(e,t){return arguments.length===1?og(t=>ag(e,t)):og(t=>ag(e,t),t)}function sg(e,t,n){return t!==0&&Array.isArray(n)?n.map(n=>sg(e,t-1,n)):e(n)}function cg(e,t,n){if(arguments.length===2)return n=>cg(e,t,n);if(!n)return n;n=sg(e,t,n);let r=t,i=n;for(;r>0&&Array.isArray(i);)r--,i=i[0];if(i!==void 0)for(let e=0;e<r;e++)n=[n];return n}function cte(e,t,n){return arguments.length===2?cg(t=>ag(e,t),t):cg(t=>ag(e,t),t,n)}function lte(e){return!!Array.isArray(e)&&!e.some(t=>{let n=typeof t;return!(n===`string`||n===`number`||n===`function`&&e.length>1)})}function lg(e,t){if(arguments.length===2)return lg(e).call(null,t);let n=new Set,r=e.filter(e=>typeof e!=`function`),i=e.filter(e=>typeof e==`function`);for(let t of e)typeof t!=`string`&&typeof t!=`number`||n.add(t);let a=null,o=null;return(e,t)=>{if(e==null)return e;let s=typeof e,c=s===`string`||s===`number`;return c&&(n.has(e)||i.some(e=>s===`string`&&e===String||s===`number`&&e===Number))||s===`object`&&i.some(t=>!$h(t,e))?e:(c&&r.length?(a||=r.map(e=>typeof e==`string`?`'${e}'`:`${e}`).join(`, `),qh().error(`Accessor#set`,`'${e}' is not a valid value for this property, only the following values are valid: ${a}`)):typeof e==`object`&&i.length?(o||=i.map(e=>ig(e)).join(`, `),qh().error(`Accessor#set`,`'${e}' is not a valid value for this property, value must be one of ${o}`)):qh().error(`Accessor#set`,`'${e}' is not a valid value for this property`),t&&(t.valid=!1),null)}}function ug(e,t){if(arguments.length===2)return ug(e).call(null,t);let n={},r=[],i=[];for(let t in e.typeMap){let a=e.typeMap[t];n[t]=ag(a),r.push(ig(a)),i.push(t)}let a=()=>`'${r.join(`', '`)}'`,o=()=>`'${i.join(`', '`)}'`,s=typeof e.key==`string`?t=>t[e.key]:e.key;return t=>{if(e.base&&!$h(e.base,t)||t==null)return t;let r=s(t)||e.defaultKeyValue,i=n[r];if(!i)return qh().error(`Accessor#set`,`Invalid property value, value needs to be one of ${a()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!$h(e.typeMap[r],t))return t;if(typeof e.key==`string`&&!Qh(t)){let n={};for(let r in t)r!==e.key&&(n[r]=t[r]);return i(n)}return i(t)}}var dg=class{},fg=class{},ute={native:e=>({type:`native`,value:e}),array:e=>({type:`array`,value:e}),oneOf:e=>({type:`one-of`,values:e})};function dte(e){if(!e||!(`type`in e))return!1;switch(e.type){case`native`:case`array`:case`one-of`:return!0}return!1}function fte(e){switch(e.type){case`native`:return ag(e.value);case`array`:return og(fte(e.value));case`one-of`:return pte(e);default:return null}}function pte(e){let t=null;return(n,r)=>mg(n,e)?n:(t??=pg(e),qh().error(`Accessor#set`,`Invalid property value, value needs to be of type ${t}`),r&&(r.valid=!1),null)}function pg(e){switch(e.type){case`native`:switch(e.value){case Number:return`number`;case String:return`string`;case Boolean:return`boolean`;case dg:return`integer`;case Date:return`date`;case fg:return`null`;default:return ig(e.value)}case`array`:return`array of ${pg(e.value)}`;case`one-of`:{let t=e.values.map(e=>pg(e));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return`unknown`}function mg(e,t){if(e==null)return!0;switch(t.type){case`native`:switch(t.value){case Number:case dg:return typeof e==`number`;case Boolean:return typeof e==`boolean`;case String:return typeof e==`string`;case fg:return e===null}return e instanceof t.value;case`array`:return!!Array.isArray(e)&&!e.some(e=>!mg(e,t.value));case`one-of`:return t.values.some(t=>mg(e,t))}}function P(e={}){return(t,n)=>{if(t===Function.prototype)throw Error(`Inappropriate use of @property() on a static field: ${t.name}.${n}. Accessor does not support static properties.`);let r=Object.getOwnPropertyDescriptor(t,n),i=Cm(t,n);r&&(r.get||r.set?(i.get=r.get||i.get,i.set=r.set||i.set):`value`in r&&(`value`in e&&j.getLogger(`esri.core.accessorSupport.decorators.property`).warn(`@property() will redefine the value of "${n}" on "${t.constructor.name}" already defined in the metadata`,e),i.value=e.value=r.value)),e.readOnly!=null&&(i.readOnly=e.readOnly);let a=e.aliasOf;if(a){let e=typeof a==`string`?a:a.source,t=typeof a==`string`?null:!0===a.overridable,r;i.dependsOn=[e],i.get=function(){let t=bm(this,e);if(typeof t==`function`){r||=e.split(`.`).slice(0,-1).join(`.`);let n=bm(this,r);n&&(t=t.bind(n))}return t},i.readOnly||(i.set=t?function(e){this._override(n,e)}:function(t){Km(this,e,t)})}let o=e.type,s=e.types;if(!i.cast){let t;o?t=mte(o):s&&(t=Array.isArray(s)?og(ug(s[0])):ug(s)),e.cast=hte(e.cast,t)}uee(i,e),e.range&&(i.cast=Zh(i.cast,e.range))}}function hg(e,t,n){let r=Cm(e,n);r.json||={};let i=r.json;return t!==void 0&&(i.origins||={},i.origins[t]||(i.origins[t]={}),i=i.origins[t]),i}function mte(e){let t=0,n=e;if(dte(e))return fte(e);for(;Array.isArray(n)&&n.length===1&&typeof n[0]!=`string`&&typeof n[0]!=`number`;)n=n[0],t++;let r=n;if(lte(r))return t===0?lg(r):cg(lg(r),t);if(t===1)return ste(r);if(t>1)return cte(r,t);let i=e;return i.from?i.from:ag(i)}function hte(e,t){if(e||t)return e?t?(n,r)=>t(e(n,r),r):e:t}function gte(e){if(e.json&&e.json.origins){let t=e.json.origins,n={"web-document":[`web-scene`,`web-map`]};for(let e in n)if(t[e]){let r=t[e];n[e].forEach(e=>{t[e]=r}),delete t[e]}}}var gg=class extends Ml{constructor(e,t,n){super(e,t,n)}};gg.prototype.type=`warning`;function _te(e){return!!e&&e.prototype?.declaredClass&&e.prototype.declaredClass.indexOf(`esri.core.Collection`)===0}function vte(e,t){return yg(e,`any`,t?.origin)}function _g(e,t){return yg(e,`read`,t?.origin)}function vg(e,t){return yg(e,`write`,t?.origin)}function yg(e,t,n){let r=e?.json;if(r?.origins&&n){let e;e=n===`link-chart`?r.origins[n]&&(t===`any`||t in r.origins[n])?r.origins[n]:r.origins[`web-map`]:r.origins[n],e&&(t===`any`||t in e)&&(r=e)}return r}var bg=()=>j.getLogger(`esri.core.accessorSupport.extensions.serializableProperty.reader`);function xg(e,t,n){e&&(!n&&!t.read||t.read?.reader||!1===t.read?.enabled||xte(e)&&fl(`read.reader`,Sg(e),t))}function Sg(e){let t=e.ndimArray??0;if(t>1)return bte(e);if(t===1)return Tg(e);if(`type`in e&&Eg(e.type)){let t=e.type.prototype?.itemType?.Type,n=Tg(typeof t==`function`?{type:t}:{types:t});return(t,r,i)=>{let a=n(t,r,i);return a&&new e.type(a)}}return Cg(e)}function Cg(e){return`type`in e?yte(e.type):Ste(e.types)}function yte(e){return e.prototype.read?(t,n,r)=>{if(t==null)return t;let i=typeof t;if(i!==`object`)return void bg().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${i}'`);let a=new e;return a.read(t,r),a}:e.fromJSON}function wg(e,t,n,r){return r!==0&&Array.isArray(t)?t.map(t=>wg(e,t,n,r-1)):e(t,void 0,n)}function bte(e){let t=Cg(e),n=wg.bind(null,t),r=e.ndimArray??0;return(e,t,i)=>{if(e==null)return e;e=n(e,i,r);let a=r,o=e;for(;a>0&&Array.isArray(o);)a--,o=o[0];if(o!==void 0)for(let t=0;t<a;t++)e=[e];return e}}function Tg(e){let t=Cg(e);return(e,n,r)=>{if(e==null)return e;if(Array.isArray(e)){let n=[];for(let i of e){let e=t(i,void 0,r);e!==void 0&&n.push(e)}return n}let i=t(e,void 0,r);return i===void 0?void 0:[i]}}function Eg(e){if(!_te(e))return!1;let t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type==`function`?Dg(t.Type):Og(t.Type))}function xte(e){return`types`in e?Og(e.types):Dg(e.type)}function Dg(e){return!Array.isArray(e)&&!!e&&e.prototype&&(`read`in e.prototype||`fromJSON`in e||Eg(e))}function Og(e){for(let t in e.typeMap)if(!Dg(e.typeMap[t]))return!1;return!0}function Ste(e){let t=null,n=e.errorContext??`type`,r=e.validate;return(i,a,o)=>{if(i==null)return i;let s=typeof i;if(s!==`object`)return void bg().error(`Expected JSON value of type 'object' to deserialize, but got '${s}'`);t||=wte(e);let c=e.key;if(typeof c!=`string`)return;let l=i[Cte(c,t,o)],u=l?t[l]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!u){let e=`Type '${l||`unknown`}' is not supported`;o?.messages&&i&&o.messages.push(new gg(`${n}:unsupported`,e,{definition:i,context:o})),bg().error(e);return}let d=new u;return d.read(i,o),r?r(d):d}}function Cte(e,t,n){let r=Object.values(t)[0],i=Sm(r.prototype)[e],a=_g(i,n)?.read?.source;return a&&typeof a==`string`?a:e}function wte(e){let t={};for(let n in e.typeMap){let r=e.typeMap[n],i=Sm(r.prototype);if(typeof e.key==`function`)continue;let a=i[e.key];if(!a)continue;if(a.json?.type&&Array.isArray(a.json.type)&&a.json.type.length===1&&typeof a.json.type[0]==`string`){t[a.json.type[0]]=r;continue}let o=a.json?.write;if(!o?.writer){t[n]=r;continue}let s=o.target,c=typeof s==`string`?s:e.key,l={};o.writer(n,l,c),l[c]&&(t[l[c]]=r)}return t}function Tte(e){if(e.json||={},Ag(e.json),jg(e.json),kg(e.json),e.json.origins)for(let t in e.json.origins)Ag(e.json.origins[t]),jg(e.json.origins[t]),kg(e.json.origins[t]);return!0}function kg(e){e.name&&(e.read&&typeof e.read==`object`?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write==`object`?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function Ag(e){typeof e.read==`boolean`?e.read={enabled:e.read}:typeof e.read==`function`?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read==`object`&&e.read.enabled===void 0&&(e.read.enabled=!0)}function jg(e){typeof e.write==`boolean`?e.write={enabled:e.write}:typeof e.write==`function`?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write==`object`&&e.write.enabled===void 0&&(e.write.enabled=!0)}function Mg(e,t){if(!t.write||t.write.writer||!1===t.write.enabled&&!t.write.overridePolicy)return;let n=e?.ndimArray??0;e&&(n===1||`type`in e&&_te(e.type))?t.write.writer=Ote:n>1?t.write.writer=kte(n):t.types?Array.isArray(t.types)?t.write.writer=Dte(t.types[0]):t.write.writer=Ete(t.types):t.write.writer=Pg}function Ete(e){return(t,n,r,i)=>t?Ng(t,e,i)?Pg(t,n,r,i):void 0:Pg(t,n,r,i)}function Ng(e,t,n){for(let n in t.typeMap)if(e instanceof t.typeMap[n])return!0;if(n?.messages){let r=t.errorContext??`type`,i=`Values of type '${(typeof t.key==`function`?e.declaredClass:e[t.key])??`Unknown`}' cannot be written`;n&&n.messages&&e&&n.messages.push(new M(`${r}:unsupported`,i,{definition:e,context:n})),j.getLogger(`esri.core.accessorSupport.extensions.serializableProperty.writer`).error(i)}return!1}function Dte(e){return(t,n,r,i)=>Pg(!t||!Array.isArray(t)?t:t.filter(t=>Ng(t,e,i)),n,r,i)}function Pg(e,t,n,r){fl(n,Fg(e,r),t)}function Fg(e,t){return e&&typeof e.write==`function`?e.write({},t):e&&typeof e.toJSON==`function`?e.toJSON():typeof e==`number`?Ig(e):e}function Ig(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function Ote(e,t,n,r){let i;e===null?i=null:e&&typeof e.map==`function`?(i=e.map(e=>Fg(e,r)),typeof i.toArray==`function`&&(i=i.toArray())):i=[Fg(e,r)],fl(n,i,t)}function Lg(e,t,n){return n!==0&&Array.isArray(e)?e.map(e=>Lg(e,t,n-1)):Fg(e,t)}function kte(e){return(t,n,r,i)=>{let a;if(t===null)a=null;else{a=Lg(t,i,e);let n=e,r=a;for(;n>0&&Array.isArray(r);)n--,r=r[0];if(r!==void 0)for(let e=0;e<n;e++)a=[a]}fl(r,a,n)}}function Ate(e){let t=jte(e);if(e.json.origins)for(let n in e.json.origins){let r=e.json.origins[n],i=r.types?Mte(r):t;xg(i,r,!1),r.types&&!r.write&&e.json.write?.enabled&&(r.write={...e.json.write}),Mg(i,r)}xg(t,e.json,!0),Mg(t,e.json)}function jte(e){return e.json.types?zg(e.json):e.type?Rg(e):zg(e)}function Mte(e){return e.type?Rg(e):zg(e)}function Rg(e){if(!e.type)return;let t=0,n=e.type;for(;Array.isArray(n)&&!lte(n);)n=n[0],t++;return{type:n,ndimArray:t}}function zg(e){if(!e.types)return;let t=0,n=e.types;for(;Array.isArray(n);)n=n[0],t++;return{types:n,ndimArray:t}}function Nte(e){Tte(e)&&(gte(e),Ate(e))}var Bg=new Set,Vg=new Set;function F(e){return t=>{e??=`esri.core.Accessor`,t.prototype.declaredClass=e,Fte(t);let n=[],r=[],i=t.prototype;for(;i;)i.hasOwnProperty(`initialize`)&&!Bg.has(i.initialize)&&(Bg.add(i.initialize),n.push(i.initialize)),i.hasOwnProperty(`destroy`)&&!Vg.has(i.destroy)&&(Vg.add(i.destroy),r.push(i.destroy)),i=Object.getPrototypeOf(i);Bg.clear(),Vg.clear();let a=class extends t{constructor(...e){if(super(...e),this.constructor===a&&typeof this.postscript==`function`){if(n.length&&Object.defineProperty(this,`initialize`,{enumerable:!1,configurable:!0,value(){for(let e=n.length-1;e>=0;e--)n[e].call(this)}}),r.length){let e=!1,t=this[fm];Object.defineProperty(this,`destroy`,{enumerable:!1,configurable:!0,value(){if(!e){this.__accessor__.lifecycle=xm.DESTROYING,e=!0,t.call(this);for(let e=0;e<r.length;e++)r[e].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};a.__accessorMetadata__=Sm(t.prototype),a.prototype.declaredClass=e;let o=(e||`AccessorSubclass`).split(`.`).slice(-1)[0];return Object.defineProperty(a,`name`,{value:o,configurable:!0}),a}}function Pte(e,t){return t.get==null?function(){let t=this.__accessor__,n=t.propertiesByName.get(e);if(n===void 0)return;t.mutable&&Am(n);let r=t.store;return r.has(e)?r.get(e):n.metadata.value}:function(){let t=this.__accessor__,n=t.propertiesByName.get(e);if(n!==void 0)return n.getComputed(t)}}function Fte(e){let t=e.prototype,n=Sm(t),r={};for(let e of Object.getOwnPropertyNames(n)){let t=n[e];Nte(t),r[e]={enumerable:!0,configurable:!0,get:Pte(e,t),set(n){let r=this.__accessor__;if(r!==void 0){if(r.mutable)return r.initialized&&t.readOnly?Hg(`read-only`,e):r.lifecycle===xm.CONSTRUCTED&&t.constructOnly?Hg(`construct-only`,e):void r.set(e,n)}else Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:n})}}}Object.defineProperties(e.prototype,r)}var Hg=(e,t)=>{j.getLogger(`esri.core.Accessor`).error(`cannot assign to ${e} property '${t}'`)},Ug,Wg;function Ite(e){if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case`object`:return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case`boolean`:return{type:Boolean,value:e};case`string`:return{type:String,value:e};case`number`:return{type:Number,value:e};case`function`:return{type:e,value:null};default:return}}var Gg=Symbol(`Accessor-Handles`),Kg=Symbol(`Accessor-Initialized`),I=class e{static{Ug=Gg,Wg=Kg}static createSubclass(e={}){if(Array.isArray(e))throw Error(`Multi-inheritance unsupported since 4.16`);let{properties:t,declaredClass:n,constructor:r}=e;delete e.declaredClass,delete e.properties,delete e.constructor;let i=this;class a extends i{constructor(...e){super(...e),this.inherited=null,r&&r.apply(this,e)}}for(let t in Sm(a.prototype),e){let n=e[t];a.prototype[t]=typeof n==`function`?function(...e){let r=this.inherited,a;this.inherited=function(...e){if(i.prototype[t])return i.prototype[t].apply(this,e)};try{a=n.apply(this,e)}catch(e){throw this.inherited=r,e}return this.inherited=r,a}:e[t]}for(let e in t){let n=Ite(t[e]);P(n)(a.prototype,e)}return F(n)(a)}static freeze(t){return t instanceof e?t.__accessor__.mutable=!1:Object.freeze(t),t}static isFrozen(t){return t instanceof e?!t.__accessor__.mutable:Object.isFrozen(t)}constructor(...t){if(this[Ug]=null,this[Wg]=!1,this.constructor===e)throw Error(`[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor`);let n=new yee(this);Object.defineProperty(this,`__accessor__`,{enumerable:!1,value:n}),t.length>0&&(n.ctorArgs=this.normalizeCtorArgs?.apply(this,t)??t[0]),qm()?.onInstanceConstruct(this)}postscript(){let e=this.__accessor__,t=e.ctorArgs;e.initialize(),t&&(this.set(t),e.ctorArgs=null),e.constructed(),this.initialize(),this[Kg]=!0}initialize(){}[fm](){this[Gg]=Gd(this[Gg])}destroy(){this.destroyed||(Gee(this),this.__accessor__.destroy(),qm()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[Kg]}get destroyed(){return this.__accessor__?.lifecycle===xm.DESTROYED||!1}get destroying(){return this.__accessor__?.lifecycle===xm.DESTROYING||!1}commitProperty(e){bm(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,t){return Km(this,e,t),this}watch(e,t,n){return tm(j.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:`reactiveUtils.watch`,version:`4.32`,see:`https://arcg.is/1vaqf42#watch`,warnOnce:!0}),Zee(this,e,t,n)}addHandles(e,t){if(this.destroyed){let t=Array.isArray(e)?e:[e];for(let e of t)e.remove();return}(this[Gg]??=new cm).add(e,t)}removeHandles(e){this[Gg]?.remove(e)}removeAllHandles(){this[Gg]?.removeAll()}removeHandlesReference(e){this[Gg]?.removeReference(e)}hasHandles(e){return!0===this[Gg]?.has(e)}_override(e,t){t===void 0?this.__accessor__.clearOverride(e):this.__accessor__.override(e,t)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,t){t==null?this.__accessor__.clearOverride(e):this.__accessor__.override(e,t)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,t){return this.__accessor__.internalSet(e,t),this}},qg=e=>{let t=e;class n extends t{constructor(){super(...arguments),this._listenersMap=null}clearEvents(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clearEvents()}emit(e,t){let n=this._listenersMap?.get(e);if(!n)return!1;let r=!1;for(let e of n.slice()){let n=`deref`in e?e.deref():e;n?n?.call(this,t):r=!0}return r&&(n=n.filter(e=>!(`deref`in e)||e.deref()!=null),this._listenersMap.set(e,n)),n.length>0}on(e,t){if(Array.isArray(e)){let n=e.map(e=>this.on(e,t));return kd(n)}if(e.includes(`,`))throw TypeError(`Evented.on() with a comma delimited string of event types is not supported`);this._listenersMap??=new Map;let n=this._listenersMap.get(e)||[];return n.push(t),this._listenersMap.set(e,n),Ed(()=>{let n=this._listenersMap?.get(e),r=n?.indexOf(t)??-1;r>=0&&n.splice(r,1)})}once(e,t){let n=this.on(e,e=>{n.remove(),(`deref`in t?t.deref():t)?.call(null,e)});return n}hasEventListener(e){let t=this._listenersMap?.get(e);return t!=null&&t.length>0}}return n},Jg=qg(class{}),Yg=Jg,Xg=qg(I);function Zg(e){return(t,n)=>{t[n]=e}}var Qg=class extends wm{notify(){let e=this._observers;if(e&&e.length>0){let t=e.slice();for(let e of t)e.onInvalidated(),e.onCommitted()}}},$g,Lte=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},Rte=class{constructor(e,t,n,r,i){this.target=e,this.added=t,this.removed=n,this.start=r,this.deleteCount=i}},e_=new Gp(()=>new Lte,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function t_(e){e&&typeof e==`object`&&`destroy`in e&&typeof e.destroy==`function`&&e.destroy()}function n_(e){return e?e instanceof l_?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function r_(e){if(e?.length)return e[0]}function zte(e,t,n,r){let i=Math.min(e.length-n,t.length-r),a=0;for(;a<i&&e[n+a]===t[r+a];)a++;return a}function i_(e,t,n,r){t&&t.forEach((t,i,a)=>{e.push(t),i_(e,n.call(r,t,i,a),n,r)})}var a_=new Set,o_=new Set,s_=new Set,c_=new Map,Bte=0,l_=$g=class extends Xg{static ofType(e){if(!e)return $g;if(c_.has(e))return c_.get(e);let t=null;if(typeof e==`function`)t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(let n in e.typeMap){let r=e.typeMap[n].prototype.declaredClass;t?t+=` | ${r}`:t=r}let n=class extends $g{};return O([Zg({Type:e,ensureType:typeof e==`function`?ag(e):ug(e)})],n.prototype,`itemType`,void 0),n=O([F(`esri.core.Collection<${t}>`)],n),c_.set(e,n),n}static isCollection(e){return e!=null&&e instanceof $g}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new Qg,this.length=0,this._items=[],Object.defineProperty(this,`uid`,{value:Bte++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof $g?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),super.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return Am(this._observable),this._items}set items(e){this._emitBeforeChanges(1)||(this._splice(0,this.length,n_(e)),this._emitAfterChanges(1))}hasEventListener(e){return!this.destroyed&&(e===`change`?this._chgListeners.length>0:super.hasEventListener(e))}on(e,t){if(this.destroyed)return Ed();if(e===`change`){let e=this._chgListeners,n={removed:!1,callback:t};return e.push(n),this._notifications&&this._notifications.push({listeners:e.slice(),items:this._items.slice(),changes:[]}),Ed(()=>{n.removed=!0,e.splice(e.indexOf(n),1)})}return super.on(e,t)}once(e,t){let n=`deref`in t?()=>t.deref():()=>t,r=this.on(e,e=>{n()?.call(null,e),r.remove()});return r}add(e,t){if(Am(this._observable),this._emitBeforeChanges(1))return this;let n=this.getNextIndex(t??null);return this._splice(n,0,[e]),this._emitAfterChanges(1),this}addMany(e,t=this._items.length){if(Am(this._observable),!e?.length||this._emitBeforeChanges(1))return this;let n=this.getNextIndex(t);return this._splice(n,0,n_(e)),this._emitAfterChanges(1),this}at(e){if(Am(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(Am(this._observable),!this.length||this._emitBeforeChanges(2))return[];let e=this._removeAllRaw();return this._emitAfterChanges(2),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return Am(this._observable),this._createNewInstance({items:this._items.map(A)})}concat(...e){Am(this._observable);let t=e.map(n_);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(Am(this._observable),!this.length||this._emitBeforeChanges(2))return;let n=this._splice(0,this.length),r=n.length;for(let i=0;i<r;i++)e.call(t,n[i],i,n);this._emitAfterChanges(2)}destroyAll(){this.drain(t_)}destroyMany(e){let t=this.removeMany(e);return t.forEach(t_),t}every(e,t){return Am(this._observable),this._items.every(e,t)}filter(e,t){Am(this._observable);let n=arguments.length===2?this._items.filter(e,t):this._items.filter(e);return this._createNewInstance({items:n})}find(e,t){return Am(this._observable),this._items.find(e,t)}findIndex(e,t){return Am(this._observable),this._items.findIndex(e,t)}flatten(e,t){Am(this._observable);let n=[];return i_(n,this,e,t),new $g(n)}forEach(e,t){return Am(this._observable),this._items.forEach(e,t)}getItemAt(e){return Am(this._observable),this._items[e]}getNextIndex(e){Am(this._observable);let t=this.length;return(e??=t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return Am(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return Am(this._observable),this._items.indexOf(e,t)}join(e=`,`){return Am(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return Am(this._observable),this._items.lastIndexOf(e,t)}map(e,t){Am(this._observable);let n=this._items.map(e,t);return new $g({items:n})}reorder(e,t=this.length-1){Am(this._observable);let n=this.indexOf(e);if(n!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),n!==t){if(this._emitBeforeChanges(4))return e;this._splice(n,1),this._splice(t,0,[e]),this._emitAfterChanges(4)}return e}}pop(){if(Am(this._observable),!this.length||this._emitBeforeChanges(2))return;let e=r_(this._splice(this.length-1,1));return this._emitAfterChanges(2),e}push(...e){return Am(this._observable),this._emitBeforeChanges(1)||(this._splice(this.length,0,e),this._emitAfterChanges(1)),this.length}reduce(e,t){Am(this._observable);let n=this._items;return arguments.length===2?n.reduce(e,t):n.reduce(e)}reduceRight(e,t){Am(this._observable);let n=this._items;return arguments.length===2?n.reduceRight(e,t):n.reduceRight(e)}remove(e){return Am(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Am(this._observable),e<0||e>=this.length||this._emitBeforeChanges(2))return;let t=r_(this._splice(e,1));return this._emitAfterChanges(2),t}removeMany(e){if(Am(this._observable),!e?.length||this._emitBeforeChanges(2))return[];let t=e instanceof $g?e.toArray():e,n=this._items,r=[],i=t.length;for(let e=0;e<i;e++){let i=t[e],a=n.indexOf(i);if(a>-1){let i=1+zte(t,n,e+1,a+1),o=this._splice(a,i);o&&o.length>0&&r.push.apply(r,o),e+=i-1}}return this._emitAfterChanges(2),r}reverse(){if(Am(this._observable),this._emitBeforeChanges(4))return this;let e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(4),this}shift(){if(Am(this._observable),!this.length||this._emitBeforeChanges(2))return;let e=r_(this._splice(0,1));return this._emitAfterChanges(2),e}slice(e=0,t=this.length){return Am(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return Am(this._observable),this._items.some(e,t)}sort(e){if(Am(this._observable),!this.length||this._emitBeforeChanges(4)||!this._requiresSort(e))return this;let t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(4),this}_requiresSort(e=(e,t)=>e===t?0:e<t?-1:1){let t=this.length-1;for(let n=0;n<t;n++)if(e(this.items[n],this.items[n+1])>0)return!0;return!1}splice(e,t,...n){Am(this._observable),arguments.length===1&&(t=this.length),t??=0;let r=(t?2:0)|(n.length?1:0);if(this._emitBeforeChanges(r))return[];let i=this._splice(e,t,n)||[];return this._emitAfterChanges(r),i}toArray(){return Am(this._observable),this._items.slice()}toJSON(e){return Am(this._observable),this.toArray().map(t=>Nl(t)?t.toJSON(e):t)}toLocaleString(){return Am(this._observable),this._items.toLocaleString()}toString(){return Am(this._observable),this._items.toString()}unshift(...e){return Am(this._observable),!e.length||this._emitBeforeChanges(1)||(this._splice(0,0,e),this._emitAfterChanges(1)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,n){let r=this._items,i=this.itemType,a,o;if(!this._notifications&&this.hasEventListener(`change`)&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=ph(()=>this._dispatchChange())),e<0&&(e+=this.length),t){if(o=r.splice(e,t),this.hasEventListener(`before-remove`)){let t=e_.acquire();t.target=this,t.cancellable=!0;for(let n=0,i=o.length;n<i;n++)a=o[n],t.reset(a),this.emit(`before-remove`,t),t.defaultPrevented&&(o.splice(n,1),r.splice(e,0,a),e+=1,--n,--i);e_.release(t)}if(this.length=this._items.length,this.hasEventListener(`after-remove`)){let e=e_.acquire();e.target=this,e.cancellable=!1;let t=o.length;for(let n=0;n<t;n++)e.reset(o[n]),this.emit(`after-remove`,e);e_.release(e)}}if(n?.length){if(i){let e=[];for(let t of n){let n=i.ensureType(t);n==null&&t!=null||e.push(n)}n=e}let t=this.hasEventListener(`before-add`),a=this.hasEventListener(`after-add`),o=e===this.length;if(t||a){let i=e_.acquire();i.target=this,i.cancellable=!0;let s=e_.acquire();s.target=this,s.cancellable=!1;for(let c of n)t?(i.reset(c),this.emit(`before-add`,i),i.defaultPrevented||(o?r.push(c):r.splice(e++,0,c),this._set(`length`,r.length),a&&(s.reset(c),this.emit(`after-add`,s)))):(o?r.push(c):r.splice(e++,0,c),this._set(`length`,r.length),s.reset(c),this.emit(`after-add`,s));e_.release(s),e_.release(i)}else{if(o)for(let e of n)r.push(e);else r.splice(e,0,...n);this._set(`length`,r.length)}}if((n?.length||o?.length)&&this._notifyChangeEvent(n,o),this.hasEventListener(`after-splice`)){let r=new Rte(this,n,o,e,t);this.emit(`after-splice`,r)}return o}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener(`before-changes`)){let n=e_.acquire();n.target=this,n.cancellable=!0,n.type=e,this.emit(`before-changes`,n),t=n.defaultPrevented,e_.release(n)}return t}_emitAfterChanges(e){if(this.hasEventListener(`after-changes`)){let t=e_.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit(`after-changes`,t),e_.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener(`change`)&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&=(this._timer.remove(),null),this._updating=!1,!this._notifications)return;let e=this._notifications;this._notifications=null;for(let t of e){let e=t.changes;a_.clear(),o_.clear(),s_.clear();for(let{added:t,removed:n}of e){if(t)if(s_.size===0&&o_.size===0)for(let e of t)a_.add(e);else for(let e of t)o_.has(e)?(s_.add(e),o_.delete(e)):s_.has(e)||a_.add(e);if(n)if(s_.size===0&&a_.size===0)for(let e of n)o_.add(e);else for(let e of n)a_.has(e)?a_.delete(e):(s_.delete(e),o_.add(e))}let n=qp.acquire();a_.forEach(e=>{n.push(e)});let r=qp.acquire();o_.forEach(e=>{r.push(e)});let i=this._items,a=t.items,o=qp.acquire();if(s_.forEach(e=>{a.indexOf(e)!==i.indexOf(e)&&o.push(e)}),t.listeners&&(n.length||r.length||o.length)){let e={target:this,added:n,removed:r,moved:o},i=t.listeners.length;for(let n=0;n<i;n++){let r=t.listeners[n];r.removed||r.callback.call(this,e)}}qp.release(n),qp.release(r),qp.release(o)}a_.clear(),o_.clear(),s_.clear()}};O([P()],l_.prototype,`_updating`,void 0),O([P()],l_.prototype,`length`,void 0),O([P()],l_.prototype,`items`,null),O([P({readOnly:!0})],l_.prototype,`updating`,null),l_=$g=O([F(`esri.core.Collection`)],l_);var L=l_;function u_(e,t,n=L){return t||=new n,t===e||t.destroyed||(t.removeAll(),Vte(e)?t.addMany(e):e&&t.add(e)),t}function d_(e){return e}function Vte(e){return e&&(Array.isArray(e)||`items`in e&&Array.isArray(e.items))}var Hte=class e{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){let n=new e;return this._values.forEach((e,r)=>{t&&t.has(r)||n.set(r,A(e.value),e.origin)}),n}get(e,t){t=this._normalizeOrigin(t);let n=this._values.get(e);return t==null||n?.origin===t?n?.value:void 0}originOf(e){return this._values.get(e)?.origin??7}keys(e){e=this._normalizeOrigin(e);let t=[...this._values.keys()];return e==null?t:t.filter(t=>this._values.get(t)?.origin===e)}set(e,t,n){if((n=this._normalizeOrigin(n))===0){let t=this._values.get(e);if(t?.origin!=null&&t.origin>n)return}this._values.set(e,new Ute(t,n))}delete(e,t){(t=this._normalizeOrigin(t))!=null&&this._values.get(e)?.origin!==t||this._values.delete(e)}has(e,t){return(t=this._normalizeOrigin(t))==null?this._values.has(e):this._values.get(e)?.origin===t}isAtOrigin(e,t){return t=this._normalizeOrigin(t),this.has(e,t)&&this.originOf(e)===t}isBelowOrigin(e,t){return t=this._normalizeOrigin(t),!this.has(e)||this.originOf(e)<t}forEach(e){this._values.forEach(({value:t},n)=>e(t,n))}_normalizeOrigin(e){if(e!=null)return e===0?e:7}},Ute=class{constructor(e,t){this.value=e,this.origin=t}};function f_(e,t,n){t.keys().forEach(e=>{n.set(e,t.get(e),0)});let r=e.metadata;Object.keys(r).forEach(t=>{e.internalGet(t)&&n.set(t,e.internalGet(t),0)})}function Wte(e,t,n){if(!e?.read||!1===e.read.enabled||!e.read.source)return!1;let r=e.read.source;if(typeof r==`string`){if(r===t||r.includes(`.`)&&r.startsWith(t)&&lee(r,n))return!0}else for(let e of r)if(e===t||e.includes(`.`)&&e.startsWith(t)&&lee(e,n))return!0;return!1}function Gte(e){return e&&(!e.read||!1!==e.read.enabled&&!e.read.source)}function Kte(e,t,n,r,i){let a=_g(t[n],i);Gte(a)&&(e[n]=!0);for(let o of Object.getOwnPropertyNames(t))a=_g(t[o],i),Wte(a,n,r)&&(e[o]=!0)}function qte(e,t,n,r){let i=n.metadata,a=vte(i[t],r)?.default;if(a===void 0)return;let o=typeof a==`function`?a.call(e,t,r):a;o!==void 0&&n.set(t,o)}var p_={origin:`service`};function m_(e,t,n=p_){if(!t||typeof t!=`object`)return;let r=pm(e),i=r.metadata,a={};for(let e of Object.getOwnPropertyNames(t))Kte(a,i,e,t,n);r.setDefaultOrigin(n.origin);for(let o of Object.getOwnPropertyNames(a)){let a=_g(i[o],n).read,s=a?.source,c;c=s&&typeof s==`string`?ym(t,s):t[o],a?.reader&&(c=a.reader.call(e,c,t,n)),c!==void 0&&r.set(o,c)}if(!n||!n.ignoreDefaults){r.setDefaultOrigin(`defaults`);for(let t of Object.getOwnPropertyNames(i))a[t]||qte(e,t,r,n)}r.setDefaultOrigin(`user`)}function h_(e,t,n,r=p_){let i={...r,messages:[]};n(i),i.messages?.forEach(t=>{t.type!==`warning`||e.loaded?r?.messages&&r.messages.push(t):e.loadWarnings.push(t)})}function Jte(e,t,n,r,i){let a={};return t.write?.writer?.call(e,r,a,n,i),a}function g_(e,t,n,r,i,a){if(!r?.write)return!1;let o=bm(e,n);if(!i&&r.write.overridePolicy){let t=r.write.overridePolicy.call(e,o,n,a??void 0);t!==void 0&&(i=t)}if(i||=r.write,!i||!1===i.enabled||i.layerContainerTypes&&a?.layerContainerType&&!i.layerContainerTypes.includes(a.layerContainerType))return!1;if((o===null&&!i.allowNull&&!i.writerEnsuresNonNull||o===void 0)&&i.isRequired){let t=new M(`web-document-write:property-required`,`Missing value for required property '${n}' on '${e.declaredClass}'`,{propertyName:n,target:e});return t&&a?.messages?a.messages.push(t):t&&!a&&j.getLogger(`esri.core.accessorSupport.write`).error(t.name,t.message),!1}return!(o===void 0||o===null&&!i.allowNull&&!i.writerEnsuresNonNull||!i.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(n)===0)&&Yte(e,n,a,r,o)||!i.ignoreOrigin&&a?.origin&&t.store.multipleOriginsSupported&&t.store.originOf(n)<Vm(a.origin))}function Yte(e,t,n,r,i){let a=r.default;if(a===void 0)return!1;if(r.defaultEquals!=null)return r.defaultEquals(i);if(typeof a==`function`){if(Array.isArray(i)){let r=a.call(e,t,n??void 0);return gc(r,i)}return!1}return a===i}function __(e,t,n,r){let i=pm(e),a=i.metadata,o=vg(a[t],r);return!!o&&g_(e,i,t,o,n,r)}function v_(e,t,n){if(e&&typeof e.toJSON==`function`&&(!e.toJSON.isDefaultToJSON||!e.write))return hm(t,e.toJSON(n));let r=pm(e),i=r.metadata;for(let a in i){let o=vg(i[a],n);if(!g_(e,r,a,o,void 0,n))continue;let s=bm(e,a),c=Jte(e,o,o.write&&typeof o.write.target==`string`?o.write.target:a,s,n);Object.keys(c).length>0&&(t=hm(t,c),n?.resources?.pendingOperations?.length&&n.resources.pendingOperations.push(Promise.all(n.resources.pendingOperations).then(()=>hm(t,c,()=>`replace-arrays`))),n?.writtenProperties&&n.writtenProperties.push({target:e,propName:a,oldOrigin:_ee(r.store.originOf(a)),newOrigin:n.origin}))}return t}var y_=e=>{let t=e,n=class extends t{constructor(...e){super(...e);let t=pm(this),n=t.store,r=new Hte;t.store=r,f_(t,n,r)}read(e,t){m_(this,e,t)}write(e,t){return v_(this,e??{},t)}toJSON(e){return this.write({},e)}static fromJSON(e,t){return Xte.call(this,e,t)}};return n=O([F(`esri.core.JSONSupport`)],n),n.prototype.toJSON.isDefaultToJSON=!0,n};function Xte(e,t){if(!e)return null;if(e.declaredClass)throw Error(`JSON object is already hydrated`);let n=new this;return n.read(e,t),n}var R=y_(I),Zte=class{constructor(){this._resolver=yf(),this._status=0,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=1,this._cleanUp()},()=>{this._status=2,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(e){this._resolvingPromises.push(e),this._tryResolve()}isResolved(){return this._status===1}isRejected(){return this._status===2}isFulfilled(){return this._status!==0}abort(){this._resolver.reject(Qd())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;let e=yf(),t=[...this._resolvingPromises,e.promise],n=this._allPromise=Promise.all(t);n.then(()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve()},e=>{this.isFulfilled()||this._allPromise!==n||lf(e)||this._resolver.reject(e)}),e.resolve()}},b_=e=>{let t=e,n=class extends t{constructor(...e){super(...e),this._promiseProps=new Zte,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(e,t){return this._promiseProps.promise.then(()=>this).then(e,t)}catch(e){return this.when(null,e)}addResolvingPromise(e){e&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise(`_promiseProps`in e?e.when():e)}addResolvingTask(e){e&&!this._promiseProps.isFulfilled()&&(this.addHandles(jd(e)),this._promiseProps.addResolvingPromise(e.promise))}};return n=O([F(`esri.core.Promise`)],n),n},x_=b_(I),Qte=`not-loaded`,$te=`loading`,ene=`failed`,S_=`loaded`,C_=e=>{let t=e,n=class extends t{constructor(...e){super(...e),this._loadController=null,this.loadError=null,this.loadStatus=`not-loaded`,this._set(`loadWarnings`,[]),this.addResolvingPromise(new Promise(e=>{let t=this.load.bind(this);this.load=n=>{let r=new Promise((e,t)=>{let r=sf(n,t);this.destroyed&&t(new M(`load:instance-destroyed`,`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(e,t).finally(()=>{r&&r.remove()})});if(this.loadStatus===Qte){this._set(`loadStatus`,$te);let e=this._loadController=new AbortController;t({signal:e.signal})}return e(),r}})),this.when(()=>{this._set(`loadStatus`,S_),this._loadController=null},e=>{this.destroyed||(this._set(`loadStatus`,ene),this._set(`loadError`,e),this._loadController=null)})}destroy(){this._loadController&&(this._loadController=Jd(this._loadController),this._promiseProps.abort()),this._set(`loadError`,null),this._set(`loadWarnings`,[])}get loaded(){return this.loadStatus===S_}get loadWarnings(){return this._get(`loadWarnings`)}load(e){return null}cancelLoad(){return this.isFulfilled()||(this._set(`loadError`,new M(`load:cancelled`,`Cancelled`)),this._loadController?.abort(),this._promiseProps.abort()),this}};return O([P({readOnly:!0})],n.prototype,`loaded`,null),O([P({readOnly:!0})],n.prototype,`loadError`,void 0),O([P({clonable:!1})],n.prototype,`loadStatus`,void 0),O([P({type:[gg],readOnly:!0})],n.prototype,`loadWarnings`,null),n=O([F(`esri.core.Loadable`)],n),n},w_=C_(x_);function T_(e){return!(!e||!e.load)}function tne(e,t,n){return df(e.map((e,r)=>t.apply(n,[e,r])))}async function nne(e,t,n){return(await df(e.map((e,r)=>t.apply(n,[e,r])))).map(e=>e.value)}function E_(e){return{ok:!0,value:e}}function D_(e){return{ok:!1,error:e}}function rne(e){return e!=null&&!0===e.ok?e.value:null}function ine(e){return e!=null&&!1===e.ok?e.error:null}async function O_(e){if(e==null)return{ok:!1,error:Error(`no promise provided`)};try{return E_(await e)}catch(e){return D_(e)}}async function k_(e){try{return E_(await e)}catch(e){return nf(e),D_(e)}}function A_(e,t){return new j_(e,t)}var j_=class extends I{get value(){return rne(this._result)}get error(){return ine(this._result)}get finished(){return this._result!=null}constructor(e,t){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=Jd(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;let{signal:n}=this._abortController;this.promise=e(n),this.promise.then(e=>{this._result=E_(e),this._cleanup()},e=>{this._result=D_(e),this._cleanup()}),this._abortHandle=af(t,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=qd(this._abortHandle),this._abortController=null}};O([P()],j_.prototype,`value`,null),O([P()],j_.prototype,`error`,null),O([P()],j_.prototype,`finished`,null),O([P()],j_.prototype,`promise`,void 0),O([P()],j_.prototype,`_result`,void 0),j_=O([F(`esri.core.asyncUtils.ReactiveTask`)],j_);async function M_(e,t){return await e.load(),N_(e,t)}async function N_(e,t){let n=[],r=(...e)=>{for(let t of e)t!=null&&(Array.isArray(t)?r(...t):L.isCollection(t)?t.forEach(e=>r(e)):T_(t)&&n.push(t))};t(r);let i=null;if(await nne(n,async e=>{let t=await O_(ane(e)?e.loadAll():e.load());!1!==t.ok||i||(i=t)}),i)throw i.error;return e}function ane(e){return`loadAll`in e&&typeof e.loadAll==`function`}function z(e,t,n){let r,i;return t===void 0?(i=e,r=[void 0]):typeof t==`string`?(i=t,r=Array.isArray(e)?e:[e]):(i=e,r=[void 0],n=t),(e,t)=>{let a=e.constructor.prototype;for(let o of r){let r=hg(e,o,i);r.write&&typeof r.write==`object`||(r.write={}),n&&(r.write.target=n),r.write.writer=a[t]}}}var P_=class{constructor(e,t={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=e,this._options=t,this.apiValues=[],this.jsonValues=[],this._apiToJSON=one(e),this.apiValues=F_(this._apiToJSON),this.jsonValues=F_(this._jsonToAPI),this.read=e=>this.fromJSON(e),this.write=(e,t,n)=>{let r=this.toJSON(e);r!==void 0&&fl(n,r,t)},this.write.isJSONMapWriter=!0}toJSON(e){if(e==null)return null;if(this._apiToJSON.hasOwnProperty(e)){let t=this._apiToJSON[e];return this._options.useNumericKeys?+t:t}return this._options.ignoreUnknown?null:e}fromJSON(e){return e!=null&&this._jsonToAPI.hasOwnProperty(e)?this._jsonToAPI[e]:this._options.ignoreUnknown?void 0:e}};function one(e){let t={};for(let n in e)t[e[n]]=n;return t}function F_(e){let t=[];for(let n in e)t.push(n);return t.sort(),t}function I_(){return function(e,t){return new P_(e,{ignoreUnknown:!0,...t})}}var L_=class{constructor(e,t,n,r,i,a){this.semiMajorAxis=e,this.flattening=t,this.outerAtmosphereRimWidth=n,this.atmosphereHeight=r,this.scaleHeight=i;let o=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*o,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=a||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}},R_=new L_(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),z_=new L_(3396190,1/169.8944472236118,23e4,6e4,.111),B_=new L_(1737400,0,0,0,0);function V_(e){if(!vl.assetsPath)throw j.getLogger(`esri.assets`).errorOnce(`The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50`),new M(`assets:path-not-set`,`config.assetsPath is not set`);return Tu(vl.assetsPath,e)}var H_,B=null;function U_(){return!!B}function sne(){return!!k(`esri-wasm`)}function W_(){return H_||(H_=N(async()=>{let{default:e}=await import(`./pe-wasm-C58pK9du.js`);return{default:e}},[]).then(({default:e})=>e({locateFile:e=>V_(`esri/geometry/support/${e}`)})).then(e=>{cv(e)}),H_)}var G_={geogToProj(e,t,n){B.ensureCache.prepare();let r=dv(n),i=n===r,a=B.ensureFloat64(r),o=B._pe_geog_to_proj(B.getPointer(e),t,a);return o&&fv(n,t,a,i),o},projGeog(e,t,n,r){switch(r){case K_.PE_TRANSFORM_P_TO_G:return G_.projToGeog(e,t,n);case K_.PE_TRANSFORM_G_TO_P:return G_.geogToProj(e,t,n)}return 0},projToGeog:(e,t,n)=>G_.projToGeogCenter(e,t,n,0),projToGeogCenter(e,t,n,r){B.ensureCache.prepare();let i=dv(n),a=n===i,o=B.ensureFloat64(i),s=B._pe_proj_to_geog_center(B.getPointer(e),t,o,r);return s&&fv(n,t,o,a),s}},K_=class e{static init(){e.PE_BUFFER_MAX=B.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=B.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=B.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=B.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=B.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=B.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=B.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=B.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=B.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=B.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=B.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=B.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=B.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=B.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=B.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=B.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=B.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=B.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=B.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=B.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=B.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=B.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=B.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=B.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=B.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=B.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=B.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=B.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=B.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=B.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=B.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=B.PeDefs.prototype.PE_HORIZON_DELTA}},q_=null,J_={},Y_={},X_=e=>{let t=e.getType();switch(t){case K_.PE_TYPE_GEOGCS:e=B.castObject(e,B.PeGeogcs);break;case K_.PE_TYPE_PROJCS:e=B.castObject(e,B.PeProjcs);break;case K_.PE_TYPE_GEOGTRAN:e=B.castObject(e,B.PeGeogtran);break;default:t&K_.PE_TYPE_UNIT&&(e=B.castObject(e,B.PeUnit))}return e},Z_={initialize(){B.PeFactory.prototype.initialize(null)},coordsys:e=>Z_.factoryByType(K_.PE_TYPE_COORDSYS,e),factoryByType(e,t){let n=null,r=J_[e];if(r||(r={},J_[e]=r),r.hasOwnProperty(String(t))&&(n=r[t],B.compare(n,B.NULL)&&(n=null)),!n){let i=B.PeFactory.prototype.factoryByType(e,t);B.compare(i,B.NULL)||(n=X_(i),r[t]=n)}return n},fromString(e,t){let n=null,r=Y_[e];if(r||(r={},Y_[e]=r),r.hasOwnProperty(t)&&(n=r[t],B.compare(n,B.NULL)&&(n=null)),!n){let i=B.PeFactory.prototype.fromString(e,t);B.compare(i,B.NULL)||(n=X_(i),r[t]=n)}return n},geogcs:e=>Z_.factoryByType(K_.PE_TYPE_GEOGCS,e),geogtran:e=>Z_.factoryByType(K_.PE_TYPE_GEOGTRAN,e),getCode:e=>B.PeFactory.prototype.getCode(e),projcs:e=>Z_.factoryByType(K_.PE_TYPE_PROJCS,e),unit:e=>Z_.factoryByType(K_.PE_TYPE_UNIT,e)},Q_,$_=null,ev={PE_GTLIST_OPTS_COMMON:0,init(){ev.PE_GTLIST_OPTS_COMMON=B.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,Q_=B._pe_getPeGTlistExtendedEntrySize()},getGTlist(e,t,n,r,i,a){let o=null,s=new B.PeInteger(a);try{let c=B.PeGTlistExtended.prototype.getGTlist(e,t,n,r,i,s);if((a=s.val)&&(o=[c],a>1)){let e=B.getPointer(c);for(let t=1;t<a;t++)o.push(B.wrapPointer(e+Q_*t,B.PeGTlistExtendedEntry))}}finally{B.destroy(s)}return o}},cne={destroy(e){if(e?.length){for(let t of e)lv(t),t.getEntries().forEach(e=>{lv(e);let t=e.getGeogtran();lv(t),t.getParameters().forEach(lv),[t.getGeogcs1(),t.getGeogcs2()].forEach(e=>{lv(e);let t=e.getDatum();lv(t),lv(t.getSpheroid()),lv(e.getPrimem()),lv(e.getUnit())})});B.PeGTlistExtendedEntry.prototype.Delete(e[0])}}},tv={geogToGeog(e,t,n,r,i){B.ensureCache.prepare();let a=dv(n),o=n===a,s=B.ensureFloat64(a),c=0;r&&(c=B.ensureFloat64(r));let l=B._pe_geog_to_geog(B.getPointer(e),t,s,c,i);return l&&fv(n,t,s,o),l}},lne={geodesicCoordinate(e,t,n,r,i,a,o,s){B.PeLineType.prototype.geodesic_coordinate(e,t,n,r,i,a,o,s)},geodeticCoordinate(e,t,n,r,i,a,o,s,c){B.PeLineType.prototype.geodetic_coordinate(e,t,n,r,i,a,o,s,c)},geodeticDistance(e,t,n,r,i,a,o,s,c,l){B.PeLineType.prototype.geodetic_distance(e,t,n,r,i,a,o,s,c,l)},greatEllipticDistance(e,t,n,r,i,a,o,s,c){B.PeLineType.prototype.great_elliptic_distance(e,t,n,r,i,a,o,s,c)}},une={phiToEta:(e,t)=>B.PeMath.prototype.phi_to_eta(e,t),etaToPhi:(e,t)=>B.PeMath.prototype.eta_to_phi(e,t),phiToPhig:(e,t)=>B.PeMath.prototype.phi_to_phig(e,t),q:(e,t,n)=>B.PeMath.prototype.q(e,t,n),q90:(e,t)=>B.PeMath.prototype.q90(e,t)},nv=(e,t,n,r,i,a)=>{let o,s;switch(B.ensureCache.prepare(),e){case`dd`:o=B._pe_geog_to_dd,s=K_.PE_DD_MAX;break;case`ddm`:o=B._pe_geog_to_ddm,s=K_.PE_DDM_MAX;break;case`dms`:o=B._pe_geog_to_dms,s=K_.PE_DMS_MAX}let c=0;t&&(c=B.getPointer(t));let l=dv(r),u=B.ensureFloat64(l),d=uv(n,s),f=o(c,n,u,i,B.ensureInt32(d));if(f)for(let e=0;e<n;e++)a[e]=B.UTF8ToString(d[e]);return f},rv=(e,t,n,r,i)=>{let a;switch(B.ensureCache.prepare(),e){case`dd`:a=B._pe_dd_to_geog;break;case`ddm`:a=B._pe_ddm_to_geog;break;case`dms`:a=B._pe_dms_to_geog}let o=0;t&&(o=B.getPointer(t));let s=r.map(e=>B.ensureString(e)),c=B.ensureInt32(s),l=B.ensureFloat64(Array(2*n)),u=a(o,n,c,l);return u&&fv(i,n,l),u},iv={geogToDms:(e,t,n,r,i)=>nv(`dms`,e,t,n,r,i),dmsToGeog:(e,t,n,r)=>rv(`dms`,e,t,n,r),geogToDdm:(e,t,n,r,i)=>nv(`ddm`,e,t,n,r,i),ddmToGeog:(e,t,n,r)=>rv(`ddm`,e,t,n,r),geogToDd:(e,t,n,r,i)=>nv(`dd`,e,t,n,r,i),ddToGeog:(e,t,n,r)=>rv(`dd`,e,t,n,r)},av=class e{static init(){e.PE_MGRS_STYLE_NEW=B.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=B.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=B.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=B.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=B.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}static geogToMgrsExtended(e,t,n,r,i,a,o){B.ensureCache.prepare();let s=0;e&&(s=B.getPointer(e));let c=dv(n),l=B.ensureFloat64(c),u=uv(t,K_.PE_MGRS_MAX),d=B.ensureInt32(u),f=B._pe_geog_to_mgrs_extended(s,t,l,r,i,a,d);if(f)for(let e=0;e<t;e++)o[e]=B.UTF8ToString(u[e]);return f}static mgrsToGeogExtended(e,t,n,r,i){B.ensureCache.prepare();let a=0;e&&(a=B.getPointer(e));let o=n.map(e=>B.ensureString(e)),s=B.ensureInt32(o),c=B.ensureFloat64(Array(2*t)),l=B._pe_mgrs_to_geog_extended(a,t,s,r,c);return l&&fv(i,t,c),l}},dne={geogToUsng(e,t,n,r,i,a,o){B.ensureCache.prepare();let s=0;e&&(s=B.getPointer(e));let c=dv(n),l=B.ensureFloat64(c),u=uv(t,K_.PE_MGRS_MAX),d=B.ensureInt32(u),f=B._pe_geog_to_usng(s,t,l,r,i,a,d);if(f)for(let e=0;e<t;e++)o[e]=B.UTF8ToString(u[e]);return f},usngToGeog(e,t,n,r){B.ensureCache.prepare();let i=0;e&&(i=B.getPointer(e));let a=n.map(e=>B.ensureString(e)),o=B.ensureInt32(a),s=B.ensureFloat64(Array(2*t)),c=B._pe_usng_to_geog(i,t,o,s);return c&&fv(r,t,s),c}},ov=class e{static init(){e.PE_UTM_OPTS_NONE=B.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=B.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=B.PeNotationUtm.prototype.PE_UTM_OPTS_NS}static geogToUtm(e,t,n,r,i){B.ensureCache.prepare();let a=0;e&&(a=B.getPointer(e));let o=dv(n),s=B.ensureFloat64(o),c=uv(t,K_.PE_UTM_MAX),l=B.ensureInt32(c),u=B._pe_geog_to_utm(a,t,s,r,l);if(u)for(let e=0;e<t;e++)i[e]=B.UTF8ToString(c[e]);return u}static utmToGeog(e,t,n,r,i){B.ensureCache.prepare();let a=0;e&&(a=B.getPointer(e));let o=n.map(e=>B.ensureString(e)),s=B.ensureInt32(o),c=B.ensureFloat64(Array(2*t)),l=B._pe_utm_to_geog(a,t,s,r,c);return l&&fv(i,t,c),l}},sv=class e{static{this.cache=new Map}static init(){e.PE_PCSINFO_OPTION_NONE=B.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=B.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=B.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=B.PePCSInfo.prototype.PE_POLE_POINT}static generate(t,n=e.PE_PCSINFO_OPTION_DOMAIN){let r=null,i=null;return e.cache.has(t)&&(i=e.cache.get(t),i[n]&&(r=i[n])),r||(r=B.PePCSInfo.prototype.generate(t,n),i||(i=[],e.cache.set(t,i)),i[n]=r),r}},fne={versionString:()=>B.PeVersion.prototype.version_string()};function cv(e){function t(e,t,n){e[t]=n(e[t])}B=e,K_.init(),ev.init(),av.init(),ov.init(),sv.init(),q_=class extends B.PeDouble{constructor(e=NaN){super(e)}destroy(){B.destroy(this)}[Symbol.dispose](){this.destroy()}},$_=class extends B.PeGCSExtent{destroy(){B.destroy(this)}[Symbol.dispose](){this.destroy()}};let n=[B.PeAngunit,B.PeDatum,B.PeGeogcs,B.PeGeogtran,B.PeObject,B.PeParameter,B.PePrimem,B.PeProjcs,B.PeSpheroid,B.PeUnit];for(let e of n)t(e.prototype,`getName`,e=>function(){return e.call(this,Array(K_.PE_NAME_MAX))});for(let e of[B.PeGeogtran,B.PeProjcs])t(e.prototype,`getParameters`,e=>function(){let t=Array(K_.PE_PARM_MAX),n=e.call(this);for(let e=0;e<t.length;e++){let r=B.getValue(n,`*`);t[e]=r?B.wrapPointer(r,B.PeParameter):null,n+=Int32Array.BYTES_PER_ELEMENT}return t});t(B.PeHorizon.prototype,`getCoord`,e=>function(t=!1){let n=this.getSize();if(!n)return null;let r=[];return fv(r,n,e.call(this),t),r}),t(B.PeGTlistExtendedEntry.prototype,`getEntries`,e=>{let t=B._pe_getPeGTlistExtendedGTsSize();return function(){let n=null,r=e.call(this);if(!B.compare(r,B.NULL)){n=[r];let e=this.getSteps();if(e>1){let i=B.getPointer(r);for(let r=1;r<e;r++)n.push(B.wrapPointer(i+t*r,B.PeGTlistExtendedGTs))}}return n}});let r=B._pe_getPeHorizonSize(),i=e=>function(){let t=this._cache;if(t||(t=new Map,this._cache=t),t.has(e))return t.get(e);let n=null,i=e.call(this);if(!B.compare(i,B.NULL)){n=[i];let e=i.getNump();if(e>1){let t=B.getPointer(i);for(let i=1;i<e;i++)n.push(B.wrapPointer(t+r*i,B.PeHorizon))}}return t.set(e,n),n};t(B.PeProjcs.prototype,`horizonGcsGenerate`,i),t(B.PeProjcs.prototype,`horizonPcsGenerate`,i),B.PeObject.prototype.toString=function(e=K_.PE_STR_OPTS_NONE){B.ensureCache.prepare();let t=B.getPointer(this),n=B.ensureInt8(Array(K_.PE_BUFFER_MAX));return B.UTF8ToString(B._pe_object_to_string_ext(t,e,n))},B.PeGeogcs.prototype.destroy=function(){this.Delete(),lv(this),this.ptr=0},B.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},B.PeProjcs.prototype.destroy=function(){this.Delete(),lv(this),this.ptr=0},B.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function lv(e){if(!e)return;let t=B.getClass(e);if(!t)return;let n=B.getCache(t);if(!n)return;let r=B.getPointer(e);r&&delete n[r]}function uv(e,t){let n=[],r=Array(t);for(let t=0;t<e;t++)n.push(B.ensureInt8(r));return n}function dv(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function fv(e,t,n,r=!1){if(r)for(let r=0;r<2*t;r++)e[r]=B.getValue(n+r*Float64Array.BYTES_PER_ELEMENT,`double`);else{let r=e.length===0;for(let i=0;i<t;i++)r&&(e[i]=[,,]),e[i][0]=B.getValue(n,`double`),e[i][1]=B.getValue(n+Float64Array.BYTES_PER_ELEMENT,`double`),n+=2*Float64Array.BYTES_PER_ELEMENT}}var pne=Object.freeze(Object.defineProperty({__proto__:null,PeCSTransformations:G_,PeDefs:K_,get PeDouble(){return q_},PeFactory:Z_,get PeGCSExtent(){return $_},PeGTTransformations:tv,PeGTlistExtended:ev,PeGTlistExtendedEntry:cne,PeLineType:lne,PeMath:une,PeNotationDms:iv,PeNotationMgrs:av,PeNotationUsng:dne,PeNotationUtm:ov,PePCSInfo:sv,PeVersion:fne,_init:cv,get _pe(){return B},isLoaded:U_,isSupported:sne,load:W_},Symbol.toStringTag,{value:`Module`})),V,H={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:[`Meter`,`Foot`,`Foot_US`,`Foot_Clarke`,`Yard_Clarke`,`Link_Clarke`,`Yard_Sears`,`Foot_Sears`,`Chain_Sears`,`Chain_Benoit_1895_B`,`Yard_Indian`,`Yard_Indian_1937`,`Foot_Gold_Coast`,`Chain`,`Chain_Sears_1922_Truncated`,`50_Kilometers`,`150_Kilometers`],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10641:0,10665:0,10674:0,10744:0,10745:0,10759:0,10773:0,10802:0,10820:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,65061:2,65062:2,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(V=2e3;V<=2045;V++)H[V]=0;for(V=2056;V<=2065;V++)H[V]=0;for(V=2067;V<=2135;V++)H[V]=0;for(V=2137;V<=2154;V++)H[V]=0;for(V=2161;V<=2170;V++)H[V]=0;for(V=2172;V<=2193;V++)H[V]=0;for(V=2195;V<=2198;V++)H[V]=0;for(V=2200;V<=2203;V++)H[V]=0;for(V=2205;V<=2217;V++)H[V]=0;for(V=2222;V<=2224;V++)H[V]=1;for(V=2225;V<=2250;V++)H[V]=2;for(V=2251;V<=2253;V++)H[V]=1;for(V=2257;V<=2264;V++)H[V]=2;for(V=2274;V<=2279;V++)H[V]=2;for(V=2280;V<=2282;V++)H[V]=1;for(V=2283;V<=2289;V++)H[V]=2;for(V=2290;V<=2292;V++)H[V]=0;for(V=2308;V<=2313;V++)H[V]=0;for(V=2315;V<=2491;V++)H[V]=0;for(V=2494;V<=2866;V++)H[V]=0;for(V=2867;V<=2869;V++)H[V]=1;for(V=2870;V<=2888;V++)H[V]=2;for(V=2891;V<=2895;V++)H[V]=2;for(V=2896;V<=2898;V++)H[V]=1;for(V=2902;V<=2908;V++)H[V]=2;for(V=2915;V<=2920;V++)H[V]=2;for(V=2921;V<=2923;V++)H[V]=1;for(V=2924;V<=2930;V++)H[V]=2;for(V=2931;V<=2962;V++)H[V]=0;for(V=2964;V<=2968;V++)H[V]=2;for(V=2969;V<=2973;V++)H[V]=0;for(V=2975;V<=2991;V++)H[V]=0;for(V=2995;V<=3051;V++)H[V]=0;for(V=3054;V<=3079;V++)H[V]=0;for(V=3081;V<=3088;V++)H[V]=0;for(V=3092;V<=3101;V++)H[V]=0;for(V=3106;V<=3138;V++)H[V]=0;for(V=3146;V<=3151;V++)H[V]=0;for(V=3153;V<=3166;V++)H[V]=0;for(V=3168;V<=3172;V++)H[V]=0;for(V=3174;V<=3203;V++)H[V]=0;for(V=3294;V<=3358;V++)H[V]=0;for(V=3367;V<=3403;V++)H[V]=0;for(V=3408;V<=3416;V++)H[V]=0;for(V=3417;V<=3438;V++)H[V]=2;for(V=3441;V<=3446;V++)H[V]=2;for(V=3447;V<=3450;V++)H[V]=0;for(V=3451;V<=3459;V++)H[V]=2;for(V=3460;V<=3478;V++)H[V]=0;for(V=3554;V<=3559;V++)H[V]=0;for(V=3560;V<=3570;V++)H[V]=2;for(V=3571;V<=3581;V++)H[V]=0;for(V=3594;V<=3597;V++)H[V]=0;for(V=3601;V<=3604;V++)H[V]=0;for(V=3637;V<=3639;V++)H[V]=0;for(V=3665;V<=3667;V++)H[V]=0;for(V=3693;V<=3695;V++)H[V]=0;for(V=3701;V<=3727;V++)H[V]=0;for(V=3728;V<=3739;V++)H[V]=2;for(V=3740;V<=3751;V++)H[V]=0;for(V=3753;V<=3760;V++)H[V]=2;for(V=3761;V<=3773;V++)H[V]=0;for(V=3775;V<=3777;V++)H[V]=0;for(V=3779;V<=3781;V++)H[V]=0;for(V=3783;V<=3785;V++)H[V]=0;for(V=3788;V<=3791;V++)H[V]=0;for(V=3797;V<=3802;V++)H[V]=0;for(V=3814;V<=3816;V++)H[V]=0;for(V=3825;V<=3829;V++)H[V]=0;for(V=3832;V<=3841;V++)H[V]=0;for(V=3844;V<=3852;V++)H[V]=0;for(V=3873;V<=3885;V++)H[V]=0;for(V=3890;V<=3893;V++)H[V]=0;for(V=3907;V<=3912;V++)H[V]=0;for(V=3942;V<=3950;V++)H[V]=0;for(V=3968;V<=3970;V++)H[V]=0;for(V=3973;V<=3976;V++)H[V]=0;for(V=3986;V<=3989;V++)H[V]=0;for(V=3994;V<=3997;V++)H[V]=0;for(V=4048;V<=4051;V++)H[V]=0;for(V=4056;V<=4063;V++)H[V]=0;for(V=4093;V<=4096;V++)H[V]=0;for(V=4390;V<=4398;V++)H[V]=0;for(V=4399;V<=4413;V++)H[V]=2;for(V=4418;V<=4433;V++)H[V]=2;for(V=4455;V<=4457;V++)H[V]=2;for(V=4484;V<=4489;V++)H[V]=0;for(V=4491;V<=4554;V++)H[V]=0;for(V=4568;V<=4589;V++)H[V]=0;for(V=4652;V<=4656;V++)H[V]=0;for(V=4766;V<=4800;V++)H[V]=0;for(V=5014;V<=5016;V++)H[V]=0;for(V=5069;V<=5072;V++)H[V]=0;for(V=5105;V<=5130;V++)H[V]=0;for(V=5167;V<=5188;V++)H[V]=0;for(V=5253;V<=5259;V++)H[V]=0;for(V=5269;V<=5275;V++)H[V]=0;for(V=5292;V<=5311;V++)H[V]=0;for(V=5329;V<=5331;V++)H[V]=0;for(V=5343;V<=5349;V++)H[V]=0;for(V=5355;V<=5357;V++)H[V]=0;for(V=5387;V<=5389;V++)H[V]=0;for(V=5459;V<=5463;V++)H[V]=0;for(V=5479;V<=5482;V++)H[V]=0;for(V=5518;V<=5520;V++)H[V]=0;for(V=5530;V<=5539;V++)H[V]=0;for(V=5550;V<=5552;V++)H[V]=0;for(V=5562;V<=5583;V++)H[V]=0;for(V=5623;V<=5625;V++)H[V]=2;for(V=5631;V<=5639;V++)H[V]=0;for(V=5649;V<=5653;V++)H[V]=0;for(V=5663;V<=5680;V++)H[V]=0;for(V=5682;V<=5685;V++)H[V]=0;for(V=5875;V<=5877;V++)H[V]=0;for(V=5896;V<=5899;V++)H[V]=0;for(V=5921;V<=5940;V++)H[V]=0;for(V=6050;V<=6125;V++)H[V]=0;for(V=6244;V<=6275;V++)H[V]=0;for(V=6328;V<=6348;V++)H[V]=0;for(V=6350;V<=6356;V++)H[V]=0;for(V=6366;V<=6372;V++)H[V]=0;for(V=6381;V<=6387;V++)H[V]=0;for(V=6393;V<=6404;V++)H[V]=0;for(V=6480;V<=6483;V++)H[V]=0;for(V=6511;V<=6514;V++)H[V]=0;for(V=6579;V<=6581;V++)H[V]=0;for(V=6619;V<=6624;V++)H[V]=0;for(V=6625;V<=6627;V++)H[V]=2;for(V=6628;V<=6632;V++)H[V]=0;for(V=6634;V<=6637;V++)H[V]=0;for(V=6669;V<=6692;V++)H[V]=0;for(V=6707;V<=6709;V++)H[V]=0;for(V=6720;V<=6723;V++)H[V]=0;for(V=6732;V<=6738;V++)H[V]=0;for(V=6931;V<=6933;V++)H[V]=0;for(V=6956;V<=6959;V++)H[V]=0;for(V=7005;V<=7007;V++)H[V]=0;for(V=7057;V<=7070;V++)H[V]=2;for(V=7074;V<=7082;V++)H[V]=0;for(V=7109;V<=7118;V++)H[V]=0;for(V=7119;V<=7127;V++)H[V]=1;for(V=7374;V<=7376;V++)H[V]=0;for(V=7528;V<=7586;V++)H[V]=0;for(V=7587;V<=7645;V++)H[V]=2;for(V=7692;V<=7696;V++)H[V]=0;for(V=7755;V<=7787;V++)H[V]=0;for(V=7791;V<=7795;V++)H[V]=0;for(V=7799;V<=7801;V++)H[V]=0;for(V=7803;V<=7805;V++)H[V]=0;for(V=7825;V<=7831;V++)H[V]=0;for(V=7845;V<=7859;V++)H[V]=0;for(V=8013;V<=8032;V++)H[V]=0;for(V=8065;V<=8068;V++)H[V]=1;for(V=8518;V<=8529;V++)H[V]=2;for(V=8533;V<=8536;V++)H[V]=2;for(V=8538;V<=8540;V++)H[V]=2;for(V=8677;V<=8679;V++)H[V]=0;for(V=8836;V<=8840;V++)H[V]=0;for(V=8857;V<=8859;V++)H[V]=0;for(V=8908;V<=8910;V++)H[V]=0;for(V=9154;V<=9159;V++)H[V]=0;for(V=9205;V<=9218;V++)H[V]=0;for(V=9271;V<=9273;V++)H[V]=0;for(V=9295;V<=9297;V++)H[V]=0;for(V=9356;V<=9360;V++)H[V]=0;for(V=9404;V<=9407;V++)H[V]=0;for(V=9476;V<=9482;V++)H[V]=0;for(V=9487;V<=9494;V++)H[V]=0;for(V=9697;V<=9699;V++)H[V]=0;for(V=9821;V<=9865;V++)H[V]=0;for(V=10285;V<=10291;V++)H[V]=0;for(V=10314;V<=10317;V++)H[V]=0;for(V=10448;V<=10465;V++)H[V]=0;for(V=10726;V<=10729;V++)H[V]=0;for(V=10731;V<=10733;V++)H[V]=0;for(V=11114;V<=11118;V++)H[V]=0;for(V=20004;V<=20032;V++)H[V]=0;for(V=20047;V<=20049;V++)H[V]=0;for(V=20062;V<=20092;V++)H[V]=0;for(V=20135;V<=20138;V++)H[V]=0;for(V=20248;V<=20258;V++)H[V]=0;for(V=20348;V<=20358;V++)H[V]=0;for(V=20436;V<=20440;V++)H[V]=0;for(V=20822;V<=20824;V++)H[V]=0;for(V=20904;V<=20932;V++)H[V]=0;for(V=20934;V<=20936;V++)H[V]=0;for(V=21004;V<=21032;V++)H[V]=0;for(V=21035;V<=21037;V++)H[V]=0;for(V=21095;V<=21097;V++)H[V]=0;for(V=21148;V<=21150;V++)H[V]=0;for(V=21207;V<=21264;V++)H[V]=0;for(V=21307;V<=21364;V++)H[V]=0;for(V=21413;V<=21423;V++)H[V]=0;for(V=21453;V<=21463;V++)H[V]=0;for(V=21473;V<=21483;V++)H[V]=0;for(V=21780;V<=21782;V++)H[V]=0;for(V=21891;V<=21894;V++)H[V]=0;for(V=21896;V<=21899;V++)H[V]=0;for(V=22171;V<=22177;V++)H[V]=0;for(V=22181;V<=22187;V++)H[V]=0;for(V=22191;V<=22197;V++)H[V]=0;for(V=22207;V<=22222;V++)H[V]=0;for(V=22229;V<=22232;V++)H[V]=0;for(V=22234;V<=22236;V++)H[V]=0;for(V=22243;V<=22250;V++)H[V]=0;for(V=22262;V<=22265;V++)H[V]=0;for(V=22307;V<=22322;V++)H[V]=0;for(V=22348;V<=22357;V++)H[V]=0;for(V=22407;V<=22422;V++)H[V]=0;for(V=22462;V<=22465;V++)H[V]=0;for(V=22521;V<=22525;V++)H[V]=0;for(V=22607;V<=22622;V++)H[V]=0;for(V=22641;V<=22646;V++)H[V]=0;for(V=22648;V<=22657;V++)H[V]=0;for(V=22707;V<=22722;V++)H[V]=0;for(V=22762;V<=22765;V++)H[V]=0;for(V=22807;V<=22822;V++)H[V]=0;for(V=22991;V<=22994;V++)H[V]=0;for(V=23028;V<=23038;V++)H[V]=0;for(V=23301;V<=23333;V++)H[V]=2;for(V=23830;V<=23853;V++)H[V]=0;for(V=23866;V<=23872;V++)H[V]=0;for(V=23877;V<=23884;V++)H[V]=0;for(V=23886;V<=23894;V++)H[V]=0;for(V=23946;V<=23948;V++)H[V]=0;for(V=24311;V<=24313;V++)H[V]=0;for(V=24342;V<=24347;V++)H[V]=0;for(V=24370;V<=24374;V++)H[V]=10;for(V=24375;V<=24381;V++)H[V]=0;for(V=24718;V<=24721;V++)H[V]=0;for(V=24817;V<=24821;V++)H[V]=0;for(V=24877;V<=24882;V++)H[V]=0;for(V=24891;V<=24893;V++)H[V]=0;for(V=25391;V<=25395;V++)H[V]=0;for(V=25828;V<=25838;V++)H[V]=0;for(V=26191;V<=26195;V++)H[V]=0;for(V=26391;V<=26393;V++)H[V]=0;for(V=26701;V<=26722;V++)H[V]=0;for(V=26729;V<=26799;V++)H[V]=2;for(V=26801;V<=26803;V++)H[V]=2;for(V=26811;V<=26813;V++)H[V]=2;for(V=26847;V<=26870;V++)H[V]=2;for(V=26891;V<=26899;V++)H[V]=0;for(V=26901;V<=26923;V++)H[V]=0;for(V=26929;V<=26946;V++)H[V]=0;for(V=26948;V<=26998;V++)H[V]=0;for(V=27037;V<=27040;V++)H[V]=0;for(V=27205;V<=27232;V++)H[V]=0;for(V=27258;V<=27260;V++)H[V]=0;for(V=27391;V<=27398;V++)H[V]=0;for(V=27561;V<=27564;V++)H[V]=0;for(V=27571;V<=27574;V++)H[V]=0;for(V=27581;V<=27584;V++)H[V]=0;for(V=27591;V<=27594;V++)H[V]=0;for(V=27700;V<=27707;V++)H[V]=0;for(V=28191;V<=28193;V++)H[V]=0;for(V=28348;V<=28358;V++)H[V]=0;for(V=28402;V<=28432;V++)H[V]=0;for(V=28462;V<=28492;V++)H[V]=0;for(V=29118;V<=29122;V++)H[V]=0;for(V=29168;V<=29172;V++)H[V]=0;for(V=29177;V<=29185;V++)H[V]=0;for(V=29187;V<=29195;V++)H[V]=0;for(V=29900;V<=29903;V++)H[V]=0;for(V=30161;V<=30179;V++)H[V]=0;for(V=30491;V<=30494;V++)H[V]=0;for(V=30729;V<=30732;V++)H[V]=0;for(V=31251;V<=31259;V++)H[V]=0;for(V=31265;V<=31268;V++)H[V]=0;for(V=31275;V<=31279;V++)H[V]=0;for(V=31281;V<=31297;V++)H[V]=0;for(V=31461;V<=31469;V++)H[V]=0;for(V=31491;V<=31495;V++)H[V]=0;for(V=31917;V<=31922;V++)H[V]=0;for(V=31965;V<=32e3;V++)H[V]=0;for(V=32001;V<=32003;V++)H[V]=2;for(V=32005;V<=32031;V++)H[V]=2;for(V=32033;V<=32060;V++)H[V]=2;for(V=32064;V<=32067;V++)H[V]=2;for(V=32074;V<=32077;V++)H[V]=2;for(V=32081;V<=32086;V++)H[V]=0;for(V=32107;V<=32130;V++)H[V]=0;for(V=32133;V<=32159;V++)H[V]=0;for(V=32164;V<=32167;V++)H[V]=2;for(V=32180;V<=32199;V++)H[V]=0;for(V=32201;V<=32260;V++)H[V]=0;for(V=32301;V<=32360;V++)H[V]=0;for(V=32401;V<=32460;V++)H[V]=0;for(V=32501;V<=32560;V++)H[V]=0;for(V=32601;V<=32662;V++)H[V]=0;for(V=32664;V<=32667;V++)H[V]=2;for(V=32701;V<=32761;V++)H[V]=0;for(V=53001;V<=53004;V++)H[V]=0;for(V=53008;V<=53019;V++)H[V]=0;for(V=53021;V<=53032;V++)H[V]=0;for(V=53034;V<=53037;V++)H[V]=0;for(V=53042;V<=53046;V++)H[V]=0;for(V=53074;V<=53080;V++)H[V]=0;for(V=54001;V<=54004;V++)H[V]=0;for(V=54008;V<=54019;V++)H[V]=0;for(V=54021;V<=54032;V++)H[V]=0;for(V=54034;V<=54037;V++)H[V]=0;for(V=54042;V<=54046;V++)H[V]=0;for(V=54048;V<=54053;V++)H[V]=0;for(V=54074;V<=54080;V++)H[V]=0;for(V=54090;V<=54096;V++)H[V]=0;for(V=54098;V<=54101;V++)H[V]=0;for(V=65161;V<=65163;V++)H[V]=0;for(V=102001;V<=102040;V++)H[V]=0;for(V=102042;V<=102063;V++)H[V]=0;for(V=102065;V<=102067;V++)H[V]=0;for(V=102070;V<=102117;V++)H[V]=0;for(V=102122;V<=102216;V++)H[V]=0;for(V=102221;V<=102377;V++)H[V]=0;for(V=102382;V<=102388;V++)H[V]=0;for(V=102389;V<=102398;V++)H[V]=2;for(V=102399;V<=102444;V++)H[V]=0;for(V=102445;V<=102447;V++)H[V]=2;for(V=102448;V<=102458;V++)H[V]=0;for(V=102459;V<=102468;V++)H[V]=2;for(V=102469;V<=102499;V++)H[V]=0;for(V=102500;V<=102519;V++)H[V]=1;for(V=102520;V<=102524;V++)H[V]=0;for(V=102525;V<=102529;V++)H[V]=2;for(V=102530;V<=102588;V++)H[V]=0;for(V=102590;V<=102598;V++)H[V]=0;for(V=102601;V<=102603;V++)H[V]=0;for(V=102605;V<=102628;V++)H[V]=0;for(V=102629;V<=102646;V++)H[V]=2;for(V=102648;V<=102700;V++)H[V]=2;for(V=102701;V<=102703;V++)H[V]=0;for(V=102707;V<=102730;V++)H[V]=2;for(V=102733;V<=102758;V++)H[V]=2;for(V=102767;V<=102900;V++)H[V]=0;for(V=102901;V<=102933;V++)H[V]=2;for(V=102934;V<=102950;V++)H[V]=13;for(V=102951;V<=102963;V++)H[V]=0;for(V=102965;V<=102969;V++)H[V]=0;for(V=102971;V<=102973;V++)H[V]=0;for(V=102975;V<=102989;V++)H[V]=0;for(V=102990;V<=102992;V++)H[V]=1;for(V=102997;V<=103002;V++)H[V]=0;for(V=103003;V<=103008;V++)H[V]=2;for(V=103009;V<=103011;V++)H[V]=0;for(V=103012;V<=103014;V++)H[V]=2;for(V=103019;V<=103021;V++)H[V]=0;for(V=103022;V<=103024;V++)H[V]=2;for(V=103029;V<=103031;V++)H[V]=0;for(V=103032;V<=103034;V++)H[V]=2;for(V=103065;V<=103068;V++)H[V]=0;for(V=103074;V<=103076;V++)H[V]=0;for(V=103077;V<=103079;V++)H[V]=1;for(V=103080;V<=103082;V++)H[V]=0;for(V=103083;V<=103085;V++)H[V]=2;for(V=103090;V<=103093;V++)H[V]=0;for(V=103097;V<=103099;V++)H[V]=0;for(V=103100;V<=103102;V++)H[V]=2;for(V=103107;V<=103109;V++)H[V]=0;for(V=103110;V<=103112;V++)H[V]=2;for(V=103113;V<=103116;V++)H[V]=0;for(V=103117;V<=103120;V++)H[V]=2;for(V=103153;V<=103157;V++)H[V]=0;for(V=103158;V<=103162;V++)H[V]=2;for(V=103163;V<=103165;V++)H[V]=0;for(V=103166;V<=103168;V++)H[V]=1;for(V=103169;V<=103171;V++)H[V]=2;for(V=103186;V<=103188;V++)H[V]=0;for(V=103189;V<=103191;V++)H[V]=2;for(V=103192;V<=103195;V++)H[V]=0;for(V=103196;V<=103199;V++)H[V]=2;for(V=103200;V<=103224;V++)H[V]=0;for(V=103225;V<=103227;V++)H[V]=1;for(V=103232;V<=103237;V++)H[V]=0;for(V=103238;V<=103243;V++)H[V]=2;for(V=103244;V<=103246;V++)H[V]=0;for(V=103247;V<=103249;V++)H[V]=2;for(V=103254;V<=103256;V++)H[V]=0;for(V=103257;V<=103259;V++)H[V]=2;for(V=103264;V<=103266;V++)H[V]=0;for(V=103267;V<=103269;V++)H[V]=2;for(V=103300;V<=103375;V++)H[V]=0;for(V=103381;V<=103383;V++)H[V]=0;for(V=103384;V<=103386;V++)H[V]=1;for(V=103387;V<=103389;V++)H[V]=0;for(V=103390;V<=103392;V++)H[V]=2;for(V=103397;V<=103399;V++)H[V]=0;for(V=103400;V<=103471;V++)H[V]=2;for(V=103476;V<=103478;V++)H[V]=0;for(V=103479;V<=103481;V++)H[V]=2;for(V=103486;V<=103488;V++)H[V]=0;for(V=103489;V<=103491;V++)H[V]=2;for(V=103492;V<=103495;V++)H[V]=0;for(V=103496;V<=103499;V++)H[V]=2;for(V=103528;V<=103543;V++)H[V]=0;for(V=103544;V<=103548;V++)H[V]=2;for(V=103549;V<=103551;V++)H[V]=0;for(V=103552;V<=103554;V++)H[V]=1;for(V=103555;V<=103557;V++)H[V]=2;for(V=103558;V<=103560;V++)H[V]=0;for(V=103571;V<=103573;V++)H[V]=0;for(V=103574;V<=103576;V++)H[V]=2;for(V=103577;V<=103580;V++)H[V]=0;for(V=103581;V<=103583;V++)H[V]=2;for(V=103595;V<=103694;V++)H[V]=0;for(V=103696;V<=103699;V++)H[V]=0;for(V=103700;V<=103793;V++)H[V]=2;for(V=103794;V<=103890;V++)H[V]=0;for(V=103891;V<=103896;V++)H[V]=2;for(V=103900;V<=103971;V++)H[V]=2;for(V=103972;V<=103977;V++)H[V]=0;for(V=112e3;V<=112101;V++)H[V]=0;var pv=[102100,102113,3857,3785,900913],mne=[104905,104971],hne=[104903],gne=[4326,...pv,...mne,...hne],mv=[-20037508.342788905,20037508.342788905],hv=[-20037508.342787,20037508.342787],gv={wkTemplate:`PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]`,valid:mv,origin:hv,dx:1e-5},_v={102113:{wkTemplate:`PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]`,valid:mv,origin:hv,dx:1e-5},102100:gv,3785:{wkTemplate:`PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]`,valid:mv,origin:hv,dx:1e-5},3857:gv,4326:{wkTemplate:`GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]`,altTemplate:`PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]`,valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:`GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]`,valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:`GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]`,valid:[-180,180],origin:[-180,90],dx:1e-5},900913:gv,104903:{wkTemplate:`GEOGCS["GCS_Moon_2000",DATUM["D_Moon_2000",SPHEROID["Moon_2000_IAU_IAG",1737400,0,AUTHORITY["ESRI","107903"]],AUTHORITY["ESRI","106903"]],PRIMEM["Reference_Meridian",0,AUTHORITY["ESRI","108900"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["ESRI","104903"]]`,valid:[-180,180],origin:[-180,90],dx:1e-5}};function vv(e,t){if(e===t)return!0;if(e==null||t==null)return!1;let n=e.wkid,r=t.wkid;if(n!=null||r!=null){if(n===r||Tv(e)&&Tv(t))return!0;let i=e.latestWkid;if(i!=null&&r===i)return!0;let a=t.latestWkid;return a!=null&&n===a}let i,a;return e.wkt2&&t.wkt2?(i=e.wkt2,a=t.wkt2):e.wkt&&t.wkt&&(i=e.wkt,a=t.wkt),!(!i||!a)&&i.toUpperCase()===a.toUpperCase()}function yv(e){let t=e?.wkid;return t!=null&&t>=2e3&&_v[t]||null}function bv(e){if(!e)return;let{wkid:t,vcsWkid:n}=e;if(t)return n?JSON.stringify({wkid:t,vcsWkid:n}):String(t);let r=e.wkt||e.wkt2;return JSON.stringify(r?n?{wkt:r,vcsWkid:n}:{wkt:r}:{})}function xv(e){if(!Mv(e))return!1;let{wkid:t}=e;if(t)return H[t]==null;let n=e.wkt2||e.wkt;return!!n&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(n)}function Sv(e){return!(Ov(e)||Av(e))}function Cv(e){return e?.wkid===4326}function _ne(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function wv(e){return e?.wkid===4490}function Tv(e){let t=e?.wkid;return t!=null&&t>=2e3&&pv.includes(t)}function Ev(e){return e?.wkid===32662}function Dv(e){return e===104971||e===104905}function Ov(e){return Dv(e?.wkid)}function kv(e){return e===104903}function Av(e){return kv(e?.wkid)}function jv(e){let t=e?.wkid;return t!=null&&t>=2e3&&gne.includes(t)}function Mv(e){if(e==null)return!1;let t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}var Nv={wkid:4326,wkt:xl(_v[4326].wkTemplate,{Central_Meridian:`0.0`})},Pv={wkid:102100,latestWkid:3857},vne={wkid:32662};function Fv(e){return{wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${e.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`}}var Iv=Fv(R_),Lv=Fv(z_),Rv=Fv(B_),zv={wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${R_.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`},yne=Lv.wkt.toUpperCase(),bne=Rv.wkt.toUpperCase();function Bv(e){if(e!=null&&Mv(e)){let t=e.wkid,n=e.wkt2??e.wkt;if(Dv(t))return z_;let r=n?.toUpperCase();if(n&&r===yne)return z_;if(kv(t)||r&&r===bne)return B_}return R_}Math.cos(Math.PI/16/16);function xne(e){return Dv(e)?z_:kv(e)?B_:R_}function Vv(e){return vv(e,Iv)}function Hv(e){return Vv(e)||vv(e,Lv)||vv(e,Rv)}var Uv=39.37,Sne=R_.radius*Math.PI/200,Wv=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,Gv=H,Kv=/UNIT\[([^\]]+)]/i,qv=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),Cne=I_()({millimeter:`millimeters`,centimeter:`centimeters`,meter:`meters`,meter_german:`german-meters`,kilometer:`kilometers`,decimeter:`decimeters`,micrometer:`micrometers`,nanometer:`nanometers`,"50_kilometers":`50-kilometers`,"150_kilometers":`150-kilometers`,foot:`feet`,foot_us:`us-feet`,foot_clarke:`clarke-feet`,fathom:`fathoms`,nautical_mile:`nautical-miles`,chain_us:`us-chains`,link_us:`us-links`,mile_us:`us-miles`,yard_clarke:`clarke-yards`,chain_clarke:`clarke-chains`,link_clarke:`clarke-links`,yard_sears:`sears-yards`,foot_sears:`sears-feet`,chain_sears:`sears-chains`,link_sears:`sears-links`,yard_benoit_1895_a:`benoit-1895-a-yards`,foot_benoit_1895_a:`benoit-1895-a-feet`,chain_benoit_1895_a:`benoit-1895-a-chains`,link_benoit_1895_a:`benoit-1895-a-links`,yard_benoit_1895_b:`benoit-1895-b-yards`,foot_benoit_1895_b:`benoit-1895-b-feet`,chain_benoit_1895_b:`benoit-1895-b-chains`,link_benoit_1895_b:`benoit-1895-b-links`,foot_1865:`1865-feet`,foot_indian:`indian-feet`,foot_indian_1937:`indian-1937-feet`,foot_indian_1962:`indian-1962-feet`,foot_indian_1975:`indian-1975-feet`,yard_indian:`indian-yards`,yard_indian_1937:`indian-1937-yards`,yard_indian_1962:`indian-1962-yards`,yard_indian_1975:`indian-1975-yards`,statute_mile:`statute-miles`,foot_gold_coast:`gold-coast-feet`,foot_british_1936:`british-1936-feet`,yard:`yards`,chain:`chains`,link:`links`,yard_sears_1922_truncated:`sears-1922-truncated-yards`,foot_sears_1922_truncated:`sears-1922-truncated-feet`,chain_sears_1922_truncated:`sears-1922-truncated-chains`,link_sears_1922_truncated:`sears-1922-truncated-links`,yard_us:`us-yards`,inch:`inches`,inch_us:`us-inches`,rod:`rods`,rod_us:`us-rods`,nautical_mile_us:`us-nautical-miles`,nautical_mile_uk:`uk-nautical-miles`,smoot:`smoots`,vara_tx:`tx-vara`,point:`points`}),Jv=e=>e*e,Yv=e=>e*e*e,Xv={length:{baseUnit:`meters`,units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:`square-meters`,units:{"square-millimeters":{inBaseUnits:Jv(.001)},"square-centimeters":{inBaseUnits:Jv(.01)},"square-decimeters":{inBaseUnits:Jv(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:Jv(1e3)},"square-inches":{inBaseUnits:Jv(.0254)},"square-feet":{inBaseUnits:Jv(.3048)},"square-yards":{inBaseUnits:Jv(.9144)},"square-miles":{inBaseUnits:Jv(1609.344)},"square-nautical-miles":{inBaseUnits:Jv(1852)},"square-us-feet":{inBaseUnits:Jv(1200/3937)},acres:{inBaseUnits:.0015625*Jv(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:`liters`,units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Yv(.001)},"cubic-centimeters":{inBaseUnits:1e3*Yv(.01)},"cubic-decimeters":{inBaseUnits:1e3*Yv(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Yv(1e3)},"cubic-inches":{inBaseUnits:1e3*Yv(.0254)},"cubic-feet":{inBaseUnits:1e3*Yv(.3048)},"cubic-yards":{inBaseUnits:1e3*Yv(.9144)},"cubic-miles":{inBaseUnits:1e3*Yv(1609.344)}}},angle:{baseUnit:`radians`,units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},wne=(()=>{let e={};for(let t in Xv)for(let n in Xv[t].units)e[n]=t;return e})();function Tne(e,t,n){return e*Xv[n].units[t].inBaseUnits}function Ene(e,t,n){return e/Xv[n].units[t].inBaseUnits}var Dne=[`inches`,`feet`,`yards`,`miles`,`nautical-miles`,`us-feet`,`millimeters`,`centimeters`,`decimeters`,`meters`,`kilometers`],One=[`square-inches`,`square-feet`,`square-yards`,`square-miles`,`square-nautical-miles`,`square-us-feet`,`square-millimeters`,`square-centimeters`,`square-decimeters`,`square-meters`,`square-kilometers`,`acres`,`ares`,`hectares`],kne=[`cubic-inches`,`cubic-feet`,`cubic-yards`,`cubic-miles`,`liters`,`cubic-millimeters`,`cubic-centimeters`,`cubic-decimeters`,`cubic-meters`,`cubic-kilometers`],Zv=[`metric`,`imperial`];[...Zv,...One];var Qv=[...Zv,...Dne];[...Zv,...kne];var Ane=new Map([[`meters`,`square-meters`],[`feet`,`square-feet`],[`us-feet`,`square-us-feet`]]);function $v(e){let t=wne[e];if(!t)throw Error(`unknown type`);return t}function ey(e,t=null){return t||=$v(e),Xv[t].baseUnit===e}function ty(e,t,n){if(t===n)return e;let r=$v(t);if(r!==$v(n))throw Error(`incompatible units`);let i=ey(t,r)?e:Tne(e,t,r);return ey(n,r)?i:Ene(i,n,r)}function jne(e,t,n,r=!1){if(!r&&xv(t))throw Error(`Unable to convert from an angular unit to a linear unit.`);let i=hy(t);return i!==n&&(e=i?ty(e,i,n):ty(e*=dy(t),`meters`,n)),e}function Mne(e,t,n,r=!1){if(!r&&xv(n))throw Error(`Unable to convert from a linear unit to an angular unit.`);let i=hy(n);return t!==i&&(e=i?ty(e,t,i):ty(e,t,`meters`)/dy(n)),e}function ny(e){switch(e){case`metric`:return`meters`;case`imperial`:return`feet`;default:return e}}function Nne(e){return ny(e)}function Pne(e){switch(e){case`metric`:return`square-meters`;case`imperial`:return`square-feet`;default:return e}}function Fne(e,t,n){switch(n){case`metric`:return ry(e,t);case`imperial`:return ay(e,t);default:return n}}function Ine(e,t,n){switch(n){case`metric`:return iy(e,t);case`imperial`:return oy(e,t);default:return n}}function ry(e,t){let n=ty(e,t,`meters`);return Math.abs(n)<3e3?`meters`:`kilometers`}function iy(e,t){let n=ty(e,t,`meters`);return Math.abs(n)<1e5?`meters`:`kilometers`}function ay(e,t){let n=ty(e,t,`feet`);return Math.abs(n)<1e3?`feet`:`miles`}function oy(e,t){let n=ty(e,t,`feet`);return Math.abs(n)<1e5?`feet`:`miles`}function Lne(e,t){let n=ty(e,t,`square-meters`);return Math.abs(n)<3e6?`square-meters`:`square-kilometers`}function Rne(e,t){let n=ty(e,t,`square-feet`);return Math.abs(n)<1e6?`square-feet`:`square-miles`}function sy(e,t,n){return ty(e,t,`meters`)/(n*Math.PI/180)}function cy(e){return Cne.fromJSON(e.toLowerCase())||null}function ly(e){if(e!=null&&!Sv(e))return 1;let t=dy(e);return t>1e5?1:t}function uy(e){return dy(e)>=Bv(e).metersPerDegree?`meters`:hy(e)}function dy(e,t=R_.metersPerDegree){return fy(e,!0)??t}function fy(e,t=!1){let n=e?.wkid??null,r=e?.wkt2??e?.wkt??null,i=null;if(n){if(Dv(n))return z_.metersPerDegree;if(kv(n))return B_.metersPerDegree;i=Gv.values[Gv[n]],!i&&t&&qv.has(n)&&(i=Sne)}else r&&(_y(r)?i=py(Wv.exec(r),i):gy(r)&&(i=py(Kv.exec(r),i)));return i}function zne(e){return xv(e)?1:dy(e)}function py(e,t){return e?.[1]?my(e[1]):t}function my(e){return parseFloat(e.split(`,`)[1])}function hy(e){let t=e?.wkid??null,n=e?.wkt2??e?.wkt??null,r=null;if(t)r=Gv.units[Gv[t]];else if(n){let e=_y(n)?Wv:gy(n)?Kv:null;if(e){let t=e.exec(n);t?.[1]&&(r=Wne(t[1]))}}return r==null?null:cy(r)}function Bne(e){let t=hy(e);return t!=null&&Qv.includes(t)?t:null}function Vne(e){let t=uy(e);return t!=null&&Qv.includes(t)?t:null}function Hne(e){let t=hy(e);return t==null?null:Ane.get(t)}function gy(e){return/^GEOCCS/i.test(e)}function _y(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}var Une=1e-7;function Wne(e){let t=/[\\"']([^\\"']+)/.exec(e)?.[1];if(!t||!cy(t)){let n=my(e);t=null;let r=Gv.values;for(let e=0;e<r.length;++e)if(Math.abs(n-r[e])<Une){t=Gv.units[e];break}}return t}function Gne(e){let t=hy(e);if(t==null)return null;switch(t){case`feet`:case`us-feet`:case`clarke-feet`:case`fathoms`:case`nautical-miles`:case`us-chains`:case`us-links`:case`us-miles`:case`clarke-yards`:case`clarke-chains`:case`clarke-links`:case`sears-yards`:case`sears-feet`:case`sears-chains`:case`sears-links`:case`benoit-1895-a-yards`:case`benoit-1895-a-feet`:case`benoit-1895-a-chains`:case`benoit-1895-a-links`:case`benoit-1895-b-yards`:case`benoit-1895-b-feet`:case`benoit-1895-b-chains`:case`benoit-1895-b-links`:case`1865-feet`:case`indian-feet`:case`indian-1937-feet`:case`indian-1962-feet`:case`indian-1975-feet`:case`indian-yards`:case`indian-1937-yards`:case`indian-1962-yards`:case`indian-1975-yards`:case`statute-miles`:case`gold-coast-feet`:case`british-1936-feet`:case`yards`:case`chains`:case`links`:case`sears-1922-truncated-yards`:case`sears-1922-truncated-feet`:case`sears-1922-truncated-chains`:case`sears-1922-truncated-links`:case`us-yards`:case`inches`:case`us-inches`:case`rods`:case`us-rods`:case`us-nautical-miles`:case`uk-nautical-miles`:case`smoots`:case`tx-vara`:case`points`:return`imperial`;case`millimeters`:case`centimeters`:case`meters`:case`german-meters`:case`kilometers`:case`decimeters`:case`micrometers`:case`nanometers`:case`50-kilometers`:case`150-kilometers`:return`metric`}return null}var Kne={esriAcres:`acres`,esriAres:`ares`,esriHectares:`hectares`,esriSquareCentimeters:`square-centimeters`,esriSquareDecimeters:`square-decimeters`,esriSquareFeet:`square-feet`,esriSquareInches:`square-inches`,esriSquareKilometers:`square-kilometers`,esriSquareMeters:`square-meters`,esriSquareMiles:`square-miles`,esriSquareMillimeters:`square-millimeters`,esriSquareUsFeet:`square-us-feet`,esriSquareYards:`square-yards`},qne={esriCentimeters:`centimeters`,esriDecimeters:`decimeters`,esriFeet:`feet`,esriInches:`inches`,esriKilometers:`kilometers`,esriMeters:`meters`,esriMiles:`miles`,esriMillimeters:`millimeters`,esriNauticalMiles:`nautical-miles`,esriYards:`yards`},Jne={esriDUDecimalDegrees:`degrees`,esriDURadians:`radians`},vy=I_()(Kne),yy=I_()(qne),Yne=I_()(Jne),by,U=class extends R{static{by=this}static{this.GCS_NAD_1927=null}static{this.WGS84=null}static{this.WebMercator=null}static{this.PlateCarree=null}static fromJSON(e){if(!e)return null;if(e?.wkid===102100)return by.WebMercator;if(e?.wkid===4326)return by.WGS84;let t=new by;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e==`object`?e:{[typeof e==`string`?`wkt`:`wkid`]:e}}get isWGS84(){return Cv(this)}get isWebMercator(){return Tv(this)}get isGeographic(){return xv(this)}get isWrappable(){return jv(this)}get metersPerUnit(){return dy(this)}get unit(){return hy(this)||(this.isGeographic?`degrees`:null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===by.WGS84)return new by(Nv);if(this===by.WebMercator)return new by(Pv);let e=new by;return this.wkid==null?(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)):(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=A(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;let{id:t,referenceServiceName:n}=e.imageCoordinateSystem,{geodataXform:r}=e.imageCoordinateSystem,i=this.imageCoordinateSystem;return t==null||r?JSON.stringify(i)===JSON.stringify(e.imageCoordinateSystem):n?i.id===t&&i.referenceServiceName===n:i.id===t}return vv(this,e)}toJSON(e){return this.write(void 0,e)}};O([P({readOnly:!0})],U.prototype,`isWGS84`,null),O([P({readOnly:!0})],U.prototype,`isWebMercator`,null),O([P({readOnly:!0})],U.prototype,`isGeographic`,null),O([P({readOnly:!0})],U.prototype,`isWrappable`,null),O([P({type:dg,json:{write:!0}})],U.prototype,`latestWkid`,void 0),O([P({readOnly:!0})],U.prototype,`metersPerUnit`,null),O([P({readOnly:!0})],U.prototype,`unit`,null),O([P({type:dg,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],U.prototype,`wkid`,void 0),O([P({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],U.prototype,`wkt`,void 0),O([z(`wkt`),z(`web-scene`,`wkt`)],U.prototype,`writeWkt`,null),O([P({type:String,json:{write:!1}})],U.prototype,`wkt2`,void 0),O([P({type:dg,json:{write:!0}})],U.prototype,`vcsWkid`,void 0),O([P({type:dg,json:{write:!0}})],U.prototype,`latestVcsWkid`,void 0),O([P()],U.prototype,`imageCoordinateSystem`,void 0),U=by=O([F(`esri.geometry.SpatialReference`)],U),U.prototype.toJSON.isDefaultToJSON=!0,U.GCS_NAD_1927=I.freeze(new U({wkid:4267,wkt:`GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]`})),U.WGS84=I.freeze(new U(Nv)),U.WebMercator=I.freeze(new U(Pv)),U.PlateCarree=I.freeze(new U(vne));function W(e,t,n){let r,i;return t===void 0||Array.isArray(t)?(i=e,n=t,r=[void 0]):(i=t,r=Array.isArray(e)?e:[e]),(e,t)=>{let a=e.constructor.prototype;r.forEach(r=>{let o=hg(e,r,i);o.read&&typeof o.read==`object`||(o.read={}),o.read.reader=a[t],n&&(o.read.source=(o.read.source||[]).concat(n))})}}var xy=class extends R{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=U.WGS84}get cache(){return this.commitProperty(`spatialReference`),{}}get extent(){return null}readSpatialReference(e,t){if(e instanceof U)return e;if(e!=null){let n=new U;return n.read(e,t),n}return e}clone(){return console.warn(`.clone() is not implemented for `+this.declaredClass),null}clearCache(){this.notifyChange(`cache`)}getCacheValue(e){return this.cache[e]}setCacheValue(e,t){this.cache[e]=t}};O([P()],xy.prototype,`type`,void 0),O([P({readOnly:!0})],xy.prototype,`cache`,null),O([P({readOnly:!0})],xy.prototype,`extent`,null),O([P({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],xy.prototype,`hasM`,void 0),O([P({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],xy.prototype,`hasZ`,void 0),O([P({type:U,json:{write:!0},value:U.WGS84})],xy.prototype,`spatialReference`,void 0),O([W(`spatialReference`)],xy.prototype,`readSpatialReference`,null),xy=O([F(`esri.geometry.Geometry`)],xy);var Xne=Object.prototype.toString;function Zne(e){let t=`__accessorMetadata__`in e?ag(e):e;return function(...e){if(e.push(t),typeof e[2]==`number`)throw Error(`Using @cast has parameter decorator is not supported since 4.16`);return Qne.apply(this,e)}}function Qne(e,t,n,r){Cm(e,t).cast=r}function $ne(e){return(t,n)=>{Cm(t,e).cast=t[n]}}function Sy(...e){if(e.length!==3||typeof e[1]!=`string`)return e.length===1&&Xne.call(e[0])===`[object Function]`?Zne(e[0]):e.length===1&&typeof e[0]==`string`?$ne(e[0]):void 0}function Cy(e){if(e&&typeof e==`object`&&`type`in e&&e.type===`mesh`)throw new M(`internal:mesh`,`Mesh geometries are not supported for this operation`)}function ere(e){e.forEach(Cy)}var tre=57.29577951308232,nre=.017453292519943;function wy(e){return e*tre}function Ty(e){return e*nre}function rre(e){return Math.PI/2-2*Math.atan(Math.exp(-e/R_.radius))}function Ey(e){return e.wkid!=null||e.wkt!=null}var Dy=[0,0];function Oy(e,t,n,r,i){let a=e,o=i;if(o.spatialReference=n,`x`in a&&`x`in o)[o.x,o.y]=t(a.x,a.y,Dy,r);else if(`xmin`in a&&`xmin`in o)[o.xmin,o.ymin]=t(a.xmin,a.ymin,Dy,r),[o.xmax,o.ymax]=t(a.xmax,a.ymax,Dy,r);else if(`paths`in a&&`paths`in o||`rings`in a&&`rings`in o){let e=`paths`in a?a.paths:a.rings,n=[],i;for(let a=0;a<e.length;a++){let o=e[a];i=[],n.push(i);for(let e=0;e<o.length;e++)i.push(t(o[e][0],o[e][1],[0,0],r)),o[e].length>2&&i[e].push(o[e][2]),o[e].length>3&&i[e].push(o[e][3])}`paths`in o?o.paths=n:o.rings=n}else if(`points`in a&&`points`in o){let e=a.points,n=[];for(let i=0;i<e.length;i++)n[i]=t(e[i][0],e[i][1],[0,0],r),e[i].length>2&&n[i].push(e[i][2]),e[i].length>3&&n[i].push(e[i][3]);o.points=n}return i}function ky(e,t){let n=e&&(Ey(e)?e:e.spatialReference),r=t&&(Ey(t)?t:t.spatialReference);return!(e&&`type`in e&&e.type===`mesh`||t&&`type`in t&&t.type===`mesh`||!n||!r)&&(!!vv(r,n)||Tv(r)&&Cv(n)||Tv(n)&&Cv(r))}function Ay(e,t){if(e==null)return null;let n=e.spatialReference,r=t&&(Ey(t)?t:t.spatialReference);return ky(n,r)?vv(n,r)?A(e):Tv(r)?Oy(e,jy,U.WebMercator,!1,A(e)):Cv(r)?Oy(e,My,U.WGS84,!1,A(e)):null:null}function jy(e,t,n=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);let r=Ty(t);return n[0]=Ty(e)*R_.radius,n[1]=R_.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),n}function My(e,t,n=[0,0],r=!1){if(e===mv[0])n[0]=-180;else if(e===mv[1])n[0]=180;else{let t=wy(e/R_.radius);n[0]=r?t:t-360*Math.floor((t+180)/360)}return n[1]=wy(Math.PI/2-2*Math.atan(Math.exp(-t/R_.radius))),n}function Ny(e,t=!1,n=A(e)){return Cy(e),Cy(n),Oy(e,jy,U.WebMercator,t,n)}function Py(e,t=!1,n=A(e)){return Cy(e),Cy(n),Oy(e,My,U.WGS84,t,n)}function Fy(e,t){let n=e.x-t.x,r=e.y-t.y,i=e.z!=null&&t.z!=null?e.z-t.z:0;return Math.sqrt(n*n+r*r+i*i)}function ire(e){return Iy(e,Ly)?.[0]??null}function are(e){return Iy(e,Ly)?.[1]??null}function Iy({x:e,y:t,spatialReference:n},r=[0,0]){if(n){if(Tv(n))return My(e,t,r);if(xv(n))return r[0]=e,r[1]=t,r}return null}var Ly=[0,0],Ry,zy=[0,0];function By(e){return e&&(e.declaredClass===`esri.geometry.SpatialReference`||e.wkid!=null)}var Vy=Ry=class extends xy{static copy(e,t){t._set(`x`,e._get(`x`)),t._set(`y`,e._get(`y`)),t._set(`z`,e._get(`z`)),t._set(`m`,e._get(`m`));let n=e._get(`spatialReference`);t._set(`spatialReference`,I.isFrozen(n)?n:n.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type=`point`}normalizeCtorArgs(e,t,n,r,i){let a;if(Array.isArray(e))a=e,i=t,e=a[0],t=a[1],n=a[2],r=a[3];else if(e&&typeof e==`object`){if(a=e,e=a.x==null?a.longitude:a.x,t=a.y==null?a.latitude:a.y,n=a.z,r=a.m,(i=a.spatialReference)&&i.declaredClass!==`esri.geometry.SpatialReference`&&(i=new U(i)),a.longitude!=null||a.latitude!=null){if(a.longitude==null)j.getLogger(this).warn(`.longitude=`,`Latitude was defined without longitude`);else if(a.latitude==null)j.getLogger(this).warn(`.latitude=`,`Longitude was defined without latitude`);else if(!a.declaredClass&&i?.isWebMercator){let n=jy(a.longitude,a.latitude,zy);e=n[0],t=n[1]}}}else By(n)?(i=n,n=null):By(r)&&(i=r,r=null);let o={x:e,y:t};return o.x==null&&o.y!=null?j.getLogger(this).warn(`.y=`,`Y coordinate was defined without an X coordinate`):o.y==null&&o.x!=null&&j.getLogger(this).warn(`.x=`,`X coordinate was defined without a Y coordinate`),i!=null&&(o.spatialReference=i),n!=null&&(o.z=n),r!=null&&(o.m=r),o}get cache(){return this.commitProperty(`x`),this.commitProperty(`y`),this.commitProperty(`z`),this.commitProperty(`m`),this.commitProperty(`spatialReference`),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get(`m`)!==void 0)&&(this._set(`m`,e?0:void 0),this._set(`hasM`,e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get(`z`)!==void 0)&&(this._set(`z`,e?0:void 0),this._set(`hasZ`,e))}get latitude(){return are(this)}set latitude(e){let{spatialReference:t,x:n}=this;e!=null&&t&&(t.isWebMercator?this._set(`y`,jy(n,e,zy)[1]):t.isGeographic&&this._set(`y`,e),this._set(`latitude`,e))}get longitude(){return ire(this)}set longitude(e){let{y:t,spatialReference:n}=this;e!=null&&n&&(n.isWebMercator?this._set(`x`,jy(e,t,zy)[0]):n.isGeographic&&this._set(`x`,e),this._set(`longitude`,e))}writeX(e,t,n){t[n]=isNaN(e)?`NaN`:e}readX(e){return typeof e==`string`?NaN:e}clone(){let e=new Ry;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return Ry.copy(e,this),this}equals(e){if(e==null)return!1;let{x:t,y:n,z:r,m:i,spatialReference:a}=this,{z:o,m:s}=e,{x:c,y:l,spatialReference:u}=e;if(!a.equals(u))if(a.isWebMercator&&u.isWGS84)[c,l]=jy(c,l),u=a;else{if(!a.isWGS84||!u.isWebMercator)return!1;[c,l]=My(c,l),u=a}return t===c&&n===l&&r===o&&i===s&&a.wkid===u.wkid}offset(e,t,n){return this.x+=e,this.y+=t,n!=null&&(this.z=(this.z??0)+n),this}normalize(){if(!this.spatialReference)return this;let e=yv(this.spatialReference);if(!e)return this;let t=this.x,[n,r]=e.valid,i=2*r,a;return t>r?(a=Math.ceil(Math.abs(t-r)/i),t-=a*i):t<n&&(a=Math.ceil(Math.abs(t-n)/i),t+=a*i),this._set(`x`,t),this}distance(e){return Fy(this,e)}toArray(){let e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};O([P({readOnly:!0})],Vy.prototype,`cache`,null),O([P({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Vy.prototype,`hasM`,null),O([P({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Vy.prototype,`hasZ`,null),O([P({type:Number})],Vy.prototype,`latitude`,null),O([P({type:Number})],Vy.prototype,`longitude`,null),O([P({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Sy(e=>isNaN(e)?e:Yh(e))],Vy.prototype,`x`,void 0),O([z(`x`)],Vy.prototype,`writeX`,null),O([W(`x`)],Vy.prototype,`readX`,null),O([P({type:Number,json:{write:!0}})],Vy.prototype,`y`,void 0),O([P({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Vy.prototype,`z`,void 0),O([P({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Vy.prototype,`m`,void 0),Vy=Ry=O([F(`esri.geometry.Point`)],Vy),Vy.prototype.toJSON.isDefaultToJSON=!0;var Hy=[0,0];function Uy(e,t){return t!=null&&Gy(e,t.x,t.y,t.z)}function ore(e,t){if(!t.points?.length)return!1;for(let n of t.points)if(!Wy(e,n))return!1;return!0}function sre(e,t){let{xmin:n,ymin:r,zmin:i,xmax:a,ymax:o,zmax:s}=t;return e.hasZ&&t.hasZ?Gy(e,n,r,i)&&Gy(e,n,o,i)&&Gy(e,a,o,i)&&Gy(e,a,r,i)&&Gy(e,n,r,s)&&Gy(e,n,o,s)&&Gy(e,a,o,s)&&Gy(e,a,r,s):Gy(e,n,r)&&Gy(e,n,o)&&Gy(e,a,o)&&Gy(e,a,r)}function Wy(e,t){return Gy(e,t[0],t[1])}function cre(e,t){return Gy(e,t[0],t[1],t[2])}function Gy(e,t,n,r){return t>=e.xmin&&t<=e.xmax&&n>=e.ymin&&n<=e.ymax&&(r==null||!e.hasZ||r>=e.zmin&&r<=e.zmax)}function Ky(e,t){return Hy[1]=t.y,Hy[0]=t.x,lre(e,Hy)}function lre(e,t){return qy(e.rings,t)}function qy(e,t){if(!e||e.length<1)return!1;if(ure(e))return Jy(!1,e,t);let n=!1;for(let r=0,i=e.length;r<i;r++)n=Jy(n,e[r],t);return n}function ure(e){return!Array.isArray(e[0][0])}function Jy(e,t,n){let[r,i]=n,a=e,o=0;for(let e=0,n=t.length;e<n;e++){o++,o===n&&(o=0);let[s,c]=t[e],[l,u]=t[o];(c<i&&u>=i||u<i&&c>=i)&&s+(i-c)/(u-c)*(l-s)<r&&(a=!a)}return a}function dre(e,t){return Uy(e,t)}function Yy(e,t){let n=e.hasZ&&t.hasZ,r,i,a;if(e.xmin<=t.xmin){if(r=t.xmin,e.xmax<r)return!1}else if(r=e.xmin,t.xmax<r)return!1;if(e.ymin<=t.ymin){if(i=t.ymin,e.ymax<i)return!1}else if(i=e.ymin,t.ymax<i)return!1;if(n&&t.hasZ){if(e.zmin<=t.zmin){if(a=t.zmin,e.zmax<a)return!1}else if(a=e.zmin,t.zmax<a)return!1}return!0}function fre(e,t){let{points:n,hasZ:r}=t,i=r?cre:Wy;for(let t of n)if(i(e,t))return!0;return!1}var Xy=[0,0],Zy=[0,0],Qy=[0,0],$y=[0,0],pre=[Xy,Zy,Qy,$y],eb=[[Qy,Xy],[Xy,Zy],[Zy,$y],[$y,Qy]];function tb(e,t){return mre(e,t.rings)}function mre(e,t){Xy[0]=e.xmin,Xy[1]=e.ymax,Zy[0]=e.xmax,Zy[1]=e.ymax,Qy[0]=e.xmin,Qy[1]=e.ymin,$y[0]=e.xmax,$y[1]=e.ymin;for(let e of pre)if(qy(t,e))return!0;for(let n of t){if(!n.length)continue;let t=n[0];if(Wy(e,t))return!0;for(let r=1;r<n.length;r++){let i=n[r];if(Wy(e,i)||rb(t,i,eb))return!0;t=i}}return!1}function hre(e,t){Xy[0]=e.xmin,Xy[1]=e.ymax,Zy[0]=e.xmax,Zy[1]=e.ymax,Qy[0]=e.xmin,Qy[1]=e.ymin,$y[0]=e.xmax,$y[1]=e.ymin;let n=t.paths;for(let t of n){if(!n.length)continue;let r=t[0];if(Wy(e,r))return!0;for(let n=1;n<t.length;n++){let i=t[n];if(Wy(e,i)||rb(r,i,eb))return!0;r=i}}return!1}var nb=[0,0];function gre(e){for(let t=0;t<e.length;t++){let n=e[t];for(let r=0;r<n.length-1;r++){let i=n[r],a=n[r+1];for(let n=t+1;n<e.length;n++)for(let t=0;t<e[n].length-1;t++){let r=e[n][t],o=e[n][t+1];if(ib(i,a,r,o,nb)&&!(nb[0]===i[0]&&nb[1]===i[1]||nb[0]===r[0]&&nb[1]===r[1]||nb[0]===a[0]&&nb[1]===a[1]||nb[0]===o[0]&&nb[1]===o[1]))return!0}}let r=n.length;if(!(r<=4))for(let e=0;e<r-3;e++){let t=r-1;e===0&&(t=r-2);let i=n[e],a=n[e+1];for(let r=e+2;r<t;r++){let e=n[r],t=n[r+1];if(ib(i,a,e,t,nb)&&!(nb[0]===i[0]&&nb[1]===i[1]||nb[0]===e[0]&&nb[1]===e[1]||nb[0]===a[0]&&nb[1]===a[1]||nb[0]===t[0]&&nb[1]===t[1]))return!0}}}return!1}function rb(e,t,n){for(let r=0;r<n.length;r++)if(ib(e,t,n[r][0],n[r][1]))return!0;return!1}function ib(e,t,n,r,i){let[a,o]=e,[s,c]=t,[l,u]=n,[d,f]=r,p=d-l,m=a-l,h=s-a,g=f-u,_=o-u,v=c-o,y=g*h-p*v;if(y===0)return!1;let b=(p*_-g*m)/y,x=(h*_-v*m)/y;return b>=0&&b<=1&&x>=0&&x<=1&&(i&&(i[0]=a+b*(s-a),i[1]=o+b*(c-o)),!0)}function ab(e){switch(e){case`esriGeometryEnvelope`:case`extent`:return Yy;case`esriGeometryMultipoint`:case`multipoint`:return fre;case`esriGeometryPoint`:case`point`:return dre;case`esriGeometryMultiPatch`:case`multipatch`:case`esriGeometryPolygon`:case`polygon`:return tb;case`esriGeometryPolyline`:case`polyline`:return hre}}var ob;function _re(e){return e&&(e.declaredClass===`esri.geometry.SpatialReference`||e.wkid!=null)}function sb(e,t,n){return t==null?n:n==null?t:e(t,n)}var cb=ob=class extends xy{constructor(...e){super(...e),this.type=`extent`,this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,n,r,i){return _re(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e==`object`?(e.spatialReference=e.spatialReference==null?U.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:n,ymax:r,spatialReference:i??U.WGS84}}static fromPoint(e){return new ob({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty(`xmin`),this.commitProperty(`ymin`),this.commitProperty(`zmin`),this.commitProperty(`mmin`),this.commitProperty(`xmax`),this.commitProperty(`ymax`),this.commitProperty(`zmax`),this.commitProperty(`mmax`),this.commitProperty(`spatialReference`),{}}get center(){let e=new Vy({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){let t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){let e=new ob;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;let t=this.spatialReference,n=e.spatialReference;return t&&n&&!t.equals(n)&&ky(t,n)&&(e=t.isWebMercator?Ny(e):Py(e,!0)),e.type===`point`?Uy(this,e):e.type===`extent`&&sre(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;let t=this.spatialReference,n=e.spatialReference;return t&&n&&!t.equals(n)&&ky(t,n)&&(e=t.isWebMercator?Ny(e):Py(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){let t=.5*(1-e),n=this.width*t,r=this.height*t;if(this.xmin+=n,this.ymin+=r,this.xmax-=n,this.ymax-=r,this.hasZ){let e=(this.zmax-this.zmin)*t;this.zmin+=e,this.zmax-=e}if(this.hasM){let e=(this.mmax-this.mmin)*t;this.mmin+=e,this.mmax-=e}return this}intersects(e){if(e==null)return!1;e.type===`mesh`&&(e=e.extent);let t=this.spatialReference,n=e.spatialReference;return t&&n&&!vv(t,n)&&ky(t,n)&&(e=t.isWebMercator?Ny(e):Py(e,!0)),ab(e.type)(this,e)}normalize(){let e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,n){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,n!=null&&(this.zmin+=n,this.zmax+=n),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=sb(Math.min,this.zmin,e.zmin),this.zmax=sb(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=sb(Math.min,this.mmin,e.mmin),this.mmax=sb(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=sb(Math.max,this.zmin,e.zmin),this.zmax=sb(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=sb(Math.max,this.mmin,e.mmin),this.mmax=sb(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=yv(this.spatialReference)){if(!e||!this.spatialReference)return this;let t=this.spatialReference,n=this._getCM(e);if(n){let r=t.isWebMercator?Py(n):n;this.xmin-=n.x,this.xmax-=n.x,t.isWebMercator||(r.x=lb(r.x,e).x),this.spatialReference=new U(xl((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:r.x}))}return this}_getCM(e){let t=null,[n,r]=e.valid,i=this.xmin,a=this.xmax;return i>=n&&i<=r&&a>=n&&a<=r||(t=this.center),t}_normalize(e,t,n){let r=this.spatialReference;if(!r)return this;let i=n??yv(r);if(i==null)return this;let a=this._getParts(i).map(e=>e.extent);if(a.length<2)return a[0]||this;if(a.length>2)return e?this._shiftCM(i):this.set({xmin:i.valid[0],xmax:i.valid[1]});if(e)return this._shiftCM(i);if(t)return a;let o=!0,s=!0;return a.forEach(e=>{e.hasZ||(o=!1),e.hasM||(s=!1)}),{rings:a.map(e=>{let t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(o){let n=(e.zmax-e.zmin)/2;for(let e=0;e<t.length;e++)t[e].push(n)}if(s){let n=(e.mmax-e.mmin)/2;for(let e=0;e<t.length;e++)t[e].push(n)}return t}),hasZ:o,hasM:s,spatialReference:r}}_getParts(e){let t=this.cache._parts;if(!t){t=[];let{ymin:n,ymax:r,spatialReference:i}=this,a=this.width,o=this.xmin,s=this.xmax,c;e||=yv(i);let[l,u]=e.valid;c=lb(this.xmin,e);let d=c.x,f=c.frameId;c=lb(this.xmax,e);let p=c.x,m=c.frameId,h=d===p&&a>0;if(a>2*u){let e=new ob(o<s?d:p,n,u,r,i),a=new ob(l,n,o<s?p:d,r,i),c=new ob(0,n,u,r,i),h=new ob(l,n,0,r,i),g=[],_=[];e.contains(c)&&g.push(f),e.contains(h)&&_.push(f),a.contains(c)&&g.push(m),a.contains(h)&&_.push(m);for(let e=f+1;e<m;e++)g.push(e),_.push(e);t.push({extent:e,frameIds:[f]},{extent:a,frameIds:[m]},{extent:c,frameIds:g},{extent:h,frameIds:_})}else d>p||h?t.push({extent:new ob(d,n,u,r,i),frameIds:[f]},{extent:new ob(l,n,p,r,i),frameIds:[m]}):t.push({extent:new ob(d,n,p,r,i),frameIds:[f]});this.cache._parts=t}let n=this.hasZ,r=this.hasM;if(n||r){let e={};n&&(e.zmin=this.zmin,e.zmax=this.zmax),r&&(e.mmin=this.mmin,e.mmax=this.mmax);for(let n=0;n<t.length;n++)t[n].extent.set(e)}return t}};function lb(e,t){let[n,r]=t.valid,i=2*r,a,o=0;return e>r?(a=Math.ceil(Math.abs(e-r)/i),e-=a*i,o=a):e<n&&(a=Math.ceil(Math.abs(e-n)/i),e+=a*i,o=-a),{x:e,frameId:o}}O([P({readOnly:!0})],cb.prototype,`cache`,null),O([P({readOnly:!0})],cb.prototype,`center`,null),O([P({readOnly:!0})],cb.prototype,`extent`,null),O([P({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],cb.prototype,`hasM`,null),O([P({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],cb.prototype,`hasZ`,null),O([P({readOnly:!0})],cb.prototype,`height`,null),O([P({readOnly:!0})],cb.prototype,`width`,null),O([P({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],cb.prototype,`xmin`,void 0),O([P({type:Number,json:{write:!0}})],cb.prototype,`ymin`,void 0),O([P({type:Number,json:{origins:{"web-scene":{write:!1}},read:e=>e??void 0,write:{overridePolicy(){return{enabled:this.hasM}}}}})],cb.prototype,`mmin`,void 0),O([P({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],cb.prototype,`zmin`,void 0),O([P({type:Number,json:{write:!0}})],cb.prototype,`xmax`,void 0),O([P({type:Number,json:{write:!0}})],cb.prototype,`ymax`,void 0),O([P({type:Number,json:{origins:{"web-scene":{write:!1}},read:e=>e??void 0,write:{overridePolicy(){return{enabled:this.hasM}}}}})],cb.prototype,`mmax`,void 0),O([P({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],cb.prototype,`zmax`,void 0),cb=ob=O([F(`esri.geometry.Extent`)],cb),cb.prototype.toJSON.isDefaultToJSON=!0;var vre,ub,yre=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,db=globalThis.document?.documentElement;function fb(){let e=db?.getAttribute(`lang`),t=globalThis.navigator?.language;return yre??e??t??`en`}function pb(){return ub===void 0&&(ub=fb()),ub}var bre=/^(?<language>[a-z]{2,3})(?:-(?<extlang>[a-z]{3}))?(?:-[A-Z][a-z]{3})?(?:-(?<region>[A-Z]{2}|\d{3}))?(?:-.*)?$/;function mb(e=pb()){return Sre(e)?.language}function xre(e=pb()){let t=Sre(e);return t?.language&&t?.extlang?e.replace(`${t.language}-`,``):e}function Sre(e=pb()){return bre.exec(e)?.groups}var hb=[];function gb(e){return hb.push(e),Ed(()=>{hb.splice(hb.indexOf(e),1)})}var _b=[];function vb(e){return _b.push(e),Ed(()=>_b.splice(_b.indexOf(e),1))}function Cre(){let e=vre??fb();ub!==e&&([..._b].forEach(t=>t(e)),ub=e,[...hb].forEach(t=>t(e)))}globalThis.addEventListener?.(`languagechange`,Cre),db&&new MutationObserver(()=>{Cre()}).observe(db,{attributeFilter:[`lang`]});var yb;function wre(e){return yb&&!yb.destroyed||(yb=e()),yb}var bb,Tre=new P_({avgRating:`avg-rating`,numRatings:`num-ratings`,numComments:`num-comments`,numViews:`num-views`}),xb=bb=class extends I{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get(`sortOrder`)||`asc`}set sortOrder(e){e!==`asc`&&e!==`desc`||this._set(`sortOrder`,e)}clone(){return new bb({categories:this.categories?A(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let n=[];this.categories&&(n=this.categories.map(e=>Array.isArray(e)?JSON.stringify(e):e));let r=``;if(this.extent){let e=Ay(this.extent,U.WGS84);e!=null&&(r=`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`)}let i=this.query;!this.disableExtraQuery&&e.extraQuery&&(i=`(`+i+`)`+e.extraQuery);let a={categories:n,bbox:r,q:i,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(a.sortField=this.sortField.split(`,`).map(e=>Tre.toJSON(e.trim())).join(`,`),a.sortOrder=this.sortOrder),{query:{...t,...a}}}};O([P()],xb.prototype,`categories`,void 0),O([P()],xb.prototype,`disableExtraQuery`,void 0),O([P({type:cb})],xb.prototype,`extent`,void 0),O([P()],xb.prototype,`filter`,void 0),O([P()],xb.prototype,`num`,void 0),O([P()],xb.prototype,`query`,void 0),O([P()],xb.prototype,`sortField`,void 0),O([P()],xb.prototype,`sortOrder`,null),O([P()],xb.prototype,`start`,void 0),xb=bb=O([F(`esri.portal.PortalQueryParams`)],xb);var Sb,Cb=Sb=class extends R{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){let e=this.url,t=this.thumbnail;return e&&t&&this.portal?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){let e=this.portal?.restUrl;return e?e+`/community/groups/`+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+`/categorySchema`,e).then(t=>{let n=t.categorySchema||[];return n.some(e=>e.source===`contentCategorySetsGroupQuery.LivingAtlas`)?this._fetchCategorySchemaSet(`LivingAtlas`,e):n})}fetchMembers(e){return this.portal.request(this.url+`/users`,e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new M(`internal:not-yet-implemented`,`PortalGroup.toJSON is not yet implemented`)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw Error(`JSON object is already hydrated`);let t=new Sb({sourceJSON:e});return t.read(e),t}queryItems(e,t){let n=ag(xb,e),r=this.portal;return parseFloat(r.currentVersion)>5?(n||=new xb,r.queryPortal(`/content/groups/${this.id}/search`,n,`PortalItem`,t)):(n=n?n.clone():new xb,n.query=`group:`+this.id+(n.query?` `+n.query:``),r.queryItems(n,t))}_fetchCategorySchemaSet(e,t){let n=this.portal;return n.fetchSelf(n.authMode,!0,t).then(e=>{let r=e.contentCategorySetsGroupQuery;if(r){let e=new xb({disableExtraQuery:!0,num:1,query:r});return n.queryGroups(e,t)}throw new M(`portal-group:fetchCategorySchema`,`contentCategorySetsGroupQuery value not found`)}).then(n=>{if(n.total){let r=n.results[0],i=new xb({num:1,query:`typekeywords:"${e}"`});return r.queryItems(i,t)}throw new M(`portal-group:fetchCategorySchema`,`contentCategorySetsGroupQuery group not found`)}).then(e=>e.total?e.results[0].fetchData(`json`,t).then(e=>{let t=e?.categorySchema;return t?.length?t:[]}):[])}};O([P()],Cb.prototype,`access`,void 0),O([P({type:Date})],Cb.prototype,`created`,void 0),O([P()],Cb.prototype,`description`,void 0),O([P()],Cb.prototype,`id`,void 0),O([P()],Cb.prototype,`isInvitationOnly`,void 0),O([P({type:Date})],Cb.prototype,`modified`,void 0),O([P()],Cb.prototype,`owner`,void 0),O([P()],Cb.prototype,`portal`,void 0),O([P()],Cb.prototype,`snippet`,void 0),O([P()],Cb.prototype,`sortField`,void 0),O([P()],Cb.prototype,`sortOrder`,void 0),O([P()],Cb.prototype,`sourceJSON`,void 0),O([P()],Cb.prototype,`tags`,void 0),O([P()],Cb.prototype,`thumbnail`,void 0),O([P({readOnly:!0})],Cb.prototype,`thumbnailUrl`,null),O([P()],Cb.prototype,`title`,void 0),O([P({readOnly:!0})],Cb.prototype,`url`,null),Cb=Sb=O([F(`esri.portal.PortalGroup`)],Cb);var wb=class extends I{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};O([P()],wb.prototype,`nextQueryParams`,void 0),O([P()],wb.prototype,`queryParams`,void 0),O([P()],wb.prototype,`results`,void 0),O([P()],wb.prototype,`total`,void 0),wb=O([F(`esri.portal.PortalQueryResult`)],wb);var Tb=class extends R{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){let e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new M(`internal:not-yet-implemented`,`PortalFolder.toJSON is not yet implemented`)}};O([P({type:Date})],Tb.prototype,`created`,void 0),O([P()],Tb.prototype,`id`,void 0),O([P()],Tb.prototype,`portal`,void 0),O([P()],Tb.prototype,`title`,void 0),O([P({readOnly:!0})],Tb.prototype,`url`,null),O([P()],Tb.prototype,`username`,void 0),Tb=O([F(`esri.portal.PortalFolder`)],Tb);var Eb,Db=Eb=class extends R{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.id=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){let e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){let e=this.portal?.restUrl;return e?`${e}/content/users/${this.id}`:null}get url(){let e=this.portal?.restUrl;return e?`${e}/community/users/${this.id}`:null}addItem(e){let t=e&&e.item,n=e?.data,r=e?.folder,i={method:`post`};t&&(i.query=t.createPostQuery(),n!=null&&(typeof n==`string`?i.query.text=n:typeof n==`object`&&(i.query.text=JSON.stringify(n))));let a=this.userContentUrl;return r&&(a+=`/`+(typeof r==`string`?r:r.id)),this.portal.request(a+`/addItem`,i).then(e=>(t.id=e.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}async deleteItem(e,t=!1){let n=this.userContentUrl;e.ownerFolder&&(n+=`/`+e.ownerFolder);let r=t?{permanentDelete:!0}:{};await this.portal.request(n+`/items/${e.id}/delete`,{method:`post`,query:r}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.slice();let n=this.userContentUrl+`/deleteItems`,r=[],i=e.map(e=>e.id);if(i.length){let a={method:`post`,query:{items:i.join(`,`),permanentDelete:t}},o=await this.portal.request(n,a);for(let t of o.results){let n=e.find(e=>t.itemId===e.id),i=t.success,a=null;i?(n.id=null,n.portal=null):t.error&&(a=new M(`portal:delete-item-failed`,t.error.message,t.error)),r.push({item:n,success:i,error:a})}}return r}fetchFolders(){return this.portal.request(this.userContentUrl??``,{query:{num:1}}).then(e=>{let t;return t=e&&e.folders?e.folders.map(e=>{let t=Tb.fromJSON(e);return t.portal=this.portal,t}):[],t})}fetchGroups(){return this.portal.request(this.url??``).then(e=>{let t;return t=e&&e.groups?e.groups.map(e=>{let t=Cb.fromJSON(e);return t.portal=this.portal,t}):[],t})}async fetchItems(e){e??={};let t=this.userContentUrl??``;e.folder&&(t+=`/`+e.folder.id);let{default:n}=await N(async()=>{let{default:e}=await import(`./PortalItem-BwNiSbf4.js`);return{default:e}},[]),r={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||`created`,sortOrder:e.sortOrder||`asc`},i=await this.portal.request(t,{query:r}),a;return i?.items?(a=i.items.map(e=>{let t=n.fromJSON(e);return t.portal=this.portal,t}),await Promise.all(a.map(e=>e.load())),{items:a,nextStart:i.nextStart,total:i.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+`/tags`).then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||=new Cb({id:this.favGroupId,portal:this.portal}),this._favGroup.queryItems(e)):Promise.reject(new M(`internal:unknown`,`Unknown internal error`,{internalError:`Unknown favGroupId`}))}async restoreItem(e,t){let n=this.userContentUrl,r=t?{folderID:typeof t==`string`?t:t.id}:null;await this.portal.request(n+`/items/${e.id}/restore`,{method:`post`,query:r})}toJSON(){throw new M(`internal:not-yet-implemented`,`PortalUser.toJSON is not yet implemented`)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw Error(`JSON object is already hydrated`);let t=new Eb({sourceJSON:e});return t.read(e),t}};O([P()],Db.prototype,`access`,void 0),O([P({type:Date})],Db.prototype,`created`,void 0),O([P()],Db.prototype,`culture`,void 0),O([P()],Db.prototype,`description`,void 0),O([P()],Db.prototype,`email`,void 0),O([P()],Db.prototype,`favGroupId`,void 0),O([P()],Db.prototype,`fullName`,void 0),O([P()],Db.prototype,`id`,void 0),O([P({type:Date})],Db.prototype,`modified`,void 0),O([P()],Db.prototype,`orgId`,void 0),O([P()],Db.prototype,`portal`,void 0),O([P()],Db.prototype,`preferredView`,void 0),O([P()],Db.prototype,`privileges`,void 0),O([P()],Db.prototype,`region`,void 0),O([P()],Db.prototype,`role`,void 0),O([P()],Db.prototype,`roleId`,void 0),O([P()],Db.prototype,`sourceJSON`,void 0),O([P()],Db.prototype,`thumbnail`,void 0),O([P({readOnly:!0})],Db.prototype,`thumbnailUrl`,null),O([P()],Db.prototype,`units`,void 0),O([P({readOnly:!0})],Db.prototype,`userContentUrl`,null),O([P({readOnly:!0})],Db.prototype,`url`,null),O([P()],Db.prototype,`username`,void 0),O([P()],Db.prototype,`userLicenseTypeId`,void 0),O([P()],Db.prototype,`userType`,void 0),Db=Eb=O([F(`esri.portal.PortalUser`)],Db);var Ob,kb,Ere={PortalGroup:()=>Promise.resolve({default:Cb}),PortalItem:()=>N(()=>import(`./PortalItem-BwNiSbf4.js`),[]),PortalUser:()=>Promise.resolve({default:Db})},G=class extends y_(w_){static{Ob=this}static{this.AUTH_MODE_ANONYMOUS=`anonymous`}static{this.AUTH_MODE_AUTO=`auto`}static{this.AUTH_MODE_IMMEDIATE=`immediate`}static{this.AUTH_MODE_NO_PROMPT=`no-prompt`}constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode=`auto`,this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.g3DTilesGalleryGroupQuery=null,this.g3dTilesEnabled=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=vl.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e==`string`?{url:e}:e}destroy(){Dre.unregister(this),this.defaultBasemap=Gd(this.defaultBasemap),this.defaultDevBasemap=Gd(this.defaultDevBasemap),this.defaultVectorBasemap=Gd(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=qd(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(let t of e)vl.request.trustedServers.includes(t)||vl.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){let e=!this.user?.orgId||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get hasAPIKey(){return ep(this.restUrl)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get loaded(){return super.loaded}get restUrl(){let e=this.url;if(e){let t=e.indexOf(`/sharing`);e=t>0?e.slice(0,t):this.url.replace(/\/+$/,``),e+=`/sharing/rest`}return e}get thumbnailUrl(){let e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+`/portals/self/resources/`+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=Db.fromJSON(e),t.portal=this),t}load(e){let t=N(async()=>{let{default:e}=await import(`./Basemap-drmln5P8.js`);return{default:e}},[]).then(({default:t})=>{$d(e),kb=t}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(e=>{if(!this.hasAPIKey&&gd){let e=gd;this.credential=e.findCredential(this.restUrl),this.credential||this.authMode!==Ob.AUTH_MODE_AUTO&&this.authMode!==Ob.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=e.on(`credential-create`,Ore(new WeakRef(this))),Dre.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=e,this.read(e)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();let e=this._getHelperService(`defaultElevationLayers`),t=(await N(async()=>{let{default:e}=await import(`./ElevationLayer-qz_xsJhc.js`);return{default:e}},__vite__mapDeps([2,3,4,5,6,7]))).default;return e?e.map(e=>new t({id:e.id,url:e.url})):[]}async fetchBasemaps(e,t){let n=await this._fetchBasemaps(e,t);if(!0===t?.include3d&&!1!==this.use3dBasemaps){let r=await this._fetchBasemaps3D(e,t);n.unshift(...r)}return n}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery===`none`)return null;let t=new xb;t.query=this.default3DBasemapQuery,t.disableExtraQuery=!0;let n=(await this.queryItems(t,e)).results.find(e=>e.type===`Web Scene`);return n?new kb({portalItem:n}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+`/portals/self/categorySchema`,e).then(e=>e.categorySchema):tf(e)?Promise.reject(Qd()):Promise.resolve([])}async fetchClassificationSchema(e){return this.hasClassificationSchema?this.request(this.restUrl+`/portals/self/classification/classificationSchema`,e).then(e=>e.classificationSchema):null}fetchFeaturedGroups(e){let t=this.featuredGroups,n=new xb({num:100,sortField:`title`});if(t?.length){let r=[];for(let e of t)r.push(`(title:"${e.title}" AND owner:${e.owner})`);return n.query=r.join(` OR `),this.queryGroups(n,e).then(e=>e.results)}return tf(e)?Promise.reject(Qd()):Promise.resolve([])}fetchRegions(e){let t=this.user?.culture||this.culture||pb();return this.request(this.restUrl+`/portals/regions`,{...e,query:{culture:t}})}fetchSettings(e){let t=this.user?.culture||this.culture||pb();return this.request(this.restUrl+`/portals/self/settings`,{...e,query:{culture:t}})}static getDefault(){return wre(()=>new Ob)}queryGroups(e,t){return this.queryPortal(`/community/groups`,e,`PortalGroup`,t)}queryItems(e,t){return this.queryPortal(`/search`,e,`PortalItem`,t)}queryUsers(e,t){return e.sortField||=`username`,this.queryPortal(`/community/users`,e,`PortalUser`,t)}fetchSelf(e=this.authMode,t=!1,n){let r=this.restUrl+`/portals/self`,i={authMode:e,query:{culture:pb().toLowerCase()},withCredentials:!0,...n};return i.authMode===`auto`&&(i.authMode=`no-prompt`),t&&(i.query.default=!0),this.request(r,i)}queryPortal(e,t,n,r){let i=ag(xb,t),a=t=>this.request(this.restUrl+e,{...i.toRequestOptions(this),...r}).then(e=>{let n=i.clone();return n.start=e.nextStart,new wb({nextQueryParams:n,queryParams:i,total:e.total,results:Ob._resultsToTypedArray(t,{portal:this},e,r)})}).then(e=>Promise.all(e.results.map(t=>typeof t.when==`function`?t.when():e)).then(()=>e,t=>(nf(t),e)));return n&&Ere[n]?Ere[n]().then(({default:e})=>($d(r),a(e))):a()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new M(`portal:not-authenticated`,`Unable to authenticate user. Portal.user is missing`)});if(this.authMode===Ob.AUTH_MODE_ANONYMOUS||this.authMode===Ob.AUTH_MODE_NO_PROMPT&&!gd)return Promise.reject(new M(`portal:invalid-auth-mode`,`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus===`failed`)return Promise.reject(this.loadError);let e=e=>Promise.resolve().then(()=>this.loadStatus===`not-loaded`?(e||(this.authMode=`immediate`),this.load().then(()=>null)):this.loadStatus===`loading`?this.load().then(()=>this.credential?null:(this.credential=e,this.fetchSelf(`immediate`))):this.user&&this.credential===e?null:(this.credential=e,this.fetchSelf(`immediate`))).then(e=>{e&&(this.sourceJSON=e,this.read(e))});return gd?gd.getCredential(this.restUrl,{prompt:this.authMode!==Ob.AUTH_MODE_NO_PROMPT}).then(t=>e(t)):e(this.credential)}normalizeUrl(e){let t=this.credential?.token;return this._normalizeSSL(t?e+(e.includes(`?`)?`&`:`?`)+`token=`+t:e)}requestToTypedArray(e,t,n){return this.request(e,t).then(e=>{let t=Ob._resultsToTypedArray(n,{portal:this},e);return Promise.all(t.map(t=>typeof t.when==`function`?t.when():e)).then(()=>t,()=>t)})}request(e,t={}){let n={f:`json`,...t.query},{authMode:r=this.authMode===Ob.AUTH_MODE_ANONYMOUS||this.authMode===Ob.AUTH_MODE_NO_PROMPT?this.authMode:`auto`,body:i=null,cacheBust:a=!1,method:o=`auto`,responseType:s=`json`,signal:c}=t,l={authMode:r,body:i,cacheBust:a,method:o,query:n,responseType:s,timeout:0,signal:c};return t.withCredentials&&(l.withCredentials=!0),gp(this._normalizeSSL(e),l).then(e=>e.data)}toJSON(){throw new M(`internal:not-yet-implemented`,`Portal.toJSON is not yet implemented`)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw Error(`JSON object is already hydrated`);return new Ob({sourceJSON:e})}_getHelperService(e){let t=this.helperServices?.[e];if(!t)throw new M(`portal:service-not-found`,`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){let n=new xb;n.query=e||($f()?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),n.disableExtraQuery=!0;let r=await this.queryGroups(n,t);if(!r.total)return[];let i=r.results[0];n.num=100,n.query=`type:"Web Map" -type:"Web Application"`,n.sortField=i.sortField||`name`,n.sortOrder=i.sortOrder||`desc`;let a=await i.queryItems(n,t);return a.total?a.results.filter(e=>e.type===`Web Map`).map(e=>new kb({portalItem:e})):[]}async _fetchBasemaps3D(e,t){let n=e||this.basemapGalleryGroupQuery3D;if(!n||$f())return[];let r=new xb({query:n,disableExtraQuery:!0}),i=await this.queryGroups(r,t);if(!i.total)return[];let a=i.results[0];r.num=100,r.query=`type:"Web Scene"`,r.sortField=a.sortField||`name`,r.sortOrder=a.sortOrder||`desc`;let o=await a.queryItems(r,t);return o.total?o.results.filter(e=>e.type===`Web Scene`).map(e=>new kb({portalItem:e})):[]}_normalizeSSL(e){return e.replace(/^http:/i,`https:`).replace(`:7080`,`:7443`)}_readBasemap(e){if(e){let t=kb.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,n,r){let i;if(n){let a=r==null?null:r.signal;i=n.listings||n.notifications||n.userInvitations||n.tags||n.items||n.groups||n.comments||n.provisions||n.results||n.relatedItems||n,(e||t)&&(i=i.map(n=>{let r=Object.assign(e?e.fromJSON(n):n,t);return typeof r.load==`function`&&r.load(a),r}))}else i=[];return i}};O([P()],G.prototype,`access`,void 0),O([P()],G.prototype,`allSSL`,void 0),O([P()],G.prototype,`authMode`,void 0),O([P()],G.prototype,`authorizedCrossOriginDomains`,void 0),O([W(`authorizedCrossOriginDomains`)],G.prototype,`readAuthorizedCrossOriginDomains`,null),O([P()],G.prototype,`basemapGalleryGroupQuery`,void 0),O([P({json:{name:`3DBasemapGalleryGroupQuery`}})],G.prototype,`basemapGalleryGroupQuery3D`,void 0),O([P({json:{name:`g3DTilesGalleryGroupQuery`}})],G.prototype,`g3DTilesGalleryGroupQuery`,void 0),O([P({json:{name:`g3dTilesEnabled`}})],G.prototype,`g3dTilesEnabled`,void 0),O([P()],G.prototype,`bingKey`,void 0),O([P()],G.prototype,`canListApps`,void 0),O([P()],G.prototype,`canListData`,void 0),O([P()],G.prototype,`canListPreProvisionedItems`,void 0),O([P()],G.prototype,`canProvisionDirectPurchase`,void 0),O([P()],G.prototype,`canSearchPublic`,void 0),O([P()],G.prototype,`canShareBingPublic`,void 0),O([P()],G.prototype,`canSharePublic`,void 0),O([P()],G.prototype,`canSignInArcGIS`,void 0),O([P()],G.prototype,`canSignInIDP`,void 0),O([P()],G.prototype,`colorSetsGroupQuery`,void 0),O([P()],G.prototype,`commentsEnabled`,void 0),O([P({type:Date})],G.prototype,`created`,void 0),O([P()],G.prototype,`credential`,void 0),O([P()],G.prototype,`culture`,void 0),O([P()],G.prototype,`currentVersion`,void 0),O([P()],G.prototype,`customBaseUrl`,void 0),O([P()],G.prototype,`default3DBasemapQuery`,void 0),O([P()],G.prototype,`defaultBasemap`,void 0),O([W(`defaultBasemap`)],G.prototype,`readDefaultBasemap`,null),O([P()],G.prototype,`defaultDevBasemap`,void 0),O([W(`defaultDevBasemap`)],G.prototype,`readDefaultDevBasemap`,null),O([P({type:cb})],G.prototype,`defaultExtent`,void 0),O([P()],G.prototype,`defaultVectorBasemap`,void 0),O([W(`defaultVectorBasemap`)],G.prototype,`readDefaultVectorBasemap`,null),O([P()],G.prototype,`description`,void 0),O([P()],G.prototype,`devBasemapGalleryGroupQuery`,void 0),O([P()],G.prototype,`eueiEnabled`,void 0),O([P({readOnly:!0})],G.prototype,`extraQuery`,null),O([P()],G.prototype,`featuredGroups`,void 0),O([P()],G.prototype,`featuredItemsGroupQuery`,void 0),O([P()],G.prototype,`galleryTemplatesGroupQuery`,void 0),O([P()],G.prototype,`layoutGroupQuery`,void 0),O([P()],G.prototype,`livingAtlasGroupQuery`,void 0),O([P({readOnly:!0})],G.prototype,`hasAPIKey`,null),O([P()],G.prototype,`hasCategorySchema`,void 0),O([P()],G.prototype,`hasClassificationSchema`,void 0),O([P()],G.prototype,`helpBase`,void 0),O([P()],G.prototype,`helperServices`,void 0),O([P()],G.prototype,`helpMap`,void 0),O([P()],G.prototype,`homePageFeaturedContent`,void 0),O([P()],G.prototype,`homePageFeaturedContentCount`,void 0),O([P()],G.prototype,`httpPort`,void 0),O([P()],G.prototype,`httpsPort`,void 0),O([P()],G.prototype,`id`,void 0),O([P()],G.prototype,`ipCntryCode`,void 0),O([P({readOnly:!0})],G.prototype,`isOrganization`,null),O([P()],G.prototype,`isPortal`,void 0),O([P()],G.prototype,`isReadOnly`,void 0),O([P({readOnly:!0})],G.prototype,`itemPageUrl`,null),O([P()],G.prototype,`layerTemplatesGroupQuery`,void 0),O([P()],G.prototype,`maxTokenExpirationMinutes`,void 0),O([P({type:Date})],G.prototype,`modified`,void 0),O([P()],G.prototype,`name`,void 0),O([P()],G.prototype,`portalHostname`,void 0),O([P()],G.prototype,`portalMode`,void 0),O([P()],G.prototype,`portalProperties`,void 0),O([P()],G.prototype,`region`,void 0),O([P()],G.prototype,`recycleBinEnabled`,void 0),O([P({readOnly:!0})],G.prototype,`restUrl`,null),O([P()],G.prototype,`rotatorPanels`,void 0),O([P()],G.prototype,`showHomePageDescription`,void 0),O([P()],G.prototype,`sourceJSON`,void 0),O([P()],G.prototype,`staticImagesUrl`,void 0),O([P({json:{name:`2DStylesGroupQuery`}})],G.prototype,`stylesGroupQuery2d`,void 0),O([P({json:{name:`stylesGroupQuery`}})],G.prototype,`stylesGroupQuery3d`,void 0),O([P()],G.prototype,`supportsHostedServices`,void 0),O([P()],G.prototype,`symbolSetsGroupQuery`,void 0),O([P()],G.prototype,`templatesGroupQuery`,void 0),O([P()],G.prototype,`thumbnail`,void 0),O([P({readOnly:!0})],G.prototype,`thumbnailUrl`,null),O([P()],G.prototype,`units`,void 0),O([P()],G.prototype,`url`,void 0),O([P()],G.prototype,`urlKey`,void 0),O([W(`urlKey`)],G.prototype,`readUrlKey`,null),O([P()],G.prototype,`user`,void 0),O([W(`user`)],G.prototype,`readUser`,null),O([P()],G.prototype,`use3dBasemaps`,void 0),O([P()],G.prototype,`useDefault3dBasemap`,void 0),O([P()],G.prototype,`useStandardizedQuery`,void 0),O([P()],G.prototype,`useVectorBasemaps`,void 0),O([P()],G.prototype,`vectorBasemapGalleryGroupQuery`,void 0),G=Ob=O([F(`esri.portal.Portal`)],G);var Dre=new FinalizationRegistry(e=>{e.remove()});function Ore(e){let t=gd;return()=>{let n=e.deref();n&&t.findCredential(n.restUrl)&&n.signIn().catch(()=>{})}}var Ab=class extends I{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e?.portalItem&&e.path?{...e,path:kre(e.path,e.portalItem)}:e}set path(e){e!=null&&Du(e)?j.getLogger(this).error(`portalitemresource:invalid-path`,`A portal item resource path must be relative`):this._set(`path`,e)}_castPath(e){return kre(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e=`json`,t){let n=this.cdnUrl;if(n==null)throw new M(`portal-item-resource:fetch`,`Portal item resource does not refer to a valid item or path`);return this.portalItem.portal.request(n,{responseType:e,query:{token:this.portalItem.apiKey,_ts:t?.cacheBust?Date.now():null},signal:t?.signal})}async update(e,t){let{addOrUpdateResources:n}=await N(async()=>{let{addOrUpdateResources:e}=await import(`./resourceUtils-ePeGAA3s.js`);return{addOrUpdateResources:e}},__vite__mapDeps([8,9]));return await n(this.portalItem,[{resource:this,content:e,compress:t?.compress,access:t?.access}],`update`,t),this}hasPath(){return this.path!=null}};function kre(e,t){return e==null?e:(e=e.replace(/^\/+/,``),t!=null&&Du(e)&&(e=Cu(e,t.itemUrl)),e?.replace(/^\/+/,``).replace(/^(\.\/)?resources\//,``))}O([P()],Ab.prototype,`portalItem`,void 0),O([P({type:String,value:null})],Ab.prototype,`path`,null),O([Sy(`path`)],Ab.prototype,`_castPath`,null),O([P({type:String,readOnly:!0})],Ab.prototype,`url`,null),O([P({type:String,readOnly:!0})],Ab.prototype,`cdnUrl`,null),O([P({type:String,readOnly:!0})],Ab.prototype,`itemRelativeUrl`,null),Ab=O([F(`esri.portal.PortalItemResource`)],Ab);var jb=class extends I{constructor(e){super(e),this.created=null,this.rating=null}};O([P({type:Date})],jb.prototype,`created`,void 0),O([P()],jb.prototype,`rating`,void 0),jb=O([F(`esri.portal.PortalRating`)],jb);var Mb,Are=new Set([`3DTiles Service`,`CSV`,`Feature Collection`,`Feature Service`,`Feed`,`GeoJson`,`Group Layer`,`Image Service`,`KML`,`Knowledge Graph Layer`,`Map Service`,`Media Layer`,`Scene Service`,`Stream Service`,`Video Service`,`Vector Tile Service`,`WCS`,`WFS`,`WMS`,`WMTS`]),jre=new Set([`KML`,`GeoJson`,`CSV`]),Nb=Mb=class extends y_(w_){static from(e){return rg(Mb,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){let e=this.type,t=this.typeKeywords||[],n=e;return e===`Feature Service`||e===`Feature Collection`?n=t.includes(`Table`)?`Table`:t.includes(`Route Layer`)?`Route Layer`:t.includes(`Markup`)?`Markup`:`Feature Layer`:e===`Image Service`?n=t.includes(`Elevation 3D Layer`)?`Elevation Layer`:t.includes(`Tiled Imagery`)?`Tiled Imagery Layer`:`Imagery Layer`:e===`Scene Service`?n=`Scene Layer`:e===`Video Service`?n=`Video Layer`:e===`Scene Package`?n=`Scene Layer Package`:e===`Stream Service`?n=`Feature Layer`:e===`Geoprocessing Service`?n=t.includes(`Web Tool`)?`Tool`:`Geoprocessing Service`:e===`Geoenrichment Service`?n=`GeoEnrichment Service`:e===`Geocoding Service`?n=`Locator`:e===`Microsoft Powerpoint`?n=`Microsoft PowerPoint`:e===`GeoJson`?n=`GeoJSON`:e===`Globe Service`?n=`Globe Layer`:e===`Vector Tile Service`?n=`Tile Layer`:e===`netCDF`?n=`NetCDF`:e===`Map Service`?n=t.includes(`Spatiotemporal`)||!t.includes(`Hosted Service`)&&!t.includes(`Tiled`)||t.includes(`Relational`)?`Map Image Layer`:`Tile Layer`:e?.toLowerCase().includes(`add in`)?n=e.replaceAll(/(add in)/gi,`Add-In`):e===`datastore catalog service`?n=`Big Data File Share`:e===`Compact Tile Package`?n=`Tile Package (tpkx)`:e===`Raster function template`?n=`Raster Function Template`:e===`OGCFeatureServer`?n=`OGC Feature Layer`:e===`web mapping application`&&t.includes(`configurableApp`)?n=`Instant App`:e===`Insights Page`?n=`Insights Report`:e===`Excalibur Imagery Project`?n=`Excalibur Project`:e===`3DTiles Service`?n=`3D tiles layer`:e===`3DTiles Package`&&(n=`3D tiles package`),n}readExtent(e){return e&&e.length?new cb(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){let e=this.type?.toLowerCase()||``,t=this.typeKeywords||[],n,r=!1,i=!1,a=!1,o=!1,s=!1,c=!1,l=!1,u=!1;return e.indexOf(`service`)>0||e===`feature collection`||e===`kml`||e===`wms`||e===`wmts`||e===`wfs`?(r=t.includes(`Hosted Service`),e===`feature service`||e===`feature collection`||e===`kml`||e===`wfs`?(i=t.includes(`Table`),a=t.includes(`Route Layer`),o=t.includes(`Markup`),s=t.includes(`Spatiotemporal`),c=t.includes(`UtilityNetwork`),n=s&&i?`spatiotemporaltable`:i?`table`:a?`routelayer`:o?`markup`:s?`spatiotemporal`:c?`utilitynetwork`:r?`featureshosted`:`features`):e===`map service`||e===`wms`||e===`wmts`?(s=t.includes(`Spatiotemporal`),l=t.includes(`Relational`),n=s||l?`mapimages`:r||t.includes(`Tiled`)||e===`wmts`?`maptiles`:`mapimages`):n=e===`scene service`?t.includes(`Line`)?`sceneweblayerline`:t.includes(`3DObject`)?`sceneweblayermultipatch`:t.includes(`Point`)?`sceneweblayerpoint`:t.includes(`IntegratedMesh`)?`sceneweblayermesh`:t.includes(`PointCloud`)?`sceneweblayerpointcloud`:t.includes(`Polygon`)?`sceneweblayerpolygon`:t.includes(`Building`)?`sceneweblayerbuilding`:t.includes(`Voxel`)?`sceneweblayervoxel`:`sceneweblayer`:e===`image service`?t.includes(`Elevation 3D Layer`)?`elevationlayer`:t.includes(`Tiled Imagery`)?`tiledimagerylayer`:`imagery`:e===`stream service`?`streamlayer`:e===`vector tile service`?`vectortile`:e===`datastore catalog service`?`datastorecollection`:e===`geocoding service`?`geocodeservice`:e===`video service`?t.includes(`Live Stream`)?`livestreamvideolayer`:`videolayer`:e===`geoprocessing service`?t.includes(`Web Tool`)?`tool`:`layers`:e===`geodata service`?`geodataservice`:e===`3dtiles service`?t.includes(`3DObject`)?`3dobjecttileslayer`:t.includes(`IntegratedMesh`)?`integratedmeshtileslayer`:t.includes(`GaussianSplat`)?`gaussiansplatlayer`:`3dtileslayer`:`layers`):e===`web map`||e===`cityengine web scene`?n=`maps`:e===`web scene`?n=t.includes(`ViewingMode-Local`)?`webscenelocal`:`websceneglobal`:e===`web mapping application`&&t.includes(`configurableApp`)?n=`instantapps`:e===`web mapping application`||e===`mobile application`||e===`application`||e===`operation view`||e===`desktop application`?n=`apps`:e===`map document`||e===`map package`||e===`published map`||e===`scene document`||e===`globe document`||e===`basemap package`||e===`mobile basemap package`||e===`mobile map package`||e===`project package`||e===`project template`||e===`pro map`||e===`layout`||e===`layer`&&t.includes(`ArcGIS Pro`)||e===`explorer map`&&t.indexOf(`Explorer Document`)?n=`mapsgray`:e===`service definition`||e===`shapefile`||e===`cad drawing`||e===`geojson`||e===`netcdf`||e===`administrative report`?n=`datafiles`:e===`360 vr experience`?n=`360vr`:e===`explorer add in`||e===`desktop add in`||e===`windows viewer add in`||e===`windows viewer configuration`?n=`appsgray`:e===`arcgis pro add in`||e===`arcgis pro configuration`?n=`addindesktop`:e===`pdf`?n=`pdf`:e===`microsoft word`?n=`word`:e===`microsoft excel`?n=`excel`:e===`microsoft powerpoint`?n=`ppt`:e===`rule package`||e===`file geodatabase`||e===`sqlite geodatabase`||e===`csv collection`||e===`kml collection`||e===`windows mobile package`||e===`map template`||e===`desktop application template`||e===`gml`||e===`arcpad package`||e===`code sample`||e===`document link`||e===`earth configuration`||e===`operations dashboard add in`||e===`rules package`||e===`workflow manager package`||e===`explorer map`&&t.includes(`Explorer Mapping Application`)||t.includes(`Document`)?n=`datafilesgray`:e===`network analysis service`||e===`geoprocessing service`||e===`geodata service`||e===`geometry service`||e===`geoprocessing package`||e===`locator package`||e===`geoprocessing sample`||e===`workflow manager service`?n=`toolsgray`:e===`layer`||e===`layer package`||e===`explorer layer`?n=`layersgray`:e===`analysis model`?n=`analysismodel`:e===`scene package`?n=`scenepackage`:e===`3dtiles package`?n=`3dtileslayerpackage`:e===`3dtiles service`?n=`3dtileslayer`:e===`mobile scene package`?n=`mobilescenepackage`:e===`tile package`||e===`compact tile package`?n=`tilepackage`:e===`task file`?n=`taskfile`:e===`report template`?n=`report-template`:e===`statistical data collection`?n=`statisticaldatacollection`:e===`insights workbook`?n=`workbook`:e===`insights model`?n=`insightsmodel`:e===`insights page`?n=`insightspage`:e===`insights theme`?n=`insightstheme`:e===`hub initiative`?n=`hubinitiative`:e===`hub page`?n=`hubpage`:e===`hub site application`?n=`hubsite`:e===`hub event`?n=`hubevent`:e===`hub project`?n=`hubproject`:e===`relational database connection`?n=`relationaldatabaseconnection`:e===`big data file share`?n=`datastorecollection`:e===`image collection`?n=`imagecollection`:e===`desktop style`?n=`desktopstyle`:e===`style`?n=t.includes(`Dictionary`)?`dictionarystyle`:`style`:e===`dashboard`?n=`dashboard`:e===`raster function template`?n=`rasterprocessingtemplate`:e===`vector tile package`?n=`vectortilepackage`:e===`ortho mapping project`?n=`orthomappingproject`:e===`ortho mapping template`?n=`orthomappingtemplate`:e===`solution`?n=`solutions`:e===`geopackage`?n=`geopackage`:e===`deep learning package`?n=`deeplearningpackage`:e===`real time analytic`?n=`realtimeanalytics`:e===`reality mapping project`?n=`realitymappingproject`:e===`big data analytic`?n=`bigdataanalytics`:e===`feed`?n=`feed`:e===`excalibur imagery project`?n=`excaliburimageryproject`:e===`notebook`?n=`notebook`:e===`storymap`?n=`storymap`:e===`survey123 add in`?n=`survey123addin`:e===`mission`?n=`mission`:e===`mission report`?n=`missionreport`:e===`mission template`?n=`missiontemplate`:e===`quickcapture project`?n=`quickcaptureproject`:e===`pro report`?n=`proreport`:e===`pro report template`?n=`proreporttemplate`:e===`urban model`?n=`urbanmodel`:e===`urban project`?n=`urbanproject`:e===`web experience`?n=`experiencebuilder`:e===`web experience template`?n=`webexperiencetemplate`:e===`experience builder widget`?n=`experiencebuilderwidget`:e===`experience builder widget package`?n=`experiencebuilderwidgetpackage`:e===`workflow`?n=`workflow`:e===`kernel gateway connection`?n=`kernelgatewayconnection`:e===`insights script`?n=`insightsscript`:e===`hub initiative template`?n=`hubinitiativetemplate`:e===`storymap theme`?n=`storymaptheme`:e===`knowledge graph`?n=`knowledgegraph`:e===`knowledge graph layer`?n=`knowledgegraphlayer`:e===`knowledge studio project`?n=`knowledgestudio`:e===`native application`?n=`nativeapp`:e===`native application installer`?n=`nativeappinstaller`:e===`web link chart`?n=`linkchart`:e===`knowledge graph web investigation`?n=`investigation`:e===`ogcfeatureserver`?n=`features`:e===`pro presentation`?n=`propresentation`:e===`pro project`?n=`proproject`:e===`insights workbook package`?n=`insightsworkbookpackage`:e===`apache parquet`?n=`apacheparquet`:e===`notebook code snippet library`?n=`notebookcodesnippets`:e===`suitability model`?n=`suitabilitymodel`:e===`esri classifier definition`?n=`classifierdefinition`:e===`esri classification schema`?n=`classificationschema`:e===`insights data engineering workbook`?n=`dataengineeringworkbook`:e===`insights data engineering model`?n=`dataengineeringmodel`:e===`deep learning studio project`?n=`deeplearningproject`:e===`discussion`?n=`discussion`:e===`allsource project`?n=`allsourceproject`:e===`api key`?n=`apikey`:e===`data pipeline`?n=`datapipelines`:e===`group layer`?(u=t.includes(`Map`),n=u?`layergroup2d`:`layergroup`):n=e===`media layer`?`onlinemedialayer`:e===`form`?t.includes(`Survey123`)?`survey`:`datafilesgray`:e===`csv`?`csv`:e===`image`?`image`:e===`xr experience`?`xrexperience`:`maps`,n?V_(`esri/images/portal/`+n+`16.png`):null}get isLayer(){return this.type!=null&&Are.has(this.type)}get itemCdnUrl(){return Mf(this.itemUrl)}get itemPageUrl(){let e=this.portal?.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){let e=this.portal?.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get loaded(){return super.loaded}get thumbnailUrl(){let e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`)??null:null}get userItemUrl(){let e=this.portal?.restUrl;if(!e)return null;let t=this.owner||this.portal?.user?.id;return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){let t=this.portal??=G.getDefault(),n=t.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:e==null?null:e.signal,query:{token:this.apiKey}}):{}).then(e=>{this.sourceJSON=e,this.read(e)});return this.addResolvingPromise(n),Promise.resolve(this)}async addRating(e){let t={method:`post`,query:{}},n=e instanceof jb?e.rating:e;return n==null||isNaN(n)||typeof e!=`number`||(t.query.rating=n),this.portal?(await this.portal.request(this.itemUrl+`/addRating`,t),new jb({rating:n,created:new Date})):null}clone(){let e={access:this.access,accessInformation:this.accessInformation,applicationProxies:A(this.applicationProxies),avgRating:this.avgRating,categories:A(this.categories),classification:A(this.classification),created:A(this.created),culture:this.culture,description:this.description,extent:A(this.extent),groupCategories:A(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:A(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:A(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:A(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:A(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus=`loaded`);let t=new Mb({sourceJSON:this.sourceJSON}).set(e);return t._set(`isOrgItem`,this.isOrgItem),t}createPostQuery(){let e=this.toJSON();for(let t of[`tags`,`typeKeywords`,`categories`])e[t]=e[t]?.join(`, `);for(let t of[`extent`,`classification`]){let n=e[t];n&&(e[t]=JSON.stringify(n))}return e}async deleteRating(){await this.portal.request(this.itemUrl+`/deleteRating`,{method:`post`})}fetchData(e=`json`,t){return this.portal.request(this.itemUrl+`/data`,{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){let t=await this.portal.request(this.itemUrl+`/rating`,{query:{token:this.apiKey},...e});return t.rating==null?null:(t.created=new Date(t.created),new jb(t))}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+`/relatedItems`,{query:{...e,token:this.apiKey},...t},Mb)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??``,{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.applicationProxies&&!Object.hasOwn(e,`appProxies`)&&(this.applicationProxies=null),this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{let t=e?.data,n={method:`post`};for(let e in n.query=this.createPostQuery(),n.query)n.query[e]===null&&(n.query[e]=``);return n.query.clearEmptyFields=!0,t!=null&&(typeof t==`string`?n.query.text=t:typeof t==`object`&&(n.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,n).then(()=>this.reload())}):Promise.reject(new M(`portal:item-does-not-exist`,`The item does not exist yet and cannot be updated`))}async copy(e){if(!this.id)throw new M(`portal:item-does-not-exist`,`The item does not exist yet`);await this.load();let{portal:t,itemUrl:n}=this;await t.signIn();let{copyResources:r,folder:i,tags:a,title:o}=e||{},s={method:`post`,query:{copyPrivateResources:r===`all`,folder:typeof i==`string`?i:i?.id,includeResources:!!r,tags:a?.join(`,`),title:o}},{itemId:c}=await t.request(`${n}/copy`,s);return new Mb({id:c,portal:t})}updateThumbnail(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{let t=e.thumbnail,n=e.filename,r={method:`post`};if(typeof t==`string`)ku(t)?r.query={data:t}:r.query={url:Su(t)},n!=null&&(r.query.filename=n);else{let e=new FormData;n==null?e.append(`file`,t):e.append(`file`,t,n),r.body=e}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,r).then(()=>this.reload())}):Promise.reject(new M(`portal:item-does-not-exist`,`The item does not exist yet and cannot be updated`))}async fetchResources(e={},t){let{fetchResources:n}=await N(async()=>{let{fetchResources:e}=await import(`./resourceUtils-ePeGAA3s.js`);return{fetchResources:e}},__vite__mapDeps([8,9]));return n(this,e,t)}async addResource(e,t,n){let{addOrUpdateResources:r}=await N(async()=>{let{addOrUpdateResources:e}=await import(`./resourceUtils-ePeGAA3s.js`);return{addOrUpdateResources:e}},__vite__mapDeps([8,9]));return e.portalItem=this,await r(this,[{resource:e,content:t,compress:n?.compress,access:n?.access}],`add`,n),e}async removeResource(e,t){let{removeResource:n}=await N(async()=>{let{removeResource:e}=await import(`./resourceUtils-ePeGAA3s.js`);return{removeResource:e}},__vite__mapDeps([8,9]));if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new M(`removeresource:portal-item-mismatch`,`The portal item associated with the provided resource does not match the item`);return n(this,e,t)}async removeAllResources(e){let{removeAllResources:t}=await N(async()=>{let{removeAllResources:e}=await import(`./resourceUtils-ePeGAA3s.js`);return{removeAllResources:e}},__vite__mapDeps([8,9]));return t(this,e)}resourceFromPath(e){return new Ab({portalItem:this,path:e})}toJSON(){let e=this.extent,t={accessInformation:this.accessInformation,categories:A(this.categories),classification:A(this.classification),created:this.created?.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:A(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:A(this.typeKeywords),url:this.url};return $c(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw Error(`JSON object is already hydrated`);return new Mb({sourceJSON:e})}_getPostQuery(){let e=this.toJSON();for(let t in e)t===`tags`&&e[t]!==null&&(e[t]=e[t].join(`, `)),t===`typeKeywords`&&e[t]!==null&&(e[t]=e[t].join(`, `)),t===`extent`&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};O([P({type:[`private`,`shared`,`org`,`public`]})],Nb.prototype,`access`,void 0),O([P()],Nb.prototype,`accessInformation`,void 0),O([P({type:String})],Nb.prototype,`apiKey`,void 0),O([P({json:{read:{source:`appProxies`}}})],Nb.prototype,`applicationProxies`,void 0),O([P()],Nb.prototype,`avgRating`,void 0),O([P()],Nb.prototype,`categories`,void 0),O([P()],Nb.prototype,`classification`,void 0),O([P({type:Date})],Nb.prototype,`created`,void 0),O([P()],Nb.prototype,`culture`,void 0),O([P()],Nb.prototype,`description`,void 0),O([P({readOnly:!0})],Nb.prototype,`displayName`,null),O([P({type:cb})],Nb.prototype,`extent`,void 0),O([W(`extent`)],Nb.prototype,`readExtent`,null),O([P()],Nb.prototype,`groupCategories`,void 0),O([P({readOnly:!0})],Nb.prototype,`iconUrl`,null),O([P()],Nb.prototype,`id`,void 0),O([P({readOnly:!0})],Nb.prototype,`isLayer`,null),O([P({type:Boolean,readOnly:!0})],Nb.prototype,`isOrgItem`,void 0),O([P()],Nb.prototype,`itemControl`,void 0),O([P({readOnly:!0})],Nb.prototype,`itemPageUrl`,null),O([P({readOnly:!0})],Nb.prototype,`itemUrl`,null),O([P()],Nb.prototype,`licenseInfo`,void 0),O([P({type:Date})],Nb.prototype,`modified`,void 0),O([P()],Nb.prototype,`name`,void 0),O([P()],Nb.prototype,`numComments`,void 0),O([P()],Nb.prototype,`numRatings`,void 0),O([P()],Nb.prototype,`numViews`,void 0),O([P()],Nb.prototype,`owner`,void 0),O([P()],Nb.prototype,`ownerFolder`,void 0),O([P({type:G})],Nb.prototype,`portal`,void 0),O([P()],Nb.prototype,`screenshots`,void 0),O([P()],Nb.prototype,`size`,void 0),O([P()],Nb.prototype,`snippet`,void 0),O([P()],Nb.prototype,`sourceJSON`,void 0),O([P({type:String})],Nb.prototype,`sourceUrl`,void 0),O([P({type:String})],Nb.prototype,`spatialReference`,void 0),O([P()],Nb.prototype,`tags`,void 0),O([P()],Nb.prototype,`thumbnail`,void 0),O([P({readOnly:!0})],Nb.prototype,`thumbnailUrl`,null),O([P()],Nb.prototype,`title`,void 0),O([P()],Nb.prototype,`type`,void 0),O([P()],Nb.prototype,`typeKeywords`,void 0),O([P({type:String,json:{read(e,t){if(jre.has(t.type)){let t=this.portal?.restUrl;e||=t&&this.id?`${t}/content/items/${this.id}/data`:null}return e}}})],Nb.prototype,`url`,void 0),O([P({readOnly:!0})],Nb.prototype,`userItemUrl`,null),Nb=Mb=O([F(`esri.portal.PortalItem`)],Nb);var Pb={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:`no`,nl:!0,no:!0,nn:`no`,pl:!0,pt:`pt-BR`,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:`zh-CN`,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function Mre(e){return e in Pb}function Fb(e){if(Mre(e)){let t=Pb[e];return!0===t?e:t}return null}var Ib=[],Lb=new Map;function Rb(e){for(let t of Lb.keys())Vb(e.pattern,t)&&Lb.delete(t)}function Nre(e){return Ib.includes(e)||(Rb(e),Ib.unshift(e)),Ed(()=>{let t=Ib.indexOf(e);t>-1&&(Ib.splice(t,1),Rb(e))})}async function zb(e){let t=pb();Lb.has(e)||Lb.set(e,Pre(e,t));let n=Lb.get(e);return n&&await Fre.add(n),n}function Bb(e){let t=mb(e);return t?Fb(e)??Fb(t):null}async function Pre(e,t){let n=[];for(let r of Ib)if(Vb(r.pattern,e))try{return await r.fetchMessageBundle(e,t)}catch(e){n.push(e)}throw n.length?new M(`intl:message-bundle-error`,`Errors occurred while loading "${e}"`,{errors:n}):new M(`intl:no-message-bundle-loader`,`No loader found for message bundle "${e}"`)}function Vb(e,t){return typeof e==`string`?t.startsWith(e):e.test(t)}vb(()=>{Lb.clear()});var Fre=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||=yf()}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function Ire(e){if(!e)return;let t=e.includes(`-vector`)?e.slice(0,e.indexOf(`-vector`)):e.includes(`-3d`)?e.slice(0,e.indexOf(`-3d`)):e,n=await zb(`esri/t9n/basemaps`);return n[e]||n[t]}var Hb={satellite:{id:`satellite`,classic:!0,get thumbnailUrl(){return V_(`esri/images/basemap/satellite.jpg`)},baseMapLayers:[{id:`satellite-base-layer`,url:`//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer`,layerType:`ArcGISTiledMapServiceLayer`,title:`World Imagery`,showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:`hybrid`,classic:!0,get thumbnailUrl(){return V_(`esri/images/basemap/hybrid.jpg`)},baseMapLayers:[{id:`hybrid-base-layer`,url:`//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer`,layerType:`ArcGISTiledMapServiceLayer`,title:`World Imagery`,showLegend:!1,visibility:!0,opacity:1},{id:`hybrid-reference-layer`,styleUrl:`https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json`,layerType:`VectorTileLayer`,title:`Hybrid Reference Layer`,isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:`terrain`,classic:!0,get thumbnailUrl(){return V_(`esri/images/basemap/terrain.jpg`)},baseMapLayers:[{id:`terrain-hillshade`,url:`https://services.arcgisonline.com/ArcGIS/rest/services/Elevation/World_Hillshade/MapServer`,layerType:`ArcGISTiledMapServiceLayer`,title:`World Hillshade`,showLegend:!1},{id:`terrain-base`,styleUrl:`https://www.arcgis.com/sharing/rest/content/items/33064a20de0c48d2bb61efa8faca93a8/resources/styles/root.json`,layerType:`VectorTileLayer`,title:`World Terrain Base`},{id:`terrain-reference`,styleUrl:`https://www.arcgis.com/sharing/rest/content/items/14fbc125ccc9488888b014db09f35f67/resources/styles/root.json`,layerType:`VectorTileLayer`,title:`World Reference Reference`,isReference:!0}]},oceans:{id:`oceans`,classic:!0,get thumbnailUrl(){return V_(`esri/images/basemap/oceans.jpg`)},baseMapLayers:[{id:`oceans-base-layer`,url:`//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer`,layerType:`ArcGISTiledMapServiceLayer`,title:`World Ocean Base`,showLegend:!1,visibility:!0,opacity:1},{id:`oceans-reference-layer`,styleUrl:`https://cdn.arcgis.com/sharing/rest/content/items/94329802cbfa44a18f423e6f1a0b875c/resources/styles/root.json`,layerType:`VectorTileLayer`,title:`World Ocean Reference`,isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:`osm`,classic:!0,get thumbnailUrl(){return V_(`esri/images/basemap/osm.jpg`)},baseMapLayers:[{id:`osm-base-layer`,layerType:`OpenStreetMap`,title:`Open Street Map`,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:`dark-gray-vector`,classic:!0,get thumbnailUrl(){return V_(`esri/images/basemap/dark-gray-vector.jpg`)},baseMapLayers:[{id:`dark-gray-base-layer`,styleUrl:`https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json`,layerType:`VectorTileLayer`,title:`Dark Gray Base`,visibility:!0,opacity:1},{id:`dark-gray-reference-layer`,styleUrl:`https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json`,layerType:`VectorTileLayer`,title:`Dark Gray Reference`,isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this[`dark-gray-vector`],id:`dark-gray`}},"gray-vector":{id:`gray-vector`,classic:!0,get thumbnailUrl(){return V_(`esri/images/basemap/gray-vector.jpg`)},baseMapLayers:[{id:`gray-base-layer`,styleUrl:`https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json`,layerType:`VectorTileLayer`,title:`Light Gray Base`,visibility:!0,opacity:1},{id:`gray-reference-layer`,styleUrl:`https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json`,layerType:`VectorTileLayer`,title:`Light Gray Reference`,isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this[`gray-vector`],id:`gray`}},"streets-vector":{id:`streets-vector`,classic:!0,get thumbnailUrl(){return V_(`esri/images/basemap/streets-vector.jpg`)},baseMapLayers:[{id:`streets-vector-base-layer`,styleUrl:`//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json`,layerType:`VectorTileLayer`,title:`World Streets`,visibility:!0,opacity:1}]},get streets(){return{...this[`streets-vector`],id:`streets`}},"topo-vector":{id:`topo-vector`,classic:!0,get thumbnailUrl(){return V_(`esri/images/basemap/topo-vector.jpg`)},baseMapLayers:[{id:`world-hillshade-layer`,url:`//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer`,layerType:`ArcGISTiledMapServiceLayer`,title:`World Hillshade`,showLegend:!1,visibility:!0,opacity:1},{id:`topo-vector-base-layer`,styleUrl:`//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json`,layerType:`VectorTileLayer`,title:`World Topo`,visibility:!0,opacity:1}]},get topo(){return{...this[`topo-vector`],id:`topo`}},"streets-night-vector":{id:`streets-night-vector`,classic:!0,get thumbnailUrl(){return V_(`esri/images/basemap/streets-night.jpg`)},baseMapLayers:[{id:`streets-night-vector-base-layer`,styleUrl:`//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json`,layerType:`VectorTileLayer`,title:`World Streets Night`,visibility:!0,opacity:1}]},"streets-relief-vector":{id:`streets-relief-vector`,classic:!0,get thumbnailUrl(){return V_(`esri/images/basemap/streets-relief.jpg`)},baseMapLayers:[{id:`world-hillshade-layer`,url:`//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer`,layerType:`ArcGISTiledMapServiceLayer`,title:`World Hillshade`,showLegend:!1,visibility:!0,opacity:1},{id:`streets-relief-vector-base-layer`,styleUrl:`//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json`,title:`World Streets Relief`,layerType:`VectorTileLayer`,visibility:!0,opacity:1}]},"streets-navigation-vector":{id:`streets-navigation-vector`,classic:!0,get thumbnailUrl(){return V_(`esri/images/basemap/streets-navigation.jpg`)},baseMapLayers:[{id:`streets-navigation-vector-base-layer`,styleUrl:`//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json`,layerType:`VectorTileLayer`,title:`World Streets Navigation`,visibility:!0,opacity:1}]},"topo-3d":{id:`topo-3d`,is3d:!0,get thumbnailUrl(){return V_(`esri/images/basemap/topo-3d.png`)},baseMapLayers:[{id:`topo-3d-base-layer`,styleUrl:`https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json`,layerType:`VectorTileLayer`,title:`Topographic`,visibility:!0,opacity:1},{id:`topo-3d-trees`,title:`Trees`,url:`https://basemaps3d.arcgis.com/arcgis/rest/services/Open3D_Trees_v1/SceneServer`,itemId:`9d3d89d42cfe4e2c9d108a2f0d518406`,layerType:`ArcGISSceneServiceLayer`},{id:`topo-3d-places-and-labels`,title:`Places and Labels`,url:`https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer`,itemId:`a84404ad39c64c328d0596e361ec459b`,layerType:`ArcGISSceneServiceLayer`},{id:`topo-3d-buildings`,title:`Buildings`,url:`https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer`,itemId:`b8fec5af7dfe4866b1b8ac2d2800f282`,layerType:`ArcGISSceneServiceLayer`}]},"navigation-3d":{id:`navigation-3d`,is3d:!0,get thumbnailUrl(){return V_(`esri/images/basemap/navigation-3d.jpg`)},baseMapLayers:[{id:`navigation-3d-base-layer`,styleUrl:`https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json`,layerType:`VectorTileLayer`,title:`Navigation`,visibility:!0,opacity:1},{id:`navigation-3d-places-and-labels`,title:`Places and Labels`,url:`https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer`,itemId:`a84404ad39c64c328d0596e361ec459b`,layerType:`ArcGISSceneServiceLayer`},{id:`navigation-3d-buildings`,title:`Buildings`,url:`https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer`,itemId:`b8fec5af7dfe4866b1b8ac2d2800f282`,layerType:`ArcGISSceneServiceLayer`}]},"streets-3d":{id:`streets-3d`,is3d:!0,get thumbnailUrl(){return V_(`esri/images/basemap/streets-3d.png`)},baseMapLayers:[{id:`streets-3d-base-layer`,styleUrl:`https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json`,layerType:`VectorTileLayer`,title:`Streets`,visibility:!0,opacity:1},{id:`streets-3d-places-and-labels`,title:`Places and Labels`,url:`https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer`,itemId:`a84404ad39c64c328d0596e361ec459b`,layerType:`ArcGISSceneServiceLayer`},{id:`streets-3d-buildings`,title:`Buildings`,url:`https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer`,itemId:`b8fec5af7dfe4866b1b8ac2d2800f282`,layerType:`ArcGISSceneServiceLayer`}]},"osm-3d":{id:`osm-3d`,is3d:!0,get thumbnailUrl(){return V_(`esri/images/basemap/osm-3d.png`)},baseMapLayers:[{id:`osm-3d-base-layer`,styleUrl:`https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json`,layerType:`VectorTileLayer`,title:`OpenStreetMap`,visibility:!0,opacity:1},{id:`osm-3d-trees`,title:`Trees`,url:`https://basemaps3d.arcgis.com/arcgis/rest/services/Open3D_Trees_v1/SceneServer`,itemId:`9d3d89d42cfe4e2c9d108a2f0d518406`,layerType:`ArcGISSceneServiceLayer`},{id:`osm-3d-places-and-labels`,title:`Places and Labels`,url:`https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer`,itemId:`a84404ad39c64c328d0596e361ec459b`,layerType:`ArcGISSceneServiceLayer`},{id:`osm-3d-buildings`,title:`Buildings`,url:`https://basemaps3d.arcgis.com/arcgis/rest/services/Open3D_Buildings_v1/SceneServer`,itemId:`cd33b09dde0a419c986ca1a78a5fc06d`,layerType:`ArcGISSceneServiceLayer`}]},"gray-3d":{id:`gray-3d`,is3d:!0,get thumbnailUrl(){return V_(`esri/images/basemap/gray-3d.png`)},baseMapLayers:[{id:`gray-3d-base-layer`,styleUrl:`https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json`,layerType:`VectorTileLayer`,title:`Streets`,visibility:!0,opacity:1},{id:`gray-3d-places-and-labels`,title:`Places and Labels`,url:`https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer`,itemId:`a84404ad39c64c328d0596e361ec459b`,layerType:`ArcGISSceneServiceLayer`},{id:`gray-3d-buildings`,title:`Buildings`,url:`https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer`,itemId:`b8fec5af7dfe4866b1b8ac2d2800f282`,layerType:`ArcGISSceneServiceLayer`}]},"navigation-dark-3d":{id:`navigation-dark-3d`,itemId:`5a1365328b4943f09a54cf5fd1205707`,is3d:!0,baseMapLayers:[{id:`navigation-dark-3d-base-layer`,styleUrl:`https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json`,layerType:`VectorTileLayer`,title:`Navigation Dark`},{id:`navigation-dark-3d-places-and-labels`,title:`Places and Labels`,url:`https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0`,itemId:`f364b70b012a4da5a4b5921e193eac4a`,layerType:`ArcGISSceneServiceLayer`},{id:`navigation-dark-3d-buildings`,title:`Buildings`,url:`https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer`,itemId:`b8fec5af7dfe4866b1b8ac2d2800f282`,layerType:`ArcGISSceneServiceLayer`}]},"streets-dark-3d":{id:`streets-dark-3d`,itemId:`8a4efa2c20484ec9b4557895e65736ff`,is3d:!0,baseMapLayers:[{id:`streets-dark-3d-base-layer`,styleUrl:`https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json`,layerType:`VectorTileLayer`,title:`OpenStreetMap Streets Night (for 3D)`},{id:`streets-dark-3d-places-and-labels`,title:`Places and Labels`,url:`https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer`,itemId:`f364b70b012a4da5a4b5921e193eac4a`,layerType:`ArcGISSceneServiceLayer`},{id:`streets-dark-3d-buildings`,title:`Buildings`,url:`https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer`,itemId:`b8fec5af7dfe4866b1b8ac2d2800f282`,layerType:`ArcGISSceneServiceLayer`}]},"dark-gray-3d":{id:`dark-gray-3d`,itemId:`a8b7322a5fe94002bb0f5e0eeb0c5c18`,is3d:!0,baseMapLayers:[{id:`dark-gray-3d-base-layer`,styleUrl:`https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json`,layerType:`VectorTileLayer`,title:`OpenStreetMap Dark Gray Canvas (for 3D)`},{id:`dark-gray-3d-places-and-labels`,title:`Places and Labels`,url:`https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0`,itemId:`f364b70b012a4da5a4b5921e193eac4a`,layerType:`ArcGISSceneServiceLayer`},{id:`dark-gray-3d-buildings`,title:`Buildings`,url:`https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer`,itemId:`b8fec5af7dfe4866b1b8ac2d2800f282`,layerType:`ArcGISSceneServiceLayer`}]}},Ub=`system`,Wb=`unknown`,Lre=`UTC`,Rre=Intl.DateTimeFormat().resolvedOptions().timeZone,Gb=new Map([[`AUS Central Standard Time`,`Australia/Darwin`],[`AUS Eastern Standard Time`,`Australia/Sydney`],[`Afghanistan Standard Time`,`Asia/Kabul`],[`Alaskan Standard Time`,`America/Anchorage`],[`Aleutian Standard Time`,`America/Adak`],[`Altai Standard Time`,`Asia/Barnaul`],[`Arab Standard Time`,`Asia/Riyadh`],[`Arabian Standard Time`,`Asia/Dubai`],[`Arabic Standard Time`,`Asia/Baghdad`],[`Argentina Standard Time`,`America/Buenos_Aires`],[`Astrakhan Standard Time`,`Europe/Astrakhan`],[`Atlantic Standard Time`,`America/Halifax`],[`Aus Central W. Standard Time`,`Australia/Eucla`],[`Azerbaijan Standard Time`,`Asia/Baku`],[`Azores Standard Time`,`Atlantic/Azores`],[`Bahia Standard Time`,`America/Bahia`],[`Bangladesh Standard Time`,`Asia/Dhaka`],[`Belarus Standard Time`,`Europe/Minsk`],[`Bougainville Standard Time`,`Pacific/Bougainville`],[`Canada Central Standard Time`,`America/Regina`],[`Cape Verde Standard Time`,`Atlantic/Cape_Verde`],[`Caucasus Standard Time`,`Asia/Yerevan`],[`Cen. Australia Standard Time`,`Australia/Adelaide`],[`Central America Standard Time`,`America/Guatemala`],[`Central Asia Standard Time`,`Asia/Bishkek`],[`Central Brazilian Standard Time`,`America/Cuiaba`],[`Central Europe Standard Time`,`Europe/Budapest`],[`Central European Standard Time`,`Europe/Warsaw`],[`Central Pacific Standard Time`,`Pacific/Guadalcanal`],[`Central Standard Time`,`America/Chicago`],[`Central Standard Time (Mexico)`,`America/Mexico_City`],[`Chatham Islands Standard Time`,`Pacific/Chatham`],[`China Standard Time`,`Asia/Shanghai`],[`Cuba Standard Time`,`America/Havana`],[`Dateline Standard Time`,`Etc/GMT+12`],[`E. Africa Standard Time`,`Africa/Nairobi`],[`E. Australia Standard Time`,`Australia/Brisbane`],[`E. Europe Standard Time`,`Europe/Chisinau`],[`E. South America Standard Time`,`America/Sao_Paulo`],[`Easter Island Standard Time`,`Pacific/Easter`],[`Eastern Standard Time`,`America/New_York`],[`Eastern Standard Time (Mexico)`,`America/Cancun`],[`Egypt Standard Time`,`Africa/Cairo`],[`Ekaterinburg Standard Time`,`Asia/Yekaterinburg`],[`FLE Standard Time`,`Europe/Kiev`],[`Fiji Standard Time`,`Pacific/Fiji`],[`GMT Standard Time`,`Europe/London`],[`GTB Standard Time`,`Europe/Bucharest`],[`Georgian Standard Time`,`Asia/Tbilisi`],[`Greenland Standard Time`,`America/Godthab`],[`Greenwich Standard Time`,`Atlantic/Reykjavik`],[`Haiti Standard Time`,`America/Port-au-Prince`],[`Hawaiian Standard Time`,`Pacific/Honolulu`],[`India Standard Time`,`Asia/Calcutta`],[`Iran Standard Time`,`Asia/Tehran`],[`Israel Standard Time`,`Asia/Jerusalem`],[`Jordan Standard Time`,`Asia/Amman`],[`Kaliningrad Standard Time`,`Europe/Kaliningrad`],[`Korea Standard Time`,`Asia/Seoul`],[`Libya Standard Time`,`Africa/Tripoli`],[`Line Islands Standard Time`,`Pacific/Kiritimati`],[`Lord Howe Standard Time`,`Australia/Lord_Howe`],[`Magadan Standard Time`,`Asia/Magadan`],[`Magallanes Standard Time`,`America/Punta_Arenas`],[`Marquesas Standard Time`,`Pacific/Marquesas`],[`Mauritius Standard Time`,`Indian/Mauritius`],[`Middle East Standard Time`,`Asia/Beirut`],[`Montevideo Standard Time`,`America/Montevideo`],[`Morocco Standard Time`,`Africa/Casablanca`],[`Mountain Standard Time`,`America/Denver`],[`Mountain Standard Time (Mexico)`,`America/Mazatlan`],[`Myanmar Standard Time`,`Asia/Rangoon`],[`N. Central Asia Standard Time`,`Asia/Novosibirsk`],[`Namibia Standard Time`,`Africa/Windhoek`],[`Nepal Standard Time`,`Asia/Katmandu`],[`New Zealand Standard Time`,`Pacific/Auckland`],[`Newfoundland Standard Time`,`America/St_Johns`],[`Norfolk Standard Time`,`Pacific/Norfolk`],[`North Asia East Standard Time`,`Asia/Irkutsk`],[`North Asia Standard Time`,`Asia/Krasnoyarsk`],[`North Korea Standard Time`,`Asia/Pyongyang`],[`Omsk Standard Time`,`Asia/Omsk`],[`Pacific SA Standard Time`,`America/Santiago`],[`Pacific Standard Time`,`America/Los_Angeles`],[`Pacific Standard Time (Mexico)`,`America/Tijuana`],[`Pakistan Standard Time`,`Asia/Karachi`],[`Paraguay Standard Time`,`America/Asuncion`],[`Qyzylorda Standard Time`,`Asia/Qyzylorda`],[`Romance Standard Time`,`Europe/Paris`],[`Russia Time Zone 10`,`Asia/Srednekolymsk`],[`Russia Time Zone 11`,`Asia/Kamchatka`],[`Russia Time Zone 3`,`Europe/Samara`],[`Russian Standard Time`,`Europe/Moscow`],[`SA Eastern Standard Time`,`America/Cayenne`],[`SA Pacific Standard Time`,`America/Bogota`],[`SA Western Standard Time`,`America/La_Paz`],[`SE Asia Standard Time`,`Asia/Bangkok`],[`Saint Pierre Standard Time`,`America/Miquelon`],[`Sakhalin Standard Time`,`Asia/Sakhalin`],[`Samoa Standard Time`,`Pacific/Apia`],[`Sao Tome Standard Time`,`Africa/Sao_Tome`],[`Saratov Standard Time`,`Europe/Saratov`],[`Singapore Standard Time`,`Asia/Singapore`],[`South Africa Standard Time`,`Africa/Johannesburg`],[`South Sudan Standard Time`,`Africa/Juba`],[`Sri Lanka Standard Time`,`Asia/Colombo`],[`Sudan Standard Time`,`Africa/Khartoum`],[`Syria Standard Time`,`Asia/Damascus`],[`Taipei Standard Time`,`Asia/Taipei`],[`Tasmania Standard Time`,`Australia/Hobart`],[`Tocantins Standard Time`,`America/Araguaina`],[`Tokyo Standard Time`,`Asia/Tokyo`],[`Tomsk Standard Time`,`Asia/Tomsk`],[`Tonga Standard Time`,`Pacific/Tongatapu`],[`Transbaikal Standard Time`,`Asia/Chita`],[`Turkey Standard Time`,`Europe/Istanbul`],[`Turks And Caicos Standard Time`,`America/Grand_Turk`],[`US Eastern Standard Time`,`America/Indianapolis`],[`US Mountain Standard Time`,`America/Phoenix`],[`UTC`,`Etc/GMT`],[`UTC+01`,`Etc/GMT-1`],[`UTC+02`,`Etc/GMT-2`],[`UTC+03`,`Etc/GMT-3`],[`UTC+04`,`Etc/GMT-4`],[`UTC+05`,`Etc/GMT-5`],[`UTC+06`,`Etc/GMT-6`],[`UTC+07`,`Etc/GMT-7`],[`UTC+08`,`Etc/GMT-8`],[`UTC+09`,`Etc/GMT-9`],[`UTC+10`,`Etc/GMT-10`],[`UTC+11`,`Etc/GMT-11`],[`UTC+12`,`Etc/GMT-12`],[`UTC+13`,`Etc/GMT-13`],[`UTC+14`,`Etc/GMT-14`],[`UTC-01`,`Etc/GMT+1`],[`UTC-02`,`Etc/GMT+2`],[`UTC-03`,`Etc/GMT+3`],[`UTC-04`,`Etc/GMT+4`],[`UTC-05`,`Etc/GMT+5`],[`UTC-06`,`Etc/GMT+6`],[`UTC-07`,`Etc/GMT+7`],[`UTC-08`,`Etc/GMT+8`],[`UTC-09`,`Etc/GMT+9`],[`UTC-10`,`Etc/GMT+10`],[`UTC-11`,`Etc/GMT+11`],[`UTC-12`,`Etc/GMT+12`],[`Ulaanbaatar Standard Time`,`Asia/Ulaanbaatar`],[`Venezuela Standard Time`,`America/Caracas`],[`Vladivostok Standard Time`,`Asia/Vladivostok`],[`Volgograd Standard Time`,`Europe/Volgograd`],[`W. Australia Standard Time`,`Australia/Perth`],[`W. Central Africa Standard Time`,`Africa/Lagos`],[`W. Europe Standard Time`,`Europe/Berlin`],[`W. Mongolia Standard Time`,`Asia/Hovd`],[`West Asia Standard Time`,`Asia/Tashkent`],[`West Bank Standard Time`,`Asia/Hebron`],[`West Pacific Standard Time`,`Pacific/Port_Moresby`],[`Yakutsk Standard Time`,`Asia/Yakutsk`],[`Yukon Standard Time`,`America/Whitehorse`]]),Kb=class extends Error{},zre=class extends Kb{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},Bre=class extends Kb{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},Vre=class extends Kb{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},qb=class extends Kb{},Jb=class extends Kb{constructor(e){super(`Invalid unit ${e}`)}},Yb=class extends Kb{},Xb=class extends Kb{constructor(){super(`Zone is an abstract class`)}},K=`numeric`,Zb=`short`,Qb=`long`,$b={year:K,month:K,day:K},ex={year:K,month:Zb,day:K},Hre={year:K,month:Zb,day:K,weekday:Zb},tx={year:K,month:Qb,day:K},nx={year:K,month:Qb,day:K,weekday:Qb},rx={hour:K,minute:K},ix={hour:K,minute:K,second:K},ax={hour:K,minute:K,second:K,timeZoneName:Zb},ox={hour:K,minute:K,second:K,timeZoneName:Qb},sx={hour:K,minute:K,hourCycle:`h23`},cx={hour:K,minute:K,second:K,hourCycle:`h23`},lx={hour:K,minute:K,second:K,hourCycle:`h23`,timeZoneName:Zb},ux={hour:K,minute:K,second:K,hourCycle:`h23`,timeZoneName:Qb},dx={year:K,month:K,day:K,hour:K,minute:K},fx={year:K,month:K,day:K,hour:K,minute:K,second:K},px={year:K,month:Zb,day:K,hour:K,minute:K},mx={year:K,month:Zb,day:K,hour:K,minute:K,second:K},Ure={year:K,month:Zb,day:K,weekday:Zb,hour:K,minute:K},hx={year:K,month:Qb,day:K,hour:K,minute:K,timeZoneName:Zb},gx={year:K,month:Qb,day:K,hour:K,minute:K,second:K,timeZoneName:Zb},_x={year:K,month:Qb,day:K,weekday:Qb,hour:K,minute:K,timeZoneName:Qb},vx={year:K,month:Qb,day:K,weekday:Qb,hour:K,minute:K,second:K,timeZoneName:Qb},yx=class{get type(){throw new Xb}get name(){throw new Xb}get ianaName(){return this.name}get isUniversal(){throw new Xb}offsetName(e,t){throw new Xb}formatOffset(e,t){throw new Xb}offset(e){throw new Xb}equals(e){throw new Xb}get isValid(){throw new Xb}},bx=null,xx=class e extends yx{static get instance(){return bx===null&&(bx=new e),bx}get type(){return`system`}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return FS(e,t,n)}formatOffset(e,t){return zS(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type===`system`}get isValid(){return!0}},Sx=new Map;function Wre(e){let t=Sx.get(e);return t===void 0&&(t=new Intl.DateTimeFormat(`en-US`,{hour12:!1,timeZone:e,year:`numeric`,month:`2-digit`,day:`2-digit`,hour:`2-digit`,minute:`2-digit`,second:`2-digit`,era:`short`}),Sx.set(e,t)),t}var Gre={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Kre(e,t){let n=e.format(t).replace(/\u200E/g,``),[,r,i,a,o,s,c,l]=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n);return[a,r,i,o,s,c,l]}function qre(e,t){let n=e.formatToParts(t),r=[];for(let e=0;e<n.length;e++){let{type:t,value:i}=n[e],a=Gre[t];t===`era`?r[a]=i:mS(a)||(r[a]=parseInt(i,10))}return r}var Cx=new Map,wx=class e extends yx{static create(t){let n=Cx.get(t);return n===void 0&&Cx.set(t,n=new e(t)),n}static resetCache(){Cx.clear(),Sx.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat(`en-US`,{timeZone:e}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=e.isValidZone(t)}get type(){return`iana`}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return FS(e,t,n,this.name)}formatOffset(e,t){return zS(this.offset(e),t)}offset(e){if(!this.valid)return NaN;let t=new Date(e);if(isNaN(t))return NaN;let n=Wre(this.name),[r,i,a,o,s,c,l]=n.formatToParts?qre(n,t):Kre(n,t);o===`BC`&&(r=-Math.abs(r)+1);let u=jS({year:r,month:i,day:a,hour:s===24?0:s,minute:c,second:l,millisecond:0}),d=+t,f=d%1e3;return d-=f>=0?f:1e3+f,(u-d)/(60*1e3)}equals(e){return e.type===`iana`&&e.name===this.name}get isValid(){return this.valid}},Tx={};function Jre(e,t={}){let n=JSON.stringify([e,t]),r=Tx[n];return r||(r=new Intl.ListFormat(e,t),Tx[n]=r),r}var Ex=new Map;function Dx(e,t={}){let n=JSON.stringify([e,t]),r=Ex.get(n);return r===void 0&&(r=new Intl.DateTimeFormat(e,t),Ex.set(n,r)),r}var Ox=new Map;function Yre(e,t={}){let n=JSON.stringify([e,t]),r=Ox.get(n);return r===void 0&&(r=new Intl.NumberFormat(e,t),Ox.set(n,r)),r}var kx=new Map;function Xre(e,t={}){let{base:n,...r}=t,i=JSON.stringify([e,r]),a=kx.get(i);return a===void 0&&(a=new Intl.RelativeTimeFormat(e,t),kx.set(i,a)),a}var Ax=null;function Zre(){return Ax||(Ax=new Intl.DateTimeFormat().resolvedOptions().locale,Ax)}var jx=new Map;function Mx(e){let t=jx.get(e);return t===void 0&&(t=new Intl.DateTimeFormat(e).resolvedOptions(),jx.set(e,t)),t}var Nx=new Map;function Qre(e){let t=Nx.get(e);if(!t){let n=new Intl.Locale(e);t=`getWeekInfo`in n?n.getWeekInfo():n.weekInfo,`minimalDays`in t||(t={...Fx,...t}),Nx.set(e,t)}return t}function $re(e){let t=e.indexOf(`-x-`);t!==-1&&(e=e.substring(0,t));let n=e.indexOf(`-u-`);if(n===-1)return[e];{let t,r;try{t=Dx(e).resolvedOptions(),r=e}catch{let i=e.substring(0,n);t=Dx(i).resolvedOptions(),r=i}let{numberingSystem:i,calendar:a}=t;return[r,i,a]}}function eie(e,t,n){return n||t?(e.includes(`-u-`)||(e+=`-u`),n&&(e+=`-ca-${n}`),t&&(e+=`-nu-${t}`),e):e}function tie(e){let t=[];for(let n=1;n<=12;n++){let r=cw.utc(2009,n,1);t.push(e(r))}return t}function nie(e){let t=[];for(let n=1;n<=7;n++){let r=cw.utc(2016,11,13+n);t.push(e(r))}return t}function Px(e,t,n,r){let i=e.listingMode();return i===`error`?null:i===`en`?n(t):r(t)}function rie(e){return e.numberingSystem&&e.numberingSystem!==`latn`?!1:e.numberingSystem===`latn`||!e.locale||e.locale.startsWith(`en`)||Mx(e.locale).numberingSystem===`latn`}var iie=class{constructor(e,t,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;let{padTo:r,floor:i,...a}=n;if(!t||Object.keys(a).length>0){let t={useGrouping:!1,...n};n.padTo>0&&(t.minimumIntegerDigits=n.padTo),this.inf=Yre(e,t)}}format(e){if(this.inf){let t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{let t=this.floor?Math.floor(e):DS(e,3);return CS(t,this.padTo)}}},aie=class{constructor(e,t,n){this.opts=n,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=e;else if(e.zone.type===`fixed`){let t=-1*(e.offset/60),n=t>=0?`Etc/GMT+${t}`:`Etc/GMT${t}`;e.offset!==0&&wx.create(n).valid?(r=n,this.dt=e):(r=`UTC`,this.dt=e.offset===0?e:e.setZone(`UTC`).plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type===`system`?this.dt=e:e.zone.type===`iana`?(this.dt=e,r=e.zone.name):(r=`UTC`,this.dt=e.setZone(`UTC`).plus({minutes:e.offset}),this.originalZone=e.zone);let i={...this.opts};i.timeZone=i.timeZone||r,this.dtf=Dx(t,i)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(``):this.dtf.format(this.dt.toJSDate())}formatToParts(){let e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(e=>{if(e.type===`timeZoneName`){let t=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:t}}else return e}):e}resolvedOptions(){return this.dtf.resolvedOptions()}},oie=class{constructor(e,t,n){this.opts={style:`long`,...n},!t&&_S()&&(this.rtf=Xre(e,n))}format(e,t){return this.rtf?this.rtf.format(e,t):Oie(t,e,this.opts.numeric,this.opts.style!==`long`)}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}},Fx={firstDay:1,minimalDays:4,weekend:[6,7]},Ix=class e{static fromOpts(t){return e.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,n,r,i,a=!1){let o=t||Qx.defaultLocale,s=o||(a?`en-US`:Zre()),c=n||Qx.defaultNumberingSystem,l=r||Qx.defaultOutputCalendar,u=xS(i)||Qx.defaultWeekSettings;return new e(s,c,l,u,o)}static resetCache(){Ax=null,Ex.clear(),Ox.clear(),kx.clear(),jx.clear(),Nx.clear()}static fromObject({locale:t,numberingSystem:n,outputCalendar:r,weekSettings:i}={}){return e.create(t,n,r,i)}constructor(e,t,n,r,i){let[a,o,s]=$re(e);this.locale=a,this.numberingSystem=t||o||null,this.outputCalendar=n||s||null,this.weekSettings=r,this.intl=eie(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached??=rie(this),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem===`latn`)&&(this.outputCalendar===null||this.outputCalendar===`gregory`);return e&&t?`en`:`intl`}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:e.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,xS(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return Px(this,e,HS,()=>{let n=this.intl===`ja`||this.intl.startsWith(`ja-`);t&=!n;let r=t?{month:e,day:`numeric`}:{month:e},i=t?`format`:`standalone`;if(!this.monthsCache[i][e]){let t=n?e=>this.dtFormatter(e,r).format():e=>this.extract(e,r,`month`);this.monthsCache[i][e]=tie(t)}return this.monthsCache[i][e]})}weekdays(e,t=!1){return Px(this,e,GS,()=>{let n=t?{weekday:e,year:`numeric`,month:`long`,day:`numeric`}:{weekday:e},r=t?`format`:`standalone`;return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=nie(e=>this.extract(e,n,`weekday`))),this.weekdaysCache[r][e]})}meridiems(){return Px(this,void 0,()=>KS,()=>{if(!this.meridiemCache){let e={hour:`numeric`,hourCycle:`h12`};this.meridiemCache=[cw.utc(2016,11,13,9),cw.utc(2016,11,13,19)].map(t=>this.extract(t,e,`dayperiod`))}return this.meridiemCache})}eras(e){return Px(this,e,qS,()=>{let t={era:e};return this.eraCache[e]||(this.eraCache[e]=[cw.utc(-40,1,1),cw.utc(2017,1,1)].map(e=>this.extract(e,t,`era`))),this.eraCache[e]})}extract(e,t,n){let r=this.dtFormatter(e,t).formatToParts().find(e=>e.type.toLowerCase()===n);return r?r.value:null}numberFormatter(e={}){return new iie(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new aie(e,this.intl,t)}relFormatter(e={}){return new oie(this.intl,this.isEnglish(),e)}listFormatter(e={}){return Jre(this.intl,e)}isEnglish(){return this.locale===`en`||this.locale.toLowerCase()===`en-us`||Mx(this.intl).locale.startsWith(`en-us`)}getWeekSettings(){return this.weekSettings?this.weekSettings:vS()?Qre(this.locale):Fx}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}},Lx=null,Rx=class e extends yx{static get utcInstance(){return Lx===null&&(Lx=new e(0)),Lx}static instance(t){return t===0?e.utcInstance:new e(t)}static parseSpecifier(t){if(t){let n=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new e(IS(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return`fixed`}get name(){return this.fixed===0?`UTC`:`UTC${zS(this.fixed,`narrow`)}`}get ianaName(){return this.fixed===0?`Etc/UTC`:`Etc/GMT${zS(-this.fixed,`narrow`)}`}offsetName(){return this.name}formatOffset(e,t){return zS(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type===`fixed`&&e.fixed===this.fixed}get isValid(){return!0}},sie=class extends yx{constructor(e){super(),this.zoneName=e}get type(){return`invalid`}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return``}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function zx(e,t){if(mS(e)||e===null)return t;if(e instanceof yx)return e;if(pie(e)){let n=e.toLowerCase();return n===`default`?t:n===`local`||n===`system`?xx.instance:n===`utc`||n===`gmt`?Rx.utcInstance:Rx.parseSpecifier(n)||wx.create(e)}else if(hS(e))return Rx.instance(e);else if(typeof e==`object`&&`offset`in e&&typeof e.offset==`function`)return e;else return new sie(e)}var Bx={arab:`[٠-٩]`,arabext:`[۰-۹]`,bali:`[᭐-᭙]`,beng:`[০-৯]`,deva:`[०-९]`,fullwide:`[０-９]`,gujr:`[૦-૯]`,hanidec:`[〇|一|二|三|四|五|六|七|八|九]`,khmr:`[០-៩]`,knda:`[೦-೯]`,laoo:`[໐-໙]`,limb:`[᥆-᥏]`,mlym:`[൦-൯]`,mong:`[᠐-᠙]`,mymr:`[၀-၉]`,orya:`[୦-୯]`,tamldec:`[௦-௯]`,telu:`[౦-౯]`,thai:`[๐-๙]`,tibt:`[༠-༩]`,latn:`\\d`},Vx={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},cie=Bx.hanidec.replace(/[\[|\]]/g,``).split(``);function lie(e){let t=parseInt(e,10);if(isNaN(t)){t=``;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(e[n].search(Bx.hanidec)!==-1)t+=cie.indexOf(e[n]);else for(let e in Vx){let[n,i]=Vx[e];r>=n&&r<=i&&(t+=r-n)}}return parseInt(t,10)}else return t}var Hx=new Map;function uie(){Hx.clear()}function Ux({numberingSystem:e},t=``){let n=e||`latn`,r=Hx.get(n);r===void 0&&(r=new Map,Hx.set(n,r));let i=r.get(t);return i===void 0&&(i=RegExp(`${Bx[n]}${t}`),r.set(t,i)),i}var Wx=()=>Date.now(),Gx=`system`,Kx=null,qx=null,Jx=null,Yx=60,Xx,Zx=null,Qx=class{static get now(){return Wx}static set now(e){Wx=e}static set defaultZone(e){Gx=e}static get defaultZone(){return zx(Gx,xx.instance)}static get defaultLocale(){return Kx}static set defaultLocale(e){Kx=e}static get defaultNumberingSystem(){return qx}static set defaultNumberingSystem(e){qx=e}static get defaultOutputCalendar(){return Jx}static set defaultOutputCalendar(e){Jx=e}static get defaultWeekSettings(){return Zx}static set defaultWeekSettings(e){Zx=xS(e)}static get twoDigitCutoffYear(){return Yx}static set twoDigitCutoffYear(e){Yx=e%100}static get throwOnInvalid(){return Xx}static set throwOnInvalid(e){Xx=e}static resetCaches(){Ix.resetCache(),wx.resetCache(),cw.resetCache(),uie()}},$x=class{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}},eS=[0,31,59,90,120,151,181,212,243,273,304,334],tS=[0,31,60,91,121,152,182,213,244,274,305,335];function nS(e,t){return new $x(`unit out of range`,`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function rS(e,t,n){let r=new Date(Date.UTC(e,t-1,n));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);let i=r.getUTCDay();return i===0?7:i}function iS(e,t,n){return n+(OS(e)?tS:eS)[t-1]}function aS(e,t){let n=OS(e)?tS:eS,r=n.findIndex(e=>e<t),i=t-n[r];return{month:r+1,day:i}}function oS(e,t){return(e-t+7)%7+1}function sS(e,t=4,n=1){let{year:r,month:i,day:a}=e,o=iS(r,i,a),s=oS(rS(r,i,a),n),c=Math.floor((o-s+14-t)/7),l;return c<1?(l=r-1,c=NS(l,t,n)):c>NS(r,t,n)?(l=r+1,c=1):l=r,{weekYear:l,weekNumber:c,weekday:s,...BS(e)}}function cS(e,t=4,n=1){let{weekYear:r,weekNumber:i,weekday:a}=e,o=oS(rS(r,1,t),n),s=kS(r),c=i*7+a-o-7+t,l;c<1?(l=r-1,c+=kS(l)):c>s?(l=r+1,c-=kS(r)):l=r;let{month:u,day:d}=aS(l,c);return{year:l,month:u,day:d,...BS(e)}}function lS(e){let{year:t,month:n,day:r}=e,i=iS(t,n,r);return{year:t,ordinal:i,...BS(e)}}function uS(e){let{year:t,ordinal:n}=e,{month:r,day:i}=aS(t,n);return{year:t,month:r,day:i,...BS(e)}}function dS(e,t){if(!mS(e.localWeekday)||!mS(e.localWeekNumber)||!mS(e.localWeekYear)){if(!mS(e.weekday)||!mS(e.weekNumber)||!mS(e.weekYear))throw new qb(`Cannot mix locale-based week fields with ISO-based week fields`);return mS(e.localWeekday)||(e.weekday=e.localWeekday),mS(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),mS(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function die(e,t=4,n=1){let r=gS(e.weekYear),i=SS(e.weekNumber,1,NS(e.weekYear,t,n)),a=SS(e.weekday,1,7);return r?i?a?!1:nS(`weekday`,e.weekday):nS(`week`,e.weekNumber):nS(`weekYear`,e.weekYear)}function fie(e){let t=gS(e.year),n=SS(e.ordinal,1,kS(e.year));return t?n?!1:nS(`ordinal`,e.ordinal):nS(`year`,e.year)}function fS(e){let t=gS(e.year),n=SS(e.month,1,12),r=SS(e.day,1,AS(e.year,e.month));return t?n?r?!1:nS(`day`,e.day):nS(`month`,e.month):nS(`year`,e.year)}function pS(e){let{hour:t,minute:n,second:r,millisecond:i}=e,a=SS(t,0,23)||t===24&&n===0&&r===0&&i===0,o=SS(n,0,59),s=SS(r,0,59),c=SS(i,0,999);return a?o?s?c?!1:nS(`millisecond`,i):nS(`second`,r):nS(`minute`,n):nS(`hour`,t)}function mS(e){return e===void 0}function hS(e){return typeof e==`number`}function gS(e){return typeof e==`number`&&e%1==0}function pie(e){return typeof e==`string`}function mie(e){return Object.prototype.toString.call(e)===`[object Date]`}function _S(){try{return typeof Intl<`u`&&!!Intl.RelativeTimeFormat}catch{return!1}}function vS(){try{return typeof Intl<`u`&&!!Intl.Locale&&(`weekInfo`in Intl.Locale.prototype||`getWeekInfo`in Intl.Locale.prototype)}catch{return!1}}function hie(e){return Array.isArray(e)?e:[e]}function yS(e,t,n){if(e.length!==0)return e.reduce((e,r)=>{let i=[t(r),r];return e&&n(e[0],i[0])===e[0]?e:i},null)[1]}function gie(e,t){return t.reduce((t,n)=>(t[n]=e[n],t),{})}function bS(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function xS(e){if(e==null)return null;if(typeof e!=`object`)throw new Yb(`Week settings must be an object`);if(!SS(e.firstDay,1,7)||!SS(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(e=>!SS(e,1,7)))throw new Yb(`Invalid week settings`);return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function SS(e,t,n){return gS(e)&&e>=t&&e<=n}function _ie(e,t){return e-t*Math.floor(e/t)}function CS(e,t=2){let n=e<0,r;return r=n?`-`+(``+-e).padStart(t,`0`):(``+e).padStart(t,`0`),r}function wS(e){if(!(mS(e)||e===null||e===``))return parseInt(e,10)}function TS(e){if(!(mS(e)||e===null||e===``))return parseFloat(e)}function ES(e){if(!(mS(e)||e===null||e===``)){let t=parseFloat(`0.`+e)*1e3;return Math.floor(t)}}function DS(e,t,n=`round`){let r=10**t;switch(n){case`expand`:return e>0?Math.ceil(e*r)/r:Math.floor(e*r)/r;case`trunc`:return Math.trunc(e*r)/r;case`round`:return Math.round(e*r)/r;case`floor`:return Math.floor(e*r)/r;case`ceil`:return Math.ceil(e*r)/r;default:throw RangeError(`Value rounding ${n} is out of range`)}}function OS(e){return e%4==0&&(e%100!=0||e%400==0)}function kS(e){return OS(e)?366:365}function AS(e,t){let n=_ie(t-1,12)+1,r=e+(t-n)/12;return n===2?OS(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function jS(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function MS(e,t,n){return-oS(rS(e,1,t),n)+t-1}function NS(e,t=4,n=1){let r=MS(e,t,n),i=MS(e+1,t,n);return(kS(e)-r+i)/7}function PS(e){return e>99?e:e>Qx.twoDigitCutoffYear?1900+e:2e3+e}function FS(e,t,n,r=null){let i=new Date(e),a={hourCycle:`h23`,year:`numeric`,month:`2-digit`,day:`2-digit`,hour:`2-digit`,minute:`2-digit`};r&&(a.timeZone=r);let o={timeZoneName:t,...a},s=new Intl.DateTimeFormat(n,o).formatToParts(i).find(e=>e.type.toLowerCase()===`timezonename`);return s?s.value:null}function IS(e,t){let n=parseInt(e,10);Number.isNaN(n)&&(n=0);let r=parseInt(t,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function LS(e){let t=Number(e);if(typeof e==`boolean`||e===``||!Number.isFinite(t))throw new Yb(`Invalid unit value ${e}`);return t}function RS(e,t){let n={};for(let r in e)if(bS(e,r)){let i=e[r];if(i==null)continue;n[t(r)]=LS(i)}return n}function zS(e,t){let n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),i=e>=0?`+`:`-`;switch(t){case`short`:return`${i}${CS(n,2)}:${CS(r,2)}`;case`narrow`:return`${i}${n}${r>0?`:${r}`:``}`;case`techie`:return`${i}${CS(n,2)}${CS(r,2)}`;default:throw RangeError(`Value format ${t} is out of range for property format`)}}function BS(e){return gie(e,[`hour`,`minute`,`second`,`millisecond`])}var vie=[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`],VS=[`Jan`,`Feb`,`Mar`,`Apr`,`May`,`Jun`,`Jul`,`Aug`,`Sep`,`Oct`,`Nov`,`Dec`],yie=[`J`,`F`,`M`,`A`,`M`,`J`,`J`,`A`,`S`,`O`,`N`,`D`];function HS(e){switch(e){case`narrow`:return[...yie];case`short`:return[...VS];case`long`:return[...vie];case`numeric`:return[`1`,`2`,`3`,`4`,`5`,`6`,`7`,`8`,`9`,`10`,`11`,`12`];case`2-digit`:return[`01`,`02`,`03`,`04`,`05`,`06`,`07`,`08`,`09`,`10`,`11`,`12`];default:return null}}var US=[`Monday`,`Tuesday`,`Wednesday`,`Thursday`,`Friday`,`Saturday`,`Sunday`],WS=[`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`,`Sun`],bie=[`M`,`T`,`W`,`T`,`F`,`S`,`S`];function GS(e){switch(e){case`narrow`:return[...bie];case`short`:return[...WS];case`long`:return[...US];case`numeric`:return[`1`,`2`,`3`,`4`,`5`,`6`,`7`];default:return null}}var KS=[`AM`,`PM`],xie=[`Before Christ`,`Anno Domini`],Sie=[`BC`,`AD`],Cie=[`B`,`A`];function qS(e){switch(e){case`narrow`:return[...Cie];case`short`:return[...Sie];case`long`:return[...xie];default:return null}}function wie(e){return KS[e.hour<12?0:1]}function Tie(e,t){return GS(t)[e.weekday-1]}function Eie(e,t){return HS(t)[e.month-1]}function Die(e,t){return qS(t)[e.year<0?0:1]}function Oie(e,t,n=`always`,r=!1){let i={years:[`year`,`yr.`],quarters:[`quarter`,`qtr.`],months:[`month`,`mo.`],weeks:[`week`,`wk.`],days:[`day`,`day`,`days`],hours:[`hour`,`hr.`],minutes:[`minute`,`min.`],seconds:[`second`,`sec.`]},a=[`hours`,`minutes`,`seconds`].indexOf(e)===-1;if(n===`auto`&&a){let n=e===`days`;switch(t){case 1:return n?`tomorrow`:`next ${i[e][0]}`;case-1:return n?`yesterday`:`last ${i[e][0]}`;case 0:return n?`today`:`this ${i[e][0]}`}}let o=Object.is(t,-0)||t<0,s=Math.abs(t),c=s===1,l=i[e],u=r?c?l[1]:l[2]||l[1]:c?i[e][0]:e;return o?`${s} ${u} ago`:`in ${s} ${u}`}function JS(e,t){let n=``;for(let r of e)r.literal?n+=r.val:n+=t(r.val);return n}var kie={D:$b,DD:ex,DDD:tx,DDDD:nx,t:rx,tt:ix,ttt:ax,tttt:ox,T:sx,TT:cx,TTT:lx,TTTT:ux,f:dx,ff:px,fff:hx,ffff:_x,F:fx,FF:mx,FFF:gx,FFFF:vx},YS=class e{static create(t,n={}){return new e(t,n)}static parseFormat(e){let t=null,n=``,r=!1,i=[];for(let a=0;a<e.length;a++){let o=e.charAt(a);o===`'`?((n.length>0||r)&&i.push({literal:r||/^\s+$/.test(n),val:n===``?`'`:n}),t=null,n=``,r=!r):r||o===t?n+=o:(n.length>0&&i.push({literal:/^\s+$/.test(n),val:n}),n=o,t=o)}return n.length>0&&i.push({literal:r||/^\s+$/.test(n),val:n}),i}static macroTokenToFormatOpts(e){return kie[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0,n=void 0){if(this.opts.forceSimple)return CS(e,t);let r={...this.opts};return t>0&&(r.padTo=t),n&&(r.signDisplay=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(t,n){let r=this.loc.listingMode()===`en`,i=this.loc.outputCalendar&&this.loc.outputCalendar!==`gregory`,a=(e,n)=>this.loc.extract(t,e,n),o=e=>t.isOffsetFixed&&t.offset===0&&e.allowZ?`Z`:t.isValid?t.zone.formatOffset(t.ts,e.format):``,s=()=>r?wie(t):a({hour:`numeric`,hourCycle:`h12`},`dayperiod`),c=(e,n)=>r?Eie(t,e):a(n?{month:e}:{month:e,day:`numeric`},`month`),l=(e,n)=>r?Tie(t,e):a(n?{weekday:e}:{weekday:e,month:`long`,day:`numeric`},`weekday`),u=n=>{let r=e.macroTokenToFormatOpts(n);return r?this.formatWithSystemDefault(t,r):n},d=e=>r?Die(t,e):a({era:e},`era`);return JS(e.parseFormat(n),e=>{switch(e){case`S`:return this.num(t.millisecond);case`u`:case`SSS`:return this.num(t.millisecond,3);case`s`:return this.num(t.second);case`ss`:return this.num(t.second,2);case`uu`:return this.num(Math.floor(t.millisecond/10),2);case`uuu`:return this.num(Math.floor(t.millisecond/100));case`m`:return this.num(t.minute);case`mm`:return this.num(t.minute,2);case`h`:return this.num(t.hour%12==0?12:t.hour%12);case`hh`:return this.num(t.hour%12==0?12:t.hour%12,2);case`H`:return this.num(t.hour);case`HH`:return this.num(t.hour,2);case`Z`:return o({format:`narrow`,allowZ:this.opts.allowZ});case`ZZ`:return o({format:`short`,allowZ:this.opts.allowZ});case`ZZZ`:return o({format:`techie`,allowZ:this.opts.allowZ});case`ZZZZ`:return t.zone.offsetName(t.ts,{format:`short`,locale:this.loc.locale});case`ZZZZZ`:return t.zone.offsetName(t.ts,{format:`long`,locale:this.loc.locale});case`z`:return t.zoneName;case`a`:return s();case`d`:return i?a({day:`numeric`},`day`):this.num(t.day);case`dd`:return i?a({day:`2-digit`},`day`):this.num(t.day,2);case`c`:return this.num(t.weekday);case`ccc`:return l(`short`,!0);case`cccc`:return l(`long`,!0);case`ccccc`:return l(`narrow`,!0);case`E`:return this.num(t.weekday);case`EEE`:return l(`short`,!1);case`EEEE`:return l(`long`,!1);case`EEEEE`:return l(`narrow`,!1);case`L`:return i?a({month:`numeric`,day:`numeric`},`month`):this.num(t.month);case`LL`:return i?a({month:`2-digit`,day:`numeric`},`month`):this.num(t.month,2);case`LLL`:return c(`short`,!0);case`LLLL`:return c(`long`,!0);case`LLLLL`:return c(`narrow`,!0);case`M`:return i?a({month:`numeric`},`month`):this.num(t.month);case`MM`:return i?a({month:`2-digit`},`month`):this.num(t.month,2);case`MMM`:return c(`short`,!1);case`MMMM`:return c(`long`,!1);case`MMMMM`:return c(`narrow`,!1);case`y`:return i?a({year:`numeric`},`year`):this.num(t.year);case`yy`:return i?a({year:`2-digit`},`year`):this.num(t.year.toString().slice(-2),2);case`yyyy`:return i?a({year:`numeric`},`year`):this.num(t.year,4);case`yyyyyy`:return i?a({year:`numeric`},`year`):this.num(t.year,6);case`G`:return d(`short`);case`GG`:return d(`long`);case`GGGGG`:return d(`narrow`);case`kk`:return this.num(t.weekYear.toString().slice(-2),2);case`kkkk`:return this.num(t.weekYear,4);case`W`:return this.num(t.weekNumber);case`WW`:return this.num(t.weekNumber,2);case`n`:return this.num(t.localWeekNumber);case`nn`:return this.num(t.localWeekNumber,2);case`ii`:return this.num(t.localWeekYear.toString().slice(-2),2);case`iiii`:return this.num(t.localWeekYear,4);case`o`:return this.num(t.ordinal);case`ooo`:return this.num(t.ordinal,3);case`q`:return this.num(t.quarter);case`qq`:return this.num(t.quarter,2);case`X`:return this.num(Math.floor(t.ts/1e3));case`x`:return this.num(t.ts);default:return u(e)}})}formatDurationFromString(t,n){let r=this.opts.signMode===`negativeLargestOnly`?-1:1,i=e=>{switch(e[0]){case`S`:return`milliseconds`;case`s`:return`seconds`;case`m`:return`minutes`;case`h`:return`hours`;case`d`:return`days`;case`w`:return`weeks`;case`M`:return`months`;case`y`:return`years`;default:return null}},a=(e,t)=>n=>{let a=i(n);if(a){let i=t.isNegativeDuration&&a!==t.largestUnit?r:1,o;return o=this.opts.signMode===`negativeLargestOnly`&&a!==t.largestUnit?`never`:this.opts.signMode===`all`?`always`:`auto`,this.num(e.get(a)*i,n.length,o)}else return n},o=e.parseFormat(n),s=o.reduce((e,{literal:t,val:n})=>t?e:e.concat(n),[]),c=t.shiftTo(...s.map(i).filter(e=>e)),l={isNegativeDuration:c<0,largestUnit:Object.keys(c.values)[0]};return JS(o,a(c,l))}},XS=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function ZS(...e){let t=e.reduce((e,t)=>e+t.source,``);return RegExp(`^${t}$`)}function QS(...e){return t=>e.reduce(([e,n,r],i)=>{let[a,o,s]=i(t,r);return[{...e,...a},o||n,s]},[{},null,1]).slice(0,2)}function $S(e,...t){if(e==null)return[null,null];for(let[n,r]of t){let t=n.exec(e);if(t)return r(t)}return[null,null]}function eC(...e){return(t,n)=>{let r={},i;for(i=0;i<e.length;i++)r[e[i]]=wS(t[n+i]);return[r,null,n+i]}}var tC=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,Aie=`(?:${tC.source}?(?:\\[(${XS.source})\\])?)?`,nC=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,rC=RegExp(`${nC.source}${Aie}`),iC=RegExp(`(?:[Tt]${rC.source})?`),jie=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Mie=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Nie=/(\d{4})-?(\d{3})/,Pie=eC(`weekYear`,`weekNumber`,`weekDay`),Fie=eC(`year`,`ordinal`),Iie=/(\d{4})-(\d\d)-(\d\d)/,aC=RegExp(`${nC.source} ?(?:${tC.source}|(${XS.source}))?`),Lie=RegExp(`(?: ${aC.source})?`);function oC(e,t,n){let r=e[t];return mS(r)?n:wS(r)}function Rie(e,t){return[{year:oC(e,t),month:oC(e,t+1,1),day:oC(e,t+2,1)},null,t+3]}function sC(e,t){return[{hours:oC(e,t,0),minutes:oC(e,t+1,0),seconds:oC(e,t+2,0),milliseconds:ES(e[t+3])},null,t+4]}function cC(e,t){let n=!e[t]&&!e[t+1],r=IS(e[t+1],e[t+2]);return[{},n?null:Rx.instance(r),t+3]}function lC(e,t){return[{},e[t]?wx.create(e[t]):null,t+1]}var zie=RegExp(`^T?${nC.source}$`),Bie=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Vie(e){let[t,n,r,i,a,o,s,c,l]=e,u=t[0]===`-`,d=c&&c[0]===`-`,f=(e,t=!1)=>e!==void 0&&(t||e&&u)?-e:e;return[{years:f(TS(n)),months:f(TS(r)),weeks:f(TS(i)),days:f(TS(a)),hours:f(TS(o)),minutes:f(TS(s)),seconds:f(TS(c),c===`-0`),milliseconds:f(ES(l),d)}]}var Hie={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function uC(e,t,n,r,i,a,o){let s={year:t.length===2?PS(wS(t)):wS(t),month:VS.indexOf(n)+1,day:wS(r),hour:wS(i),minute:wS(a)};return o&&(s.second=wS(o)),e&&(s.weekday=e.length>3?US.indexOf(e)+1:WS.indexOf(e)+1),s}var Uie=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Wie(e){let[,t,n,r,i,a,o,s,c,l,u,d]=e,f=uC(t,i,r,n,a,o,s),p;return p=c?Hie[c]:l?0:IS(u,d),[f,new Rx(p)]}function Gie(e){return e.replace(/\([^()]*\)|[\n\t]/g,` `).replace(/(\s\s+)/g,` `).trim()}var Kie=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,qie=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Jie=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function dC(e){let[,t,n,r,i,a,o,s]=e;return[uC(t,i,r,n,a,o,s),Rx.utcInstance]}function Yie(e){let[,t,n,r,i,a,o,s]=e;return[uC(t,s,n,r,i,a,o),Rx.utcInstance]}var Xie=ZS(jie,iC),Zie=ZS(Mie,iC),Qie=ZS(Nie,iC),$ie=ZS(rC),fC=QS(Rie,sC,cC,lC),eae=QS(Pie,sC,cC,lC),tae=QS(Fie,sC,cC,lC),nae=QS(sC,cC,lC);function rae(e){return $S(e,[Xie,fC],[Zie,eae],[Qie,tae],[$ie,nae])}function iae(e){return $S(Gie(e),[Uie,Wie])}function aae(e){return $S(e,[Kie,dC],[qie,dC],[Jie,Yie])}function oae(e){return $S(e,[Bie,Vie])}var sae=QS(sC);function cae(e){return $S(e,[zie,sae])}var lae=ZS(Iie,Lie),uae=ZS(aC),dae=QS(sC,cC,lC);function fae(e){return $S(e,[lae,fC],[uae,dae])}var pC=`Invalid Duration`,mC={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},pae={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...mC},hC=146097/400,gC=146097/4800,mae={years:{quarters:4,months:12,weeks:hC/7,days:hC,hours:hC*24,minutes:hC*24*60,seconds:hC*24*60*60,milliseconds:hC*24*60*60*1e3},quarters:{months:3,weeks:hC/28,days:hC/4,hours:hC*24/4,minutes:hC*24*60/4,seconds:hC*24*60*60/4,milliseconds:hC*24*60*60*1e3/4},months:{weeks:gC/7,days:gC,hours:gC*24,minutes:gC*24*60,seconds:gC*24*60*60,milliseconds:gC*24*60*60*1e3},...mC},_C=[`years`,`quarters`,`months`,`weeks`,`days`,`hours`,`minutes`,`seconds`,`milliseconds`],hae=_C.slice(0).reverse();function vC(e,t,n=!1){let r={values:n?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new SC(r)}function yC(e,t){let n=t.milliseconds??0;for(let r of hae.slice(1))t[r]&&(n+=t[r]*e[r].milliseconds);return n}function bC(e,t){let n=yC(e,t)<0?-1:1;_C.reduceRight((r,i)=>{if(mS(t[i]))return r;if(r){let a=t[r]*n,o=e[i][r],s=Math.floor(a/o);t[i]+=s*n,t[r]-=s*o*n}return i},null),_C.reduce((n,r)=>{if(mS(t[r]))return n;if(n){let i=t[n]%1;t[n]-=i,t[r]+=i*e[n][r]}return r},null)}function xC(e){let t={};for(let[n,r]of Object.entries(e))r!==0&&(t[n]=r);return t}var SC=class e{constructor(e){let t=e.conversionAccuracy===`longterm`||!1,n=t?mae:pae;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||Ix.create(),this.conversionAccuracy=t?`longterm`:`casual`,this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(t,n){return e.fromObject({milliseconds:t},n)}static fromObject(t,n={}){if(typeof t!=`object`||!t)throw new Yb(`Duration.fromObject: argument expected to be an object, got ${t===null?`null`:typeof t}`);return new e({values:RS(t,e.normalizeUnit),loc:Ix.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(t){if(hS(t))return e.fromMillis(t);if(e.isDuration(t))return t;if(typeof t==`object`)return e.fromObject(t);throw new Yb(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,n){let[r]=oae(t);return r?e.fromObject(r,n):e.invalid(`unparsable`,`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,n){let[r]=cae(t);return r?e.fromObject(r,n):e.invalid(`unparsable`,`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,n=null){if(!t)throw new Yb(`need to specify a reason the Duration is invalid`);let r=t instanceof $x?t:new $x(t,n);if(Qx.throwOnInvalid)throw new Vre(r);return new e({invalid:r})}static normalizeUnit(e){let t={year:`years`,years:`years`,quarter:`quarters`,quarters:`quarters`,month:`months`,months:`months`,week:`weeks`,weeks:`weeks`,day:`days`,days:`days`,hour:`hours`,hours:`hours`,minute:`minutes`,minutes:`minutes`,second:`seconds`,seconds:`seconds`,millisecond:`milliseconds`,milliseconds:`milliseconds`}[e&&e.toLowerCase()];if(!t)throw new Jb(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){let n={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?YS.create(this.loc,n).formatDurationFromString(this,e):pC}toHuman(e={}){if(!this.isValid)return pC;let t=e.showZeros!==!1,n=_C.map(n=>{let r=this.values[n];return mS(r)||r===0&&!t?null:this.loc.numberFormatter({style:`unit`,unitDisplay:`long`,...e,unit:n.slice(0,-1)}).format(r)}).filter(e=>e);return this.loc.listFormatter({type:`conjunction`,style:e.listStyle||`narrow`,...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e=`P`;return this.years!==0&&(e+=this.years+`Y`),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+`M`),this.weeks!==0&&(e+=this.weeks+`W`),this.days!==0&&(e+=this.days+`D`),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+=`T`),this.hours!==0&&(e+=this.hours+`H`),this.minutes!==0&&(e+=this.minutes+`M`),(this.seconds!==0||this.milliseconds!==0)&&(e+=DS(this.seconds+this.milliseconds/1e3,3)+`S`),e===`P`&&(e+=`T0S`),e}toISOTime(e={}){if(!this.isValid)return null;let t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:`extended`,...e,includeOffset:!1},cw.fromMillis(t,{zone:`UTC`}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for(`nodejs.util.inspect.custom`)](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?yC(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;let n=e.fromDurationLike(t),r={};for(let e of _C)(bS(n.values,e)||bS(this.values,e))&&(r[e]=n.get(e)+this.get(e));return vC(this,{values:r},!0)}minus(t){if(!this.isValid)return this;let n=e.fromDurationLike(t);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;let t={};for(let n of Object.keys(this.values))t[n]=LS(e(this.values[n],n));return vC(this,{values:t},!0)}get(t){return this[e.normalizeUnit(t)]}set(t){if(!this.isValid)return this;let n={...this.values,...RS(t,e.normalizeUnit)};return vC(this,{values:n})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:n,matrix:r}={}){let i={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:r,conversionAccuracy:n};return vC(this,i)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return bC(this.matrix,e),vC(this,{values:e},!0)}rescale(){if(!this.isValid)return this;let e=xC(this.normalize().shiftToAll().toObject());return vC(this,{values:e},!0)}shiftTo(...t){if(!this.isValid||t.length===0)return this;t=t.map(t=>e.normalizeUnit(t));let n={},r={},i=this.toObject(),a;for(let e of _C)if(t.indexOf(e)>=0){a=e;let t=0;for(let n in r)t+=this.matrix[n][e]*r[n],r[n]=0;hS(i[e])&&(t+=i[e]);let o=Math.trunc(t);n[e]=o,r[e]=(t*1e3-o*1e3)/1e3}else hS(i[e])&&(r[e]=i[e]);for(let e in r)r[e]!==0&&(n[a]+=e===a?r[e]:r[e]/this.matrix[a][e]);return bC(this.matrix,n),vC(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo(`years`,`months`,`weeks`,`days`,`hours`,`minutes`,`seconds`,`milliseconds`):this}negate(){if(!this.isValid)return this;let e={};for(let t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return vC(this,{values:e},!0)}removeZeros(){if(!this.isValid)return this;let e=xC(this.values);return vC(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(e,t){return e===void 0||e===0?t===void 0||t===0:e===t}for(let n of _C)if(!t(this.values[n],e.values[n]))return!1;return!0}},CC=`Invalid Interval`;function gae(e,t){return!e||!e.isValid?wC.invalid(`missing or invalid start`):!t||!t.isValid?wC.invalid(`missing or invalid end`):t<e?wC.invalid(`end before start`,`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}var wC=class e{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(t,n=null){if(!t)throw new Yb(`need to specify a reason the Interval is invalid`);let r=t instanceof $x?t:new $x(t,n);if(Qx.throwOnInvalid)throw new Bre(r);return new e({invalid:r})}static fromDateTimes(t,n){let r=lw(t),i=lw(n);return gae(r,i)??new e({start:r,end:i})}static after(t,n){let r=SC.fromDurationLike(n),i=lw(t);return e.fromDateTimes(i,i.plus(r))}static before(t,n){let r=SC.fromDurationLike(n),i=lw(t);return e.fromDateTimes(i.minus(r),i)}static fromISO(t,n){let[r,i]=(t||``).split(`/`,2);if(r&&i){let t,a;try{t=cw.fromISO(r,n),a=t.isValid}catch{a=!1}let o,s;try{o=cw.fromISO(i,n),s=o.isValid}catch{s=!1}if(a&&s)return e.fromDateTimes(t,o);if(a){let r=SC.fromISO(i,n);if(r.isValid)return e.after(t,r)}else if(s){let t=SC.fromISO(r,n);if(t.isValid)return e.before(o,t)}}return e.invalid(`unparsable`,`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e=`milliseconds`){return this.isValid?this.toDuration(e).get(e):NaN}count(e=`milliseconds`,t){if(!this.isValid)return NaN;let n=this.start.startOf(e,t),r;return r=t?.useLocaleWeeks?this.end.reconfigure({locale:n.locale}):this.end,r=r.startOf(e,t),Math.floor(r.diff(n,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:t,end:n}={}){return this.isValid?e.fromDateTimes(t||this.s,n||this.e):this}splitAt(...t){if(!this.isValid)return[];let n=t.map(lw).filter(e=>this.contains(e)).sort((e,t)=>e.toMillis()-t.toMillis()),r=[],{s:i}=this,a=0;for(;i<this.e;){let t=n[a]||this.e,o=+t>+this.e?this.e:t;r.push(e.fromDateTimes(i,o)),i=o,a+=1}return r}splitBy(t){let n=SC.fromDurationLike(t);if(!this.isValid||!n.isValid||n.as(`milliseconds`)===0)return[];let{s:r}=this,i=1,a,o=[];for(;r<this.e;){let t=this.start.plus(n.mapUnits(e=>e*i));a=+t>+this.e?this.e:t,o.push(e.fromDateTimes(r,a)),r=a,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(t){if(!this.isValid)return this;let n=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return n>=r?null:e.fromDateTimes(n,r)}union(t){if(!this.isValid)return this;let n=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return e.fromDateTimes(n,r)}static merge(e){let[t,n]=e.sort((e,t)=>e.s-t.s).reduce(([e,t],n)=>t?t.overlaps(n)||t.abutsStart(n)?[e,t.union(n)]:[e.concat([t]),n]:[e,n],[[],null]);return n&&t.push(n),t}static xor(t){let n=null,r=0,i=[],a=t.map(e=>[{time:e.s,type:`s`},{time:e.e,type:`e`}]),o=Array.prototype.concat(...a).sort((e,t)=>e.time-t.time);for(let t of o)r+=t.type===`s`?1:-1,r===1?n=t.time:(n&&+n!=+t.time&&i.push(e.fromDateTimes(n,t.time)),n=null);return e.merge(i)}difference(...t){return e.xor([this].concat(t)).map(e=>this.intersection(e)).filter(e=>e&&!e.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:CC}[Symbol.for(`nodejs.util.inspect.custom`)](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=$b,t={}){return this.isValid?YS.create(this.s.loc.clone(t),e).formatInterval(this):CC}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:CC}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:CC}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:CC}toFormat(e,{separator:t=` – `}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:CC}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):SC.invalid(this.invalidReason)}mapEndpoints(t){return e.fromDateTimes(t(this.s),t(this.e))}},TC=class{static hasDST(e=Qx.defaultZone){let t=cw.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return wx.isValidZone(e)}static normalizeZone(e){return zx(e,Qx.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||Ix.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||Ix.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||Ix.create(e)).getWeekendDays().slice()}static months(e=`long`,{locale:t=null,numberingSystem:n=null,locObj:r=null,outputCalendar:i=`gregory`}={}){return(r||Ix.create(t,n,i)).months(e)}static monthsFormat(e=`long`,{locale:t=null,numberingSystem:n=null,locObj:r=null,outputCalendar:i=`gregory`}={}){return(r||Ix.create(t,n,i)).months(e,!0)}static weekdays(e=`long`,{locale:t=null,numberingSystem:n=null,locObj:r=null}={}){return(r||Ix.create(t,n,null)).weekdays(e)}static weekdaysFormat(e=`long`,{locale:t=null,numberingSystem:n=null,locObj:r=null}={}){return(r||Ix.create(t,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Ix.create(e).meridiems()}static eras(e=`short`,{locale:t=null}={}){return Ix.create(t,null,`gregory`).eras(e)}static features(){return{relative:_S(),localeWeek:vS()}}};function EC(e,t){let n=e=>e.toUTC(0,{keepLocalTime:!0}).startOf(`day`).valueOf(),r=n(t)-n(e);return Math.floor(SC.fromMillis(r).as(`days`))}function _ae(e,t,n){let r=[[`years`,(e,t)=>t.year-e.year],[`quarters`,(e,t)=>t.quarter-e.quarter+(t.year-e.year)*4],[`months`,(e,t)=>t.month-e.month+(t.year-e.year)*12],[`weeks`,(e,t)=>{let n=EC(e,t);return(n-n%7)/7}],[`days`,EC]],i={},a=e,o,s;for(let[c,l]of r)n.indexOf(c)>=0&&(o=c,i[c]=l(e,t),s=a.plus(i),s>t?(i[c]--,e=a.plus(i),e>t&&(s=e,i[c]--,e=a.plus(i))):e=s);return[e,i,s,o]}function vae(e,t,n,r){let[i,a,o,s]=_ae(e,t,n),c=t-i,l=n.filter(e=>[`hours`,`minutes`,`seconds`,`milliseconds`].indexOf(e)>=0);l.length===0&&(o<t&&(o=i.plus({[s]:1})),o!==i&&(a[s]=(a[s]||0)+c/(o-i)));let u=SC.fromObject(a,r);return l.length>0?SC.fromMillis(c,r).shiftTo(...l).plus(u):u}var yae=`missing Intl.DateTimeFormat.formatToParts support`;function DC(e,t=e=>e){return{regex:e,deser:([e])=>t(lie(e))}}var OC=`[ \xA0]`,kC=new RegExp(OC,`g`);function bae(e){return e.replace(/\./g,`\\.?`).replace(kC,OC)}function AC(e){return e.replace(/\./g,``).replace(kC,` `).toLowerCase()}function jC(e,t){return e===null?null:{regex:RegExp(e.map(bae).join(`|`)),deser:([n])=>e.findIndex(e=>AC(n)===AC(e))+t}}function MC(e,t){return{regex:e,deser:([,e,t])=>IS(e,t),groups:t}}function NC(e){return{regex:e,deser:([e])=>e}}function xae(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,`\\$&`)}function Sae(e,t){let n=Ux(t),r=Ux(t,`{2}`),i=Ux(t,`{3}`),a=Ux(t,`{4}`),o=Ux(t,`{6}`),s=Ux(t,`{1,2}`),c=Ux(t,`{1,3}`),l=Ux(t,`{1,6}`),u=Ux(t,`{1,9}`),d=Ux(t,`{2,4}`),f=Ux(t,`{4,6}`),p=e=>({regex:RegExp(xae(e.val)),deser:([e])=>e,literal:!0}),m=(m=>{if(e.literal)return p(m);switch(m.val){case`G`:return jC(t.eras(`short`),0);case`GG`:return jC(t.eras(`long`),0);case`y`:return DC(l);case`yy`:return DC(d,PS);case`yyyy`:return DC(a);case`yyyyy`:return DC(f);case`yyyyyy`:return DC(o);case`M`:return DC(s);case`MM`:return DC(r);case`MMM`:return jC(t.months(`short`,!0),1);case`MMMM`:return jC(t.months(`long`,!0),1);case`L`:return DC(s);case`LL`:return DC(r);case`LLL`:return jC(t.months(`short`,!1),1);case`LLLL`:return jC(t.months(`long`,!1),1);case`d`:return DC(s);case`dd`:return DC(r);case`o`:return DC(c);case`ooo`:return DC(i);case`HH`:return DC(r);case`H`:return DC(s);case`hh`:return DC(r);case`h`:return DC(s);case`mm`:return DC(r);case`m`:return DC(s);case`q`:return DC(s);case`qq`:return DC(r);case`s`:return DC(s);case`ss`:return DC(r);case`S`:return DC(c);case`SSS`:return DC(i);case`u`:return NC(u);case`uu`:return NC(s);case`uuu`:return DC(n);case`a`:return jC(t.meridiems(),0);case`kkkk`:return DC(a);case`kk`:return DC(d,PS);case`W`:return DC(s);case`WW`:return DC(r);case`E`:case`c`:return DC(n);case`EEE`:return jC(t.weekdays(`short`,!1),1);case`EEEE`:return jC(t.weekdays(`long`,!1),1);case`ccc`:return jC(t.weekdays(`short`,!0),1);case`cccc`:return jC(t.weekdays(`long`,!0),1);case`Z`:case`ZZ`:return MC(RegExp(`([+-]${s.source})(?::(${r.source}))?`),2);case`ZZZ`:return MC(RegExp(`([+-]${s.source})(${r.source})?`),2);case`z`:return NC(/[a-z_+-/]{1,256}?/i);case` `:return NC(/[^\S\n\r]/);default:return p(m)}})(e)||{invalidReason:yae};return m.token=e,m}var Cae={year:{"2-digit":`yy`,numeric:`yyyyy`},month:{numeric:`M`,"2-digit":`MM`,short:`MMM`,long:`MMMM`},day:{numeric:`d`,"2-digit":`dd`},weekday:{short:`EEE`,long:`EEEE`},dayperiod:`a`,dayPeriod:`a`,hour12:{numeric:`h`,"2-digit":`hh`},hour24:{numeric:`H`,"2-digit":`HH`},minute:{numeric:`m`,"2-digit":`mm`},second:{numeric:`s`,"2-digit":`ss`},timeZoneName:{long:`ZZZZZ`,short:`ZZZ`}};function wae(e,t,n){let{type:r,value:i}=e;if(r===`literal`){let e=/^\s+$/.test(i);return{literal:!e,val:e?` `:i}}let a=t[r],o=r;r===`hour`&&(o=t.hour12==null?t.hourCycle==null?n.hour12?`hour12`:`hour24`:t.hourCycle===`h11`||t.hourCycle===`h12`?`hour12`:`hour24`:t.hour12?`hour12`:`hour24`);let s=Cae[o];if(typeof s==`object`&&(s=s[a]),s)return{literal:!1,val:s}}function Tae(e){return[`^${e.map(e=>e.regex).reduce((e,t)=>`${e}(${t.source})`,``)}$`,e]}function Eae(e,t,n){let r=e.match(t);if(r){let e={},t=1;for(let i in n)if(bS(n,i)){let a=n[i],o=a.groups?a.groups+1:1;!a.literal&&a.token&&(e[a.token.val[0]]=a.deser(r.slice(t,t+o))),t+=o}return[r,e]}else return[r,{}]}function Dae(e){let t=e=>{switch(e){case`S`:return`millisecond`;case`s`:return`second`;case`m`:return`minute`;case`h`:case`H`:return`hour`;case`d`:return`day`;case`o`:return`ordinal`;case`L`:case`M`:return`month`;case`y`:return`year`;case`E`:case`c`:return`weekday`;case`W`:return`weekNumber`;case`k`:return`weekYear`;case`q`:return`quarter`;default:return null}},n=null,r;return mS(e.z)||(n=wx.create(e.z)),mS(e.Z)||(n||=new Rx(e.Z),r=e.Z),mS(e.q)||(e.M=(e.q-1)*3+1),mS(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),mS(e.u)||(e.S=ES(e.u)),[Object.keys(e).reduce((n,r)=>{let i=t(r);return i&&(n[i]=e[r]),n},{}),n,r]}var PC=null;function Oae(){return PC||=cw.fromMillis(1555555555555),PC}function kae(e,t){if(e.literal)return e;let n=YS.macroTokenToFormatOpts(e.val),r=RC(n,t);return r==null||r.includes(void 0)?e:r}function FC(e,t){return Array.prototype.concat(...e.map(e=>kae(e,t)))}var IC=class{constructor(e,t){if(this.locale=e,this.format=t,this.tokens=FC(YS.parseFormat(t),e),this.units=this.tokens.map(t=>Sae(t,e)),this.disqualifyingUnit=this.units.find(e=>e.invalidReason),!this.disqualifyingUnit){let[e,t]=Tae(this.units);this.regex=RegExp(e,`i`),this.handlers=t}}explainFromTokens(e){if(this.isValid){let[t,n]=Eae(e,this.regex,this.handlers),[r,i,a]=n?Dae(n):[null,null,void 0];if(bS(n,`a`)&&bS(n,`H`))throw new qb(`Can't include meridiem when specifying 24-hour format`);return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:t,matches:n,result:r,zone:i,specificOffset:a}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}};function LC(e,t,n){return new IC(e,n).explainFromTokens(t)}function Aae(e,t,n){let{result:r,zone:i,specificOffset:a,invalidReason:o}=LC(e,t,n);return[r,i,a,o]}function RC(e,t){if(!e)return null;let n=YS.create(t,e).dtFormatter(Oae()),r=n.formatToParts(),i=n.resolvedOptions();return r.map(t=>wae(t,e,i))}var zC=`Invalid DateTime`,BC=864e13;function VC(e){return new $x(`unsupported zone`,`the zone "${e.name}" is not supported`)}function HC(e){return e.weekData===null&&(e.weekData=sS(e.c)),e.weekData}function UC(e){return e.localWeekData===null&&(e.localWeekData=sS(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function WC(e,t){let n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new cw({...n,...t,old:n})}function GC(e,t,n){let r=e-t*60*1e3,i=n.offset(r);if(t===i)return[r,t];r-=(i-t)*60*1e3;let a=n.offset(r);return i===a?[r,i]:[e-Math.min(i,a)*60*1e3,Math.max(i,a)]}function KC(e,t){e+=t*60*1e3;let n=new Date(e);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function qC(e,t,n){return GC(jS(e),t,n)}function JC(e,t){let n=e.o,r=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,a={...e.c,year:r,month:i,day:Math.min(e.c.day,AS(r,i))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},o=SC.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as(`milliseconds`),s=jS(a),[c,l]=GC(s,n,e.zone);return o!==0&&(c+=o,l=e.zone.offset(c)),{ts:c,o:l}}function YC(e,t,n,r,i,a){let{setZone:o,zone:s}=n;if(e&&Object.keys(e).length!==0||t){let r=t||s,i=cw.fromObject(e,{...n,zone:r,specificOffset:a});return o?i:i.setZone(s)}else return cw.invalid(new $x(`unparsable`,`the input "${i}" can't be parsed as ${r}`))}function XC(e,t,n=!0){return e.isValid?YS.create(Ix.create(`en-US`),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function ZC(e,t,n){let r=e.c.year>9999||e.c.year<0,i=``;if(r&&e.c.year>=0&&(i+=`+`),i+=CS(e.c.year,r?6:4),n===`year`)return i;if(t){if(i+=`-`,i+=CS(e.c.month),n===`month`)return i;i+=`-`}else if(i+=CS(e.c.month),n===`month`)return i;return i+=CS(e.c.day),i}function QC(e,t,n,r,i,a,o){let s=!n||e.c.millisecond!==0||e.c.second!==0,c=``;switch(o){case`day`:case`month`:case`year`:break;default:if(c+=CS(e.c.hour),o===`hour`)break;if(t){if(c+=`:`,c+=CS(e.c.minute),o===`minute`)break;s&&(c+=`:`,c+=CS(e.c.second))}else{if(c+=CS(e.c.minute),o===`minute`)break;s&&(c+=CS(e.c.second))}if(o===`second`)break;s&&(!r||e.c.millisecond!==0)&&(c+=`.`,c+=CS(e.c.millisecond,3))}return i&&(e.isOffsetFixed&&e.offset===0&&!a?c+=`Z`:e.o<0?(c+=`-`,c+=CS(Math.trunc(-e.o/60)),c+=`:`,c+=CS(Math.trunc(-e.o%60))):(c+=`+`,c+=CS(Math.trunc(e.o/60)),c+=`:`,c+=CS(Math.trunc(e.o%60)))),a&&(c+=`[`+e.zone.ianaName+`]`),c}var $C={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},jae={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Mae={ordinal:1,hour:0,minute:0,second:0,millisecond:0},ew=[`year`,`month`,`day`,`hour`,`minute`,`second`,`millisecond`],Nae=[`weekYear`,`weekNumber`,`weekday`,`hour`,`minute`,`second`,`millisecond`],Pae=[`year`,`ordinal`,`hour`,`minute`,`second`,`millisecond`];function tw(e){let t={year:`year`,years:`year`,month:`month`,months:`month`,day:`day`,days:`day`,hour:`hour`,hours:`hour`,minute:`minute`,minutes:`minute`,quarter:`quarter`,quarters:`quarter`,second:`second`,seconds:`second`,millisecond:`millisecond`,milliseconds:`millisecond`,weekday:`weekday`,weekdays:`weekday`,weeknumber:`weekNumber`,weeksnumber:`weekNumber`,weeknumbers:`weekNumber`,weekyear:`weekYear`,weekyears:`weekYear`,ordinal:`ordinal`}[e.toLowerCase()];if(!t)throw new Jb(e);return t}function nw(e){switch(e.toLowerCase()){case`localweekday`:case`localweekdays`:return`localWeekday`;case`localweeknumber`:case`localweeknumbers`:return`localWeekNumber`;case`localweekyear`:case`localweekyears`:return`localWeekYear`;default:return tw(e)}}function Fae(e){if(ow===void 0&&(ow=Qx.now()),e.type!==`iana`)return e.offset(ow);let t=e.name,n=sw.get(t);return n===void 0&&(n=e.offset(ow),sw.set(t,n)),n}function rw(e,t){let n=zx(t.zone,Qx.defaultZone);if(!n.isValid)return cw.invalid(VC(n));let r=Ix.fromObject(t),i,a;if(mS(e.year))i=Qx.now();else{for(let t of ew)mS(e[t])&&(e[t]=$C[t]);let t=fS(e)||pS(e);if(t)return cw.invalid(t);let r=Fae(n);[i,a]=qC(e,r,n)}return new cw({ts:i,zone:n,loc:r,o:a})}function iw(e,t,n){let r=mS(n.round)?!0:n.round,i=mS(n.rounding)?`trunc`:n.rounding,a=(e,a)=>(e=DS(e,r||n.calendary?0:2,n.calendary?`round`:i),t.loc.clone(n).relFormatter(n).format(e,a)),o=r=>n.calendary?t.hasSame(e,r)?0:t.startOf(r).diff(e.startOf(r),r).get(r):t.diff(e,r).get(r);if(n.unit)return a(o(n.unit),n.unit);for(let e of n.units){let t=o(e);if(Math.abs(t)>=1)return a(t,e)}return a(e>t?-0:0,n.units[n.units.length-1])}function aw(e){let t={},n;return e.length>0&&typeof e[e.length-1]==`object`?(t=e[e.length-1],n=Array.from(e).slice(0,e.length-1)):n=Array.from(e),[t,n]}var ow,sw=new Map,cw=class e{constructor(e){let t=e.zone||Qx.defaultZone,n=e.invalid||(Number.isNaN(e.ts)?new $x(`invalid input`):null)||(t.isValid?null:VC(t));this.ts=mS(e.ts)?Qx.now():e.ts;let r=null,i=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[r,i]=[e.old.c,e.old.o];else{let a=hS(e.o)&&!e.old?e.o:t.offset(this.ts);r=KC(this.ts,a),n=Number.isNaN(r.year)?new $x(`invalid input`):null,r=n?null:r,i=n?null:a}this._zone=t,this.loc=e.loc||Ix.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=r,this.o=i,this.isLuxonDateTime=!0}static now(){return new e({})}static local(){let[e,t]=aw(arguments),[n,r,i,a,o,s,c]=t;return rw({year:n,month:r,day:i,hour:a,minute:o,second:s,millisecond:c},e)}static utc(){let[e,t]=aw(arguments),[n,r,i,a,o,s,c]=t;return e.zone=Rx.utcInstance,rw({year:n,month:r,day:i,hour:a,minute:o,second:s,millisecond:c},e)}static fromJSDate(t,n={}){let r=mie(t)?t.valueOf():NaN;if(Number.isNaN(r))return e.invalid(`invalid input`);let i=zx(n.zone,Qx.defaultZone);return i.isValid?new e({ts:r,zone:i,loc:Ix.fromObject(n)}):e.invalid(VC(i))}static fromMillis(t,n={}){if(hS(t))return t<-BC||t>BC?e.invalid(`Timestamp out of range`):new e({ts:t,zone:zx(n.zone,Qx.defaultZone),loc:Ix.fromObject(n)});throw new Yb(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,n={}){if(hS(t))return new e({ts:t*1e3,zone:zx(n.zone,Qx.defaultZone),loc:Ix.fromObject(n)});throw new Yb(`fromSeconds requires a numerical input`)}static fromObject(t,n={}){t||={};let r=zx(n.zone,Qx.defaultZone);if(!r.isValid)return e.invalid(VC(r));let i=Ix.fromObject(n),a=RS(t,nw),{minDaysInFirstWeek:o,startOfWeek:s}=dS(a,i),c=Qx.now(),l=mS(n.specificOffset)?r.offset(c):n.specificOffset,u=!mS(a.ordinal),d=!mS(a.year),f=!mS(a.month)||!mS(a.day),p=d||f,m=a.weekYear||a.weekNumber;if((p||u)&&m)throw new qb(`Can't mix weekYear/weekNumber units with year/month/day or ordinals`);if(f&&u)throw new qb(`Can't mix ordinal dates with month/day`);let h=m||a.weekday&&!p,g,_,v=KC(c,l);h?(g=Nae,_=jae,v=sS(v,o,s)):u?(g=Pae,_=Mae,v=lS(v)):(g=ew,_=$C);let y=!1;for(let e of g){let t=a[e];mS(t)?y?a[e]=_[e]:a[e]=v[e]:y=!0}let b=(h?die(a,o,s):u?fie(a):fS(a))||pS(a);if(b)return e.invalid(b);let x=h?cS(a,o,s):u?uS(a):a,[S,ee]=qC(x,l,r),C=new e({ts:S,zone:r,o:ee,loc:i});return a.weekday&&p&&t.weekday!==C.weekday?e.invalid(`mismatched weekday`,`you can't specify both a weekday of ${a.weekday} and a date of ${C.toISO()}`):C.isValid?C:e.invalid(C.invalid)}static fromISO(e,t={}){let[n,r]=rae(e);return YC(n,r,t,`ISO 8601`,e)}static fromRFC2822(e,t={}){let[n,r]=iae(e);return YC(n,r,t,`RFC 2822`,e)}static fromHTTP(e,t={}){let[n,r]=aae(e);return YC(n,r,t,`HTTP`,t)}static fromFormat(t,n,r={}){if(mS(t)||mS(n))throw new Yb(`fromFormat requires an input string and a format`);let{locale:i=null,numberingSystem:a=null}=r,o=Ix.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0}),[s,c,l,u]=Aae(o,t,n);return u?e.invalid(u):YC(s,c,r,`format ${n}`,t,l)}static fromString(t,n,r={}){return e.fromFormat(t,n,r)}static fromSQL(e,t={}){let[n,r]=fae(e);return YC(n,r,t,`SQL`,e)}static invalid(t,n=null){if(!t)throw new Yb(`need to specify a reason the DateTime is invalid`);let r=t instanceof $x?t:new $x(t,n);if(Qx.throwOnInvalid)throw new zre(r);return new e({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){let n=RC(e,Ix.fromObject(t));return n?n.map(e=>e?e.val:null).join(``):null}static expandFormat(e,t={}){return FC(YS.parseFormat(e),Ix.fromObject(t)).map(e=>e.val).join(``)}static resetCache(){ow=void 0,sw.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?HC(this).weekYear:NaN}get weekNumber(){return this.isValid?HC(this).weekNumber:NaN}get weekday(){return this.isValid?HC(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?UC(this).weekday:NaN}get localWeekNumber(){return this.isValid?UC(this).weekNumber:NaN}get localWeekYear(){return this.isValid?UC(this).weekYear:NaN}get ordinal(){return this.isValid?lS(this.c).ordinal:NaN}get monthShort(){return this.isValid?TC.months(`short`,{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?TC.months(`long`,{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?TC.weekdays(`short`,{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?TC.weekdays(`long`,{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:`short`,locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:`long`,locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let e=864e5,t=6e4,n=jS(this.c),r=this.zone.offset(n-e),i=this.zone.offset(n+e),a=this.zone.offset(n-r*t),o=this.zone.offset(n-i*t);if(a===o)return[this];let s=n-a*t,c=n-o*t,l=KC(s,a),u=KC(c,o);return l.hour===u.hour&&l.minute===u.minute&&l.second===u.second&&l.millisecond===u.millisecond?[WC(this,{ts:s}),WC(this,{ts:c})]:[this]}get isInLeapYear(){return OS(this.year)}get daysInMonth(){return AS(this.year,this.month)}get daysInYear(){return this.isValid?kS(this.year):NaN}get weeksInWeekYear(){return this.isValid?NS(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?NS(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){let{locale:t,numberingSystem:n,calendar:r}=YS.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:n,outputCalendar:r}}toUTC(e=0,t={}){return this.setZone(Rx.instance(e),t)}toLocal(){return this.setZone(Qx.defaultZone)}setZone(t,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(t=zx(t,Qx.defaultZone),t.equals(this.zone))return this;if(t.isValid){let e=this.ts;if(n||r){let n=t.offset(this.ts),r=this.toObject();[e]=qC(r,n,t)}return WC(this,{ts:e,zone:t})}else return e.invalid(VC(t))}reconfigure({locale:e,numberingSystem:t,outputCalendar:n}={}){let r=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:n});return WC(this,{loc:r})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let t=RS(e,nw),{minDaysInFirstWeek:n,startOfWeek:r}=dS(t,this.loc),i=!mS(t.weekYear)||!mS(t.weekNumber)||!mS(t.weekday),a=!mS(t.ordinal),o=!mS(t.year),s=!mS(t.month)||!mS(t.day),c=o||s,l=t.weekYear||t.weekNumber;if((c||a)&&l)throw new qb(`Can't mix weekYear/weekNumber units with year/month/day or ordinals`);if(s&&a)throw new qb(`Can't mix ordinal dates with month/day`);let u;i?u=cS({...sS(this.c,n,r),...t},n,r):mS(t.ordinal)?(u={...this.toObject(),...t},mS(t.day)&&(u.day=Math.min(AS(u.year,u.month),u.day))):u=uS({...lS(this.c),...t});let[d,f]=qC(u,this.o,this.zone);return WC(this,{ts:d,o:f})}plus(e){if(!this.isValid)return this;let t=SC.fromDurationLike(e);return WC(this,JC(this,t))}minus(e){if(!this.isValid)return this;let t=SC.fromDurationLike(e).negate();return WC(this,JC(this,t))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;let n={},r=SC.normalizeUnit(e);switch(r){case`years`:n.month=1;case`quarters`:case`months`:n.day=1;case`weeks`:case`days`:n.hour=0;case`hours`:n.minute=0;case`minutes`:n.second=0;case`seconds`:n.millisecond=0;break}if(r===`weeks`)if(t){let e=this.loc.getStartOfWeek(),{weekday:t}=this;t<e&&(n.weekNumber=this.weekNumber-1),n.weekday=e}else n.weekday=1;return r===`quarters`&&(n.month=(Math.ceil(this.month/3)-1)*3+1),this.set(n)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?YS.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):zC}toLocaleString(e=$b,t={}){return this.isValid?YS.create(this.loc.clone(t),e).formatDateTime(this):zC}toLocaleParts(e={}){return this.isValid?YS.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e=`extended`,suppressSeconds:t=!1,suppressMilliseconds:n=!1,includeOffset:r=!0,extendedZone:i=!1,precision:a=`milliseconds`}={}){if(!this.isValid)return null;a=tw(a);let o=e===`extended`,s=ZC(this,o,a);return ew.indexOf(a)>=3&&(s+=`T`),s+=QC(this,o,t,n,r,i,a),s}toISODate({format:e=`extended`,precision:t=`day`}={}){return this.isValid?ZC(this,e===`extended`,tw(t)):null}toISOWeekDate(){return XC(this,`kkkk-'W'WW-c`)}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:n=!0,includePrefix:r=!1,extendedZone:i=!1,format:a=`extended`,precision:o=`milliseconds`}={}){return this.isValid?(o=tw(o),(r&&ew.indexOf(o)>=3?`T`:``)+QC(this,a===`extended`,t,e,n,i,o)):null}toRFC2822(){return XC(this,`EEE, dd LLL yyyy HH:mm:ss ZZZ`,!1)}toHTTP(){return XC(this.toUTC(),`EEE, dd LLL yyyy HH:mm:ss 'GMT'`)}toSQLDate(){return this.isValid?ZC(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:n=!0}={}){let r=`HH:mm:ss.SSS`;return(t||e)&&(n&&(r+=` `),t?r+=`z`:e&&(r+=`ZZ`)),XC(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():zC}[Symbol.for(`nodejs.util.inspect.custom`)](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t=`milliseconds`,n={}){if(!this.isValid||!e.isValid)return SC.invalid(`created by diffing an invalid DateTime`);let r={locale:this.locale,numberingSystem:this.numberingSystem,...n},i=hie(t).map(SC.normalizeUnit),a=e.valueOf()>this.valueOf(),o=vae(a?this:e,a?e:this,i,r);return a?o.negate():o}diffNow(t=`milliseconds`,n={}){return this.diff(e.now(),t,n)}until(e){return this.isValid?wC.fromDateTimes(this,e):this}hasSame(e,t,n){if(!this.isValid)return!1;let r=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(t,n)<=r&&r<=i.endOf(t,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(t={}){if(!this.isValid)return null;let n=t.base||e.fromObject({},{zone:this.zone}),r=t.padding?this<n?-t.padding:t.padding:0,i=[`years`,`months`,`days`,`hours`,`minutes`,`seconds`],a=t.unit;return Array.isArray(t.unit)&&(i=t.unit,a=void 0),iw(n,this.plus(r),{...t,numeric:`always`,units:i,unit:a})}toRelativeCalendar(t={}){return this.isValid?iw(t.base||e.fromObject({},{zone:this.zone}),this,{...t,numeric:`auto`,units:[`years`,`months`,`days`],calendary:!0}):null}static min(...t){if(!t.every(e.isDateTime))throw new Yb(`min requires all arguments be DateTimes`);return yS(t,e=>e.valueOf(),Math.min)}static max(...t){if(!t.every(e.isDateTime))throw new Yb(`max requires all arguments be DateTimes`);return yS(t,e=>e.valueOf(),Math.max)}static fromFormatExplain(e,t,n={}){let{locale:r=null,numberingSystem:i=null}=n,a=Ix.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});return LC(a,e,t)}static fromStringExplain(t,n,r={}){return e.fromFormatExplain(t,n,r)}static buildFormatParser(e,t={}){let{locale:n=null,numberingSystem:r=null}=t,i=Ix.fromOpts({locale:n,numberingSystem:r,defaultToEN:!0});return new IC(i,e)}static fromFormatParser(t,n,r={}){if(mS(t)||mS(n))throw new Yb(`fromFormatParser requires an input string and a format parser`);let{locale:i=null,numberingSystem:a=null}=r,o=Ix.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0});if(!o.equals(n.locale))throw new Yb(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${n.locale}`);let{result:s,zone:c,specificOffset:l,invalidReason:u}=n.explainFromTokens(t);return u?e.invalid(u):YC(s,c,r,`format ${n.format}`,t,l)}static get DATE_SHORT(){return $b}static get DATE_MED(){return ex}static get DATE_MED_WITH_WEEKDAY(){return Hre}static get DATE_FULL(){return tx}static get DATE_HUGE(){return nx}static get TIME_SIMPLE(){return rx}static get TIME_WITH_SECONDS(){return ix}static get TIME_WITH_SHORT_OFFSET(){return ax}static get TIME_WITH_LONG_OFFSET(){return ox}static get TIME_24_SIMPLE(){return sx}static get TIME_24_WITH_SECONDS(){return cx}static get TIME_24_WITH_SHORT_OFFSET(){return lx}static get TIME_24_WITH_LONG_OFFSET(){return ux}static get DATETIME_SHORT(){return dx}static get DATETIME_SHORT_WITH_SECONDS(){return fx}static get DATETIME_MED(){return px}static get DATETIME_MED_WITH_SECONDS(){return mx}static get DATETIME_MED_WITH_WEEKDAY(){return Ure}static get DATETIME_FULL(){return hx}static get DATETIME_FULL_WITH_SECONDS(){return gx}static get DATETIME_HUGE(){return _x}static get DATETIME_HUGE_WITH_SECONDS(){return vx}};function lw(e){if(cw.isDateTime(e))return e;if(e&&e.valueOf&&hS(e.valueOf()))return cw.fromJSDate(e);if(e&&typeof e==`object`)return cw.fromObject(e);throw new Yb(`Unknown datetime argument: ${e}, of type ${typeof e}`)}var Iae=`shortOffset`;function Lae(e){return`timeZoneIANA`in e}function Rae(e){return e.startsWith(`UTC`)}function uw(e,t=!1){return{json:{read:{source:e,reader:(t,n)=>n[e]?dw(n[e]):null},write:!!t&&{allowNull:!0,writer(t,n){n[e]=t?zae(t):null}}}}}function dw(e,t=Ub){return e?Lae(e)?e.timeZoneIANA:Bae(e,t):t}function zae(e){return{timeZoneIANA:e}}function Bae(e,t=Ub){if(!e||!Gb.has(e.timeZone))return t;let n=Gb.get(e.timeZone);return Rae(e.timeZone)||e.respectsDaylightSaving?n:Vae(n)}function Vae(e){let t=cw.local().setZone(e),n=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return n===0?`Etc/UTC`:`Etc/GMT${Rx.instance(-n).formatOffset(0,`narrow`)}`}function Hae(e,t,n,r,i){if(t&&i===`date`)return{timeZone:`UTC`,timeZoneName:void 0};let a=r.hour,o=n===Wb;return{timeZone:o?i===`timestamp-offset`?void 0:e??`UTC`:n,timeZoneName:o&&a?Iae:void 0}}function fw(e){let t=new Set([`etc/utc`,`etc/gmt`,`gmt`]),n=new Set(Intl.supportedValuesOf(`timeZone`).map(e=>e.toLowerCase()));return e===`system`||e===`unknown`||t.has(e.toLowerCase())||n.has(e.toLowerCase())}var Uae={dateStyle:void 0,year:void 0,month:void 0,day:void 0,weekday:void 0},Wae={timeStyle:void 0,hour12:void 0,hourCycle:void 0,hour:void 0,minute:void 0,second:void 0},pw={timeZone:`UTC`},mw={year:`numeric`,month:`numeric`,day:`numeric`},hw={year:`numeric`,month:`long`,day:`numeric`},gw={year:`numeric`,month:`short`,day:`numeric`},_w={year:`numeric`,month:`long`,weekday:`long`,day:`numeric`},vw={hour:`numeric`,minute:`numeric`},yw={...vw,second:`numeric`},bw={hourCycle:`h23`},xw={...vw,...bw},Sw={...yw,...bw},Cw={"short-date":mw,"short-date-short-time":{...mw,...vw},"short-date-short-time-24":{...mw,...xw},"short-date-long-time":{...mw,...yw},"short-date-long-time-24":{...mw,...Sw},"short-date-le":mw,"short-date-le-short-time":{...mw,...vw},"short-date-le-short-time-24":{...mw,...xw},"short-date-le-long-time":{...mw,...yw},"short-date-le-long-time-24":{...mw,...Sw},"long-month-day-year":hw,"long-month-day-year-short-time":{...hw,...vw},"long-month-day-year-short-time-24":{...hw,...xw},"long-month-day-year-long-time":{...hw,...yw},"long-month-day-year-long-time-24":{...hw,...Sw},"day-short-month-year":gw,"day-short-month-year-short-time":{...gw,...vw},"day-short-month-year-short-time-24":{...gw,...xw},"day-short-month-year-long-time":{...gw,...yw},"day-short-month-year-long-time-24":{...gw,...Sw},"long-date":_w,"long-date-short-time":{..._w,...vw},"long-date-short-time-24":{..._w,...xw},"long-date-long-time":{..._w,...yw},"long-date-long-time-24":{..._w,...Sw},"long-month-year":{month:`long`,year:`numeric`},"short-month-year":{month:`short`,year:`numeric`},year:{year:`numeric`},"short-time":vw,"long-time":yw},Gae=I_()({shortDate:`short-date`,shortDateShortTime:`short-date-short-time`,shortDateShortTime24:`short-date-short-time-24`,shortDateLongTime:`short-date-long-time`,shortDateLongTime24:`short-date-long-time-24`,shortDateLE:`short-date-le`,shortDateLEShortTime:`short-date-le-short-time`,shortDateLEShortTime24:`short-date-le-short-time-24`,shortDateLELongTime:`short-date-le-long-time`,shortDateLELongTime24:`short-date-le-long-time-24`,longMonthDayYear:`long-month-day-year`,longMonthDayYearShortTime:`long-month-day-year-short-time`,longMonthDayYearShortTime24:`long-month-day-year-short-time-24`,longMonthDayYearLongTime:`long-month-day-year-long-time`,longMonthDayYearLongTime24:`long-month-day-year-long-time-24`,dayShortMonthYear:`day-short-month-year`,dayShortMonthYearShortTime:`day-short-month-year-short-time`,dayShortMonthYearShortTime24:`day-short-month-year-short-time-24`,dayShortMonthYearLongTime:`day-short-month-year-long-time`,dayShortMonthYearLongTime24:`day-short-month-year-long-time-24`,longDate:`long-date`,longDateShortTime:`long-date-short-time`,longDateShortTime24:`long-date-short-time-24`,longDateLongTime:`long-date-long-time`,longDateLongTime24:`long-date-long-time-24`,longMonthYear:`long-month-year`,shortMonthYear:`short-month-year`,year:`year`}),ww={ar:`ar-u-nu-latn-ca-gregory`,nn:`no-NN`},Kae=new Intl.DateTimeFormat(`bs`,{month:`long`}).formatToParts(new Date(2025,2)).find(({type:e})=>e===`month`)?.value.toLowerCase();function Tw(){let e=mb();return(e&&ww[e])??xre()}Kae!==`mart`&&(ww.bs=`sr-Latn-CS`);var Ew=new WeakMap,Dw=Cw[`short-date-short-time`];Cw[`short-date`];function qae(e){let t=Ew.get(e);if(!t){let n=Tw(),r=kw(e.timeZone??`system`),i={...e,timeZone:r};t=new Intl.DateTimeFormat(n,i),Ew.set(e,t)}return t}function Jae(e){return Cw[e]}function Yae(e){let{dateStyle:t,timeStyle:n,hour12:r,year:i,month:a}=e,o={};return t?o.dateStyle=t:i&&(o.year=i,o.month=a||void 0),n&&!o.year&&(o.timeStyle=n,o.hour12=r===`auto`?void 0:r===`always`),o}function Ow(e,t=Dw){return qae(t).format(e)}function Xae(e,t=Dw){return Ow(new Date(e),{...t,...pw,...Wae})}function Zae(e,t=Dw){return Ow(new Date(`1970-01-01T${e}Z`),{...t,...pw,...Uae})}function Qae(e,t=Dw){if(t.timeZone)return Ow(new Date(e),t);let n=cw.fromISO(e,{setZone:!0}),r=n.offset===0?`UTC`:t.timeZone,i={...t,timeZone:r};return n.toLocaleString(i,{locale:Tw()})}function kw(e){switch(e){case Ub:return Rre;case Wb:return`UTC`;default:return e}}vb(()=>{Ew=new WeakMap});var $ae={ar:`ar-u-nu-latn`,bs:`sr-Latn-CS`,nn:`no-NN`},Aw=new WeakMap,jw={};function Mw(e){let t=e||jw;if(!Aw.has(t)){let n=mb(),r=n&&$ae[n]||xre();Aw.set(t,new Intl.NumberFormat(r,e))}return Aw.get(t)}function eoe(e={}){let t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function toe(e){let{minimumFractionDigits:t,maximumFractionDigits:n,useGrouping:r}=e;return{minimumFractionDigits:t,maximumFractionDigits:n,useGrouping:r===`auto`?`auto`:r===`always`}}function Nw(e,t){return Object.is(e,-0)&&(e=0),Mw(t).format(e)}function noe(e,t=pb()){if(!e)return null;let n=Pw.get(t);if(!n){let e=Mw().formatToParts(12345.6),r=[...Mw({useGrouping:!1}).format(9876543210)].reverse(),i=new Map(r.map((e,t)=>[e,t])),a=RegExp(`[${e.find(e=>e.type===`group`)?.value}]`,`g`),o=RegExp(`[${e.find(e=>e.type===`decimal`)?.value}]`),s=RegExp(`[${r.join(``)}]`,`g`),c=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,l=/[-\u2212\u2013\u2014\u2015]/g;n=e=>{if((e=e.trim().replaceAll(a,``).replace(o,`.`).replace(s,e=>String(i.get(e))).replaceAll(c,``).replaceAll(l,`-`))===``)return null;let t=Number(e);return isNaN(t)?null:t},Pw.set(t,n)}return n(e)}vb(()=>{Aw=new WeakMap,jw={}});var Pw=new Map,Fw=()=>j.getLogger(`esri.intl.substitute`);function Iw(e,t,n={}){let{format:r={}}=n;return xl(e,e=>roe(e,t,r))}function roe(e,t,n){let r,i,a=e.indexOf(`:`);if(a===-1?r=e.trim():(r=e.slice(0,a).trim(),i=e.slice(a+1).trim()),!r)return``;let o=dl(r,t);if(o==null)return``;let s=(i?n?.[i]:null)??n?.[r];return s?ioe(o,s):i?aoe(o,i):Lw(o)}function ioe(e,t){switch(t.type){case`date`:return Ow(e,t.intlOptions);case`number`:return Nw(e,t.intlOptions);default:return Fw().warn(`missing format descriptor for key {key}`),Lw(e)}}function aoe(e,t){switch(t.toLowerCase()){case`dateformat`:return Ow(e);case`numberformat`:return Nw(e);default:return Fw().warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?Ow(e):/^numberformat/i.test(t)?Nw(e):Lw(e)}}function Lw(e){switch(typeof e){case`string`:return e;case`number`:return Nw(e);case`boolean`:return``+e;default:return e instanceof Date?Ow(e):``}}async function ooe(e,t,n,r){let i=t.exec(n);if(!i)throw new M(`esri-intl:invalid-bundle`,`Bundle id "${n}" is not compatible with the pattern "${t}"`);let a=i[1]?`${i[1]}/`:``,o=i[2],s=Bb(r),c=`${a}${o}.json`,l=s?`${a}${o}_${s}.json`:c,u;try{u=await Rw(e(l))}catch(t){if(l===c)throw new M(`intl:unknown-bundle`,`Bundle "${n}" cannot be loaded`,{error:t});try{u=await Rw(e(c))}catch(e){throw new M(`intl:unknown-bundle`,`Bundle "${n}" cannot be loaded`,{error:e})}}return u}async function Rw(e){if(zw.fetchBundleAsset!=null)return zw.fetchBundleAsset(e);let t=await gp(e,{responseType:`text`});return JSON.parse(t.data)}var soe=class{constructor({base:e=``,pattern:t,location:n=new URL(window.location.href)}){let r;r=typeof n==`string`?e=>new URL(e,new URL(n,window.location.href)).href:n instanceof URL?e=>new URL(e,n).href:n,this.pattern=typeof t==`string`?RegExp(`^${t}`):t,this.getAssetUrl=r,e=e?e.endsWith(`/`)?e:e+`/`:``,this.matcher=RegExp(`^${e}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(e,t){return ooe(this.getAssetUrl,this.matcher,e,t)}};function coe(e){return new soe(e)}var zw={};Nre(coe({pattern:`esri/`,location:V_}));var Bw=class extends I{constructor(e){super(e),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl=`https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2`,this.worldview=null}get languageParameter(){let e=this.language,t=e===`local`||e===`global`?e:Bb(e??pb())??`global`;return t=t===`no`?`nb`:t,t}};O([P()],Bw.prototype,`apiKey`,void 0),O([P()],Bw.prototype,`id`,void 0),O([P()],Bw.prototype,`language`,void 0),O([P()],Bw.prototype,`places`,void 0),O([P()],Bw.prototype,`serviceUrl`,void 0),O([P()],Bw.prototype,`worldview`,void 0),Bw=O([F(`esri.support.BasemapStyle`)],Bw);var loe=Bw,Vw=Symbol(`BasemapInstance`);function uoe(e){return typeof e==`object`&&!!e&&Vw in e}function q(e,t,n={}){return Uw(e,t,n,Kw)}function Hw(e,t,n={}){return Uw(e,t,n,qw)}function Uw(e,t,n={},r){let i=null,a=n.once?(e,n)=>{r(e)&&(qd(i),t(e,n))}:(e,n)=>{r(e)&&t(e,n)};if(i=ete(e,a,n.sync,n.equals),n.initial){let t=e();a(t,t)}return i}function Ww(e,t,n,r={}){let i=null,a=null,o=null;function s(){i&&a&&(a.remove(),r.onListenerRemove?.(i),i=null,a=null)}function c(e){r.once&&r.once&&qd(o),n(e)}let l=q(e,(e,n)=>{s(),Rd(e)&&(i=e,a=Vd(e,t,c),r.onListenerAdd?.(e))},{sync:r.sync,initial:!0});return o=Ed(()=>{l.remove(),s()}),o}function Gw(e,t){return doe(e,qw,t)}function doe(e,t,n){if(tf(n))return Promise.reject(Qd());let r=e();if(t?.(r))return Promise.resolve(r);let i=null;function a(){i=qd(i)}return new Promise((r,o)=>{i=kd([af(n,()=>{a(),o(Qd())}),Uw(e,e=>{a(),r(e)},{sync:!1,once:!0},t??Kw)])})}function Kw(e){return!0}function qw(e){return!!e}function foe(e,t,n={}){let r=!1,i=q(e,(e,n)=>{r||t(e,n)},n);return{remove(){i.remove()},pause(){r=!0},resume(){r=!1}}}var Jw={sync:!0},Yw={initial:!0},Xw={sync:!0,initial:!0},Zw=0,Qw=e=>{let t=e,n=class extends t{constructor(...e){super(...e),Object.defineProperty(this,`uid`,{writable:!1,configurable:!1,value:Date.now().toString(16)+`-object-`+ Zw++})}};return n=O([F(`esri.core.Identifiable`)],n),n},$w=e=>{let t=e,n=class extends t{constructor(...e){super(...e),Object.defineProperty(this,`uid`,{writable:!1,configurable:!1,value:Zw++})}};return n=O([F(`esri.core.Identifiable.NumericIdentifiable`)],n),n};Qw(class{});async function poe(e){let t=`portalItem`in e?e:{portalItem:e},{fromItem:n}=await N(async()=>{let{fromItem:e}=await import(`./portalLayers-_EiwnKaP.js`);return{fromItem:e}},__vite__mapDeps([10,11,12,13,14,15]));try{return await n(t)}catch(e){let n=t?.portalItem,r=n?.id||`unset`,i=n?.portal?.url||vl.portalUrl;throw j.getLogger(`esri.layers.support.fromPortalItem`).error(`#fromPortalItem()`,`Failed to create layer from portal item (portal: '`+i+`', id: '`+r+`')`,e),e}}var eT={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function tT(e,t,n,r=Ub){let i=new wx(kw(r)),a=cw.fromJSDate(e,{zone:i}),o=n===`decades`||n===`centuries`?`year`:iT(n);return n===`decades`&&(t*=10),n===`centuries`&&(t*=100),a.plus({[o]:t}).toJSDate()}function moe(e,t,n=`milliseconds`){let r=e.getTime(),i=rT(t,n,`milliseconds`);return new Date(r+i)}function nT(e,t,n=Ub){let r=new wx(kw(n)),i=cw.fromJSDate(e,{zone:r});if(t===`decades`||t===`centuries`){let e=i.startOf(`year`),{year:n}=e,r=n-n%(t===`decades`?10:100);return e.set({year:r}).toJSDate()}let a=iT(t);return i.startOf(a).toJSDate()}function rT(e,t,n){return e===0?0:e*eT[t]/eT[n]}function hoe(e,t){return e&&t?e.intersection(t):e||t}function iT(e){switch(e){case`milliseconds`:return`millisecond`;case`seconds`:return`second`;case`minutes`:return`minute`;case`hours`:return`hour`;case`days`:return`day`;case`weeks`:return`week`;case`months`:return`month`;case`years`:return`year`}}var aT,oT=class extends R{static{aT=this}static get allTime(){return sT}static get empty(){return goe}static fromArray(e){return new aT({start:e[0]==null?e[0]:new Date(e[0]),end:e[1]==null?e[1]:new Date(e[1])})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return t.end==null?null:new Date(t.end)}writeEnd(e,t){t.end=e?.getTime()??null}get isAllTime(){return this.equals(aT.allTime)}get isEmpty(){return this.equals(aT.empty)}readStart(e,t){return t.start==null?null:new Date(t.start)}writeStart(e,t){t.start=e?.getTime()??null}clone(){return new aT({end:this.end,start:this.start})}equals(e){if(!e)return!1;let t=this.start?.getTime()??this.start,n=this.end?.getTime()??this.end,r=e.start?.getTime()??e.start,i=e.end?.getTime()??e.end;return t===r&&n===i}expandTo(e,t=Ub){if(this.isEmpty||this.isAllTime)return this.clone();let n=this.start;n&&=nT(n,e,t);let r=this.end;if(r){let n=nT(r,e,t);r=r.getTime()===n.getTime()?n:tT(n,1,e,t)}return new aT({start:n,end:r})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return aT.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();let t=this.start?.getTime()??-1/0,n=this.end?.getTime()??1/0,r=e.start?.getTime()??-1/0,i=e.end?.getTime()??1/0,a,o;return r>=t&&r<=n?a=r:t>=r&&t<=i&&(a=t),n>=r&&n<=i?o=n:i>=t&&i<=n&&(o=i),a==null||o==null||isNaN(a)||isNaN(o)?aT.empty:new aT({start:a===-1/0?null:new Date(a),end:o===1/0?null:new Date(o)})}offset(e,t,n=Ub){if(this.isEmpty||this.isAllTime)return this.clone();let r=new aT,{start:i,end:a}=this;return i!=null&&(r.start=tT(i,e,t,n)),a!=null&&(r.end=tT(a,e,t,n)),r}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return sT.clone();let t=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,n=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new aT({start:t,end:n})}};O([P({type:Date,json:{write:{allowNull:!0}}})],oT.prototype,`end`,void 0),O([W(`end`)],oT.prototype,`readEnd`,null),O([z(`end`)],oT.prototype,`writeEnd`,null),O([P({readOnly:!0,json:{read:!1}})],oT.prototype,`isAllTime`,null),O([P({readOnly:!0,json:{read:!1}})],oT.prototype,`isEmpty`,null),O([P({type:Date,json:{write:{allowNull:!0}}})],oT.prototype,`start`,void 0),O([W(`start`)],oT.prototype,`readStart`,null),O([z(`start`)],oT.prototype,`writeStart`,null),oT=aT=O([F(`esri.time.TimeExtent`)],oT);var sT=new oT,goe=new oT({start:void 0,end:void 0}),_oe=0,cT=class extends qg(Qw(w_)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new cb(-180,-90,180,90,U.WGS84),this.id=Date.now().toString(16)+`-layer-`+ _oe++,this.legendEnabled=!0,this.listMode=`show`,this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=U.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(e){let t=typeof e==`string`?{url:e}:e;return(await N(async()=>{let{fromUrl:e}=await import(`./arcgisLayers-7R6iP0v2.js`);return{fromUrl:e}},__vite__mapDeps([16,12,13,14]))).fromUrl(t)}static fromPortalItem(e){return poe(e)}initialize(){this.when().catch(e=>{lf(e)||j.getLogger(this).error(`#load()`,`Failed to load layer (title: '${this.title??`no title`}', id: '${this.id??`no id`}')`,{error:e})})}destroy(){let{parent:e}=this;e&&(this.parent=null,e.removeChildLayer?.(this))}get effectiveVisible(){return this.visible&&(this.parent?.effectiveVisible??!0)}get hasAttributionData(){return this.attributionDataUrl!=null}get loaded(){return super.loaded}removeFromParent(){let{parent:e}=this;e&&(e.removeChildLayer?.(this),this.parent=null)}get parsedUrl(){return au(this.url)}createLayerView(e,t){return Promise.reject(new M(`layer:create-layer-view`,`Layer does not support creating a layer view`))}async fetchAttributionData(){let e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await gp(e,{query:{f:`json`},responseType:`json`})).data;throw new M(`layer:no-attribution-data`,`Layer does not have attribution data`)}};O([P({type:String})],cT.prototype,`attributionDataUrl`,void 0),O([P({readOnly:!0})],cT.prototype,`effectiveVisible`,null),O([P({type:cb})],cT.prototype,`fullExtent`,void 0),O([P({readOnly:!0})],cT.prototype,`hasAttributionData`,null),O([P({type:String,clonable:!1})],cT.prototype,`id`,void 0),O([P({type:Boolean,nonNullable:!0})],cT.prototype,`legendEnabled`,void 0),O([P({type:[`show`,`hide`,`hide-children`]})],cT.prototype,`listMode`,void 0),O([P({type:Number,range:{min:0,max:1},nonNullable:!0})],cT.prototype,`opacity`,void 0),O([P({clonable:!1})],cT.prototype,`parent`,void 0),O([P({readOnly:!0})],cT.prototype,`parsedUrl`,null),O([P({type:Boolean,readOnly:!0})],cT.prototype,`persistenceEnabled`,void 0),O([P({type:Boolean})],cT.prototype,`popupEnabled`,void 0),O([P({type:Boolean})],cT.prototype,`attributionVisible`,void 0),O([P({type:U})],cT.prototype,`spatialReference`,void 0),O([P({type:String})],cT.prototype,`title`,void 0),O([P({readOnly:!0,json:{read:!1}})],cT.prototype,`type`,void 0),O([P()],cT.prototype,`url`,void 0),O([P({type:oT})],cT.prototype,`visibilityTimeExtent`,void 0),O([P({type:Boolean,nonNullable:!0})],cT.prototype,`visible`,void 0),cT=O([F(`esri.layers.Layer`)],cT);var lT=new WeakMap;function uT(e){return!e.destroyed&&(lT.has(e)||e.addHandles([q(()=>{let{parent:t}=e;return!!(t&&t instanceof cT)&&(t.type===`catalog-dynamic-group`||uT(t))},t=>lT.set(e,t),Xw),Ed(()=>lT.delete(e))]),lT.get(e))}function dT(e,t){let n=e.parent,{layer:r}=e;if(r?.type!==`map-image`||!r.sourceJSON||!n)return!1;let i=r.sourceJSON.layers;if(!i)return!1;let a=i.find(t=>e.id===t.id),o=t===`footprints`?`Feature Layer`:`Catalog Dynamic Group Layer`;return a?.type===o&&i.find(e=>e.id===n.id)?.type===`Catalog Layer`}function fT(e){return typeof e==`object`&&!!e&&`type`in e&&e.type===`feature`}function voe(e){return typeof e==`object`&&!!e&&`type`in e&&e.type===`graphics`}function yoe(e){return typeof e==`object`&&!!e&&`type`in e&&e.type===`map-image`}function boe(e){return typeof e==`object`&&!!e&&`type`in e&&e.type===`knowledge-graph`&&`layers`in e}function xoe(e){return typeof e==`object`&&!!e&&`type`in e&&e.type===`knowledge-graph-sublayer`}function pT(e){return typeof e==`object`&&!!e&&`type`in e&&e.type===`subtype-group`&&`sublayers`in e}function mT(e){return e?.type===`subtype-sublayer`}var Soe={Point:`SceneLayer`,"3DObject":`SceneLayer`,IntegratedMesh:`IntegratedMeshLayer`,PointCloud:`PointCloudLayer`,Building:`BuildingSceneLayer`};function hT(e){let t=e?.type;return t===`building-scene`||t===`integrated-mesh`||t===`point-cloud`||t===`scene`}function Coe(e){return e.type===`integrated-mesh`||e.type===`integrated-mesh-3dtiles`}function gT(e){return e?.type===`feature`&&!e.url&&e.source?.type===`memory`}function woe(e){let t=e?.type;return(t===`feature`||t===`subtype-group`||t===`oriented-imagery`)&&e?.source?.type===`feature-layer`}function Toe(e){return e?.type===`feature`&&e.source?.type===`feature-layer`}function Eoe(e){return fT(e)&&Toe(e)}async function _T(e,t){let n=gd?.findServerInfo(e);if(n?.currentVersion!=null)return n.owningSystemUrl||null;let r=e.toLowerCase().indexOf(`/rest/services`);if(r===-1)return null;let i=`${e.slice(0,r)}/rest/info`,a=t==null?null:t.signal,{data:o}=await gp(i,{query:{f:`json`},responseType:`json`,signal:a});return o?.owningSystemUrl||null}function vT(e){if(!(`capabilities`in e))return!1;switch(e.type){case`catalog`:case`catalog-footprint`:case`csv`:case`feature`:case`geojson`:case`imagery`:case`knowledge-graph-sublayer`:case`ogc-feature`:case`oriented-imagery`:case`scene`:case`sublayer`:case`subtype-group`:case`subtype-sublayer`:case`wfs`:return!0;default:return!1}}function yT(e){return vT(e)?`effectiveCapabilities`in e?e.effectiveCapabilities:e.capabilities:null}function Doe(e){if(!(`editingEnabled`in e))return!1;switch(e.type){case`csv`:case`feature`:case`geojson`:case`oriented-imagery`:case`scene`:case`subtype-group`:case`subtype-sublayer`:case`knowledge-graph-sublayer`:return!0;default:return!1}}function bT(e){return!!Doe(e)&&(`effectiveEditingEnabled`in e?e.effectiveEditingEnabled:e.editingEnabled)}function Ooe(e){let t=new L;for(let n of e.allLayers.concat(e.allTables))n.type===`csv`||uT(n)||(`charts`in n&&t.push(n),n.type===`subtype-group`&&t.push(...n.sublayers));return t}function xT(e,t){return null}function ST(e){return null}function CT(e){return!e||e.type===`Feature Service`&&!e.sourceUrl}function wT(e,t){if(!t||!CT(e))return;let n=xT(e.url);n&&(e.url=n)}var koe=new Set([`bing-maps`,`imagery`,`imagery-tile`,`map-image`,`open-street-map`,`tile`,`unknown`,`unsupported`,`vector-tile`,`web-tile`,`wcs`,`wms`,`wmts`]),Aoe=new Set([`integrated-mesh-3dtiles`]),TT=new Set(`catalog.csv.feature.geo-rss.geojson.group.imagery.imagery-tile.kml.knowledge-graph.map-image.map-notes.media.ogc-feature.oriented-imagery.route.stream.subtype-group.tile.unknown.unsupported.vector-tile.video.web-tile.wcs.wfs.wms.wmts`.split(`.`)),joe=new Set([...TT,`link-chart`]);function Moe(e){switch(e.layerContainerType){case`basemap-base-layers`:return koe;case`basemap-ground-layers`:return Aoe;case`operational-layers`:return e.origin===`link-chart`?joe:TT;default:return null}}function Noe(e,t){if(t.restrictedWebMapWriting){let n=Moe(t);return n==null||n.has(e.type)&&!gT(e)}return!0}function Poe(e,t){if(t)if(gT(e)){let n=dl(`featureCollection.layers`,t)?.[0]?.layerDefinition;n&&ET(e,n)}else e.type!==`group`&&ET(e,t)}function ET(e,t){`maxScale`in e&&(t.maxScale=Ig(e.maxScale)??void 0),`minScale`in e&&(t.minScale=Ig(e.minScale)??void 0)}function Foe(e,t){if(Poe(e,t),t&&(t.id=e.id,`blendMode`in e&&(t.blendMode=e.blendMode,t.blendMode===`normal`&&delete t.blendMode),t.opacity=Ig(e.opacity)??void 0,t.title=e.title||`Layer`,t.visibility=e.visible,`legendEnabled`in e&&e.type!==`wmts`))if(gT(e)){let n=t.featureCollection;n&&(n.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function DT(e,t,n){if(!e.persistenceEnabled)return null;if(!(`write`in e)||!e.write)return n?.messages&&n.messages.push(new M(`layer:unsupported`,`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(gT(e)&&!e.isTable)t=e.resourceInfo;else if(Noe(e,n)){let t={};return e.write(t,n)?t:null}return t!=null&&Foe(e,t=A(t)),t}var OT,kT,AT=class extends y_(w_){static{OT=Vw}static{kT=this}constructor(e){super(e),this[OT]=!0,this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title=`Basemap`,this.type=`Basemap`,this.id=Date.now().toString(16)+`-basemap-`+ kT.idCounter++,this.baseLayers=new L,this.referenceLayers=new L,this.groundLayers=new L;let t=e=>{let{parent:t}=e;t&&t!==this&&`remove`in t&&t.remove?.(e),e.parent=this,e.type!==`elevation`&&e.type!==`integrated-mesh-3dtiles`||j.getLogger(this).error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a basemap layer and will therefore be ignored.`)},n=e=>{let{parent:t}=e;t&&t!==this&&`remove`in t&&t.remove?.(e),e.parent=this},r=e=>{let t=e.item;t.parent===this?(j.getLogger(this).error(`Layer '${t.title}, id:${t.id}' of type '${t.type}' already a ground layer, second add will be ignored.`),e.preventDefault()):t.type!==`integrated-mesh-3dtiles`&&t.type!==`integrated-mesh`&&(j.getLogger(this).error(`Layer '${t.title}, id:${t.id}' of type '${t.type}' is not supported as a ground layer and will therefore be ignored.`),e.preventDefault())},i=e=>{e.parent=null},a=e=>{e.parent===this&&(e.parent=null)};this.addHandles([this.baseLayers.on(`after-add`,e=>t(e.item)),this.baseLayers.on(`after-remove`,e=>i(e.item)),this.referenceLayers.on(`after-add`,e=>t(e.item)),this.referenceLayers.on(`after-remove`,e=>i(e.item)),this.groundLayers.on(`before-add`,r),this.groundLayers.on(`after-add`,e=>n(e.item)),this.groundLayers.on(`after-remove`,e=>a(e.item))])}static{this.idCounter=0}initialize(){this.when().catch(e=>{j.getLogger(this).error(`#load()`,`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){let e=this.baseLayers.toArray();for(let t of e)t.destroyed||t.destroy();let t=this.groundLayers.toArray();for(let e of t)e.destroyed||e.destroy();let n=this.referenceLayers.toArray();for(let e of n)e.destroyed||e.destroy();this.baseLayers.destroy(),this.groundLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=Gd(this.portalItem)}removeChildLayer(e){for(let t of[this.baseLayers,this.referenceLayers,this.groundLayers])t.remove(e)}normalizeCtorArgs(e){return e&&`resourceInfo`in e&&(this._set(`resourceInfo`,e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set(`baseLayers`,u_(e,this._get(`baseLayers`)))}_writeBaseLayers(e,t,n){let r=[];e?(n={...n,layerContainerType:`basemap-base-layers`},this.baseLayers.forEach(e=>{let t=DT(e,n.webmap?n.webmap.getLayerJSONFromResourceInfo(e):null,n);t!=null&&r.push(t)}),this.referenceLayers.forEach(e=>{let t=DT(e,n.webmap?n.webmap.getLayerJSONFromResourceInfo(e):null,n);t!=null&&(e.type!==`scene`&&(t.isReference=!0),r.push(t))}),t.baseMapLayers=r):t.baseMapLayers=r}set groundLayers(e){this._set(`groundLayers`,u_(e,this._get(`groundLayers`)))}_writeGroundLayers(e,t,n){let r=[];e&&(n={...n,layerContainerType:`basemap-ground-layers`},this.groundLayers.forEach(e=>{let t=DT(e,n.webmap?n.webmap.getLayerJSONFromResourceInfo(e):null,n);t!=null&&r.push(t)}),r.length>0&&(t.groundLayers=r))}get loaded(){return super.loaded}set referenceLayers(e){this._set(`referenceLayers`,u_(e,this._get(`referenceLayers`)))}writeTitle(e,t){t.title=e||`Basemap`}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return M_(this,e=>{e(this.baseLayers,this.groundLayers,this.referenceLayers)})}clone(){let e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(e=>tl(e)?e.clone():e),groundLayers:this.groundLayers.map(e=>tl(e)?e.clone():e),referenceLayers:this.referenceLayers.map(e=>tl(e)?e.clone():e)};return this.loaded&&(e.loadStatus=`loaded`),new kT({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set(`resourceInfo`,{data:e,context:t}),super.read(e,t)}write(e,t){return e||={},t?.origin||(t={origin:`web-map`,...t}),super.write(e,t),!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(e=>{let t=A(e);return t.url&&Lu(t.url)&&(t.url=`https:${t.url}`),t.templateUrl&&Lu(t.templateUrl)&&(t.templateUrl=`https:${t.templateUrl}`),t})),e}async _loadFromSource(e){let{resourceInfo:t,portalItem:n,style:r}=this;$d(e);let i=[];if(t){let n=t.context?t.context.url:null;if(i.push(this._loadLayersFromJSON(t.data,n,e)),t.data.id&&!t.data.title){let e=t.data.id;i.push(Ire(e).then(e=>{e&&this.read({title:e},t.context)}))}}else n?i.push(this._loadFromItem(n,e)):r&&i.push(this._loadFromStylesService(r,e));await Promise.all(i)}async _loadLayersFromJSON(e,t,n){let r=this.resourceInfo?.context,i=this.portalItem?.portal||r?.portal||null,a=Loe[r?.origin||``]??`web-map`,{populateOperationalLayers:o}=await N(async()=>{let{populateOperationalLayers:e}=await import(`./layersCreator-B3hxuLBQ.js`);return{populateOperationalLayers:e}},__vite__mapDeps([17,11,12,13,18,14,15])),s=[];if($d(n),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){let n={context:{...r,origin:a,url:t,portal:i,layerContainerType:`basemap-base-layers`},defaultLayerType:`DefaultTileLayer`},c=e=>a===`web-scene`&&e.layerType===`ArcGISSceneServiceLayer`||e.isReference,l=o(this.baseLayers,e.baseMapLayers.filter(e=>!c(e)),n);s.push(l);let u=o(this.referenceLayers,e.baseMapLayers.filter(c),n);s.push(u)}if(e.groundLayers&&Array.isArray(e.groundLayers)){let n={context:{...r,origin:a,url:t,portal:i,layerContainerType:`basemap-ground-layers`},defaultLayerType:`IntegratedMesh3DTilesLayer`},c=o(this.groundLayers,e.groundLayers,n);s.push(c)}await Promise.allSettled(s)}async _loadFromItem(e,t){let n=await(await e.load(t)).fetchData(`json`,t),r=au(e.itemUrl??``);return this._set(`resourceInfo`,{data:n.baseMap??{},context:{origin:Ioe[e.type||``]??`web-map`,portal:e.portal||G.getDefault(),url:r}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:`portal-item`,portal:e.portal||G.getDefault(),url:r}),this._loadLayersFromJSON(this.resourceInfo.data,r,t)}async _loadFromStylesService(e,t){let n=e.serviceUrl.endsWith(`/webmaps`)?e.serviceUrl.slice(0,-8):e.serviceUrl,r=`${n}/styles/${e.id}/self`,i=`${n}/webmaps/${e.id}`,a=e.apiKey??vl.apiKeys.basemapStyles,[o,s]=await Promise.all([(await gp(r,{query:{token:a},signal:t?.signal})).data,(await gp(i,{query:{language:e.languageParameter,places:e.places,worldview:e.worldview,token:a},signal:t?.signal})).data]);this.thumbnailUrl??=o.thumbnailUrl;let c=au(i);if(this._set(`resourceInfo`,{data:s.baseMap??{},context:{origin:`web-map`,url:c}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:s.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,c,t),a)for(let e of[...this.baseLayers,...this.groundLayers,...this.referenceLayers])`apiKey`in e&&(e.apiKey=a)}static fromId(e){let t=Hb[e];return t?t.itemId?new kT({portalItem:{id:t.itemId,portal:{url:`https://www.arcgis.com`}}}):kT.fromJSON(t,t.is3d?{origin:`web-scene`,portal:new G({url:`https://www.arcgis.com`})}:{origin:`web-map`}):null}};O([P({json:{read:!1,write:{ignoreOrigin:!0,target:`baseMapLayers`,writer(e,t,n,r){this._writeBaseLayers(e,t,r)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:L}},writer(e,t,n,r){this._writeBaseLayers(e,t,r)}}}}}})],AT.prototype,`baseLayers`,null),O([P({json:{read:!1,write:{ignoreOrigin:!0,target:`groundLayers`,writer(e,t,n,r){this._writeGroundLayers(e,t,r)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{groundLayers:{type:L}},writer(e,t,n,r){this._writeGroundLayers(e,t,r)}}}}}})],AT.prototype,`groundLayers`,null),O([P({type:String,json:{origins:{"web-scene":{write:!0}}}})],AT.prototype,`id`,void 0),O([P({type:Nb})],AT.prototype,`portalItem`,void 0),O([P()],AT.prototype,`referenceLayers`,null),O([P({readOnly:!0})],AT.prototype,`resourceInfo`,void 0),O([P({type:U})],AT.prototype,`spatialReference`,void 0),O([P({type:loe})],AT.prototype,`style`,void 0),O([P()],AT.prototype,`thumbnailUrl`,void 0),O([P({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],AT.prototype,`title`,void 0),O([z(`title`)],AT.prototype,`writeTitle`,null),AT=kT=O([F(`esri.Basemap`)],AT);var Ioe={"Web Scene":`web-scene`,"Web Map":`web-map`,"Link Chart":`link-chart`},Loe={"web-scene":`web-scene`,"web-map":`web-map`,"link-chart":`link-chart`},jT=AT,MT={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function NT(e){return!!MT[e]||!!MT[e.toLowerCase()]}function PT(e){return MT[e]??MT[e.toLowerCase()]}function Roe(e){return[...PT(e)]}function FT(e,t,n){n<0&&++n,n>1&&--n;let r=6*n;return r<1?e+(t-e)*r:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function IT(e,t,n,r=1){let i=(e%360+360)%360/360,a=n<=.5?n*(t+1):n+t-n*t,o=2*n-a;return[Math.round(255*FT(o,a,i+1/3)),Math.round(255*FT(o,a,i)),Math.round(255*FT(o,a,i-1/3)),r]}function zoe(e){let t=e.length>5,n=t?8:4,r=(1<<n)-1,i=t?1:17,a=t?e.length===9:e.length===5,o=Number(`0x`+e.slice(1));if(isNaN(o))return null;let s=[0,0,0,1],c;return a&&(c=o&r,o>>=n,s[3]=i*c/255),c=o&r,o>>=n,s[2]=i*c,c=o&r,o>>=n,s[1]=i*c,c=o&r,o>>=n,s[0]=i*c,s}function LT(e){if(!e.startsWith(`#`)||isNaN(Number(`0x${e.slice(1)}`)))return null;switch(e.length){case 4:case 5:{let t=parseInt(e.slice(1,2),16),n=parseInt(e.slice(2,3),16),r=parseInt(e.slice(3,4),16),i=e.length===4?15:parseInt(e.slice(4),16);return[t+16*t,n+16*n,r+16*r,(i+16*i)/255]}case 7:case 9:return[parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16),(e.length===7?255:parseInt(e.slice(7),16))/255];default:return null}}function RT(e){let t=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(t){let e=t[2].split(/\s*,\s*/),n=t[1];if(n===`rgb`&&e.length===3||n===`rgba`&&e.length===4){if(e[0].endsWith(`%`)){let t=e.map(e=>2.56*parseFloat(e));return e.length===4&&(t[3]=parseFloat(e[3])),zT(t)}return zT(e.map(e=>parseFloat(e)))}if(n===`hsl`&&e.length===3||n===`hsla`&&e.length===4)return IT(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3]??`1`))}return null}function zT(e){return e[0]=HT(e[0]),e[1]=HT(e[1]),e[2]=HT(e[2]),e[3]=e.length===4?VT(e[3]):1,e}function BT(e){let t=NT(e)?PT(e):null;return t??=RT(e),t??=LT(e),t}function Boe(e){let t=BT(e);return t==null?null:[t[0]/255,t[1]/255,t[2]/255,t[3]]}function VT(e){return UT(e,0,1)}function HT(e){return Math.round(UT(e,0,255))}function UT(e,t,n){return e=Number(e),isNaN(e)?n:e<t?t:e>n?n:e}var WT=2.2,Voe=1/WT;function Hoe(e){return e**WT}function Uoe(e){return e**Voe}var GT=new Float32Array(1);function Woe(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function KT(e,t,n){return Math.min(Math.max(e,t),n)}function Goe(e){return!(e&e-1)}function Koe(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function qT(e,t,n){return e+(t-e)*n}function qoe(e,t,n,r,i){return qT(r,i,(e-t)/(n-t))}function JT(e){return e*Math.PI/180}function YT(e){return 180*e/Math.PI}function Joe(e,t=1e-6){return(e<0?-1:1)/Math.max(Math.abs(e),t)}function Yoe(e){return Math.acos(KT(e,-1,1))}function XT(e){return Math.asin(KT(e,-1,1))}function ZT(e,t,n=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=n}function QT(e,t,n=1e-6){return!ZT(e,t,n)&&e>t}function $T(e,t,n=1e-6){return!ZT(e,t,n)&&e<t}function Xoe(e,t,n=1e-6){return ZT(e,t,n)||e>t}var eE=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function tE(e){return eE.setFloat64(0,e),eE.getBigInt64(0)}function Zoe(e){return eE.setBigInt64(0,e),eE.getFloat64(0)}var nE=1000000n,Qoe=rE(1);function rE(e){let t=tE(e=Math.abs(e)),n=Zoe(t<=nE?nE:t-nE);return Math.abs(e-n)}function $oe(e,t,n=Qoe){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(n!=null&&rE(Math.min(Math.abs(e),Math.abs(t)))<n)return Math.abs(e-t)<=n;let r=tE(e),i=tE(t);return r<0==i<0?!((r<i?i-r:r-i)>nE):!1}function iE(e,t,n=1e-6){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;let r=Math.abs(e-t),i=Math.abs(e),a=Math.abs(t);if(e===0||t===0||i<1e-12&&a<1e-12){if(r>.01*n)return!1}else if(r/(i+a)>n)return!1;return!0}function ese(e){return aE(Math.max(-oE,Math.min(e,oE)))}function aE(e){return GT[0]=e,GT[0]}function tse(e){let t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],r=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(ZT(t,1)&&ZT(n,1)&&ZT(r,1))}function nse(e,t){return(e%t+t)%t}var oE=aE(34028234663852886e22);function rse(e,t,n){if(n===void 0||+n==0)return Math[e](t);if(t=+t,n=+n,isNaN(t)||typeof n!=`number`||n%1!=0)return NaN;let r=t.toString().split(`e`);return r=(t=Math[e](+(r[0]+`e`+(r[1]?+r[1]-n:-n)))).toString().split(`e`),+(r[0]+`e`+(r[1]?+r[1]+n:n))}function sE(e){return KT(Xh(e),0,255)}function cE(e,t){let n=e.toString(16).padStart(2,`0`);return t?n.slice(0,1):n}var lE=class e{static blendColors(t,n,r,i=new e){return i.r=Math.round(t.r+(n.r-t.r)*r),i.g=Math.round(t.g+(n.g-t.g)*r),i.b=Math.round(t.b+(n.b-t.b)*r),i.a=t.a+(n.a-t.a)*r,i._sanitize()}static fromRgb(t,n){let r=RT(t);return r?e.fromArray(r,n):null}static fromHex(t,n=new e){let r=LT(t);return r?e.fromArray(r,n):null}static fromArray(t,n=new e){return n._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(n.a)&&(n.a=1),n._sanitize()}static fromString(t,n){let r=BT(t);return r?e.fromArray(r,n):null}static fromJSON(t){return t==null?void 0:new e([t[0],t[1],t[2],(t[3]??255)/255])}static toUnitRGB(e){return e==null?null:[e.r/255,e.g/255,e.b/255]}static toUnitRGBA(e,t){return e==null?null:(t??=[0,0,0,0],t[0]=e.r/255,t[1]=e.g/255,t[2]=e.b/255,t[3]=e.a==null?1:e.a,t)}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t==`string`?e.fromString(t,this):Array.isArray(t)?e.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof e||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){let t=e?.capitalize??!1,n=e?.digits??6,r=n===3||n===4,i=n===4||n===8,a=`#${cE(this.r,r)}${cE(this.g,r)}${cE(this.b,r)}${i?cE(Math.round(255*this.a),r):``}`;return t?a.toUpperCase():a}toCss(e=!1){let t=this.r+`, `+this.g+`, `+this.b;return e?`rgba(${t}, ${this.a})`:`rgb(${t})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=0){let t=sE(this.r),n=sE(this.g),r=sE(this.b);return e===0||this.a!==1?[t,n,r,sE(255*this.a)]:[t,n,r]}clone(){return new e(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return e!=null&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=HT(this.r),this.g=HT(this.g),this.b=HT(this.b),this.a=VT(this.a),this}_set(e,t,n,r){this.r=e,this.g=t,this.b=n,this.a=r}};lE.prototype.declaredClass=`esri.Color`;var uE=class extends L{constructor(e){super(e),this.getCollections=null}initialize(){this.addHandles(Ih(()=>this._refresh(),Jw))}destroy(){this.getCollections=null}_refresh(){let e=this.getCollections?.();if(e==null)return void this.removeAll();let t=0;for(let n of e)n!=null&&(t=this._processCollection(t,n));this.splice(t)}_createNewInstance(e){return new L(e)}_processCollection(e,t){if(!t)return e;let n=this.itemFilterFunction??(e=>!!e);for(let r of t)if(r){if(n(r)){let t=this.indexOf(r,e);t>=0?t!==e&&this.reorder(r,e):this.add(r,e),++e}if(this.getChildrenFunction){let t=this.getChildrenFunction(r);if(Array.isArray(t))for(let n of t)e=this._processCollection(e,n);else e=this._processCollection(e,t)}}return e}};O([P()],uE.prototype,`getCollections`,void 0),O([P()],uE.prototype,`getChildrenFunction`,void 0),O([P()],uE.prototype,`itemFilterFunction`,void 0),uE=O([F(`esri.core.CollectionFlattener`)],uE);function J(e,t={}){let n=e instanceof P_?e:new P_(e,t),{alwaysWriteDefaults:r,default:i,ignoreUnknown:a=!0,name:o,nonNullable:s,readOnly:c=!1}=t;return P({type:a?n.apiValues:String,json:{type:n.jsonValues,default:i,name:o,read:!c&&{reader:n.read},write:{writer:n.write,alwaysWriteDefaults:r}},nonNullable:s,readOnly:c})}var dE,fE=dE=class extends R{constructor(e){super(e),this.type=`none`}clone(){return new dE({type:this.type})}};O([J({none:`none`,stayAbove:`stay-above`}),P({json:{write:{isRequired:!0}}})],fE.prototype,`type`,void 0),fE=dE=O([F(`esri.ground.NavigationConstraint`)],fE);var pE=Symbol(`GroundInstance`);function ise(e){return typeof e==`object`&&!!e&&pE in e}function mE(e){let t=Xh(100*(1-e));return Math.max(0,Math.min(t,100))}function hE(e){let t=1-e/100;return Math.max(0,Math.min(t,1))}var gE,_E,vE=_E=class extends y_(w_){static{gE=pE}constructor(e){super(e),this[gE]=!0,this.parent=null,this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new L;let t=e=>{let{parent:t}=e;t&&t!==this&&`remove`in t&&t.remove?.(e),e.parent=this,e.type!==`elevation`&&e.type!==`base-elevation`&&j.getLogger(this).error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},n=e=>{e.parent=null};this.addHandles([this.layers.on(`after-add`,e=>t(e.item)),this.layers.on(`after-remove`,e=>n(e.item))]),this.allLayers=new uE({getCollections:()=>[this.layers,this.parent?.basemap?.groundLayers]})}removeChildLayer(e){this.layers.remove(e)}initialize(){this.when().catch(e=>{lf(e)||j.getLogger(this).error(`#load()`,`Failed to load ground`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}get integratedMeshGround(){let e=this.parent?.basemap?.groundLayers.at(0);return e?.replacesTerrain?e:null}destroy(){let e=this.layers.removeAll();for(let t of e)Gd(t);this.layers.destroy()}normalizeCtorArgs(e){return e&&`resourceInfo`in e&&(this._set(`resourceInfo`,e.resourceInfo),delete(e={...e}).resourceInfo),e}get loaded(){return super.loaded}get layers(){return this._get(`layers`)}set layers(e){this._set(`layers`,u_(e,this._get(`layers`)))}writeLayers(e,t,n,r){let i=[];e?(r={...r,layerContainerType:`ground`},e.forEach(e=>{if(`write`in e){let t={};ac(e)().write(t,r)&&i.push(t)}else r?.messages&&r.messages.push(new M(`layer:unsupported`,`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted in the ground`,{layer:e}))}),t.layers=i):t.layers=i}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return M_(this,e=>{e(this.layers)})}async queryElevation(e,t){await this.load({signal:t?.signal});let{queryAll:n}=await N(async()=>{let{queryAll:e}=await import(`./ElevationQuery-DX2l3hUV.js`);return{queryAll:e}},__vite__mapDeps([19,20]));return $d(t),n(this.layers.filter(yE).toArray(),e,t)}async createElevationSampler(e,t){await this.load({signal:t?.signal});let{createSampler:n}=await N(async()=>{let{createSampler:e}=await import(`./ElevationQuery-DX2l3hUV.js`);return{createSampler:e}},__vite__mapDeps([19,20]));return $d(t),n(this.layers.filter(yE).toArray(),e,t)}clone(){let e={opacity:this.opacity,surfaceColor:A(this.surfaceColor),navigationConstraint:A(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus=`loaded`),new _E({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set(`resourceInfo`,{data:e,context:t}),super.read(e,t)}_loadFromSource(e){let t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve()}async _loadLayersFromJSON(e,t,n){let r=t?.origin||`web-scene`,i=t?.portal||null,a=t?.url||null,{populateOperationalLayers:o}=await N(async()=>{let{populateOperationalLayers:e}=await import(`./layersCreator-B3hxuLBQ.js`);return{populateOperationalLayers:e}},__vite__mapDeps([17,11,12,13,18,14,15]));$d(n);let s=[];if(e.layers&&Array.isArray(e.layers)){let t={context:{origin:r,url:a,portal:i,layerContainerType:`ground`},defaultLayerType:`ArcGISTiledElevationServiceLayer`};s.push(o(this.layers,e.layers,t))}await Promise.allSettled(s)}};function yE(e){return e&&`createElevationSampler`in e}O([P()],vE.prototype,`parent`,void 0),O([P()],vE.prototype,`integratedMeshGround`,null),O([P({json:{read:!1,write:{isRequired:!0}}})],vE.prototype,`layers`,null),O([P()],vE.prototype,`allLayers`,void 0),O([z(`layers`)],vE.prototype,`writeLayers`,null),O([P({readOnly:!0})],vE.prototype,`resourceInfo`,void 0),O([P({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:dg,read:{reader:hE,source:`transparency`},write:{writer:(e,t)=>{t.transparency=mE(e)},target:`transparency`}}})],vE.prototype,`opacity`,void 0),O([P({type:lE,json:{type:[dg],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],vE.prototype,`surfaceColor`,void 0),O([P({type:fE,json:{write:!0}})],vE.prototype,`navigationConstraint`,void 0),vE=_E=O([F(`esri.Ground`)],vE);var bE=vE,ase=Symbol(`ClonableMixin`),Y=e=>{var t;let n=e,r=class extends n{constructor(){super(...arguments),this[t]=!0}static{t=ase}clone(e){let t=pm(this);Wd(t,`unable to clone instance of non-accessor class`);let n=t.metadata,r=t.store,i={},a=new Map;for(let t in n){let o=n[t],s=r?.originOf(t),c=o.clonable;if(o.readOnly||!1===c||s!==7&&s!==0&&s!==5&&s!==4)continue;let l=this[t],u=null;if(typeof c==`function`)u=c(l,e);else if(c===`reference`)u=l;else if(u=el(l,e),l!=null&&u==null)continue;s===0?a.set(t,u):i[t]=u}let o=new(Object.getPrototypeOf(this)).constructor(i);if(a.size){let e=pm(o)?.store;if(e)for(let[t,n]of a)e.set(t,n,0)}return o}};return r=O([F(`esri.core.Clonable`)],r),r},xE=Y(I),ose=`randomUUID`in crypto;function SE(){if(ose)return crypto.randomUUID();let e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;let t=t=>e[t].toString(16).padStart(4,`0`);return t(0)+t(1)+`-`+t(2)+`-`+t(3)+`-`+t(4)+`-`+t(5)+t(6)+t(7)}function sse(){return`{${SE().toUpperCase()}}`}function cse(){return`{${SE()}}`}function CE(e){let t=e.toUpperCase();return e.startsWith(`{`)?t:`{${t}}`}var wE={Base64:0,Hex:1,String:2,Raw:3},TE=8,EE=(1<<TE)-1;function DE(e,t){let n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function lse(e){let t=[];for(let n=0,r=e.length*TE;n<r;n+=TE)t[n>>5]|=(e.charCodeAt(n/TE)&EE)<<n%32;return t}function use(e){let t=[];for(let n=0,r=32*e.length;n<r;n+=TE)t.push(String.fromCharCode(e[n>>5]>>>n%32&EE));return t.join(``)}function dse(e){let t=`0123456789abcdef`,n=[];for(let r=0,i=4*e.length;r<i;r++)n.push(t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15));return n.join(``)}function fse(e){let t=[];for(let n=0,r=4*e.length;n<r;n+=3){let r=(e[n>>2]>>n%4*8&255)<<16|(e[n+1>>2]>>(n+1)%4*8&255)<<8|e[n+2>>2]>>(n+2)%4*8&255;for(let i=0;i<4;i++)8*n+6*i>32*e.length?t.push(`=`):t.push(`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`.charAt(r>>6*(3-i)&63))}return t.join(``)}function pse(e,t){return e<<t|e>>>32-t}function OE(e,t,n,r,i,a){return DE(pse(DE(DE(t,e),DE(r,a)),i),n)}function kE(e,t,n,r,i,a,o){return OE(t&n|~t&r,e,t,i,a,o)}function AE(e,t,n,r,i,a,o){return OE(t&r|n&~r,e,t,i,a,o)}function jE(e,t,n,r,i,a,o){return OE(t^n^r,e,t,i,a,o)}function ME(e,t,n,r,i,a,o){return OE(n^(t|~r),e,t,i,a,o)}function mse(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let n=1732584193,r=-271733879,i=-1732584194,a=271733878;for(let t=0;t<e.length;t+=16){let o=n,s=r,c=i,l=a;n=kE(n,r,i,a,e[t],7,-680876936),a=kE(a,n,r,i,e[t+1],12,-389564586),i=kE(i,a,n,r,e[t+2],17,606105819),r=kE(r,i,a,n,e[t+3],22,-1044525330),n=kE(n,r,i,a,e[t+4],7,-176418897),a=kE(a,n,r,i,e[t+5],12,1200080426),i=kE(i,a,n,r,e[t+6],17,-1473231341),r=kE(r,i,a,n,e[t+7],22,-45705983),n=kE(n,r,i,a,e[t+8],7,1770035416),a=kE(a,n,r,i,e[t+9],12,-1958414417),i=kE(i,a,n,r,e[t+10],17,-42063),r=kE(r,i,a,n,e[t+11],22,-1990404162),n=kE(n,r,i,a,e[t+12],7,1804603682),a=kE(a,n,r,i,e[t+13],12,-40341101),i=kE(i,a,n,r,e[t+14],17,-1502002290),r=kE(r,i,a,n,e[t+15],22,1236535329),n=AE(n,r,i,a,e[t+1],5,-165796510),a=AE(a,n,r,i,e[t+6],9,-1069501632),i=AE(i,a,n,r,e[t+11],14,643717713),r=AE(r,i,a,n,e[t],20,-373897302),n=AE(n,r,i,a,e[t+5],5,-701558691),a=AE(a,n,r,i,e[t+10],9,38016083),i=AE(i,a,n,r,e[t+15],14,-660478335),r=AE(r,i,a,n,e[t+4],20,-405537848),n=AE(n,r,i,a,e[t+9],5,568446438),a=AE(a,n,r,i,e[t+14],9,-1019803690),i=AE(i,a,n,r,e[t+3],14,-187363961),r=AE(r,i,a,n,e[t+8],20,1163531501),n=AE(n,r,i,a,e[t+13],5,-1444681467),a=AE(a,n,r,i,e[t+2],9,-51403784),i=AE(i,a,n,r,e[t+7],14,1735328473),r=AE(r,i,a,n,e[t+12],20,-1926607734),n=jE(n,r,i,a,e[t+5],4,-378558),a=jE(a,n,r,i,e[t+8],11,-2022574463),i=jE(i,a,n,r,e[t+11],16,1839030562),r=jE(r,i,a,n,e[t+14],23,-35309556),n=jE(n,r,i,a,e[t+1],4,-1530992060),a=jE(a,n,r,i,e[t+4],11,1272893353),i=jE(i,a,n,r,e[t+7],16,-155497632),r=jE(r,i,a,n,e[t+10],23,-1094730640),n=jE(n,r,i,a,e[t+13],4,681279174),a=jE(a,n,r,i,e[t],11,-358537222),i=jE(i,a,n,r,e[t+3],16,-722521979),r=jE(r,i,a,n,e[t+6],23,76029189),n=jE(n,r,i,a,e[t+9],4,-640364487),a=jE(a,n,r,i,e[t+12],11,-421815835),i=jE(i,a,n,r,e[t+15],16,530742520),r=jE(r,i,a,n,e[t+2],23,-995338651),n=ME(n,r,i,a,e[t],6,-198630844),a=ME(a,n,r,i,e[t+7],10,1126891415),i=ME(i,a,n,r,e[t+14],15,-1416354905),r=ME(r,i,a,n,e[t+5],21,-57434055),n=ME(n,r,i,a,e[t+12],6,1700485571),a=ME(a,n,r,i,e[t+3],10,-1894986606),i=ME(i,a,n,r,e[t+10],15,-1051523),r=ME(r,i,a,n,e[t+1],21,-2054922799),n=ME(n,r,i,a,e[t+8],6,1873313359),a=ME(a,n,r,i,e[t+15],10,-30611744),i=ME(i,a,n,r,e[t+6],15,-1560198380),r=ME(r,i,a,n,e[t+13],21,1309151649),n=ME(n,r,i,a,e[t+4],6,-145523070),a=ME(a,n,r,i,e[t+11],10,-1120210379),i=ME(i,a,n,r,e[t+2],15,718787259),r=ME(r,i,a,n,e[t+9],21,-343485551),n=DE(n,o),r=DE(r,s),i=DE(i,c),a=DE(a,l)}return[n,r,i,a]}function NE(e,t=wE.Hex){let n=t||wE.Base64,r=mse(lse(e),e.length*TE);switch(n){case wE.Raw:return r;case wE.Hex:return dse(r);case wE.String:return use(r);case wE.Base64:return fse(r)}}function PE(e){return e&&`getAtOrigin`in e&&`originOf`in e}function FE(e){return IE[hse(e)]||_se}function hse(e){return e.type===`json`?`application/json`:e.type===`blob`?e.blob.type:gse(e.url)}function gse(e){let t=cd(e);return RE[t]||LE}var IE={},LE=`text/plain`,_se=IE[LE],RE={png:`image/png`,jpeg:`image/jpeg`,jpg:`image/jpg`,bmp:`image/bmp`,gif:`image/gif`,json:`application/json`,txt:`text/plain`,xml:`application/xml`,svg:`image/svg+xml`,zip:`application/zip`,pbf:`application/vnd.mapbox-vector-tile`,gz:`application/gzip`,"bin.gz":`application/octet-stream`};for(let e in RE)IE[RE[e]]=e;function zE(e){let t=e?.origins??[void 0];return(n,r)=>{let i=vse(e,n,r);for(let e of t){let t=hg(n,e,r);for(let e in i)t[e]=i[e]}}}function vse(e,t,n){if(e?.type===`resource`)return yse(e,t,n);switch(e?.type??`other`){case`other`:return{read:!0,write:!0};case`url`:{let{read:e,write:t}=Pf;return{read:e,write:t}}}}function yse(e,t,n){let r=Cm(t,n);return{type:String,read:(e,t,n)=>{let i=wf(e,t,n);return r.type===String?i:typeof r.type==`function`?new r.type({url:i}):void 0},write:{isRequired:r.json?.write?.isRequired,writer(t,i,a,o){if(!o?.resources)return typeof t==`string`?void(i[a]=Cf(t,o)):void(i[a]=t.write({},o));let s=Sse(t),c=Cf(s,{...o,verifyItemRelativeUrls:o?.verifyItemRelativeUrls?{writtenUrls:o.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},1),l=r.type!==String&&(!PE(this)||o?.origin&&this.originIdOf(n)>Vm(o.origin)),u={object:this,propertyName:n,value:t,targetUrl:c,dest:i,targetPropertyName:a,context:o,params:e};o?.portalItem&&c&&!Du(c)?l&&e?.contentAddressed?BE(u):l?bse(u):xse(u):o?.portalItem&&(c==null||Of(c)!=null||Ou(c)||l)?BE(u):i[a]=c}}}}function BE(e){let{targetUrl:t,params:n,value:r,context:i,dest:a,targetPropertyName:o}=e;if(!i.portalItem)return;let s=kf(t),c=HE(r,t,i);if(n?.contentAddressed&&c.type!==`json`)return void i.messages?.push(new M(`persistable:contentAddressingUnsupported`,`Property "${o}" is trying to serializing a resource with content of type ${c.type} with content addressing. Content addressing is only supported for json resources.`,{content:c}));let l=n?.contentAddressed&&c.type===`json`?NE(c.jsonString):s?.filename??SE(),u=Tu(n?.prefix??s?.prefix,l),d=`${u}.${FE(c)}`;if(n?.contentAddressed&&i.resources&&c.type===`json`){let e=i.resources.toKeep.find(({resource:e})=>e.path===d)??i.resources.toAdd.find(({resource:e})=>e.path===d);if(e)return void(a[o]=e.resource.itemRelativeUrl)}let f=i.portalItem.resourceFromPath(d);Ou(t)&&i.resources&&i.resources.pendingOperations.push(Fu(t).then(e=>{f.path=`${u}.${FE({type:`blob`,blob:e})}`,a[o]=f.itemRelativeUrl}).catch(()=>{}));let p=n?.compress??!1;i.resources&&VE({...e,resource:f,content:c,compress:p,updates:i.resources.toAdd}),a[o]=f.itemRelativeUrl}function bse(e){let{context:t,targetUrl:n,params:r,value:i,dest:a,targetPropertyName:o}=e;if(!t.portalItem)return;let s=t.portalItem.resourceFromPath(n),c=HE(i,n,t),l=FE(c),u=cd(s.path),d=r?.compress??!1;l===u?(t.resources&&VE({...e,resource:s,content:c,compress:d,updates:t.resources.toUpdate}),a[o]=n):BE(e)}function xse({context:e,targetUrl:t,dest:n,targetPropertyName:r}){e.portalItem&&e.resources&&(e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(t),compress:!1}),n[r]=t)}function VE({object:e,propertyName:t,updates:n,resource:r,content:i,compress:a}){n.push({resource:r,content:i,compress:a,finish:n=>{Cse(e,t,n)}})}function HE(e,t,n){return typeof e==`string`?{type:`url`,url:t}:{type:`json`,jsonString:JSON.stringify(e.toJSON(n))}}function Sse(e){return e==null?null:typeof e==`string`?e:e.url}function Cse(e,t,n){typeof e[t]==`string`?e[t]=n.url:e[t].url=n.url}var UE=class extends Y(R){constructor(e){super(e),this.color=null}};O([P({type:lE,json:{type:[dg],write:!0}})],UE.prototype,`color`,void 0),UE=O([F(`esri.effects.FocusAreaOutline`)],UE);var wse=UE;function Tse(e){let t=[];for(e.reset();e.nextPath();){let n=[];for(;e.nextPoint();)n.push([e.x,e.y]);t.push(n)}return e.reset(),t}function WE(e){let t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}function Ese(e){if(!e)return null;if(Array.isArray(e))return e;let t=e.hasZ,n=e.hasM;if(e.type===`point`)return n&&t?[e.x,e.y,e.z,e.m]:t?[e.x,e.y,e.z]:n?[e.x,e.y,e.m]:[e.x,e.y];if(e.type===`polygon`)return e.rings.slice();if(e.type===`polyline`)return e.paths.slice();if(e.type===`multipoint`)return e.points.map(e=>[e]);if(e.type===`extent`){let t=e.clone().normalize();if(!t)return null;let n=!1,r=!1;return t.forEach(e=>{e.hasZ&&(n=!0),e.hasM&&(r=!0)}),t.map(e=>{let t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(n&&e.hasZ){let n=.5*(e.zmax-e.zmin);for(let e=0;e<t.length;e++)t[e].push(n)}if(r&&e.hasM){let n=.5*(e.mmax-e.mmin);for(let e=0;e<t.length;e++)t[e].push(n)}return t})}return null}function GE(e,t){let n=t[0]-e[0],r=t[1]-e[1];if(e.length>2&&t.length>2){let i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}return Math.sqrt(n*n+r*r)}function KE(e,t,n){let r=e[0]+n*(t[0]-e[0]),i=e[1]+n*(t[1]-e[1]);return e.length>2&&t.length>2?[r,i,e[2]+n*(t[2]-e[2])]:[r,i]}function Dse(e,t,n,r){return qE(e,t,n[r],n[r+1])}function qE(e,t,n,r){let[i,a]=t,[o,s]=n,[c,l]=r,u=c-o,d=l-s,f=u*u+d*d,p=(i-o)*u+(a-s)*d,m=Math.min(1,Math.max(0,p/f));return e[0]=o+u*m,e[1]=s+d*m,e}function Ose(e,t,n,r,i,a){let o=n,s=r,c=i-o,l=a-s;if(c!==0||l!==0){let n=((e-o)*c+(t-s)*l)/(c*c+l*l);n>1?(o=i,s=a):n>0&&(o+=c*n,s+=l*n)}return c=e-o,l=t-s,c*c+l*l}function JE(e,t){return KE(e,t,.5)}function kse(e){let t=e.length,n=0;for(let r=0;r<t-1;++r)n+=GE(e[r],e[r+1]);return n}function Ase(e,t){if(t<=0)return e[0];let n=e.length,r=0;for(let i=0;i<n-1;++i){let n=GE(e[i],e[i+1]);if(t-r<n){let a=(t-r)/n;return KE(e[i],e[i+1],a)}r+=n}return e[n-1]}function YE(e,t=0,n=1){let r=0,i=e.length,a=e[0];for(let o=1;o<i;o++){let i=e[o];r+=(i[t]-a[t])*(i[n]+a[n]),a=i}if(XE(e)){let i=e[0];r+=(i[t]-a[t])*(i[n]+a[n])}return r>=0}function XE(e){let t=e.length;return t>0&&!gc(e[0],e[t-1])}function jse(e){`rings`in e&&(ZE(e),Mse(e))}function ZE(e){if(`rings`in e)for(let t of e.rings)XE(t)&&t.push(t[0].slice())}function Mse(e){if(!(`rings`in e)||e.rings.length===0||YE(e.rings[0]))return!1;for(let t of e.rings)t.reverse();return!0}function Nse(e){return e.type!==`polygon`&&e.type!==`polyline`||QE(e.type===`polygon`?e.rings:e.paths,e.spatialReference),e}function QE(e,t){let n=yv(t);if(!n)return;let r=n.valid[0],i=n.valid[1],a=i-r;for(let t of e){let e=1/0,n=-1/0;for(let a of t){let t=$E(a[0],r,i);e=Math.min(e,t),n=Math.max(n,t),a[0]=t}let o=n-e;a-o<o&&t.forEach(e=>{e[0]<0&&(e[0]+=a)})}}function $E(e,t,n){let r=n-t;return e<t?n-(t-e)%r:e>n?t+(e-t)%r:e}function Pse(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if(e.type===`point`||e.type===`mesh`||e.type===`extent`)return!0;if(e.type===`multipoint`)return e.points.length===t.points.length;let[n,r]=e.type===`polyline`?[e.paths,t.paths]:[e.rings,t.rings];return n.length===r.length&&n.every((e,t)=>e.length===r[t].length)}function Fse(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function eD(e){return nD(e.rings,e.hasZ??!1)}function tD(e){let t=eD(e);if(!t)return null;let{hasZ:n,spatialReference:r}=e,[i,a,o]=t;return isNaN(i)||isNaN(a)||n&&isNaN(o)?null:{x:i,y:a,z:n?o:void 0,spatialReference:r}}function nD(e,t){if(!e?.length)return null;let n=[],r=[],i=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let n=0,a=e.length;n<a;n++){let a=rD(e[n],t,i);a&&r.push(a)}if(r.sort((e,n)=>{let r=e[2]-n[2];return r===0&&t&&(r=e[4]-n[4]),r}),r.length&&(n[0]=r[0][0],n[1]=r[0][1],t&&(n[2]=r[0][3]),(n[0]<i[0]||n[0]>i[1]||n[1]<i[2]||n[1]>i[3]||t&&(n[2]<i[4]||n[2]>i[5]))&&(n.length=0)),!n.length){let r=e[0]&&e[0].length?Lse(e[0],t):null;if(!r)return null;n[0]=r[0],n[1]=r[1],t&&r.length>2&&(n[2]=r[2])}return n}function rD(e,t,n){let r=0,i=0,a=0,o=0,s=0,c=e.length?e[0][0]:0,l=e.length?e[0][1]:0,u=e.length&&t?e[0][2]:0;for(let d=0;d<e.length;d++){let f=e[d],p=e[(d+1)%e.length],[m,h,g]=f,_=m-c,v=h-l,[y,b,x]=p,S=y-c,ee=b-l,C=_*ee-S*v;if(o+=C,r+=(_+S)*C,i+=(v+ee)*C,t&&f.length>2&&p.length>2){let e=g-u,t=x-u,n=_*t-S*e;a+=(e+t)*n,s+=n}m<n[0]&&(n[0]=m),m>n[1]&&(n[1]=m),h<n[2]&&(n[2]=h),h>n[3]&&(n[3]=h),t&&(g<n[4]&&(n[4]=g),g>n[5]&&(n[5]=g))}if(o>0&&(o*=-1),s>0&&(s*=-1),!o)return null;o*=.5,s*=.5;let d=[r/(6*o)+c,i/(6*o)+l,o];return t&&(n[4]===n[5]||s===0?(d[3]=(n[4]+n[5])/2,d[4]=0):(d[3]=a/(6*s)+u,d[4]=s)),d}function Ise(e,t){let n=0,r=0,i=0;e.nextPoint();let a=e.pathSize?e.x:0,o=e.pathSize?e.y:0;for(let s=0;s<e.pathSize;s++){e.seekInPath(s);let c=[e.x,e.y];e.seekInPath((s+1)%e.pathSize);let l=[e.x,e.y],[u,d]=c,f=u-a,p=d-o,[m,h]=l,g=m-a,_=h-o,v=f*_-g*p;i+=v,n+=(f+g)*v,r+=(p+_)*v,u<t[0]&&(t[0]=u),u>t[1]&&(t[1]=u),d<t[2]&&(t[2]=d),d>t[3]&&(t[3]=d)}return i>0&&(i*=-1),i?(i*=.5,[n/(6*i)+a,r/(6*i)+o,i]):null}function Lse(e,t){let n=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0],i=0,a=0,o=0,s=0;for(let c=0,l=e.length;c<l-1;c++){let l=e[c],u=e[c+1];if(l&&u){n[0]=l[0],n[1]=l[1],r[0]=u[0],r[1]=u[1],t&&l.length>2&&u.length>2&&(n[2]=l[2],r[2]=u[2]);let e=GE(n,r);if(e){i+=e;let n=JE(l,u);a+=e*n[0],o+=e*n[1],t&&n.length>2&&(s+=e*n[2])}}}return i>0?t?[a/i,o/i,s/i]:[a/i,o/i]:e.length?e[0]:null}function iD(e){let{hasZ:t,totalSize:n}=e;if(n===0)return null;let r=[],i=[],a=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(e.reset();e.nextPath();){let t=rD(WE(e),e.hasZ,a);t&&i.push(t)}if(i.sort((e,n)=>{let r=e[2]-n[2];return r===0&&t&&(r=e[4]-n[4]),r}),i.length&&(r[0]=i[0][0],r[1]=i[0][1],t&&(r[2]=i[0][3]),(r[0]<a[0]||r[0]>a[1]||r[1]<a[2]||r[1]>a[3]||t&&(r[2]<a[4]||r[2]>a[5]))&&(r.length=0)),!r.length){e.reset(),e.nextPath();let n=e.pathSize?Rse(e):null;if(!n)return null;r[0]=n[0],r[1]=n[1],t&&n.length>2&&(r[2]=n[2])}return r}function Rse(e){let{hasZ:t}=e,n=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0],i=0,a=0,o=0,s=0;if(e.nextPoint()){let c=e.x,l=e.y,u=e.z;for(;e.nextPoint();){let d=e.x,f=e.y,p=e.z;n[0]=c,n[1]=l,r[0]=d,r[1]=f,t&&(n[2]=u,r[2]=p);let m=GE(n,r);if(m){i+=m;let e=JE(n,r);a+=m*e[0],o+=m*e[1],t&&e.length>2&&(s+=m*e[2])}c=d,l=f,u=p}}return i>0?t?[a/i,o/i,s/i]:[a/i,o/i]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}var zse=1e-6;function Bse(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<zse){let t=iD(e);return t?[t[0],t[1]]:null}let n=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;let r=[e.x,e.y];for(e.reset();e.nextPath();)Hse(n,r,e);return n[0]*=1/t,n[1]*=1/t,n[0]+=r[0],n[1]+=r[1],n}var Vse=1/3;function Hse(e,t,n){if(!e||!n||n.pathSize<3)return null;n.nextPoint();let r=n.x,i=n.y;n.nextPoint();let a,o=n.x-r,s=n.y-i,c=0,l=0;for(;n.nextPoint();)c=n.x-r,l=n.y-i,a=.5*Vse*(c*s-l*o),e[0]+=a*(o+c),e[1]+=a*(s+l),o=c,s=l;let u=n.getCurrentRingArea(),d=[r,i];return d[0]-=t[0],d[1]-=t[1],d[0]*=u,d[1]*=u,e[0]+=d[0],e[1]+=d[1],e}function aD(e){return e}function oD(e=ice){return aD([e[0],e[1],e[2],e[3]])}function sD(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function cD(e,t,n,r,i=oD()){return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function Use(e,t=oD()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function lD(e,t,n=new cb){return n.xmin=e[0],n.ymin=e[1],n.xmax=e[2],n.ymax=e[3],n.spatialReference=t,n}function uD(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function Wse(e,t){t<e[0]&&(e[0]=t),t>e[2]&&(e[2]=t)}function Gse(e,t){t<e[1]&&(e[1]=t),t>e[3]&&(e[3]=t)}function Kse(e,t,n){if(t!=null)if(`length`in t)hD(t)?(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[2]),n[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[0]),n[3]=Math.max(e[3],t[1]));else switch(t.type){case`extent`:n[0]=Math.min(e[0],t.xmin),n[1]=Math.min(e[1],t.ymin),n[2]=Math.max(e[2],t.xmax),n[3]=Math.max(e[3],t.ymax);break;case`point`:n[0]=Math.min(e[0],t.x),n[1]=Math.min(e[1],t.y),n[2]=Math.max(e[2],t.x),n[3]=Math.max(e[3],t.y)}else sD(n,e)}function qse(e,t,n=e){let r=t.length,i=e[0],a=e[1],o=e[2],s=e[3];for(let e=0;e<r;e++){let n=t[e];i=Math.min(i,n[0]),a=Math.min(a,n[1]),o=Math.max(o,n[0]),s=Math.max(s,n[1])}return n[0]=i,n[1]=a,n[2]=o,n[3]=s,n}function Jse(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0}function dD(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function fD(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function Yse(e){return dD(e)*fD(e)}function Xse(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function Zse(e){let t=dD(e),n=fD(e);return Math.sqrt(t*t+n*n)}function Qse(e,t){return!!e&&pD(e,t.x,t.y)}function pD(e,t,n){return t>=e[0]&&n>=e[1]&&t<=e[2]&&n<=e[3]}function $se(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function ece(e,t,n){return Math.max(t[0],e[0])-n<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])-n<=Math.min(t[3],e[3])}function mD(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function tce(e,t,n,r){return r??=e,r[0]=e[0]+t,r[1]=e[1]+n,r[2]=e[2]+t,r[3]=e[3]+n,r}function nce(e){return e?sD(e,gD):oD(gD)}function hD(e){return e!=null&&e.length===4}function rce(e,t){return hD(e)&&hD(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}var gD=aD([1/0,1/0,-1/0,-1/0]),ice=aD([0,0,0,0]),_D=1e-6;function vD(){return _D}function ace(e){_D=e}var yD=Math.random,oce=Math.PI/180,sce=180/Math.PI;function bD(e){return e*oce}function xD(e){return e*sce}function cce(e,t){return Math.abs(e-t)<=_D*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:yD,equals:cce,getEpsilon:vD,setEpsilon:ace,toDegree:xD,toRadian:bD},Symbol.toStringTag,{value:`Module`}));function SD(e,t){return e[0]=t[0],e[1]=t[1],e}function CD(e,t,n){return e[0]=t,e[1]=n,e}function wD(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function TD(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function ED(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function DD(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function lce(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function uce(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function OD(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function kD(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function dce(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function AD(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function jD(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function MD(e,t){let n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}function ND(e,t){let n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function PD(e){let t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}function FD(e){let t=e[0],n=e[1];return t*t+n*n}function ID(e,t){return e[0]=-t[0],e[1]=-t[1],e}function fce(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function LD(e,t){let n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e}function RD(e,t){return e[0]*t[0]+e[1]*t[1]}function zD(e,t,n){let r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}function BD(e,t,n,r){let i=t[0],a=t[1];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e}function pce(e,t=1){let n=2*yD()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}function VD(e,t,n){let r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}function HD(e,t,n){let r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function UD(e,t,n){let r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e}function mce(e,t,n){let r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}function WD(e,t,n,r){let i=t[0]-n[0],a=t[1]-n[1],o=Math.sin(r),s=Math.cos(r);return e[0]=i*s-a*o+n[0],e[1]=i*o+a*s+n[1],e}function GD(e,t){let n=e[0],r=e[1],i=t[0],a=t[1],o=n*n+r*r;o>0&&(o=1/Math.sqrt(o));let s=i*i+a*a;s>0&&(s=1/Math.sqrt(s));let c=(n*i+r*a)*o*s;return c>1?0:c<-1?Math.PI:Math.acos(c)}function hce(e){return`vec2(`+e[0]+`, `+e[1]+`)`}function KD(e,t){return e[0]===t[0]&&e[1]===t[1]}function qD(e,t){let n=e[0],r=e[1],i=t[0],a=t[1],o=vD();return Math.abs(n-i)<=o*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-a)<=o*Math.max(1,Math.abs(r),Math.abs(a))}function JD(e,t,n,r,i){let a=t[0]-n[0],o=t[1]-n[1],s=(r[0]*a+r[1]*o)*(i-1);return a=r[0]*s,o=r[1]*s,e[0]=t[0]+a,e[1]=t[1]+o,e}var gce=PD,YD=TD,_ce=ED,vce=DD,XD=MD,yce=ND,bce=FD;Object.freeze(Object.defineProperty({__proto__:null,add:wD,angle:GD,ceil:lce,copy:SD,cross:zD,dist:XD,distance:MD,div:vce,divide:DD,dot:RD,equals:qD,exactEquals:KD,floor:uce,inverse:fce,len:gce,length:PD,lerp:BD,max:kD,min:OD,mul:_ce,multiply:ED,negate:ID,normalize:LD,projectAndScale:JD,random:pce,rotate:WD,round:dce,scale:AD,scaleAndAdd:jD,set:CD,sqrDist:yce,sqrLen:bce,squaredDistance:ND,squaredLength:FD,str:hce,sub:YD,subtract:TD,transformMat2:VD,transformMat2d:HD,transformMat3:UD,transformMat4:mce},Symbol.toStringTag,{value:`Module`}));function ZD(e,t,n,r){return e[0]=t[0]*(1-r)+n[0]*r,e[1]=t[1]*(1-r)+n[1]*r,e}function QD(e,t){return ND(e,t)}function xce(e,t,n){let r=QD(t,n);if(r===0)return QD(t,e);let i=(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0]);return i*i/r}function Sce(e,t,n,r,i){let[a,o]=t,[s,c]=n,[l,u]=r,[d,f]=i,p=(a-s)*(u-f)-(o-c)*(l-d);if(p===0)return null;let m=(a*c-o*s)*(l-d)-(a-s)*(l*f-u*d),h=(a*c-o*s)*(u-f)-(o-c)*(l*f-u*d);return e[0]=m/p,e[1]=h/p,e}var $D=2*Math.PI;function eO(e,t){let n=Math.atan2(e,t);return n<0?n+$D:n}function tO(e){return Math.abs(e)%$D}function nO(e){let t=tO(e);return t<Math.PI?t:$D-t}function rO(e,t){return{min:Math.min(e,t),max:Math.max(e,t)}}function iO(e,t,n,r){if(ZT(tO(e-t),0))return n?[e,e]:[e,r?e-$D:e+$D];let[i,a]=r?[e-$D,e]:[e,e+$D];return[e,aO({min:i,max:a},t)]}function aO({min:e,max:t},n){let r;return r=t-n,r>=$D?(r-=r%$D,n+r):(r=n-e,r>=$D?(r-=r%$D,n-r):n)}function Cce(e,t){let n=aO(e,t);return n>e.min&&n<e.max?n:nO(n-e.min)<nO(n-e.max)?e.min:e.max}function oO(e,t,n,r=10){return t.map(t=>{let i=t;for(let t=0;t<r;t++){let[t,r,a,o,s,c]=n(i),l=e[0]-t,u=e[1]-r,d=-a,f=-o;i+=-(2*l*d+2*u*f)/(2*d*d+2*l*-s+2*f*f+2*u*-c||1e-6)}return i})}var wce=[0,0];function sO(e){let t=1-e,n=t*t,r=e*e;return[n*t,3*e*n,3*r*t,r*e]}function cO(e,t,n,r,i){let[a,o,s,c]=sO(i);return[e[0]*a+t[0]*o+n[0]*s+r[0]*c,e[1]*a+t[1]*o+n[1]*s+r[1]*c]}function lO(e,t,n,r,i){let[a,o,s,c]=sO(i);return e*a+t*o+n*s+r*c}function Tce(e,t,n){let r=e,[i,a,o]=t.b;return cO(r,a,o,i,n)}function uO(e,t,n){let r=e,[i,a,o]=t.b,s=ZD([0,0],r,a,n),c=ZD(wce,a,o,n),l=ZD([0,0],o,i,n),u=ZD([0,0],s,c,n),d=ZD([0,0],c,l,n);return[{b:[ZD([],u,d,n),s,u]},{b:[[...i],d,l]}]}function Ece(e,t,n){let r=e,[i,a,o]=t.b,s=oO(n,[.1,.5,.9],e=>{let t=1-e,[n,s]=cO(r,a,o,i,e);return[n,s,3*t*t*(a[0]-r[0])+6*t*e*(o[0]-a[0])+3*e*e*(i[0]-o[0]),3*t*t*(a[1]-r[1])+6*t*e*(o[1]-a[1])+3*e*e*(i[1]-o[1]),6*t*(o[0]-2*a[0]+r[0])+6*e*(i[0]-2*o[0]+a[0]),6*t*(o[1]-2*a[1]+r[1])+6*e*(i[1]-2*o[1]+a[1])]}).map(e=>Math.min(1,Math.max(0,e)));s.push(0,1);let c=1/0,l=s.map(e=>{let t=cO(r,a,o,i,e),[s,l]=t,u=n[0]-s,d=n[1]-l,f=Math.sqrt(u*u+d*d);return c=Math.min(f,c),{t:e,curvePoint:t,distance:f}}),u=[];for(let e of l){let{t,distance:n}=e;iE(n,c)&&!u.some(({t:e})=>ZT(e,t))&&u.push(e)}return u}function Dce(e,t,n){let r=t,[i,a,o]=n.b;if(uD(e,r),uD(e,i),pD(e,a[0],a[1])&&pD(e,o[0],o[1]))return e;for(let t of dO(r[0],a[0],o[0],i[0]))t>0&&t<1&&Wse(e,lO(r[0],a[0],o[0],i[0],t));for(let t of dO(r[1],a[1],o[1],i[1]))t>0&&t<1&&Gse(e,lO(r[1],a[1],o[1],i[1],t));return e}function dO(e,t,n,r){let i=3*(3*(t-n)-e+r),a=6*(e-2*t+n),o=3*(t-e);if(i===0)return a===0?[]:[-o/a];let s=Math.sqrt(a*a-4*i*o);return[(-a+s)/(2*i),(-a-s)/(2*i)]}function Oce(e,t,n){let r=0,i=[t];for(let t=0;t<16;t++){let t=e,a=[];for(let e of i)a.push(...uO(t,e,.5)),t=e.b[0];i=a,t=e,r=0;let o=0;for(let e of i){let[n,i,a]=e.b,s=Math.sqrt(QD(t,n));r+=(s+(Math.sqrt(QD(t,i))+Math.sqrt(QD(i,a))+Math.sqrt(QD(a,n))))/2,o+=s,t=n}if(r-o<n)return r}return r}function fO(e,t,n){let[r,i]=e,[a,o]=t,[s,c]=n,[l,u]=[a-r,o-i],d=l*(s-r)+u*(c-i);d/=l**2+u**2,d=KT(d,0,1);let f=ZD([0,0],e,t,d);return{t:d,curvePoint:f,distance:Math.sqrt(QD(f,n))}}var pO=class{constructor(e,t,n,r,i,a){this.cx=e,this.cy=t,this.radius=n,this.thetaStart=r,this.thetaEnd=i,this.isInvalid=a}get startPoint(){let{cx:e,cy:t,radius:n,thetaStart:r}=this;return[e+n*Math.cos(r),t+n*Math.sin(r)]}get endPoint(){let{cx:e,cy:t,radius:n,thetaEnd:r}=this;return[e+n*Math.cos(r),t+n*Math.sin(r)]}};function mO(e,t){let{cx:n,cy:r,radius:i}=e;return[n+i*Math.cos(t),r+i*Math.sin(t)]}function hO(e,t){if(e.isInvalid)return ZD([0,0],e.startPoint,e.endPoint,t);let{thetaStart:n,thetaEnd:r}=e;return mO(e,n*(1-t)+r*t)}function kce(e,t){if(e.isInvalid)return fO(e.startPoint,e.endPoint,t);let{cx:n,cy:r,thetaStart:i,thetaEnd:a}=e,[o,s]=t,c=Cce(rO(i,a),Math.atan2(s-r,o-n)),l=mO(e,c);return{t:(c-i)/(a-i),curvePoint:l,distance:Math.sqrt(QD(t,l))}}function gO(e,t){if(t.isInvalid)return uD(e,t.startPoint),uD(e,t.endPoint),e;let{cx:n,cy:r,radius:i,thetaStart:a,thetaEnd:o}=t;uD(e,mO(t,a)),uD(e,mO(t,o));let s=rO(a,o),c=Math.PI/2,l=0;for(let t of[[n+i,r],[n,r+i],[n-i,r],[n,r-i]])l=aO(s,l),l>s.min&&l<s.max&&uD(e,t),l+=c;return e}function Ace(e){if(e.isInvalid)return 2*e.radius;let{radius:t,thetaStart:n,thetaEnd:r}=e;return t*Math.abs(r-n)}function _O(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function jce(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function vO(e,t,n,r,i,a,o,s,c,l){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o,e[6]=s,e[7]=c,e[8]=l,e}function yO(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function bO(e,t){if(e===t){let n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function xO(e,t){let n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],l=t[7],u=t[8],d=u*o-s*l,f=-u*a+s*c,p=l*a-o*c,m=n*d+r*f+i*p;return m?(m=1/m,e[0]=d*m,e[1]=(-u*r+i*l)*m,e[2]=(s*r-i*o)*m,e[3]=f*m,e[4]=(u*n-i*c)*m,e[5]=(-s*n+i*a)*m,e[6]=p*m,e[7]=(-l*n+r*c)*m,e[8]=(o*n-r*a)*m,e):null}function SO(e,t){let n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],l=t[7],u=t[8];return e[0]=o*u-s*l,e[1]=i*l-r*u,e[2]=r*s-i*o,e[3]=s*c-a*u,e[4]=n*u-i*c,e[5]=i*a-n*s,e[6]=a*l-o*c,e[7]=r*c-n*l,e[8]=n*o-r*a,e}function CO(e){let t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],c=e[7],l=e[8];return t*(l*a-o*c)+n*(-l*i+o*s)+r*(c*i-a*s)}function wO(e,t,n){let r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],l=t[6],u=t[7],d=t[8],f=n[0],p=n[1],m=n[2],h=n[3],g=n[4],_=n[5],v=n[6],y=n[7],b=n[8];return e[0]=f*r+p*o+m*l,e[1]=f*i+p*s+m*u,e[2]=f*a+p*c+m*d,e[3]=h*r+g*o+_*l,e[4]=h*i+g*s+_*u,e[5]=h*a+g*c+_*d,e[6]=v*r+y*o+b*l,e[7]=v*i+y*s+b*u,e[8]=v*a+y*c+b*d,e}function TO(e,t,n){let r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],l=t[6],u=t[7],d=t[8],f=n[0],p=n[1];return e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=c,e[6]=f*r+p*o+l,e[7]=f*i+p*s+u,e[8]=f*a+p*c+d,e}function EO(e,t,n){let r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],l=t[6],u=t[7],d=t[8],f=Math.sin(n),p=Math.cos(n);return e[0]=p*r+f*o,e[1]=p*i+f*s,e[2]=p*a+f*c,e[3]=p*o-f*r,e[4]=p*s-f*i,e[5]=p*c-f*a,e[6]=l,e[7]=u,e[8]=d,e}function DO(e,t,n){let r=n[0],i=n[1],a=n[2];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=a*t[6],e[7]=a*t[7],e[8]=a*t[8],e}function OO(e,t,n){let r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e}function kO(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function AO(e,t){let n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Mce(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Nce(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function jO(e,t){let n=t[0],r=t[1],i=t[2],a=t[3],o=n+n,s=r+r,c=i+i,l=n*o,u=r*o,d=r*s,f=i*o,p=i*s,m=i*c,h=a*o,g=a*s,_=a*c;return e[0]=1-d-m,e[3]=u-_,e[6]=f+g,e[1]=u+_,e[4]=1-l-m,e[7]=p-h,e[2]=f-g,e[5]=p+h,e[8]=1-l-d,e}function MO(e,t){let n=t[0],r=t[1],i=t[2],a=t[4],o=t[5],s=t[6],c=t[8],l=t[9],u=t[10],d=u*o-s*l,f=-u*a+s*c,p=l*a-o*c,m=n*d+r*f+i*p;if(!m)return null;let h=1/m;return e[0]=d*h,e[1]=(-u*r+i*l)*h,e[2]=(s*r-i*o)*h,e[3]=f*h,e[4]=(u*n-i*c)*h,e[5]=(-s*n+i*a)*h,e[6]=p*h,e[7]=(-l*n+r*c)*h,e[8]=(o*n-r*a)*h,e}function NO(e,t){let n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],l=t[7],u=t[8],d=t[9],f=t[10],p=t[11],m=t[12],h=t[13],g=t[14],_=t[15],v=n*s-r*o,y=n*c-i*o,b=n*l-a*o,x=r*c-i*s,S=r*l-a*s,ee=i*l-a*c,C=u*h-d*m,te=u*g-f*m,ne=u*_-p*m,re=d*g-f*h,ie=d*_-p*h,ae=f*_-p*g,oe=v*ae-y*ie+b*re+x*ne-S*te+ee*C;return oe?(oe=1/oe,e[0]=(s*ae-c*ie+l*re)*oe,e[1]=(c*ne-o*ae-l*te)*oe,e[2]=(o*ie-s*ne+l*C)*oe,e[3]=(i*ie-r*ae-a*re)*oe,e[4]=(n*ae-i*ne+a*te)*oe,e[5]=(r*ne-n*ie-a*C)*oe,e[6]=(h*ee-g*S+_*x)*oe,e[7]=(g*b-m*ee-_*y)*oe,e[8]=(m*S-h*b+_*v)*oe,e):null}function Pce(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function Fce(e){return`mat3(`+e[0]+`, `+e[1]+`, `+e[2]+`, `+e[3]+`, `+e[4]+`, `+e[5]+`, `+e[6]+`, `+e[7]+`, `+e[8]+`)`}function Ice(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function Lce(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function PO(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function Rce(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function zce(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e}function Bce(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function Vce(e,t){let n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],c=e[6],l=e[7],u=e[8],d=t[0],f=t[1],p=t[2],m=t[3],h=t[4],g=t[5],_=t[6],v=t[7],y=t[8],b=vD();return Math.abs(n-d)<=b*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(r-f)<=b*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-p)<=b*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-m)<=b*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(o-h)<=b*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(s-g)<=b*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(c-_)<=b*Math.max(1,Math.abs(c),Math.abs(_))&&Math.abs(l-v)<=b*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(u-y)<=b*Math.max(1,Math.abs(u),Math.abs(y))}function Hce(e){let t=vD(),n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],c=e[6],l=e[7],u=e[8];return Math.abs(1-(n*n+a*a+c*c))<=t&&Math.abs(1-(r*r+o*o+l*l))<=t&&Math.abs(1-(i*i+s*s+u*u))<=t}var FO=wO,Uce=PO;Object.freeze(Object.defineProperty({__proto__:null,add:Lce,adjoint:SO,copy:jce,determinant:CO,equals:Vce,exactEquals:Bce,frob:Ice,fromMat2d:Nce,fromMat4:_O,fromQuat:jO,fromRotation:AO,fromScaling:Mce,fromTranslation:kO,identity:yO,invert:xO,isOrthoNormal:Hce,mul:FO,multiply:wO,multiplyScalar:Rce,multiplyScalarAndAdd:zce,normalFromMat4:NO,normalFromMat4Legacy:MO,projection:Pce,rotate:EO,scale:DO,scaleByVec2:OO,set:vO,str:Fce,sub:Uce,subtract:PO,translate:TO,transpose:bO},Symbol.toStringTag,{value:`Module`}));function IO(){return[1,0,0,0,1,0,0,0,1]}function Wce(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}function LO(e,t,n,r,i,a,o,s,c){return[e,t,n,r,i,a,o,s,c]}var RO=IO();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:RO,clone:Wce,create:IO,fromValues:LO},Symbol.toStringTag,{value:`Module`}));var zO=IO();function Gce(e,t,n){let[r,i]=e,[a,o]=t,[s,c]=n;vO(zO,r,a,s,i,o,c,1,1,1);let l=CO(zO),u=4*l/(QD(e,t)+QD(t,n)+QD(n,e));if(!isFinite(u)||Math.abs(u)<1e-8)return null;let d=r**2+i**2,f=a**2+o**2,p=s**2+c**2;vO(zO,d,f,p,i,o,c,1,1,1);let m=CO(zO);return vO(zO,d,f,p,r,a,s,1,1,1),[m/l*.5,CO(zO)/l*-.5]}function BO(e,t){let[n,r]=t.c,i=Gce(e,r,n),a=i==null,o=i??ZD([],e,n,.5),[s,c]=e,[l,u]=r,[d,f]=n,[p,m]=o,h=s-p,g=c-m,_=Math.sqrt(h*h+g*g),v=eO(c-m,s-p),y=eO(u-m,l-p),b=eO(f-m,d-p);return(y-v)*(b-y)<0&&(b+=2*Math.sign(v-b)*Math.PI),new pO(p,m,_,v,b,a)}function Kce(e,t,n){let r=hO(e,n/2),i=hO(e,n),a=hO(e,(n+1)/2);return[{c:[i,r]},{c:[[...t.c[0]],a]}]}function qce(e,t){let[n]=t.c,{cx:r,cy:i,thetaStart:a,thetaEnd:o,radius:s,isInvalid:c}=BO(e,t);return{a:[n,[r,i],Math.abs(o-a)<Math.PI?1:0,a>o?1:0,c?a:0,s,c?0:1]}}function Jce(e){return`curveRings`in e&&!!e.curveRings?.length||`curvePaths`in e&&!!e.curvePaths?.length}function Yce(e){return`curveRings`in e?e.curveRings:e.curvePaths}function VO(e){return`b`in e}function HO(e){return`c`in e}function UO(e){return Array.isArray(e)}function Xce(e){return`a`in e}function WO(e){return`a`in e&&e.a.length===4}function GO(e){return`a`in e&&e.a.length===7}function KO(e){return UO(e)?e:VO(e)?e.b[0]:HO(e)?e.c[0]:e.a[0]}function qO(e){if(VO(e)){let[t,n,r]=e.b;return{b:[[...t],[...n],[...r]]}}if(HO(e)){let[t,n]=e.c;return{c:[[...t],[...n]]}}if(UO(e))return[...e];if(WO(e)){let[t,n,r,i]=e.a;return{a:[[...t],[...n],r,i]}}if(GO(e)){let[t,n,r,i,a,o,s]=e.a;return{a:[[...t],[...n],r,i,a,o,s]}}return e}function JO(e,t){let[n,r,i,a]=t.a,[o,s]=e,[c,l]=n,[u,d]=r,f=o-u,p=s-d,m=Math.sqrt(f*f+p*p),h=c-u,g=l-d,_=Math.sqrt(h*h+g*g),v=m===0||_===0||!iE(m,_),y=m,[b,x]=iO(eO(s-d,o-u),Math.atan2(l-d,c-u),i,a);return new pO(u,d,y,b,x,v)}function Zce(e,t,n){let{cx:r,cy:i,thetaStart:a,thetaEnd:o}=e,[s,c,l,u]=t.a,d=a*(1-n)+o*n;return[{a:[hO(e,n),[r,i],Math.abs(d-a)<Math.PI?1:0,u]},{a:[[...s],[r,i],Math.abs(o-d)<Math.PI?1:0,u]}]}var Qce=class{constructor(e,t,n,r,i,a,o,s,c){this.cx=e,this.cy=t,this.a=n,this.b=r,this.cosR=i,this.sinR=a,this.u1=o,this.u2=s,this.isInvalid=c}};function YO(e,t){let[n,r,i,a,o,s,c]=t.a,[l,u]=e,[d,f]=n,[p,m]=r,h=s*c,g=Math.cos(o),_=Math.sin(o),[v,y]=iO(eO(1/h*(u-m)*g-1/h*(l-p)*_,1/s*(u-m)*_+1/s*(l-p)*g),Math.atan2(1/h*(f-m)*g-1/h*(d-p)*_,1/s*(f-m)*_+1/s*(d-p)*g),i,a);return new Qce(p,m,s,h,g,_,v,y,s===0||h===0)}function XO(e,t){let{a:n,b:r,cosR:i,sinR:a,cx:o,cy:s}=e,c=Math.cos(t),l=Math.sin(t);return[n*c*i-r*l*a+o,n*c*a+r*l*i+s]}function ZO(e,t){let{u1:n,u2:r}=e;return XO(e,n*(1-t)+r*t)}function $ce(e,t,n){if(n<0||n>1)return[];if(n===0||n===1)return[qO(t)];let[r,[i,a],o,s,c,l,u]=t.a,{u1:d,u2:f}=e,p=d*(1-n)+f*n;return[{a:[[...ZO(e,n)],[i,a],Math.abs(p-d)<Math.PI?1:0,s,c,l,u]},{a:[[...r],[i,a],Math.abs(f-p)<Math.PI?1:0,s,c,l,u]}]}function ele(e,t){let{a:n,b:r,cosR:i,sinR:a,u1:o,u2:s}=e,c=Math.PI/6,l=oO(t,[1*c,2*c,4*c,5*c,7*c,8*c,10*c,11*c],t=>{let o=Math.cos(t),s=Math.sin(t),[c,l]=XO(e,t);return[c,l,-n*i*s-r*a*o,-n*a*s+r*i*o,-n*i*o+r*a*s,-n*a*o-r*i*s]}),u=rO(o,s),d=new Set(l.map(e=>aO(u,e)).filter(e=>e>u.min&&e<u.max));d.add(o),d.add(s);let f,p,m=1/0;for(let n of d){let r=XO(e,n),[i,a]=r,c=t[0]-i,l=t[1]-a,u=c*c+l*l;u<m&&(f=(n-o)/(s-o),p=r,m=u)}return{t:f,curvePoint:p,distance:Math.sqrt(m)}}function tle(e,t,n){let r=YO(t,n),{a:i,b:a,u1:o,u2:s,cosR:c,sinR:l,isInvalid:u}=r,d=n.a[0];if(uD(e,t),uD(e,d),u)return e;let f=Math.atan2(-a*l,i*c),p=f+Math.PI,m=Math.atan2(a*c,i*l),h=m+Math.PI,g=rO(o,s);for(let t of[f,p,m,h].map(e=>aO(g,e)))t>g.min&&t<g.max&&uD(e,XO(r,t));return e}function nle(e,t,n){let[r,i,a,o,s,c,l]=t.a,u=YO(e,t),{u1:d,u2:f,isInvalid:p}=u,m=f-d;if(p)return Math.sqrt(QD(e,r));let h=[0,0],g=0,_=[ZO(u,0),ZO(u,.25),ZO(u,.5),ZO(u,.75),ZO(u,1)];for(let e=0;e<14;e++){let e=_.length-1,t=m/(2*e),r=[];for(let n=0;n<e;n++)r.push(_[n]),r.push(XO(u,d+(2*n+1)*t));r.push(_[_.length-1]),_=r,g=0;let a=0;for(let e=1;e<_.length;e++){let t=_[e-1],n=_[e];if(g+=Math.sqrt(QD(t,n)),e>1){let r=_[e-2],o=Sce(h,r,t,i,n);a+=o?Math.sqrt(QD(t,o)):Math.abs(n[0]-t[0])+Math.abs(n[1]-t[1])}else a+=g}if(a-g<n)return g}return g}var QO=IO(),$O=IO(),ek=IO(),tk=IO();function rle(e,t,n){let[r,i,a,o,s,c,l]=t.a,{cosR:u,sinR:d,a:f,b:p,cx:m,cy:h}=YO(e,t),g=UD([0,0],r,n),_=UD([0,0],i,n),v=n[0]*n[4]<0?1-o:o;{let e=f*f*d*d+p*p*u*u,t=2*(p*p-f*f)*d*u,n=f*f*u*u+p*p*d*d,r=-2*e*m-t*h,i=-t*m-2*n*h;vO(QO,e,t/2,r/2,t/2,n,i/2,r/2,i/2,e*m*m+t*m*h+n*h*h-f*f*p*p)}if(xO($O,n),$O==null){let t=UD([0,0],e,n);return{a:[g,_,a,o,eO(g[1],g[0]),Math.sqrt(QD(g,t))/2,0]}}bO(ek,$O),wO(tk,wO(tk,ek,QO),$O);{let e=tk[0],t=2*tk[1],n=tk[4],r=2*tk[2],i=2*tk[5],o=t*t-4*e*n,s=2*(e*i*i+n*r*r-t*r*i+o*tk[8]),c=Math.sqrt((e-n)**2+t*t),l=-Math.sqrt(s*(e+n+c))/o,u=-Math.sqrt(s*(e+n-c))/o;return{a:[g,_,a,v,.5*eO(-t,n-e),l,u/l]}}}function ile(e,t,n){if(UO(n))return uD(e,t),uD(e,n),e;if(VO(n))return Dce(e,t,n);if(HO(n)){let r=BO(t,n);return gO(e,r)}if(WO(n)){let r=JO(t,n);return gO(e,r)}return tle(e,t,n)}function nk(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function rk(e){return e.points!==void 0}function ik(e){return e.x!==void 0&&e.y!==void 0}function ak(e){return e.paths!==void 0}function ok(e){return e.rings!==void 0}function sk(e){function t(t,n){return t==null?n:n==null?t:e(t,n)}return t}var ck=sk(Math.min),lk=sk(Math.max);function ale(e,t){return ak(t)?dk(e,t.curvePaths??t.paths,!1,!1)??e:ok(t)?dk(e,t.curveRings??t.rings,!1,!1)??e:rk(t)?pk(e,t.points,!1,!1,!1,!1):nk(t)?fk(e,t):(ik(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function ole(e){let t,n,r,i;for(e.reset(),t=r=1/0,n=i=-1/0;e.nextPath();){let a=uk(e);t=Math.min(a[0],t),r=Math.min(a[1],r),n=Math.max(a[2],n),i=Math.max(a[3],i)}return oD([t,r,n,i])}function uk(e){let t,n,r,i;for(t=r=1/0,n=i=-1/0;e.nextPoint();)t=Math.min(e.x,t),r=Math.min(e.y,r),n=Math.max(e.x,n),i=Math.max(e.y,i);return oD([t,r,n,i])}function sle(e,t){return ak(t)?dk(e,t.curvePaths??t.paths,!0,!1)??e:ok(t)?dk(e,t.curveRings??t.rings,!0,!1)??e:rk(t)?pk(e,t.points,!0,!1,!0,!1):nk(t)?fk(e,t,!0,!1,!0,!1):(ik(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function dk(e,t,n,r){let i=n?3:2;if(!t.length||!t[0].length)return null;let a,o,s,c,[l,u]=KO(t[0][0]),d=l,f=u;for(let e=0;e<t.length;e++){let p=t[e];for(let e=0;e<p.length;e++){let t=KO(p[e]),[m,h]=t;if(l=ck(l,m),u=ck(u,h),d=lk(d,m),f=lk(f,h),n&&t.length>2){let e=t[2];a=ck(a,e),o=lk(o,e)}if(r&&t.length>i){let e=t[i];s=ck(a,e),c=lk(o,e)}let g=p[e];if(UO(g)||e<1)continue;let _=KO(p[e-1]),v=cD(l,u,d,f);[l,u,d,f]=ile(v,_,g)}}return n?r?(e[0]=l,e[1]=u,e[2]=a,e[3]=s,e[4]=d,e[5]=f,e[6]=o,e[7]=c,e.length=8,e):(e[0]=l,e[1]=u,e[2]=a,e[3]=d,e[4]=f,e[5]=o,e.length=6,e):r?(e[0]=l,e[1]=u,e[2]=s,e[3]=d,e[4]=f,e[5]=c,e.length=6,e):(e[0]=l,e[1]=u,e[2]=d,e[3]=f,e.length=4,e)}function fk(e,t,n,r,i,a){let o=t.xmin,s=t.xmax,c=t.ymin,l=t.ymax,u=t.zmin,d=t.zmax,f=t.mmin,p=t.mmax;return i?(u||=0,d||=0,a?(f||=0,p||=0,e[0]=o,e[1]=c,e[2]=u,e[3]=f,e[4]=s,e[5]=l,e[6]=d,e[7]=p,e):(e[0]=o,e[1]=c,e[2]=u,e[3]=s,e[4]=l,e[5]=d,e)):a?(f||=0,p||=0,e[0]=o,e[1]=c,e[2]=f,e[3]=s,e[4]=l,e[5]=p,e):(e[0]=o,e[1]=c,e[2]=s,e[3]=l,e)}function pk(e,t,n,r,i,a){let o=n?3:2,s=r&&a,c=n&&i;if(!t.length||!t[0].length)return null;let l,u,d,f,[p,m]=t[0],[h,g]=t[0];for(let e=0;e<t.length;e++){let n=t[e],[r,i]=n;if(p=ck(p,r),m=ck(m,i),h=lk(h,r),g=lk(g,i),c&&n.length>2){let e=n[2];l=ck(l,e),u=lk(u,e)}if(s&&n.length>o){let e=n[o];d=ck(l,e),f=lk(u,e)}}return i?(l||=0,u||=0,a?(d||=0,f||=0,e[0]=p,e[1]=m,e[2]=l,e[3]=d,e[4]=h,e[5]=g,e[6]=u,e[7]=f,e):(e[0]=p,e[1]=m,e[2]=l,e[3]=h,e[4]=g,e[5]=u,e)):a?(d||=0,f||=0,e[0]=p,e[1]=m,e[2]=d,e[3]=h,e[4]=g,e[5]=f,e):(e[0]=p,e[1]=m,e[2]=h,e[3]=g,e)}function cle(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function lle(e){return e.points!==void 0}function ule(e){return e.x!==void 0&&e.y!==void 0}function dle(e){return e.paths!==void 0}function fle(e){return e.rings!==void 0}var mk=[];function hk(e,t,n,r){return{xmin:e,ymin:t,xmax:n,ymax:r}}function gk(e,t,n,r,i,a){return{xmin:e,ymin:t,zmin:n,xmax:r,ymax:i,zmax:a}}function _k(e,t,n,r,i,a){return{xmin:e,ymin:t,mmin:n,xmax:r,ymax:i,mmax:a}}function vk(e,t,n,r,i,a,o,s){return{xmin:e,ymin:t,zmin:n,mmin:r,xmax:i,ymax:a,zmax:o,mmax:s}}function yk(e,t=!1,n=!1){return t?n?vk(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):gk(e[0],e[1],e[2],e[3],e[4],e[5]):n?_k(e[0],e[1],e[2],e[3],e[4],e[5]):hk(e[0],e[1],e[2],e[3])}function ple(e){return e?cle(e)?e:ule(e)?mle(e):fle(e)?xk(e):dle(e)?Sk(e):lle(e)?bk(e):null:null}function bk(e){let{hasZ:t,hasM:n,points:r}=e,i=pk(mk,r,t??!1,n??!1,t??!1,n??!1);return i?yk(i,t,n):null}function mle(e){let{x:t,y:n,z:r,m:i}=e,a=i!=null;return r==null?a?_k(t,n,i,t,n,i):hk(t,n,t,n):a?vk(t,n,r,i,t,n,r,i):gk(t,n,r,t,n,r)}function xk(e){let{hasZ:t,hasM:n,rings:r,curveRings:i}=e,a=dk(mk,i??r,t??!1,n??!1);return a?yk(a,t,n):null}function Sk(e){let{hasZ:t,hasM:n,paths:r,curvePaths:i}=e,a=dk(mk,i??r,t??!1,n??!1);return a?yk(a,t,n):null}function Ck(e,t,n=!1){let{hasM:r,hasZ:i}=e;Array.isArray(t)?t.length!==4||r||i?t.length===3&&n&&!r?(i=!0,r=!1):t.length===3&&r&&i&&(r=!1,i=!1):(r=!0,i=!0):(i=!i&&t.hasZ&&(!r||t.hasM),r=!r&&t.hasM&&(!i||t.hasZ)),e.hasZ=i,e.hasM=r}var wk;function Tk(e){return!Array.isArray(e[0])}function hle(e){return typeof e[0]?.[0]==`number`}function gle(e){if(!e)return;let{rings:t,hasM:n,hasZ:r,spatialReference:i}=e;switch(t??=[],hle(t)&&(t=[t]),t[0]?.[0]?.length){case 4:r??=!0,n??=!0;break;case 3:r??=!0!==n,n??=!r;break;default:r??=!1,n??=!1}return i??=U.WGS84,{...e,hasM:n,hasZ:r,rings:t,spatialReference:i}}var Ek=wk=class extends xy{static fromExtent(e){let t=e.clone().normalize(),{spatialReference:n}=e,r=!1,i=!1;for(let e of t)e.hasZ&&(r=!0),e.hasM&&(i=!0);let a={rings:t.map(e=>{let t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(r&&e.hasZ){let n=e.zmin+.5*(e.zmax-e.zmin);for(let e=0;e<t.length;e++)t[e].push(n)}if(i&&e.hasM){let n=e.mmin+.5*(e.mmax-e.mmin);for(let e=0;e<t.length;e++)t[e].push(n)}return t}),spatialReference:n};return r&&(a.hasZ=!0),i&&(a.hasM=!0),new wk(a)}constructor(e){super(gle(e)),this.curveRings=void 0,this.rings=[],this.type=`polygon`}get cache(){return this.commitProperty(`curveRings`),this.commitProperty(`hasM`),this.commitProperty(`hasZ`),this.commitProperty(`rings`),this.commitProperty(`spatialReference`),{}}get centroid(){nm(j.getLogger(this),`centroid`,{replacement:`Please use centroidOperator.execute() instead.`,version:`4.34`,warnOnce:!0});let e=tD(this);return e?Vy.fromJSON(e):null}writeCurveRings(e,t){t.curveRings=A(e)}get extent(){let e=xk(this),{spatialReference:t}=this;return e?new cb({...e,spatialReference:t}):null}get isSelfIntersecting(){return nm(j.getLogger(this),`isSelfIntersecting`,{replacement:`Please use simplifyOperator.isSimple() instead.`,version:`4.33`,warnOnce:!0}),gre(this.rings)}writeRings(e,t){t.rings=A(this.rings)}addRing(e){if(!e)return;let t=this.rings,n=t.length;if(Tk(e)){let r=[];for(let t=0,n=e.length;t<n;t++)r[t]=e[t].toArray();t[n]=r}else t[n]=e.slice();return this.notifyChange(`rings`),this}clone(){let e=new wk;return e.spatialReference=this.spatialReference,e.rings=A(this.rings),e.curveRings=A(this.curveRings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;let t=this.spatialReference,n=e.spatialReference;if(t!=null!=(n!=null)||t!=null&&n!=null&&!t.equals(n)||this.rings.length!==e.rings.length)return!1;let r=([e,t,n,r],[i,a,o,s])=>e===i&&t===a&&(n==null&&o==null||n===o)&&(r==null&&s==null||r===s);for(let t=0;t<this.rings.length;t++){let n=this.rings[t],i=e.rings[t];if(!gc(n,i,r))return!1}return!0}contains(e){if(!e)return!1;let t=Ay(e,this.spatialReference);return Ky(this,t??e)}isClockwise(e){let t=Tk(e)?e.map(e=>this.hasZ?this.hasM?[e.x,e.y,e.z,e.m]:[e.x,e.y,e.z]:[e.x,e.y]):e;return YE(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;let n=this.rings[e][t],r=this.hasZ,i=this.hasM;return r&&!i?new Vy(n[0],n[1],n[2],void 0,this.spatialReference):i&&!r?new Vy(n[0],n[1],void 0,n[2],this.spatialReference):r&&i?new Vy(n[0],n[1],n[2],n[3],this.spatialReference):new Vy(n[0],n[1],this.spatialReference)}insertPoint(e,t,n){return this._validateInputs(e,t,!0)?(Ck(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[e].splice(t,0,n),this.notifyChange(`rings`),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;let n=new Vy(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange(`rings`),n}removeRing(e){if(!this._validateInputs(e,null))return null;let t=this.rings.splice(e,1)[0],n=this.spatialReference,r=t.map(e=>new Vy(e,n));return this.notifyChange(`rings`),r}setPoint(e,t,n){return this._validateInputs(e,t)?(Ck(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[e][t]=n,this.notifyChange(`rings`),this):this}_validateInputs(e,t,n=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){let r=this.rings[e];if(n&&(t<0||t>r.length)||!n&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};O([P({readOnly:!0})],Ek.prototype,`cache`,null),O([P({readOnly:!0})],Ek.prototype,`centroid`,null),O([P({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Ek.prototype,`curveRings`,void 0),O([z(`curveRings`)],Ek.prototype,`writeCurveRings`,null),O([P({readOnly:!0})],Ek.prototype,`extent`,null),O([P({readOnly:!0})],Ek.prototype,`isSelfIntersecting`,null),O([P({type:[[[Number]]],json:{write:{isRequired:!0}}})],Ek.prototype,`rings`,void 0),O([z(`rings`)],Ek.prototype,`writeRings`,null),Ek=wk=O([F(`esri.geometry.Polygon`)],Ek),Ek.prototype.toJSON.isDefaultToJSON=!0;function Dk(){return[0,0,0]}function Ok(e){return[e[0],e[1],e[2]]}function kk(e,t,n){return[e,t,n]}function Ak(e,t,n){return[e,t,n]}function jk(e,t=Dk()){let n=Math.min(3,e.length);for(let r=0;r<n;++r)t[r]=e[r];return t}function Mk(){return Dk()}function Nk(){return kk(1,1,1)}function Pk(){return kk(1,0,0)}function Fk(){return kk(0,1,0)}function Ik(){return kk(0,0,1)}var Lk=Mk(),Rk=Nk(),zk=Pk(),Bk=Fk(),Vk=Ik();Object.freeze(Object.defineProperty({__proto__:null,ONES:Rk,UNIT_X:zk,UNIT_Y:Bk,UNIT_Z:Vk,ZEROS:Lk,clone:Ok,create:Dk,freeze:Ak,fromArray:jk,fromValues:kk,ones:Nk,unitX:Pk,unitY:Fk,unitZ:Ik,zeros:Mk},Symbol.toStringTag,{value:`Module`}));var Hk;function _le(e){if(!e)return;let{points:t,hasM:n,hasZ:r,spatialReference:i}=e;switch(t??=[],t?.at(0)?.length){case 4:r??=!0,n??=!0;break;case 3:r??=!0!==n,n??=!r;break;default:r??=!1,n??=!1}return i??=U.WGS84,{...e,hasM:n,hasZ:r,points:t,spatialReference:i}}var Uk=Hk=class extends xy{constructor(e){super(_le(e)),this.points=[],this.type=`multipoint`}get cache(){return this.commitProperty(`points`),this.commitProperty(`hasZ`),this.commitProperty(`hasM`),this.commitProperty(`spatialReference`),{}}get extent(){let e=bk(this);return e?new cb({...e,spatialReference:this.spatialReference}):null}writePoints(e,t){t.points=A(this.points)}clone(){let{points:e,spatialReference:t,hasM:n,hasZ:r}=this;return new Hk({points:A(e),spatialReference:t.clone(),hasM:n,hasZ:r})}addPoint(e){return Ck(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange(`points`),this}getPoint(e){if(!this._validateInputs(e))return null;let t=this.points[e],n={x:t[0],y:t[1],spatialReference:this.spatialReference},r=2;return this.hasZ&&(n.z=t[2],r=3),this.hasM&&(n.m=t[r]),new Vy(n)}removePoint(e){if(!this._validateInputs(e))return null;let t=new Vy(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange(`points`),t}setPoint(e,t){return this._validateInputs(e)?(Ck(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange(`points`),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};O([P({readOnly:!0})],Uk.prototype,`cache`,null),O([P({readOnly:!0})],Uk.prototype,`extent`,null),O([P({type:[[Number]],json:{write:{isRequired:!0}}})],Uk.prototype,`points`,void 0),O([z(`points`)],Uk.prototype,`writePoints`,null),Uk=Hk=O([F(`esri.geometry.Multipoint`)],Uk),Uk.prototype.toJSON.isDefaultToJSON=!0;var Wk;function vle(e){return!Array.isArray(e[0])}function yle(e){return typeof e[0]?.[0]==`number`}function ble(e){if(!e)return;let{paths:t,hasM:n,hasZ:r,spatialReference:i}=e;switch(t??=[],yle(t)&&(t=[t]),t[0]?.[0]?.length){case 4:r??=!0,n??=!0;break;case 3:r??=!0!==n,n??=!r;break;default:r??=!1,n??=!1}return i??=U.WGS84,{...e,hasM:n,hasZ:r,paths:t,spatialReference:i}}var Gk=Wk=class extends xy{constructor(e){super(ble(e)),this.curvePaths=void 0,this.paths=[],this.type=`polyline`}get cache(){return this.commitProperty(`curvePaths`),this.commitProperty(`hasM`),this.commitProperty(`hasZ`),this.commitProperty(`paths`),this.commitProperty(`spatialReference`),{}}writeCurvePaths(e,t){t.curvePaths=A(e)}get extent(){let e=Sk(this),{spatialReference:t}=this;return e?new cb({...e,spatialReference:t}):null}writePaths(e,t){t.paths=A(this.paths)}addPath(e){if(!e)return;let t=this.paths,n=t.length;if(vle(e)){let r=[];for(let t=0,n=e.length;t<n;t++)r[t]=e[t].toArray();t[n]=r}else t[n]=e.slice();return this.notifyChange(`paths`),this}clone(){let e=new Wk;return e.spatialReference=this.spatialReference,e.paths=A(this.paths),e.curvePaths=A(this.curvePaths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;let n=this.paths[e][t],r=this.hasZ,i=this.hasM;return r&&!i?new Vy(n[0],n[1],n[2],void 0,this.spatialReference):i&&!r?new Vy(n[0],n[1],void 0,n[2],this.spatialReference):r&&i?new Vy(n[0],n[1],n[2],n[3],this.spatialReference):new Vy(n[0],n[1],this.spatialReference)}insertPoint(e,t,n){return this._validateInputs(e,t,!0)?(Ck(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[e].splice(t,0,n),this.notifyChange(`paths`),this):this}removePath(e){if(!this._validateInputs(e,null))return null;let t=this.paths.splice(e,1)[0],n=this.spatialReference,r=t.map(e=>new Vy(e,n));return this.notifyChange(`paths`),r}removePoint(e,t){if(!this._validateInputs(e,t))return null;let n=new Vy(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange(`paths`),n}setPoint(e,t,n){return this._validateInputs(e,t)?(Ck(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[e][t]=n,this.notifyChange(`paths`),this):this}_validateInputs(e,t,n=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){let r=this.paths[e];if(n&&(t<0||t>r.length)||!n&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};O([P({readOnly:!0})],Gk.prototype,`cache`,null),O([P({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Gk.prototype,`curvePaths`,void 0),O([z(`curvePaths`)],Gk.prototype,`writeCurvePaths`,null),O([P({readOnly:!0})],Gk.prototype,`extent`,null),O([P({type:[[[Number]]],json:{write:{isRequired:!0}}})],Gk.prototype,`paths`,void 0),O([z(`paths`)],Gk.prototype,`writePaths`,null),Gk=Wk=O([F(`esri.geometry.Polyline`)],Gk),Gk.prototype.toJSON.isDefaultToJSON=!0;var Kk,qk=Kk=class extends I{constructor(e){super(e),this.isInverse=!1,this.wkt=null,this.wkid=null}getInverse(){return new Kk({isInverse:!this.isInverse,wkid:this.wkid,wkt:this.wkt})}};O([P()],qk.prototype,`isInverse`,void 0),O([P()],qk.prototype,`wkt`,void 0),O([P()],qk.prototype,`wkid`,void 0),qk=Kk=O([F(`esri.geometry.operators.support.GeographicTransformationStep`)],qk);var Jk,Yk=Jk=class extends I{constructor(e){super(e),this.steps=[]}getInverse(){let e=new Jk;for(let t=this.steps.length-1;t>=0;t--){let n=this.steps[t];e.steps.push(n.getInverse())}return e}};O([P({type:[qk],nonNullable:!0})],Yk.prototype,`steps`,void 0),Yk=Jk=O([F(`esri.geometry.operators.support.GeographicTransformation`)],Yk);var xle=Math.PI/180,Sle=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,Xk=R_.radius,Zk=R_.eccentricitySquared,Cle={a1:Xk*Zk,a2:Xk*Zk*Xk*Zk,a3:Xk*Zk*Zk/2,a4:Xk*Zk*Xk*Zk*2.5,a5:Xk*Zk+Xk*Zk*Zk/2,a6:1-Zk},wle={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:R_.radius,f:R_.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:B_.radius,f:B_.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:z_.radius,f:z_.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:z_.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}},Qk={2:{5:nA,7:null,9:null,10:nA,1:dA,6:null,8:null,0:null,3:aA,11:oA,2:nA,4:gA},5:{5:nA,7:null,9:null,10:nA,1:dA,6:null,8:null,0:null,3:aA,11:oA,2:nA,4:gA},7:{5:null,7:nA,9:null,10:nA,1:null,6:uA,8:null,0:null,3:null,11:null,2:null,4:null},9:{5:null,7:null,9:nA,10:nA,1:null,6:null,8:lA,0:null,3:null,11:null,2:null,4:null},3:{5:rA,7:null,9:null,10:rA,1:Tle,6:null,8:null,0:null,3:nA,11:Dle,2:rA,4:Ele},4:{5:_A,7:null,9:null,10:_A,1:Ile,6:null,8:null,0:null,3:Lle,11:Ole,2:_A,4:nA},1:{5:hA,7:null,9:null,10:hA,1:nA,6:null,8:null,0:null,3:Nle,11:kle,2:hA,4:Ple},6:{5:null,7:mA,9:null,10:mA,1:null,6:nA,8:null,0:null,3:null,11:null,2:null,4:null},8:{5:null,7:null,9:pA,10:pA,1:null,6:null,8:nA,0:null,3:null,11:null,2:null,4:null},0:{5:null,7:null,9:null,10:null,1:null,6:null,8:null,0:nA,3:null,11:null,2:null,4:null},10:{5:nA,7:nA,9:nA,10:nA,1:dA,6:uA,8:lA,0:null,3:aA,11:oA,2:nA,4:gA},11:{5:sA,7:null,9:null,10:sA,1:Ale,6:null,8:null,0:null,3:jle,11:nA,2:sA,4:Mle}};function $k(e,t){return eA(e,t)?.projector}function eA(e,t){if(e==null||t==null)return null;if(vA.source.spatialReference===e&&vA.dest.spatialReference===t)return vA;let n=tA(e,vA.source),r=tA(t,vA.dest);return n===0&&r===0?vv(e,t)?vA.projector=nA:vA.projector=null:vA.projector=Qk[n][r],vA}function tA(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,`metersPerUnit`in t&&(t.metersPerUnit=dy(e,1)),Vv(e)?t.spatialReferenceId=1:Cv(e)?t.spatialReferenceId=2:Tv(e)?t.spatialReferenceId=3:Ev(e)?t.spatialReferenceId=11:e.wkt===zv.wkt?t.spatialReferenceId=4:e.wkid===4490?t.spatialReferenceId=5:e.wkt===Lv.wkt?t.spatialReferenceId=6:e.wkt===Rv.wkt?t.spatialReferenceId=8:Ov(e)?t.spatialReferenceId=7:Av(e)?t.spatialReferenceId=9:t.spatialReferenceId=0):0}function nA(e,t,n,r){e!==n&&(n[r++]=e[t++],n[r++]=e[t++],n[r]=e[t])}function rA(e,t,n,r){n[r]=bA*(e[t]/SA),n[r+1]=bA*(xA-2*Math.atan(Math.exp(-e[t+1]/SA))),n[r+2]=e[t+2]}function Tle(e,t,n,r){let i=e[t]/SA,a=xA-2*Math.atan(Math.exp(-e[t+1]/SA)),o=SA+e[t+2],s=Math.cos(a)*o;n[r]=Math.cos(i)*s,n[r+1]=Math.sin(i)*s,n[r+2]=Math.sin(a)*o}function Ele(e,t,n,r){rA(e,t,n,r),gA(n,r,n,r)}function iA(e,t,n,r,i){let a=.4999999*Math.PI,o=KT(yA*e[t+1],-a,a),s=Math.sin(o);n[r++]=yA*e[t]*i.radius,n[r++]=i.halfSemiMajorAxis*Math.log((1+s)/(1-s)),n[r]=e[t+2]}function aA(e,t,n,r){iA(e,t,n,r,R_)}function oA(e,t,n,r){n[r]=e[t]*CA,n[r+1]=e[t+1]*CA,n[r+2]=e[t+2]}function sA(e,t,n,r){n[r]=e[t]*wA,n[r+1]=e[t+1]*wA,n[r+2]=e[t+2]}function Dle(e,t,n,r){rA(e,t,n,r),oA(n,r,n,r)}function Ole(e,t,n,r){_A(e,t,n,r),oA(n,r,n,r)}function kle(e,t,n,r){hA(e,t,n,r),oA(n,r,n,r)}function Ale(e,t,n,r){sA(e,t,n,r),dA(n,r,n,r)}function jle(e,t,n,r){sA(e,t,n,r),aA(n,r,n,r)}function Mle(e,t,n,r){sA(e,t,n,r),gA(n,r,n,r)}function cA(e,t,n,r,i){let a=i+e[t+2],o=yA*e[t+1],s=yA*e[t],c=Math.cos(o)*a;n[r]=Math.cos(s)*c,n[r+1]=Math.sin(s)*c,n[r+2]=Math.sin(o)*a}function lA(e,t,n,r){cA(e,t,n,r,B_.radius)}function uA(e,t,n,r){cA(e,t,n,r,z_.radius)}function dA(e,t,n,r){cA(e,t,n,r,R_.radius)}function fA(e,t,n,r,i){let a=e[t],o=e[t+1],s=e[t+2],c=Math.sqrt(a*a+o*o+s*s),l=XT(s/(c===0?1:c)),u=Math.atan2(o,a);n[r++]=bA*u,n[r++]=bA*l,n[r]=c-i}function pA(e,t,n,r){fA(e,t,n,r,B_.radius)}function mA(e,t,n,r){fA(e,t,n,r,z_.radius)}function hA(e,t,n,r){fA(e,t,n,r,R_.radius)}function Nle(e,t,n,r){hA(e,t,n,r),aA(n,r,n,r)}function Ple(e,t,n,r){hA(e,t,n,r),gA(n,r,n,r)}function Fle(e,t,n,r,i){let a=yA*e[t],o=yA*e[t+1],s=e[t+2],c=Math.sin(o),l=Math.cos(o),u=i.radius/Math.sqrt(1-i.eccentricitySquared*c*c);n[r++]=(u+s)*l*Math.cos(a),n[r++]=(u+s)*l*Math.sin(a),n[r++]=(u*(1-i.eccentricitySquared)+s)*c}function gA(e,t,n,r){Fle(e,t,n,r,R_)}function _A(e,t,n,r){let i=Cle,a=e[t],o=e[t+1],s=e[t+2],c,l,u,d,f,p,m,h,g,_,v,y,b,x,S,ee,C,te,ne,re,ie;c=Math.abs(s),l=a*a+o*o,u=Math.sqrt(l),d=l+s*s,f=Math.sqrt(d),re=Math.atan2(o,a),p=s*s/d,m=l/d,x=i.a2/f,S=i.a3-i.a4/f,m>.3?(h=c/f*(1+m*(i.a1+x+p*S)/f),ne=Math.asin(h),_=h*h,g=Math.sqrt(1-_)):(g=u/f*(1-p*(i.a5-x-m*S)/f),ne=Math.acos(g),_=1-g*g,h=Math.sqrt(_)),v=1-R_.eccentricitySquared*_,y=R_.radius/Math.sqrt(v),b=i.a6*y,x=u-y*g,S=c-b*h,C=g*x+h*S,ee=g*S-h*x,te=ee/(b/v+C),ne+=te,ie=C+ee*te/2,s<0&&(ne=-ne),n[r++]=bA*re,n[r++]=bA*ne,n[r]=ie}function Ile(e,t,n,r){_A(e,t,n,r),dA(n,r,n,r)}function Lle(e,t,n,r){_A(e,t,n,r),aA(n,r,n,r)}var vA={source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:nA},yA=JT(1),bA=YT(1),xA=.5*Math.PI,SA=R_.radius,CA=SA*Math.PI/180,wA=180/(SA*Math.PI);function TA(e,t,n,r,i,a,o=Math.floor(e.length/3)){let s=$k(t,i);if(s==null)return!1;if(s===nA){if(e===r&&n===a)return!0;let t=n+3*o;for(let i=n,o=a;i<t;i++,o++)r[o]=e[i];return!0}let c=n+3*o;for(let t=n,i=a;t<c;t+=3,i+=3)s(e,t,r,i);return!0}function EA(e,t,n,r,i,a){return DA[0]=e,DA[1]=t,DA[2]=n,TA(DA,r,0,i,a,0)}var DA=Dk();function OA(e,t,n){if(t==null||n==null||n.vcsWkid||vv(t,n)||Hv(t)||Hv(n))return null;let r=ly(t)/ly(n);if(r===1)return null;switch(e){case`point`:case`esriGeometryPoint`:return e=>Rle(e,r);case`polyline`:case`esriGeometryPolyline`:return e=>Ble(e,r);case`polygon`:case`esriGeometryPolygon`:return e=>zle(e,r);case`multipoint`:case`esriGeometryMultipoint`:return e=>Vle(e,r);case`extent`:case`esriGeometryEnvelope`:return e=>Hle(e,r);default:return null}}function Rle(e,t){e?.z!=null&&(e.z*=t)}function zle(e,t){if(e)for(let n of e.rings)for(let e of n)e.length>2&&(e[2]*=t)}function Ble(e,t){if(e)for(let n of e.paths)for(let e of n)e.length>2&&(e[2]*=t)}function Vle(e,t){if(e)for(let n of e.points)n.length>2&&(n[2]*=t)}function Hle(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}var kA=null,AA=null,jA=null,MA=null,NA={},PA=new Qg;function FA(){return!!(AA?.isLoaded()&&jA?.isLoaded()&&MA?.isLoaded())}function IA(){return!!FA()||(Am(PA),RA(),!1)}function LA(e,t){return!e||!t||GA(e,t)||IA()}function Ule(e,t){return!GA(e,t)&&!FA()}async function RA(e){kA??=Promise.all([N(()=>import(`./projectOperator-BUKyFcqE.js`),__vite__mapDeps([21,22,23,24])).then(e=>(AA=e,AA.load())),N(()=>import(`./projectOperator-CJqnPCQu.js`),__vite__mapDeps([25,22,23])).then(e=>(jA=e,jA.load())),N(()=>import(`./geographicTransformationUtils-El-K6aja.js`),[]).then(e=>(MA=e,MA.load()))]),await kA,$d(e),PA.notify()}function zA(e,t,n){return Array.isArray(e)?e.length===0?[]:(ere(e),BA(e,e[0].spatialReference,t,n)):(Cy(e),BA([e],e.spatialReference,t,n)[0])}function BA(e,t,n,r){if(t==null||n==null)return e;if(GA(t,n,r))return e.map(e=>qA(e,t,n));if(r?.geographicTransformation==null&&Vv(t))return e.map(e=>qA(e,t,U.WGS84)).map(e=>UA(e,n));if(r?.geographicTransformation==null&&Vv(n))return e.map(e=>UA(e,U.WGS84)).map(e=>qA(e,U.WGS84,n));if(!FA())throw new HA;if(!r?.geographicTransformation){if(r?.extendedParams)r={...r,geographicTransformation:MA.getTransformation(t,n,r.areaOfInterestExtent)||new Yk};else if(!r?.areaOfInterestExtent){let e=Wle(t,n),i=NA[e];i||(i=MA.getTransformation(t,n)||new Yk,NA[e]=i),r={geographicTransformation:i}}}return e[0].spatialReference||(e[0].spatialReference=t),e[0]instanceof xy?AA.executeMany(e,n,r):jA.executeMany(e,n,r)}function Wle(e,t){return[e.wkid?.toString()??`-1`,e.wkt?.toString()??``,e.wkt2?.toString()??``,t.wkid?.toString()??`-1`,t.wkt?.toString()??``,t.wkt2?.toString()??``].join()}function Gle(e,t){let n=VA([e],t);return n.pending==null?n.geometries==null?{pending:null,geometry:null}:{pending:null,geometry:n.geometries[0]}:{pending:n.pending,geometry:null}}function VA(e,t){if(!FA()){for(let n of e)if(n!=null&&!vv(n.spatialReference,t)&&Mv(n.spatialReference)&&Mv(t)&&!GA(n.spatialReference,t))return Am(PA),{pending:RA(),geometries:null}}return{pending:null,geometries:e.map(e=>e==null?null:vv(e.spatialReference,t)?e:Mv(e.spatialReference)&&Mv(t)?UA(e,t):null)}}var HA=class extends M{constructor(){super(`projection:not-loaded`,`projection engine not fully loaded yet, please call load()`)}};function Kle(){kA=null,AA=null,jA=null,MA=null,NA={}}var qle={get loadPromise(){return kA}};function UA(e,t){try{let n=zA(e,t);return n==null?null:(`xmin`in e&&`xmin`in n&&(n.zmin=e.zmin,n.zmax=e.zmax),OA(n.type,e.spatialReference,t)?.(n),n)}catch(e){if(!(e instanceof HA))throw e;return null}}async function WA(e,t,n){let r=e.spatialReference;return r!=null&&t!=null&&await KA(r,t,null,n),UA(e,t)}function GA(e,t,n){return!(n?.areaOfInterestExtent||n?.extendedParams||n?.geographicTransformation)&&(!!vv(e,t)||Mv(e)&&Mv(t)&&!!$k(e,t))}function Jle(e,t){if(vv(e,t))return!0;if(!Mv(e)||!Mv(t))return!1;let n=Cv(e)||Tv(e)||wv(e),r=Cv(t)||Tv(t)||wv(t);return n&&r}async function KA(e,t,n,r){if(FA())return xf(r);if(Array.isArray(e)){for(let{source:t,dest:n,options:i}of e)if(t&&n&&!GA(t,n,i))return RA(r)}else if(e&&t&&!GA(e,t,n))return RA(r);return xf(r)}function qA(e,t,n){return e?`x`in e?JA(e,t,new Vy,n,0):`xmin`in e?$A(e,t,new cb,n,0):`rings`in e?QA(e,t,new Ek,n,0):`paths`in e?XA(e,t,new Gk,n,0):`points`in e?YA(e,t,new Uk,n,0):null:null}function Yle(e,t,n=t.spatialReference,r=0){return n!=null&&e.spatialReference!=null&&JA(e,e.spatialReference,t,n,r)!=null}function JA(e,t,n,r,i){tj[0]=e.x,tj[1]=e.y;let a=e.z;return tj[2]=a===void 0?i:a,TA(tj,t,0,tj,r,0)?(n.x=tj[0],n.y=tj[1],n.spatialReference=r,a!==void 0||Hv(r)?(n.z=tj[2],n.hasZ=!0):(n.z=void 0,n.hasZ=!1),e.m===void 0?(n.m=void 0,n.hasM=!1):(n.m=e.m,n.hasM=!0),n):null}function Xle(e,t,n=t.spatialReference,r=0){return e.spatialReference!=null&&n!=null&&YA(e,e.spatialReference,t,n,r)!=null}function YA(e,t,n,r,i){let{points:a,hasZ:o,hasM:s}=e,c=[],l=a.length,u=[];for(let e of a)u.push(e[0],e[1],o?e[2]:i);if(!TA(u,t,0,u,r,0,l))return null;let d=o||Hv(r);for(let e=0;e<l;++e){let t=3*e,n=u[t],r=u[t+1];d&&s?c.push([n,r,u[t+2],a[e][3]]):d?c.push([n,r,u[t+2]]):s?c.push([n,r,a[e][2]]):c.push([n,r])}return n.points=c,n.spatialReference=r,n.hasZ=o,n.hasM=s,n}function Zle(e,t,n=t.spatialReference,r=0){return e.spatialReference!=null&&n!=null&&XA(e,e.spatialReference,t,n,r)!=null}function XA(e,t,n,r,i){let{paths:a,hasZ:o,hasM:s}=e,c=[];if(!ej(a,o??!1,s??!1,t,c,r,i))return null;let l=o||Hv(r);return n.paths=c,n.spatialReference=r,n.hasZ=l,n.hasM=s,n}function ZA(e,t,n=t.spatialReference,r=0){return e.spatialReference!=null&&n!=null&&QA(e,e.spatialReference,t,n,r)!=null}function QA(e,t,n,r,i){let{rings:a,hasZ:o,hasM:s}=e,c=[];if(!ej(a,o??!1,s??!1,t,c,r,i))return null;let l=o||Hv(r);return n.rings=c,n.spatialReference=r,n.hasZ=l,n.hasM=s,n}function Qle(e,t,n=t.spatialReference,r=0){return e.spatialReference!=null&&n!=null&&$A(e,e.spatialReference,t,n,r)!=null}function $A(e,t,n,r,i){let{xmin:a,ymin:o,xmax:s,ymax:c,hasZ:l,hasM:u}=e,d=l?e.zmin:i;if(!EA(a,o,d,t,tj,r))return null;let f=l||Hv(r);n.xmin=tj[0],n.ymin=tj[1],f&&(n.zmin=tj[2]);let p=l?e.zmax:i;return EA(s,c,p,t,tj,r)?(n.xmax=tj[0],n.ymax=tj[1],f&&(n.zmax=tj[2]),u&&(n.mmin=e.mmin,n.mmax=e.mmax),n.spatialReference=r,n):null}function ej(e,t,n,r,i,a,o=0){let s=[];for(let n of e)for(let e of n)s.push(e[0],e[1],t?e[2]:o);if(!TA(s,r,0,s,a,0))return!1;let c=0;i.length=0;let l=t||Hv(a);for(let t of e){let e=[];for(let r of t)l&&n?e.push([s[c++],s[c++],s[c++],r[3]]):l?e.push([s[c++],s[c++],s[c++]]):n?(e.push([s[c++],s[c++],r[2]]),c++):(e.push([s[c++],s[c++]]),c++);i.push(e)}return!0}var tj=Dk(),nj,rj=nj=class extends y_(L.ofType(Ek)){constructor(e){super(e)}clone(){return new nj(this.items.map(e=>e.clone()))}write(e,t){return this.toJSON(t)}toJSON(e){let t=e?.layer?.spatialReference;return t?this.toArray().map(n=>{if(!t.equals(n.spatialReference)){if(!GA(n.spatialReference,t))return e?.messages?.push(new gg(`scenefilter:unsupported`,`Scene filters with incompatible spatial references are not supported`,{modification:this,spatialReference:e.layer.spatialReference,context:e})),null;let r=new Ek;ZA(n,r,t),n=r}let r=n.toJSON(e);return delete r.spatialReference,r}).filter(e=>e!=null):this.toArray().map(t=>t.toJSON(e))}static fromJSON(e,t){let n=new nj;return e.forEach(e=>n.add(Ek.fromJSON(e,t))),n}};rj=nj=O([F(`esri.layers.support.PolygonCollection`)],rj);var ij=rj,aj=class extends y_(xE){constructor(e){super(e),this.id=`focusarea-${SE()}`,this.title=null,this.enabled=!0,this.outline=null,this.geometries=new ij}readGeometries(e,t,n){Array.isArray(e)?this.geometries=ij.fromJSON(e,n):n.origin!==`web-scene`&&n.origin!==`portal-item`||n.hooks?.onAfterLoad?.(()=>this._loadGeometries(Sf(e,n),n))}async _loadGeometries(e,t){let n=await gp(e,{responseType:`json`});this.geometries=ij.fromJSON(n.data,t)}};O([P({type:String,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}}),P()],aj.prototype,`id`,void 0),O([P({type:String,json:{write:!0}})],aj.prototype,`title`,void 0),O([P({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],aj.prototype,`enabled`,void 0),O([P({type:wse,json:{write:!0}})],aj.prototype,`outline`,void 0),O([P({type:ij,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}},clonable:e=>new ij(e.items.map(e=>e.clone()))}),zE({origins:[`web-scene`,`portal-item`],type:`resource`,prefix:`geometries`,contentAddressed:!0})],aj.prototype,`geometries`,void 0),O([W([`web-scene`,`portal-item`,`service`],`geometries`)],aj.prototype,`readGeometries`,null),aj=O([F(`esri.effects.FocusArea`)],aj);var $le=aj,oj=class extends y_(xE){constructor(e){super(e),this.areas=new L,this.style=`bright`}};O([P({type:L.ofType($le),nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}},clonable:e=>new L(e.items.map(e=>e.clone()))})],oj.prototype,`areas`,void 0),O([P({type:[`bright`,`dark`],nonNullable:!0,json:{write:!0}})],oj.prototype,`style`,void 0),oj=O([F(`esri.effects.FocusAreas`)],oj);var sj=oj;function eue(e){return typeof e==`object`&&!!e&&`loaded`in e&&!0===e.loaded&&`type`in e}function cj(e){return!(!eue(e)||!yT(e)?.operations?.supportsEditing||`editingEnabled`in e&&!bT(e)||uT(e))}var tue=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,nue=`screenUtils.toPt: input not recognized!`,lj=96;function uj(e){return e?e/72*lj:0}function dj(e){return e?72*e/lj:0}function fj(e){if(typeof e==`string`){let t=e.match(tue);if(t){let n=Number(t[1]),r=t[3]&&t[3].toLowerCase(),i=e.startsWith(`-`),a=r===`px`?dj(n):n;return i?-a:a}return console.warn(nue),null}return e}function pj(e=0,t=0){return{x:e,y:t}}function rue(e){return e?pj(e.x,e.y):null}function iue(e=0,t=0){return[e,t]}function aue(e=0,t=0){return mj([e,t])}function oue(e=0,t=0,n=0){return hj([e,t,n])}function mj(e){return e}function hj(e){return e}function sue(e){return e}function cue(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}function gj(){let e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function lue(e){let t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function uue(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h){let g=new Float32Array(16);return g[0]=e,g[1]=t,g[2]=n,g[3]=r,g[4]=i,g[5]=a,g[6]=o,g[7]=s,g[8]=c,g[9]=l,g[10]=u,g[11]=d,g[12]=f,g[13]=p,g[14]=m,g[15]=h,g}var due=gj();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:due,clone:lue,create:gj,fromValues:uue},Symbol.toStringTag,{value:`Module`}));function _j(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function vj(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o,e[6]=s,e[7]=c,e[8]=l,e[9]=u,e[10]=d,e[11]=f,e[12]=p,e[13]=m,e[14]=h,e[15]=g,e}function yj(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function bj(e,t){if(e===t){let n=t[1],r=t[2],i=t[3],a=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=a,e[11]=t[14],e[12]=i,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function xj(e,t){return Sj(e,t)||yj(e),e}function Sj(e,t){let n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],l=t[7],u=t[8],d=t[9],f=t[10],p=t[11],m=t[12],h=t[13],g=t[14],_=t[15],v=n*s-r*o,y=n*c-i*o,b=n*l-a*o,x=r*c-i*s,S=r*l-a*s,ee=i*l-a*c,C=u*h-d*m,te=u*g-f*m,ne=u*_-p*m,re=d*g-f*h,ie=d*_-p*h,ae=f*_-p*g,oe=v*ae-y*ie+b*re+x*ne-S*te+ee*C;return oe?(oe=1/oe,e[0]=(s*ae-c*ie+l*re)*oe,e[1]=(i*ie-r*ae-a*re)*oe,e[2]=(h*ee-g*S+_*x)*oe,e[3]=(f*S-d*ee-p*x)*oe,e[4]=(c*ne-o*ae-l*te)*oe,e[5]=(n*ae-i*ne+a*te)*oe,e[6]=(g*b-m*ee-_*y)*oe,e[7]=(u*ee-f*b+p*y)*oe,e[8]=(o*ie-s*ne+l*C)*oe,e[9]=(r*ne-n*ie-a*C)*oe,e[10]=(m*S-h*b+_*v)*oe,e[11]=(d*b-u*S-p*v)*oe,e[12]=(s*te-o*re-c*C)*oe,e[13]=(n*re-r*te+i*C)*oe,e[14]=(h*y-m*x-g*v)*oe,e[15]=(u*x-d*y+f*v)*oe,e):null}function fue(e,t){let n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],l=t[7],u=t[8],d=t[9],f=t[10],p=t[11],m=t[12],h=t[13],g=t[14],_=t[15];return e[0]=s*(f*_-p*g)-d*(c*_-l*g)+h*(c*p-l*f),e[1]=-(r*(f*_-p*g)-d*(i*_-a*g)+h*(i*p-a*f)),e[2]=r*(c*_-l*g)-s*(i*_-a*g)+h*(i*l-a*c),e[3]=-(r*(c*p-l*f)-s*(i*p-a*f)+d*(i*l-a*c)),e[4]=-(o*(f*_-p*g)-u*(c*_-l*g)+m*(c*p-l*f)),e[5]=n*(f*_-p*g)-u*(i*_-a*g)+m*(i*p-a*f),e[6]=-(n*(c*_-l*g)-o*(i*_-a*g)+m*(i*l-a*c)),e[7]=n*(c*p-l*f)-o*(i*p-a*f)+u*(i*l-a*c),e[8]=o*(d*_-p*h)-u*(s*_-l*h)+m*(s*p-l*d),e[9]=-(n*(d*_-p*h)-u*(r*_-a*h)+m*(r*p-a*d)),e[10]=n*(s*_-l*h)-o*(r*_-a*h)+m*(r*l-a*s),e[11]=-(n*(s*p-l*d)-o*(r*p-a*d)+u*(r*l-a*s)),e[12]=-(o*(d*g-f*h)-u*(s*g-c*h)+m*(s*f-c*d)),e[13]=n*(d*g-f*h)-u*(r*g-i*h)+m*(r*f-i*d),e[14]=-(n*(s*g-c*h)-o*(r*g-i*h)+m*(r*c-i*s)),e[15]=n*(s*f-c*d)-o*(r*f-i*d)+u*(r*c-i*s),e}function pue(e){let t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],c=e[7],l=e[8],u=e[9],d=e[10],f=e[11],p=e[12],m=e[13],h=e[14],g=e[15];return(t*o-n*a)*(d*g-f*h)-(t*s-r*a)*(u*g-f*m)+(t*c-i*a)*(u*h-d*m)+(n*s-r*o)*(l*g-f*p)-(n*c-i*o)*(l*h-d*p)+(r*c-i*s)*(l*m-u*p)}function Cj(e,t,n){let r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],l=t[6],u=t[7],d=t[8],f=t[9],p=t[10],m=t[11],h=t[12],g=t[13],_=t[14],v=t[15],y=n[0],b=n[1],x=n[2],S=n[3];return e[0]=y*r+b*s+x*d+S*h,e[1]=y*i+b*c+x*f+S*g,e[2]=y*a+b*l+x*p+S*_,e[3]=y*o+b*u+x*m+S*v,y=n[4],b=n[5],x=n[6],S=n[7],e[4]=y*r+b*s+x*d+S*h,e[5]=y*i+b*c+x*f+S*g,e[6]=y*a+b*l+x*p+S*_,e[7]=y*o+b*u+x*m+S*v,y=n[8],b=n[9],x=n[10],S=n[11],e[8]=y*r+b*s+x*d+S*h,e[9]=y*i+b*c+x*f+S*g,e[10]=y*a+b*l+x*p+S*_,e[11]=y*o+b*u+x*m+S*v,y=n[12],b=n[13],x=n[14],S=n[15],e[12]=y*r+b*s+x*d+S*h,e[13]=y*i+b*c+x*f+S*g,e[14]=y*a+b*l+x*p+S*_,e[15]=y*o+b*u+x*m+S*v,e}function wj(e,t,n){let r=n[0],i=n[1],a=n[2];if(t===e)e[12]=t[0]*r+t[4]*i+t[8]*a+t[12],e[13]=t[1]*r+t[5]*i+t[9]*a+t[13],e[14]=t[2]*r+t[6]*i+t[10]*a+t[14],e[15]=t[3]*r+t[7]*i+t[11]*a+t[15];else{let n=t[0],o=t[1],s=t[2],c=t[3],l=t[4],u=t[5],d=t[6],f=t[7],p=t[8],m=t[9],h=t[10],g=t[11];e[0]=n,e[1]=o,e[2]=s,e[3]=c,e[4]=l,e[5]=u,e[6]=d,e[7]=f,e[8]=p,e[9]=m,e[10]=h,e[11]=g,e[12]=n*r+l*i+p*a+t[12],e[13]=o*r+u*i+m*a+t[13],e[14]=s*r+d*i+h*a+t[14],e[15]=c*r+f*i+g*a+t[15]}return e}function Tj(e,t,n){let r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Ej(e,t,n,r){let i=r[0],a=r[1],o=r[2],s=Math.sqrt(i*i+a*a+o*o);if(s<=vD())return void _j(e,t);s=1/s,i*=s,a*=s,o*=s;let c=Math.sin(n),l=Math.cos(n),u=1-l,d=t[0],f=t[1],p=t[2],m=t[3],h=t[4],g=t[5],_=t[6],v=t[7],y=t[8],b=t[9],x=t[10],S=t[11],ee=i*i*u+l,C=a*i*u+o*c,te=o*i*u-a*c,ne=i*a*u-o*c,re=a*a*u+l,ie=o*a*u+i*c,ae=i*o*u+a*c,oe=a*o*u-i*c,se=o*o*u+l;e[0]=d*ee+h*C+y*te,e[1]=f*ee+g*C+b*te,e[2]=p*ee+_*C+x*te,e[3]=m*ee+v*C+S*te,e[4]=d*ne+h*re+y*ie,e[5]=f*ne+g*re+b*ie,e[6]=p*ne+_*re+x*ie,e[7]=m*ne+v*re+S*ie,e[8]=d*ae+h*oe+y*se,e[9]=f*ae+g*oe+b*se,e[10]=p*ae+_*oe+x*se,e[11]=m*ae+v*oe+S*se,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15])}function Dj(e,t,n){let r=Math.sin(n),i=Math.cos(n),a=t[4],o=t[5],s=t[6],c=t[7],l=t[8],u=t[9],d=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+l*r,e[5]=o*i+u*r,e[6]=s*i+d*r,e[7]=c*i+f*r,e[8]=l*i-a*r,e[9]=u*i-o*r,e[10]=d*i-s*r,e[11]=f*i-c*r,e}function Oj(e,t,n){let r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],c=t[3],l=t[8],u=t[9],d=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-l*r,e[1]=o*i-u*r,e[2]=s*i-d*r,e[3]=c*i-f*r,e[8]=a*r+l*i,e[9]=o*r+u*i,e[10]=s*r+d*i,e[11]=c*r+f*i,e}function mue(e,t,n){let r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],c=t[3],l=t[4],u=t[5],d=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+l*r,e[1]=o*i+u*r,e[2]=s*i+d*r,e[3]=c*i+f*r,e[4]=l*i-a*r,e[5]=u*i-o*r,e[6]=d*i-s*r,e[7]=f*i-c*r,e}function hue(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function gue(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function _ue(e,t,n){if(t===0)return yj(e);let r=n[0],i=n[1],a=n[2],o=Math.sqrt(r*r+i*i+a*a);if(o<=vD())return null;o=1/o,r*=o,i*=o,a*=o;let s=Math.sin(t),c=Math.cos(t),l=1-c;return e[0]=r*r*l+c,e[1]=i*r*l+a*s,e[2]=a*r*l-i*s,e[3]=0,e[4]=r*i*l-a*s,e[5]=i*i*l+c,e[6]=a*i*l+r*s,e[7]=0,e[8]=r*a*l+i*s,e[9]=i*a*l-r*s,e[10]=a*a*l+c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function vue(e,t){let n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function yue(e,t){let n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function bue(e,t){let n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function xue(e,t,n){let r=t[0],i=t[1],a=t[2],o=t[3],s=r+r,c=i+i,l=a+a,u=r*s,d=r*c,f=r*l,p=i*c,m=i*l,h=a*l,g=o*s,_=o*c,v=o*l;return e[0]=1-(p+h),e[1]=d+v,e[2]=f-_,e[3]=0,e[4]=d-v,e[5]=1-(u+h),e[6]=m+g,e[7]=0,e[8]=f+_,e[9]=m-g,e[10]=1-(u+p),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function Sue(e,t){let n=Cue,r=-t[0],i=-t[1],a=-t[2],o=t[3],s=t[4],c=t[5],l=t[6],u=t[7],d=r*r+i*i+a*a+o*o;return d>0?(n[0]=2*(s*o+u*r+c*a-l*i)/d,n[1]=2*(c*o+u*i+l*r-s*a)/d,n[2]=2*(l*o+u*a+s*i-c*r)/d):(n[0]=2*(s*o+u*r+c*a-l*i),n[1]=2*(c*o+u*i+l*r-s*a),n[2]=2*(l*o+u*a+s*i-c*r)),xue(e,t,n),e}var Cue=Dk();function wue(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function Tue(e,t){let n=t[0],r=t[1],i=t[2],a=t[4],o=t[5],s=t[6],c=t[8],l=t[9],u=t[10];return e[0]=Math.sqrt(n*n+r*r+i*i),e[1]=Math.sqrt(a*a+o*o+s*s),e[2]=Math.sqrt(c*c+l*l+u*u),e}function Eue(e,t){let n=t[0]+t[5]+t[10],r=0;return n>0?(r=2*Math.sqrt(n+1),e[3]=.25*r,e[0]=(t[6]-t[9])/r,e[1]=(t[8]-t[2])/r,e[2]=(t[1]-t[4])/r):t[0]>t[5]&&t[0]>t[10]?(r=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/r,e[0]=.25*r,e[1]=(t[1]+t[4])/r,e[2]=(t[8]+t[2])/r):t[5]>t[10]?(r=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/r,e[0]=(t[1]+t[4])/r,e[1]=.25*r,e[2]=(t[6]+t[9])/r):(r=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/r,e[0]=(t[8]+t[2])/r,e[1]=(t[6]+t[9])/r,e[2]=.25*r),e}function Due(e,t,n,r){let i=t[0],a=t[1],o=t[2],s=t[3],c=i+i,l=a+a,u=o+o,d=i*c,f=i*l,p=i*u,m=a*l,h=a*u,g=o*u,_=s*c,v=s*l,y=s*u,b=r[0],x=r[1],S=r[2];return e[0]=(1-(m+g))*b,e[1]=(f+y)*b,e[2]=(p-v)*b,e[3]=0,e[4]=(f-y)*x,e[5]=(1-(d+g))*x,e[6]=(h+_)*x,e[7]=0,e[8]=(p+v)*S,e[9]=(h-_)*S,e[10]=(1-(d+m))*S,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function Oue(e,t,n,r,i){let a=t[0],o=t[1],s=t[2],c=t[3],l=a+a,u=o+o,d=s+s,f=a*l,p=a*u,m=a*d,h=o*u,g=o*d,_=s*d,v=c*l,y=c*u,b=c*d,x=r[0],S=r[1],ee=r[2],C=i[0],te=i[1],ne=i[2],re=(1-(h+_))*x,ie=(p+b)*x,ae=(m-y)*x,oe=(p-b)*S,se=(1-(f+_))*S,ce=(g+v)*S,le=(m+y)*ee,w=(g-v)*ee,ue=(1-(f+h))*ee;return e[0]=re,e[1]=ie,e[2]=ae,e[3]=0,e[4]=oe,e[5]=se,e[6]=ce,e[7]=0,e[8]=le,e[9]=w,e[10]=ue,e[11]=0,e[12]=n[0]+C-(re*C+oe*te+le*ne),e[13]=n[1]+te-(ie*C+se*te+w*ne),e[14]=n[2]+ne-(ae*C+ce*te+ue*ne),e[15]=1,e}function kue(e,t){let n=t[0],r=t[1],i=t[2],a=t[3],o=n+n,s=r+r,c=i+i,l=n*o,u=r*o,d=r*s,f=i*o,p=i*s,m=i*c,h=a*o,g=a*s,_=a*c;return e[0]=1-d-m,e[1]=u+_,e[2]=f-g,e[3]=0,e[4]=u-_,e[5]=1-l-m,e[6]=p+h,e[7]=0,e[8]=f+g,e[9]=p-h,e[10]=1-l-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Aue(e,t,n,r,i,a,o){let s=1/(n-t),c=1/(i-r),l=1/(a-o);return e[0]=2*a*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*c,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*c,e[10]=(o+a)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*l,e[15]=0,e}function jue(e,t,n,r,i){let a=1/Math.tan(t/2),o;return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(o=1/(r-i),e[10]=(i+r)*o,e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e}function Mue(e,t,n,r){let i=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),c=2/(o+s),l=2/(i+a);return e[0]=c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=-(o-s)*c*.5,e[9]=(i-a)*l*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function Nue(e,t,n,r,i,a,o){let s=1/(t-n),c=1/(r-i),l=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*c,e[14]=(o+a)*l,e[15]=1,e}function Pue(e,t,n,r){let i=t[0],a=t[1],o=t[2],s=i-n[0],c=a-n[1],l=o-n[2],u=vD();if(Math.abs(s)<u&&Math.abs(c)<u&&Math.abs(l)<u)return void yj(e);let d=1/Math.sqrt(s*s+c*c+l*l);s*=d,c*=d,l*=d;let f=r[0],p=r[1],m=r[2],h=p*l-m*c,g=m*s-f*l,_=f*c-p*s;d=Math.sqrt(h*h+g*g+_*_),d?(d=1/d,h*=d,g*=d,_*=d):(h=0,g=0,_=0);let v=c*_-l*g,y=l*h-s*_,b=s*g-c*h;d=Math.sqrt(v*v+y*y+b*b),d?(d=1/d,v*=d,y*=d,b*=d):(v=0,y=0,b=0),e[0]=h,e[1]=v,e[2]=s,e[3]=0,e[4]=g,e[5]=y,e[6]=c,e[7]=0,e[8]=_,e[9]=b,e[10]=l,e[11]=0,e[12]=-(h*i+g*a+_*o),e[13]=-(v*i+y*a+b*o),e[14]=-(s*i+c*a+l*o),e[15]=1}function Fue(e,t,n,r){let i=t[0],a=t[1],o=t[2],s=r[0],c=r[1],l=r[2],u=i-n[0],d=a-n[1],f=o-n[2],p=u*u+d*d+f*f;p>0&&(p=1/Math.sqrt(p),u*=p,d*=p,f*=p);let m=c*f-l*d,h=l*u-s*f,g=s*d-c*u;return p=m*m+h*h+g*g,p>0&&(p=1/Math.sqrt(p),m*=p,h*=p,g*=p),e[0]=m,e[1]=h,e[2]=g,e[3]=0,e[4]=d*g-f*h,e[5]=f*m-u*g,e[6]=u*h-d*m,e[7]=0,e[8]=u,e[9]=d,e[10]=f,e[11]=0,e[12]=i,e[13]=a,e[14]=o,e[15]=1,e}function Iue(e){return`mat4(`+e[0]+`, `+e[1]+`, `+e[2]+`, `+e[3]+`, `+e[4]+`, `+e[5]+`, `+e[6]+`, `+e[7]+`, `+e[8]+`, `+e[9]+`, `+e[10]+`, `+e[11]+`, `+e[12]+`, `+e[13]+`, `+e[14]+`, `+e[15]+`)`}function Lue(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function Rue(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function zue(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function Bue(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function Vue(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e}function Hue(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Uue(e,t){if(e===t)return!0;let n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],c=e[6],l=e[7],u=e[8],d=e[9],f=e[10],p=e[11],m=e[12],h=e[13],g=e[14],_=e[15],v=t[0],y=t[1],b=t[2],x=t[3],S=t[4],ee=t[5],C=t[6],te=t[7],ne=t[8],re=t[9],ie=t[10],ae=t[11],oe=t[12],se=t[13],ce=t[14],le=t[15],w=vD();return Math.abs(n-v)<=w*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(r-y)<=w*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(i-b)<=w*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(a-x)<=w*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(o-S)<=w*Math.max(1,Math.abs(o),Math.abs(S))&&Math.abs(s-ee)<=w*Math.max(1,Math.abs(s),Math.abs(ee))&&Math.abs(c-C)<=w*Math.max(1,Math.abs(c),Math.abs(C))&&Math.abs(l-te)<=w*Math.max(1,Math.abs(l),Math.abs(te))&&Math.abs(u-ne)<=w*Math.max(1,Math.abs(u),Math.abs(ne))&&Math.abs(d-re)<=w*Math.max(1,Math.abs(d),Math.abs(re))&&Math.abs(f-ie)<=w*Math.max(1,Math.abs(f),Math.abs(ie))&&Math.abs(p-ae)<=w*Math.max(1,Math.abs(p),Math.abs(ae))&&Math.abs(m-oe)<=w*Math.max(1,Math.abs(m),Math.abs(oe))&&Math.abs(h-se)<=w*Math.max(1,Math.abs(h),Math.abs(se))&&Math.abs(g-ce)<=w*Math.max(1,Math.abs(g),Math.abs(ce))&&Math.abs(_-le)<=w*Math.max(1,Math.abs(_),Math.abs(le))}function Wue(e){let t=vD(),n=e[0],r=e[1],i=e[2],a=e[4],o=e[5],s=e[6],c=e[8],l=e[9],u=e[10];return Math.abs(1-(n*n+a*a+c*c))<=t&&Math.abs(1-(r*r+o*o+l*l))<=t&&Math.abs(1-(i*i+s*s+u*u))<=t}function Gue(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[8]===0&&e[9]===0&&e[10]===1}var Kue=Cj,que=zue;Object.freeze(Object.defineProperty({__proto__:null,add:Rue,adjoint:fue,copy:_j,determinant:pue,equals:Uue,exactEquals:Hue,frob:Lue,fromQuat:kue,fromQuat2:Sue,fromRotation:_ue,fromRotationTranslation:xue,fromRotationTranslationScale:Due,fromRotationTranslationScaleOrigin:Oue,fromScaling:gue,fromTranslation:hue,fromXRotation:vue,fromYRotation:yue,fromZRotation:bue,frustum:Aue,getRotation:Eue,getScale:Tue,getTranslation:wue,hasIdentityRotation:Gue,identity:yj,invert:Sj,invertOrIdentity:xj,isOrthoNormal:Wue,lookAt:Pue,mul:Kue,multiply:Cj,multiplyScalar:Bue,multiplyScalarAndAdd:Vue,ortho:Nue,perspective:jue,perspectiveFromFieldOfView:Mue,rotate:Ej,rotateX:Dj,rotateY:Oj,rotateZ:mue,scale:Tj,set:vj,str:Iue,sub:que,subtract:zue,targetTo:Fue,translate:wj,transpose:bj},Symbol.toStringTag,{value:`Module`}));var Jue=(e,t)=>{let n=vj(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return bj(n,n)},Yue=(e,t)=>{let n=vj(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return bj(n,n)},Xue=(e,t)=>{let n=1-t,r=vj(e,.2126+.7874*n,.7152-.7152*n,.0722-.0722*n,0,.2126-.2126*n,.7152+.2848*n,.0722-.0722*n,0,.2126-.2126*n,.7152-.7152*n,.0722+.9278*n,0,0,0,0,1);return bj(r,r)},Zue=(e,t)=>{let n=Math.sin(t*Math.PI/180),r=Math.cos(t*Math.PI/180),i=vj(e,.213+.787*r-.213*n,.715-.715*r-.715*n,.072-.072*r+.928*n,0,.213-.213*r+.143*n,.715+.285*r+.14*n,.072-.072*r-.283*n,0,.213-.213*r-.787*n,.715-.715*r+.715*n,.072+.928*r+.072*n,0,0,0,0,1);return bj(i,i)},Que=(e,t)=>{let n=1-2*t,r=vj(e,n,0,0,t,0,n,0,t,0,0,n,t,0,0,0,1);return bj(r,r)},$ue=(e,t)=>{let n=vj(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return bj(n,n)},ede=(e,t)=>{let n=1-t,r=vj(e,.393+.607*n,.769-.769*n,.189-.189*n,0,.349-.349*n,.686+.314*n,.168-.168*n,0,.272-.272*n,.534-.534*n,.131+.869*n,0,0,0,0,1);return bj(r,r)},tde=class e{constructor(e,t,n){this.strength=e,this.radius=t,this.threshold=n,this.type=`bloom`}interpolate(e,t,n){this.strength=Aj(e.strength,t.strength,n),this.radius=Aj(e.radius,t.radius,n),this.threshold=Aj(e.threshold,t.threshold,n)}clone(){return new e(this.strength,this.radius,this.threshold)}toJSON(){return{type:`bloom`,radius:jj(this.radius),strength:this.strength,threshold:this.threshold}}},nde=class e{constructor(e){this.radius=e,this.type=`blur`}interpolate(e,t,n){this.radius=Math.round(Aj(e.radius,t.radius,n))}clone(){return new e(this.radius)}toJSON(){return{type:`blur`,radius:jj(this.radius)}}},kj=class e{constructor(e,t){this.type=e,this.amount=t,this.type!==`invert`&&this.type!==`grayscale`&&this.type!==`sepia`||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,t,n){this.amount=Aj(e.amount,t.amount,n),this._updateMatrix()}clone(){return new e(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){let e=this._colorMatrix||gj();switch(this.type){case`brightness`:this._colorMatrix=Jue(e,this.amount);break;case`contrast`:this._colorMatrix=Yue(e,this.amount);break;case`grayscale`:this._colorMatrix=Xue(e,this.amount);break;case`invert`:this._colorMatrix=Que(e,this.amount);break;case`saturate`:this._colorMatrix=$ue(e,this.amount);break;case`sepia`:this._colorMatrix=ede(e,this.amount)}}},rde=class e{constructor(e,t,n,r){this.offsetX=e,this.offsetY=t,this.blurRadius=n,this.color=r,this.type=`drop-shadow`}interpolate(e,t,n){this.offsetX=Aj(e.offsetX,t.offsetX,n),this.offsetY=Aj(e.offsetY,t.offsetY,n),this.blurRadius=Aj(e.blurRadius,t.blurRadius,n),this.color[0]=Math.round(Aj(e.color[0],t.color[0],n)),this.color[1]=Math.round(Aj(e.color[1],t.color[1],n)),this.color[2]=Math.round(Aj(e.color[2],t.color[2],n)),this.color[3]=Aj(e.color[3],t.color[3],n)}clone(){return new e(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){let e=[...this.color];return e[3]*=255,{type:`drop-shadow`,xoffset:jj(this.offsetX),yoffset:jj(this.offsetY),blurRadius:jj(this.blurRadius),color:e}}},ide=class e{constructor(e){this.angle=e,this.type=`hue-rotate`}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,t,n){this.angle=Aj(e.angle,t.angle,n),this._updateMatrix()}clone(){return new e(this.angle)}toJSON(){return{type:`hue-rotate`,angle:this.angle}}_updateMatrix(){let e=this._colorMatrix||gj();this._colorMatrix=Zue(e,this.angle)}},ade=class e{constructor(e){this.amount=e,this.type=`opacity`,this.amount=Math.min(this.amount,1)}interpolate(e,t,n){this.amount=Aj(e.amount,t.amount,n)}clone(){return new e(this.amount)}toJSON(){return{type:`opacity`,amount:this.amount}}};function Aj(e,t,n){return e+(t-e)*n}function jj(e){return Math.round(1e3*dj(e))/1e3}function ode(e){switch(e.type){case`grayscale`:case`sepia`:case`invert`:return new kj(e.type,0);case`saturate`:case`brightness`:case`contrast`:return new kj(e.type,1);case`opacity`:return new ade(1);case`hue-rotate`:return new ide(0);case`blur`:return new nde(0);case`drop-shadow`:return new rde(0,0,0,[...PT(`transparent`)]);case`bloom`:return new tde(0,0,1)}}function sde(e,t){let n=e.length>t.length?e:t;return(e.length>t.length?t:e).every((e,t)=>e.type===n[t].type)}function cde(e,t){let n=e.length>t.length?e:t,r=e.length>t.length?t:e;for(let e=r.length;e<n.length;e++)r.push(ode(n[e]))}function lde(e){let t=e[0];return!!t&&`type`in t}function ude(e,t){return e.allLayerViews.find(e=>e.uid===t)?.layer.parent===e.map?.basemap}function dde(e){return!!e?.baseLayers.concat(e.referenceLayers).some(fde)}function fde(e){if(hde(e.url))return!0;if(e.type===`vector-tile`)for(let t in e.sourceNameToSource){let n=e.sourceNameToSource[t];if(hde(n?.sourceUrl))return!0}return!1}function pde(e,t){if(t==null||e==null)return{spatialReference:null,updating:!1};if(t.loadStatus===`not-loaded`)return t.load(),{spatialReference:null,updating:!0};if(t.spatialReference)return{spatialReference:t.spatialReference,updating:!1};if(t.baseLayers.length===0)return{spatialReference:null,updating:!1};let n=t.baseLayers.at(0);switch(n.loadStatus){case`not-loaded`:n.load();case`loading`:return{spatialReference:null,updating:!0};case`failed`:return{spatialReference:null,updating:!1}}let r=((`supportedSpatialReferences`in n?n.supportedSpatialReferences:null)||[`tileInfo`in n?n.tileInfo?.spatialReference:n.spatialReference]).filter(Boolean),i=e.spatialReference;return i?{spatialReference:r.find(e=>i.equals(e))??r[0]??null,updating:!1}:{spatialReference:r[0],updating:!1}}var mde=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function hde(e){if(!e)return!1;let t=new Ql(Su(e));return!!t.authority&&mde.test(t.authority)}var Mj=()=>j.getLogger(`esri.support.basemapUtils`);function gde(){return{}}function _de(e){for(let t in e){let n=e[t];n&&!n.destroyed&&n.destroy(),delete e[t]}}function vde(e,t){let n;if(typeof e==`string`){let r=e in Hb,i=!r&&e.includes(`/`);if(!r&&!i){if($f())Mj().warn(`Unable to find basemap definition for: ${e}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{let t=Object.entries(Hb).filter(([e,t])=>t.classic||t.is3d).map(([e])=>`"${e}"`).sort().join(`, `);Mj().warn(`Unable to find basemap definition for: ${e}. Try one of these: ${t}`)}return null}t&&(n=t[e]),n||(n=r?jT.fromId(e):new jT({style:{id:e}}),t&&(t[e]=n))}else n=ag(jT,e);return n?.destroyed&&(Mj().warn(`The provided basemap is already destroyed`,{basemap:n}),n=null),n}function yde(e){return new uE({getCollections:()=>[e.tables,e.layers],getChildrenFunction:e=>{let t=[];return`tables`in e&&t.push(e.tables),`layers`in e&&t.push(e.layers),t},itemFilterFunction:e=>{let t=e.parent;return!!t&&`tables`in t&&t.tables.includes(e)}})}function Nj(e){for(let t of e.values())t?.destroy();e.clear()}var bde={"world-elevation":{id:`worldElevation`,url:`//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer`,layerType:`ArcGISTiledElevationServiceLayer`},"world-topobathymetry":{id:`worldTopoBathymetry`,url:`//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer`,layerType:`ArcGISTiledElevationServiceLayer`}};function xde(e){let t=null;if(typeof e==`string`)if(e in bde){let n=bde[e];t=new bE({resourceInfo:{data:{layers:[n]}}})}else j.getLogger(`esri.support.groundUtils`).warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else t=ag(bE,e);return t}function Pj(e,t,n){let r,i;if(e)for(let a=0,o=e.length;a<o;a++){if(r=e.at(a),r?.[t]===n)return r;if(r?.type===`group`&&(i=Pj(r.layers,t,n),i))return i}}var Sde=e=>{let t=e,n=class extends t{constructor(...e){super(...e),this.layers=new L;let t=e=>{e.parent&&e.removeFromParent()},n=e=>{e.parent=this,this.layerAdded(e),e.type!==`elevation`&&e.type!==`base-elevation`||j.getLogger(this).error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as an operational layer and will therefore be ignored.`)},r=e=>{e.parent=null,this.layerRemoved(e)};this.addHandles([this.layers.on(`before-add`,e=>{if(e.item===this)return e.preventDefault(),void j.getLogger(this).error(`#add()`,`Cannot add layer to itself.`);t(e.item)}),this.layers.on(`after-add`,e=>n(e.item)),this.layers.on(`after-remove`,e=>r(e.item))])}destroy(){let e=this.layers.toArray();for(let t of e)t.destroy();this.layers.destroy()}removeChildLayer(e){this.layers.remove(e),super.removeChildLayer?.(e)}set layers(e){this._set(`layers`,u_(e,this._get(`layers`)))}add(e,t){let n=this.layers;if(t=n.getNextIndex(t),e instanceof cT){let r=e;r.parent===this?this.reorder(r,t):n.add(r,t)}else gf(e)?e.then(e=>{this.destroyed||this.add(e,t)}):j.getLogger(this).error(`#add()`,`The item being added is not a Layer or a Promise that resolves to a Layer.`)}addMany(e,t){let n=this.layers,r=n.getNextIndex(t);e.slice().forEach(e=>{e.parent===this?this.reorder(e,r):(n.add(e,r),r+=1)})}findLayerById(e){return Pj(this.layers,`id`,e)}findLayerByUid(e){return Pj(this.layers,`uid`,e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,t){return this.layers.reorder(e,t)}layerAdded(e){}layerRemoved(e){}};return O([P()],n.prototype,`layers`,null),n=O([F(`esri.support.LayersMixin`)],n),n},Cde=new Set([`feature`,`subtype-group`]);function Fj(e,t,n){if(e)for(let r=0,i=e.length;r<i;r++){let i=e.at(r);if(i[t]===n)return i;if(i?.type===`group`){let e=Fj(i.tables,t,n);if(e)return e}}}var wde=e=>{let t=e,n=class extends t{constructor(...e){super(...e),this.tables=new L,this.addHandles([this.tables.on(`after-add`,e=>{let t=e.item;t.parent&&t.parent!==this&&t.removeFromParent(),t.parent=this,Cde.has(t.type)||j.getLogger(this).error(`Layer 'title:${t.title}, id:${t.id}' of type '${t.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on(`after-remove`,e=>{e.item.parent=null})])}destroy(){let e=this.tables.toArray();for(let t of e)t.destroy();this.tables.destroy()}removeChildLayer(e){this.tables.remove(e),super.removeChildLayer?.(e)}set tables(e){this._set(`tables`,u_(e,this._get(`tables`)))}findTableById(e){return Fj(this.tables,`id`,e)}findTableByUid(e){return Fj(this.tables,`uid`,e)}};return O([P()],n.prototype,`tables`,null),n=O([F(`esri.support.TablesMixin`)],n),n},Ij=class extends wde(Sde(Xg)){constructor(e){super(e),this.allLayers=new uE({getCollections:()=>[this.basemap?.baseLayers,this.basemap?.groundLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:e=>`layers`in e?e.layers:null}),this.focusAreas=new sj,this.allTables=yde(this),this.basemap=null,this.editableLayers=new uE({getCollections:()=>[this.allLayers],itemFilterFunction:cj}),this.ground=new bE,this._basemapCache=gde(),this.addHandles(Hw(()=>this.ground,(e,t)=>{t?.parent===this&&(t.parent=null),e.parent=this},{sync:!0}))}destroy(){_de(this._basemapCache),this._basemapCache=null,this.focusAreas.destroy(),this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=Gd(this.basemap),Gd(this.ground),this._set(`ground`,null)}castBasemap(e){return vde(e,this._basemapCache)}castGround(e){return xde(e)??this._get(`ground`)}findLayerById(e){return this.allLayers.find(t=>t.id===e)}findTableById(e){return this.allTables.find(t=>t.id===e)}};O([P({readOnly:!0,dependsOn:[]})],Ij.prototype,`allLayers`,void 0),O([P({type:sj,nonNullable:!0,json:{write:{overridePolicy:e=>({enabled:e.areas.length>0,ignoreOrigin:!0})}}})],Ij.prototype,`focusAreas`,void 0),O([P({readOnly:!0})],Ij.prototype,`allTables`,void 0),O([P({type:jT,json:{read:{source:`baseMap`},write:{target:`baseMap`}}})],Ij.prototype,`basemap`,void 0),O([Sy(`basemap`)],Ij.prototype,`castBasemap`,null),O([P({readOnly:!0})],Ij.prototype,`editableLayers`,void 0),O([P({type:bE,nonNullable:!0})],Ij.prototype,`ground`,void 0),O([Sy(`ground`)],Ij.prototype,`castGround`,null),O([P()],Ij.prototype,`undoRedo`,void 0),Ij=O([F(`esri.Map`)],Ij);var Lj=Ij,Rj=class extends xE{constructor(e){super(e),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(e){return e!=null&&this.row===e.row&&this.rows===e.rows&&this.column===e.column&&this.columns===e.columns}};O([P({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Rj.prototype,`row`,void 0),O([P({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Rj.prototype,`column`,void 0),O([P({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Rj.prototype,`rows`,void 0),O([P({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Rj.prototype,`columns`,void 0),Rj=O([F(`esri.CameraLayout`)],Rj);var Tde=Rj,zj=class{constructor(e,t){this.min=e,this.max=t,this.range=t-e}normalize(e,t=0,n=!1){return Ede(this.range,this.min,this.max,e,t,n)}clamp(e,t=0){return KT(e-t,this.min,this.max)+t}monotonic(e,t,n){return e<t?t:t+Bj(this.range,e-t,n)}minimalMonotonic(e,t,n){return Ede(this.range,e,e+this.range,t,n)}center(e,t,n){return t=this.monotonic(e,t,n),this.normalize((e+t)/2,n)}diff(e,t,n){return this.monotonic(e,t,n)-e}shortestSignedDiff(e,t){e=this.normalize(e);let n=(t=this.normalize(t))-e,r=t<e?this.minimalMonotonic(e,t)-e:t-this.minimalMonotonic(t,e);return Math.abs(n)<Math.abs(r)?n:r}contains(e,t,n){return t=this.minimalMonotonic(e,t),(n=this.minimalMonotonic(e,n))>e&&n<t}};function Ede(e,t,n,r,i=0,a=!1){return(r-=i)<t?r+=Bj(e,t-r):r>n&&(r-=Bj(e,r-n)),a&&r===n&&(r=t),r+i}function Bj(e,t,n=0){return Math.ceil((t-n)/e)*e+n}var Dde=new zj(0,2*Math.PI),Ode=new zj(-Math.PI,Math.PI),kde=new zj(0,360),Vj=class extends Y(R){constructor(...e){super(...e),this.position=new Vy([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new Tde}normalizeCtorArgs(e,t,n,r){if(e&&typeof e==`object`&&(`x`in e||Array.isArray(e))){let i={position:e};return t!=null&&(i.heading=t),n!=null&&(i.tilt=n),r!=null&&(i.fov=r),i}return e}writePosition(e,t,n,r){let i=e.clone();i.x=Yh(e.x||0),i.y=Yh(e.y||0),i.z=e.hasZ?Yh(e.z||0):e.z,t[n]=i.write({},r)}readPosition(e,t){let n=new Vy;return n.read(e,t),n.x=Yh(n.x||0),n.y=Yh(n.y||0),n.z=n.hasZ?Yh(n.z||0):n.z,n}equals(e){return e!=null&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)&&this.layout.equals(e.layout)}};O([P({type:Vy,json:{write:{isRequired:!0}}})],Vj.prototype,`position`,void 0),O([z(`position`)],Vj.prototype,`writePosition`,null),O([W(`position`)],Vj.prototype,`readPosition`,null),O([P({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Sy(e=>kde.normalize(Yh(e)))],Vj.prototype,`heading`,void 0),O([P({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Sy(e=>KT(Yh(e),-180,180))],Vj.prototype,`tilt`,void 0),O([P({type:Number,nonNullable:!0,json:{default:55,write:!0}}),Sy(e=>KT(Yh(e,55),1,170))],Vj.prototype,`fov`,void 0),O([P({type:Tde,nonNullable:!0,json:{read:!1,write:!1}})],Vj.prototype,`layout`,void 0),Vj=O([F(`esri.Camera`)],Vj);var Ade=Vj;function Hj(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function Uj(e){return e.points!==void 0}function Wj(e){return e.x!==void 0&&e.y!==void 0}function Gj(e){return e.paths!==void 0||e.curvePaths!==void 0}function Kj(e){return e.rings!==void 0||e.curveRings!==void 0}function qj(e){return e==null?null:e instanceof xy?e:Wj(e)?Vy.fromJSON(e):Gj(e)?Gk.fromJSON(e):Kj(e)?Ek.fromJSON(e):Uj(e)?Uk.fromJSON(e):Hj(e)?cb.fromJSON(e):null}function Jj(e){return e?Wj(e)?`esriGeometryPoint`:Gj(e)?`esriGeometryPolyline`:Kj(e)?`esriGeometryPolygon`:Hj(e)?`esriGeometryEnvelope`:Uj(e)?`esriGeometryMultipoint`:null:null}var jde={esriGeometryPoint:Vy,esriGeometryPolyline:Gk,esriGeometryPolygon:Ek,esriGeometryEnvelope:cb,esriGeometryMultipoint:Uk,esriGeometryMultiPatch:Ek};function Mde(e){return e&&jde[e]||null}var Nde=I_()({esriGeometryPoint:`point`,esriGeometryMultipoint:`multipoint`,esriGeometryPolyline:`polyline`,esriGeometryPolygon:`polygon`}),Yj=I_()({esriGeometryPoint:`point`,esriGeometryMultipoint:`multipoint`,esriGeometryPolyline:`polyline`,esriGeometryPolygon:`polygon`,esriGeometryEnvelope:`extent`,mesh:`mesh`}),Xj={base:xy,key:`type`,typeMap:{extent:cb,multipoint:Uk,point:Vy,polyline:Gk,polygon:Ek}};function Pde(e){return e.type===`point`}function Fde(e){return e.type===`multipoint`}function Ide(e){return e.type===`polygon`}function Lde(e){return e.type===`polyline`}var Zj,Qj=Zj=class extends R{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new Zj({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry==null?null:this.targetGeometry.clone(),camera:this.camera==null?null:this.camera.clone()})}};O([P({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:eM}}}}})],Qj.prototype,`rotation`,void 0),O([Sy(`rotation`)],Qj.prototype,`castRotation`,null),O([P({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:eM}}}}})],Qj.prototype,`scale`,void 0),O([P({types:Xj,json:{read:qj,write:!0,origins:{"web-scene":{read:qj,write:{overridePolicy:eM}}}}})],Qj.prototype,`targetGeometry`,void 0),O([P({type:Ade,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],Qj.prototype,`camera`,void 0),Qj=Zj=O([F(`esri.Viewpoint`)],Qj);var $j=Qj;function eM(){return{enabled:!this.camera}}var tM=class{constructor(e=e=>e.values().next().value){this._peeker=e,this._observable=new Qg,this._items=new Set}get length(){return Am(this._observable),this._items.size}clear(){this.length!==0&&(this._items.clear(),this._observable.notify())}last(){if(this.length===0)return;let e;for(e of this._items);return e}peek(){if(this.length!==0)return this._peeker(this._items)}push(e){this.contains(e)||(this._items.add(e),this._observable.notify())}contains(e){return Am(this._observable),this._items.has(e)}pop(){if(this.length===0)return;let e=this.peek();return this._items.delete(e),this._observable.notify(),e}popLast(){if(this.length===0)return;let e=this.last();return this._items.delete(e),this._observable.notify(),e}remove(e){this.contains(e)&&(this._items.delete(e),this._observable.notify())}filter(e){let t=this.length;return this._items.forEach(t=>{e(t)||this._items.delete(t)}),t!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){Am(this._observable),yield*this._items}},Rde=new FinalizationRegistry(e=>{e.close()});function zde(e,t){Rde.register(e,t,t)}function Bde(e){Rde.unregister(e)}function Vde(e,t){return new Proxy({},{get:(n,r,i)=>(...n)=>{let i,a,o=n[n.length-1];return Hde(o)&&(i=o.signal,a=o.transferList,n.pop()),e.apply(t?`${t}.${r.toString()}`:r.toString(),n,{transferList:a,signal:i})}})}function Hde(e){return typeof e==`object`&&!Array.isArray(e)&&e!=null&&(`signal`in e||`transferList`in e||Object.keys(e).length===0)}var Ude={statsWorker:()=>N(()=>import(`./statsWorker-BQzUv1Ng.js`),__vite__mapDeps([26,27,28,29,30,31,32])),geometryEngineWorker:()=>N(()=>import(`./geometryEngineWorker-Bu28btWu.js`),__vite__mapDeps([33,34,35,36])),arcadeGeometryOperatorsWorker:()=>N(()=>import(`./operatorsWorker-WLTD0pJc.js`),[]),CSVSourceWorker:()=>N(()=>import(`./CSVSourceWorker-DXBeKxcl.js`),__vite__mapDeps([37,38,39,3,40,41,42,43,44,45,46,47,48,27,49,50,51,52,30,31,32,28,53,54,55,56,57])),EdgeProcessingWorker:()=>N(()=>import(`./EdgeProcessingWorker-Dr7_SoWA.js`),__vite__mapDeps([58,59,60,61,62,63,64,65,66,67,68,69])),ElevationSamplerWorker:()=>N(()=>import(`./ElevationSamplerWorker-zYRX8Hcw.js`),__vite__mapDeps([70,71,72,39,73,74,75,76,60,61,77,78])),FeatureServiceSnappingSourceWorker:()=>N(()=>import(`./FeatureServiceSnappingSourceWorker-Ge1IvCzr.js`),__vite__mapDeps([79,39,3,80,41,42,43,44,45,46,47,48,27,49,50,51,52,30,31,32,28,53,54,55,81,82,83,84,85])),GaussianSplatSortWorker:()=>N(()=>import(`./GaussianSplatSortWorker-BbiNRSB1.js`),[]),GeoJSONSourceWorker:()=>N(()=>import(`./GeoJSONSourceWorker-DhJ8DHWE.js`),__vite__mapDeps([86,38,39,3,41,42,43,44,45,46,47,48,27,49,50,51,52,30,31,32,28,53,54,55,87,56,88])),LercWorker:()=>N(()=>import(`./LercWorker-KSZCFKyU.js`),[]),MemorySourceWorker:()=>N(()=>import(`./MemorySourceWorker-Cx2msgJc.js`),__vite__mapDeps([89,38,39,3,41,42,43,44,45,46,47,48,27,49,50,51,52,30,31,32,28,53,54,55,90,56,88])),PBFDecoderWorker:()=>N(()=>import(`./PBFDecoderWorker-Xil9ttIC.js`),__vite__mapDeps([91,3,80,27,47,44,48,92,93,46,82])),FeaturePipelineWorker:()=>N(()=>import(`./FeaturePipelineWorker-CWwOadum.js`),__vite__mapDeps([94,22,95,96,97,98,99,100,44,3,101,102,103,104,1,38,80,41,42,105,27,45,46,47,48,106,107,108,109,43,110,49,50,51,52,30,31,32,28,111,55,112,83,81,82,84,87,56,88,113,114,115,64,116,117,118,119,120,121,122])),PointCloudWorker:()=>N(()=>import(`./PointCloudWorker-BIIOVfBw.js`),__vite__mapDeps([123,124,125,126,127,73,75,128,129,130,131])),RasterWorker:()=>N(()=>import(`./RasterWorker-Bxrfm-xy.js`),__vite__mapDeps([132,133,34,134,135,136,137,138,139,140,141,142])),SceneLayerSnappingSourceWorker:()=>N(()=>import(`./SceneLayerSnappingSourceWorker-BRcu5-R5.js`),__vite__mapDeps([143,144,124,125,59,60,61,62,63,64,65,66,145,129,146,67,69,147])),SceneLayerWorker:()=>N(()=>import(`./SceneLayerWorker-BLmSnsLO.js`),__vite__mapDeps([148,71,4,74,149,150,76])),WFSSourceWorker:()=>N(()=>import(`./WFSSourceWorker-Cl277yQI.js`),__vite__mapDeps([151,38,39,3,41,42,43,44,45,46,47,48,27,49,50,51,52,30,31,32,28,53,54,55,87,88,152,153])),WorkerTileHandler:()=>N(()=>import(`./WorkerTileHandler-BJIItVPt.js`),__vite__mapDeps([154,155,96,134,3,80,107,101,156,157,158,63,64,159,102])),Lyr3DWorker:()=>N(()=>import(`./Lyr3DWorker-DK16tP9z.js`),[]),Feature3DPipelineWorker:()=>N(()=>import(`./Feature3DPipelineWorker-B-N2wtJO.js`),__vite__mapDeps([160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,144,124,125,74,149,150,145,129,146,131,127,73,75,198,63,64,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,126,214,59,60,61,62,65,78,76,215,216,217,39,3,80,41,42,218,43,44,45,46,47,48,27,49,50,51,52,30,31,32,28,219,220,221,81,82,83,84,222,223,224,225,226,227,228])),TextureCompressionWorker:()=>N(()=>import(`./TextureCompressionWorker-DGF9dZkX.js`),[]),FlowWorker:()=>N(()=>import(`./FlowWorker-DQlHLlSY.js`),__vite__mapDeps([229,142,230])),ParquetSourceWorker:()=>N(()=>import(`./ParquetSourceWorker-CIUMiWNv.js`),__vite__mapDeps([231,95,1,3,41,42,105,27,44,45,46,47,48,106,100,43,49,50,51,52,30,31,32,28,56,232,57,119,122])),PanoramicMeshWorker:()=>N(()=>import(`./PanoramicMeshWorker-CpMOGuNf.js`),__vite__mapDeps([233,135,136]))},Wde=`worker:port-closed`,nM={HANDSHAKE:0,OPEN:1,OPENED:2,RESPONSE:3,INVOKE:4,ABORT:5,CLOSE:6,OPEN_PORT:7,ON:8},Gde=0;function Kde(){return Gde++}function qde(e){return e&&typeof e==`object`&&(`result`in e||`transferList`in e)}function rM(e){return e?typeof e==`string`?JSON.stringify({name:`message`,message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function Jde(e,t,n,r){if(t.type===nM.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==nM.INVOKE&&t.type!==nM.RESPONSE)return void e.postMessage(t);let i;qde(n)?(i=Yde(n.transferList),t.data=n.result):(i=Yde(r),t.data=n),i?e.postMessage(t,i):e.postMessage(t)}function iM(e){if(!e)return null;let t=e.data;return t?typeof t==`string`?JSON.parse(t):t:null}function Yde(e){if(!e?.length)return null;if(k(`esri-workers-arraybuffer-transfer`))return e;let t=e.filter(e=>!Xde(e));return t.length?t:null}function Xde(e){return e instanceof ArrayBuffer||e?.constructor?.name===`ArrayBuffer`}async function Zde(e){try{return await e}catch(e){let t=e?.name===Wde;if(!(lf(e)||t))throw e;return}}var{CLOSE:aM,ABORT:oM,INVOKE:Qde,RESPONSE:sM,OPEN_PORT:$de,ON:efe}=nM,tfe=2,nfe=class{constructor(e){this._invoke=e,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(e){e.type===oM?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(let e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e);this._cancelledJobIds.clear(),this._invokeMessages.length=0}},cM=class e{static{this.kernelInfo={buildDate:pd,fullVersion:_d,revision:md}}static{this.clients=new Map}static connect(t,n){let r=new MessageChannel,i;i=typeof t==`function`?new t:`default`in t&&typeof t.default==`function`?new t.default:t;let a=new e(r.port1,{channel:r,client:i,schedule:n});return typeof i==`object`&&`remoteClient`in i&&(i.remoteClient=a),e.clients.set(a,i),r.port2}static loadWorker(e){let t=Ude[e];return t?t():Promise.resolve(null)}constructor(e,t,n,r){this._port=e,this._jobQueue=n,this._lowPriorityJobQueue=r,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new nfe(e=>this._onInvokeMessage(e)),this._client=t.client,this._onMessage=this._onMessage.bind(this),this._channel=t.channel,this._schedule=t.schedule,this._port.addEventListener(`message`,this._onMessage),this._port.start()}close(){this._post({type:aM}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,t,n){return this.apply(e,[t],n)}apply(e,t,n){let r=n?.signal,i=n?.transferList;if(!this._port)return Promise.reject(new M(Wde,`Cannot call invoke('${e}'), port is closed`,{methodName:e,data:t}));let a=Kde();return new Promise((n,o)=>{if(tf(r))return this._processWork(),void o(Qd());let s=af(r,()=>{let e=this._outJobs.get(a);e&&(this._outJobs.delete(a),this._processWork(),qd(e.abortHandle),this._post({type:oM,jobId:a}),o(Qd()))}),c={resolve:n,reject:o,abortHandle:s,debugInfo:e};this._outJobs.set(a,c),this._post({type:Qde,jobId:a,methodName:e,abortable:r!=null},t,i)})}createInvokeProxy(e){return Vde(this,e)}on(e,t){let n=new MessageChannel;function r(e){t(e.data)}return this._port.postMessage({type:efe,eventType:e,port:n.port2},[n.port2]),n.port1.addEventListener(`message`,r),n.port1.start(),Ed(()=>{n.port1.postMessage({type:aM}),n.port1.close(),n.port1.removeEventListener(`message`,r)})}jobAdded(){this._processWork()}openPort(){let e=new MessageChannel;return this._post({type:$de,port:e.port2}),e.port1}_processWork(){if(this._outJobs.size>=tfe)return;let e=this._jobQueue?.pop()??this._lowPriorityJobQueue?.pop();if(!e)return;let{methodName:t,data:n,invokeOptions:r,resolver:i}=e;this.apply(t,n,r).then(e=>i.resolve(e)).catch(e=>i.reject(e))}_close(){this._channel&&=void 0,this._port.removeEventListener(`message`,this._onMessage),this._port.close(),this._outJobs.forEach(e=>{qd(e.abortHandle),e.reject(Qd(`Worker closing, aborting job calling '${e.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null,this._onMessage=null,this._channel=null,this._jobQueue=void 0,this._invokeQueue=void 0,this._lowPriorityJobQueue=void 0}_onMessage(e){this._schedule==null?this._processMessage(e,!1):this._schedule(()=>this._processMessage(e,!0))}_processMessage(e,t){let n=iM(e);if(n)switch(n.type){case sM:this._onResponseMessage(n);break;case Qde:t?this._onInvokeMessage(n):this._invokeQueue.push(n);break;case oM:this._onAbortMessage(n);break;case aM:this._onCloseMessage();break;case $de:this._onOpenPortMessage(n);break;case efe:this._onOnMessage(n)}}_onAbortMessage(e){let t=this._inJobs,n=e.jobId,r=t.get(n);this._invokeQueue.push(e),r&&(r.controller&&r.controller.abort(),t.delete(n))}_onCloseMessage(){let t=this._client;this._close(),t&&`destroy`in t&&e.clients.get(this)===t&&t.destroy(),e.clients.delete(this),t?.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(e){let{methodName:t,jobId:n,data:r=[],abortable:i}=e,a=i?new AbortController:null,o=this._inJobs,s,c=this._client,l=c[t];try{if(!l&&t&&t.includes(`.`)){let e=t.split(`.`);for(let t=0;t<e.length-1;t++)c=c[e[t]],l=c[e[t+1]]}if(typeof l!=`function`)throw TypeError(`${t} is not a function`);r.push({client:this,signal:a?a.signal:null}),s=l.apply(c,r)}catch(e){this._post({type:sM,jobId:n,error:rM(e)});return}gf(s)?(o.set(n,{controller:a,promise:s}),s.then(e=>{o.has(n)&&(o.delete(n),this._post({type:sM,jobId:n},e))},e=>{o.has(n)&&(o.delete(n),lf(e)||this._post({type:sM,jobId:n,error:rM(e||{message:`Error encountered at method ${t}`})}))})):this._post({type:sM,jobId:n},s)}_onOpenPortMessage(t){new e(t.port,{client:this._client})}_onOnMessage(e){let{port:t}=e,n=this._client.on(e.eventType,e=>{t.postMessage(e)}),r=Vd(e.port,`message`,e=>{iM(e)?.type===aM&&(r.remove(),n.remove(),t.close())})}_onResponseMessage(e){let{jobId:t,error:n,data:r}=e,i=this._outJobs;if(!i.has(t))return;let a=i.get(t);i.delete(t),this._processWork(),qd(a.abortHandle),n?a.reject(M.fromJSON(JSON.parse(n))):a.resolve(r)}_post(e,t,n){return Jde(this._port,e,t,n)}},rfe=class{constructor(){this._inUseClients=[],this._clients=[],this._clientPromises=[],this._ongoingJobsQueue=new tM,this._ongoingLowPriorityJobsQueue=new tM}destroy(){this.close()}get closed(){return!this._clients?.length}open(e,t){return new Promise((n,r)=>{let i=!0,a=e=>{$d(t.signal),i&&(i=!1,e())};this._clients.length=e.length,this._clientPromises.length=e.length,this._inUseClients.length=e.length;for(let i=0;i<e.length;++i){let o=e[i];gf(o)?this._clientPromises[i]=o.then(e=>(this._clients[i]=new cM(e,t,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),a(n),this._clients[i]),()=>(a(r),null)):(this._clients[i]=new cM(o,t,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),this._clientPromises[i]=Promise.resolve(this._clients[i]),a(n))}})}broadcast(e,t,n){let r=Array(this._clientPromises.length);for(let i=0;i<this._clientPromises.length;++i)r[i]=this._clientPromises[i].then(r=>r?.invoke(e,t,n));return r}close(){let e;for(;e=this._ongoingJobsQueue.pop();)e.resolver.reject(Qd(`Worker closing, aborting job calling '${e.methodName}'`));for(;e=this._ongoingLowPriorityJobsQueue.pop();)e.resolver.reject(Qd(`Worker closing, aborting job calling '${e.methodName}'`));for(let e of this._clientPromises)e.then(e=>e?.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,Bde(this)}invoke(e,t,n){return this.apply(e,[t],n)}apply(e,t,n){let r=yf();(n?.priority===`low`?this._ongoingLowPriorityJobsQueue:this._ongoingJobsQueue).push({methodName:e,data:t,invokeOptions:n,resolver:r});for(let e=0;e<this._clientPromises.length;e++){let t=this._clients[e];t?t.jobAdded():this._clientPromises[e].then(e=>e?.jobAdded())}return r.promise}createInvokeProxy(e){return Vde(this,e)}on(e,t){return Promise.all(this._clientPromises).then(()=>kd(this._clients.map(n=>n.on(e,t))))}openPorts(){return new Promise(e=>{let t=Array(this._clientPromises.length),n=t.length;for(let r=0;r<this._clientPromises.length;++r)this._clientPromises[r].then(i=>{i&&(t[r]=i.openPort()),--n===0&&e(t)})})}get test(){}},ife={async request(e,t){let n=e.options,r=n.responseType;n.signal=t?.signal,n.responseType=r===`native`||r===`native-request-init`?`native-request-init`:r&&[`blob`,`json`,`text`].includes(r)&&vu(e.url)?.after?r:`array-buffer`;let i=await gp(e.url,n),a={data:i.data,httpStatus:i.httpStatus,ssl:i.ssl};switch(i.requestOptions?.responseType){case`native-request-init`:return delete a.data.signal,a;case`blob`:a.data=await a.data.arrayBuffer();break;case`json`:a.data=new TextEncoder().encode(JSON.stringify(a.data)).buffer;break;case`text`:a.data=new TextEncoder().encode(a.data).buffer}return{result:a,transferList:[a.data]}}},lM={};function afe(e){let t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:e.packages?.slice()||[],paths:{...lM.paths,...e.paths}};return e.hasOwnProperty(`async`)||(t.async=!0),e.hasOwnProperty(`isDebug`)||(t.isDebug=!1),e.baseUrl||(t.baseUrl=lM.baseUrl),t}var ofe=class{constructor(){let e=document.createDocumentFragment();[`addEventListener`,`dispatchEvent`,`removeEventListener`].forEach(t=>{this[t]=(...n)=>e[t](...n)})}},uM=class{constructor(){this._dispatcher=new ofe,this._workerPostMessage({type:nM.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&this.removeEventListener(`message`,this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener(`message`,e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener(`messageerror`,this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener(`messageerror`,e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener(`error`,this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener(`error`,e)}postMessage(e){Xm(()=>{this._workerMessageHandler(new MessageEvent(`message`,{data:e}))})}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,t,n){this._dispatcher.addEventListener(e,t,n)}removeEventListener(e,t,n){this._dispatcher.removeEventListener(e,t,n)}_workerPostMessage(e){Xm(()=>{this.dispatchEvent(new MessageEvent(`message`,{data:e}))})}async _workerMessageHandler(e){let t=iM(e);if(t&&t.type===nM.OPEN){let{modulePath:e,jobId:n}=t,r=await cM.loadWorker(e);r||=await N(()=>import(e),[]);let i=cM.connect(r);this._workerPostMessage({type:nM.OPENED,jobId:n,data:i})}}},dM=()=>j.getLogger(`esri.core.workers.workerFactory`),{HANDSHAKE:sfe}=nM,cfe='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}).finally(()=>{t&&t.removeEventListener("abort",s)})}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://esriurl.com/using-local-assets.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(e=>e||new Promise(e=>{require([o.modulePath],e)})).then(t)}):"System"in self&&"function"==typeof System.import?System.import(workerPath).then(e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath))).then(e=>e||System.import(o.modulePath)).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(e=>e||import(o.modulePath)).then(t)}):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});',fM,pM,mM=`Failed to create Worker. Fallback to execute module in main thread`;async function lfe(){if(!k(`esri-workers`))return hM(new uM);if(!fM&&!pM)try{let e=cfe.split(`{CONFIGURATION}`).join(ufe());fM=URL.createObjectURL(new Blob([e],{type:`text/javascript`}))}catch(e){pM=e||{}}let e;if(fM)try{e=new Worker(fM,{name:`esri-worker-`+ dfe++})}catch{dM().warn(mM,pM),e=new uM}else dM().warn(mM,pM),e=new uM;return hM(e)}async function hM(e){return new Promise(t=>{function n(i){let a=iM(i);a&&a.type===sfe&&(e.removeEventListener(`message`,n),e.removeEventListener(`error`,r),t(e))}function r(t){t.preventDefault(),e.removeEventListener(`message`,n),e.removeEventListener(`error`,r),dM().warn(`Failed to create Worker. Fallback to execute module in main thread`,t),(e=new uM).addEventListener(`message`,n),e.addEventListener(`error`,r)}e.addEventListener(`message`,n),e.addEventListener(`error`,r)})}function ufe(){let e;if(vl.default!=null){let t={...vl};delete t.default,e=JSON.parse(JSON.stringify(t))}else e=JSON.parse(JSON.stringify(vl));e.assetsPath=Su(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?Su(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=pb(),e.has={"esri-csp-restrictions":k(`esri-csp-restrictions`),"esri-2d-debug":!1,"esri-2d-update-debug":k(`esri-2d-update-debug`),"esri-2d-log-updating":k(`esri-2d-log-updating`),"featurelayer-pbf":k(`featurelayer-pbf`),"featurelayer-fast-triangulation-enabled":k(`featurelayer-fast-triangulation-enabled`),"featurelayer-simplify-thresholds":k(`featurelayer-simplify-thresholds`),"featurelayer-simplify-payload-size-factors":k(`featurelayer-simplify-payload-size-factors`),"featurelayer-simplify-mobile-factor":k(`featurelayer-simplify-mobile-factor`),"featurelayer-query-max-depth":k(`featurelayer-query-max-depth`),"featurelayer-query-tile-max-features":k(`featurelayer-query-tile-max-features`),"featurelayer-query-tile-concurrency":k(`featurelayer-query-tile-concurrency`),"featurelayer-query-pausing-enabled":k(`featurelayer-query-pausing-enabled`),"featurelayer-snapshot-concurrency":k(`featurelayer-snapshot-concurrency`),"featurelayer-snapshot-enabled":k(`featurelayer-snapshot-enabled`),"parquetlayer-full-query-feature-count":k(`parquetlayer-full-query-feature-count`),"esri-atomics":k(`esri-atomics`),"esri-shared-array-buffer":k(`esri-shared-array-buffer`),"esri-tiles-debug":k(`esri-tiles-debug`),"esri-workers-arraybuffer-transfer":k(`esri-workers-arraybuffer-transfer`),"feature-polyline-generalization-factor":k(`feature-polyline-generalization-factor`),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=Su(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=Su(e.workers.workerPath):e.workers.workerPath=Su(V_(`esri/core/workers/RemoteClient.js`)),e.workers.useDynamicImport=!1;let t=vl.workers.loaderConfig,n=afe({baseUrl:t?.baseUrl,locale:pb(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t?.has},map:{...t?.map},paths:{...t?.paths},packages:t?.packages||[]}),r={buildDate:pd,fullVersion:_d,revision:md};return JSON.stringify({esriConfig:e,loaderConfig:n,kernelInfo:r})}var dfe=0,{ABORT:gM,INVOKE:ffe,OPEN:pfe,OPENED:mfe,RESPONSE:_M}=nM,hfe=class e{static async create(t){let n=await lfe();return new e(n,t)}constructor(e,t){this._outJobs=new Map,this._inJobs=new Map,this.worker=e,this.id=t,e.addEventListener(`message`,this._onMessage.bind(this)),e.addEventListener(`error`,e=>{e.preventDefault(),j.getLogger(`esri.core.workers.WorkerOwner`).error(e)})}terminate(){this.worker.terminate()}async open(e,t={}){let{signal:n}=t,r=Kde();return new Promise((t,i)=>{let a={resolve:t,reject:i,abortHandle:sf(n,()=>{this._outJobs.delete(r),this._post({type:gM,jobId:r})})};this._outJobs.set(r,a),this._post({type:pfe,jobId:r,modulePath:e})})}_onMessage(e){let t=iM(e);if(t)switch(t.type){case mfe:this._onOpenedMessage(t);break;case _M:this._onResponseMessage(t);break;case gM:this._onAbortMessage(t);break;case ffe:this._onInvokeMessage(t)}}_onAbortMessage(e){let t=this._inJobs,n=e.jobId,r=t.get(n);r&&(r.controller&&r.controller.abort(),t.delete(n))}_onInvokeMessage(e){let{methodName:t,jobId:n,data:r,abortable:i}=e,a=i?new AbortController:null,o=this._inJobs,s=ife[t],c;try{if(typeof s!=`function`)throw TypeError(`${t} is not a function`);c=s.call(null,r,{signal:a?a.signal:null})}catch(e){this._post({type:_M,jobId:n,error:rM(e)});return}gf(c)?(o.set(n,{controller:a,promise:c}),c.then(e=>{o.has(n)&&(o.delete(n),this._post({type:_M,jobId:n},e))},e=>{o.has(n)&&(o.delete(n),e||={message:`Error encountered at method`+t},lf(e)||this._post({type:_M,jobId:n,error:rM(e||{message:`Error encountered at method ${t}`})}))})):this._post({type:_M,jobId:n},c)}_onOpenedMessage(e){let{jobId:t,data:n}=e,r=this._outJobs.get(t);r&&(this._outJobs.delete(t),qd(r.abortHandle),r.resolve(n))}_onResponseMessage(e){let{jobId:t,error:n,data:r}=e,i=this._outJobs.get(t);i&&(this._outJobs.delete(t),qd(i.abortHandle),n?i.reject(M.fromJSON(JSON.parse(n))):i.resolve(r))}_post(e,t,n){return Jde(this.worker,e,t,n)}},vM=k(`host-browser`)?Math.min(navigator.hardwareConcurrency-1,k(`workers-pool-size`)??8):0,yM=k(`esri-mobile`)?Math.min(vM,3):vM;yM||=k(`safari`)&&k(`mac`)?7:2;var bM=0,xM=[];function gfe(){TM()}async function SM(e,t){let n=new rfe,{registryTarget:r,...i}=t;return await n.open(e,i),r&&zde(r,n),n}async function CM(e,t={}){if(typeof e!=`string`)throw new M(`workers:undefined-module`,`modulePath is missing`);let n=t.strategy||`distributed`;if(k(`host-webworker`)&&!k(`esri-workers`)&&(n=`local`),n===`local`){let n=await cM.loadWorker(e);n||=await N(()=>import(e),[]),$d(t.signal);let r=t.client||n;return SM([cM.connect(n,t.schedule)],{...t,client:r})}if(await TM(),$d(t.signal),n===`dedicated`){let n=bM++%yM;return SM([await xM[n].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){let n=Math.min(t.maxNumWorkers,yM);if(n<yM){let r=Array(n);for(let i=0;i<n;++i){let n=bM++%yM;r[i]=xM[n].open(e,t)}return SM(r,t)}}return SM(xM.map(n=>n.open(e,t)),t)}var wM=null;async function TM(){if(wM)return wM;new AbortController;let e=[];for(let t=0;t<yM;t++){let n=hfe.create(t).then(e=>(xM[t]=e,e));e.push(n)}return wM=Promise.all(e),wM}var EM=class extends L{constructor(e){super(e),this.addHandles([this.on(`before-add`,e=>{e.item??e.preventDefault()}),this.on(`after-add`,e=>this._own(e.item)),this.on(`after-remove`,e=>this._release(e.item))])}get owner(){return this._get(`owner`)}set owner(e){this.destroyed||e!==this._get(`owner`)&&(this._releaseAll(),this._set(`owner`,e),this._ownAll())}_ownAll(){for(let e of this.items)this._own(e)}_releaseAll(){for(let e of this.items)this._release(e)}_createNewInstance(e){return this.itemType?new(L.ofType(this.itemType.Type))(e):new L(e)}};function DM(e,t){return{type:e,cast:d_,set(n){let r=u_(n,this._get(t),e);r&&!r.destroyed&&(r.owner=this),this._set(t,r)}}}O([P()],EM.prototype,`owner`,null),EM=O([F(`esri.core.support.OwningCollection`)],EM);var OM,kM=class extends R{static{OM=this}constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new OM({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};O([P({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],kM.prototype,`cols`,void 0),O([P({type:dg,json:{write:!0}})],kM.prototype,`level`,void 0),O([P({type:String,json:{write:!0}})],kM.prototype,`levelValue`,void 0),O([P({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],kM.prototype,`origin`,void 0),O([P({type:Number,json:{write:!0}})],kM.prototype,`resolution`,void 0),O([P({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],kM.prototype,`rows`,void 0),O([P({type:Number,json:{write:!0}})],kM.prototype,`scale`,void 0),kM=OM=O([F(`esri.layers.support.LOD`)],kM);var AM=class e{constructor(e,t,n,r=oD()){this._level=e,this._row=t,this._col=n,this.extent=r}get id(){return this._id??=`${this.level}/${this.row}/${this.col}`,this._id}get level(){return this._level}set level(e){this._level=e,this._id=null}get row(){return this._row}set row(e){this._row=e,this._id=null}get col(){return this._col}set col(e){this._col=e,this._id=null}toJSON(){return{level:this._level,row:this._row,col:this._col,extent:this.extent}}static fromJSON(t){return new e(t.level,t.row,t.col,t.extent)}},jM,MM=new P_({PNG:`png`,PNG8:`png8`,PNG24:`png24`,PNG32:`png32`,JPEG:`jpg`,JPG:`jpg`,DIB:`dib`,TIFF:`tiff`,EMF:`emf`,PS:`ps`,PDF:`pdf`,GIF:`gif`,SVG:`svg`,SVGZ:`svgz`,Mixed:`mixed`,MIXED:`mixed`,LERC:`lerc`,LERC2D:`lerc2d`,RAW:`raw`,pbf:`pbf`}),NM=class extends R{static{jM=this}static create(e={}){let{resolutionFactor:t=1,scales:n,size:r=256,spatialReference:i=U.WebMercator,numLODs:a=24}=e;if(!Mv(i)){let e=[];if(n)for(let t=0;t<n.length;t++){let r=n[t];e.push(new kM({level:t,scale:r,resolution:r}))}else{let t=5e-4;for(let n=a-1;n>=0;n--)e.unshift(new kM({level:n,scale:t,resolution:t})),t*=2}return new jM({dpi:96,lods:e,origin:new Vy(0,0,i),size:[r,r],spatialReference:i})}let o=yv(i),s=e.origin?new Vy({x:e.origin.x,y:e.origin.y,spatialReference:i}):new Vy(o?{x:o.origin[0],y:o.origin[1],spatialReference:i}:{x:0,y:0,spatialReference:i}),c=1/(dy(i)*39.37*96),l=[];if(n)for(let e=0;e<n.length;e++){let t=n[e],r=t*c;l.push(new kM({level:e,scale:t,resolution:r}))}else{let e=xv(i)?512/r*591657527.5917094:256/r*591657527.591555,n=Math.ceil(a/t);l.push(new kM({level:0,scale:e,resolution:e*c}));for(let r=1;r<n;r++){let n=e/2**t,i=n*c;l.push(new kM({level:r,scale:n,resolution:i})),e=n}}return new jM({dpi:96,lods:l,origin:s,size:[r,r],spatialReference:i})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){let{spatialReference:e,origin:t}=this;if(e&&t){let n=yv(e);return e.isWrappable&&!!n&&Math.abs(n.origin[0]-t.x)<=n.dx}return!1}readOrigin(e,t){return Vy.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,n=0,r=[],i=this._levelToLOD={};e&&(t=-1/0,n=1/0,e.forEach(e=>{r.push(e.scale),t=e.scale>t?e.scale:t,n=e.scale<n?e.scale:n,i[e.level]=e})),this._set(`scales`,r),this._set(`lods`,e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){let t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];let n=Math.floor(e),r=n+1;return t[n]/(t[n]/t[r])**(e-n)}scaleToZoom(e){let t=this.scales,n=t.length-1,r=0;for(;r<n;r++){let n=t[r],i=t[r+1];if(n<=e)return r;if(i===e)return r+1;if(n>e&&i<e)return r+Math.log(n/e)/Math.log(n/i)}return r}tileAt(e,t,n,r){let i=this.lodAt(e);if(!i)return null;let a,o;if(typeof t==`number`)a=t,o=n;else if(vv(t.spatialReference,this.spatialReference))a=t.x,o=t.y,r=n;else{let e=Ay(t,this.spatialReference);if(e==null)return null;a=e.x,o=e.y,r=n}let s=i.resolution*this.size[0],c=i.resolution*this.size[1];return r??=new AM(0,0,0),r.level=e,r.row=Math.floor((this.origin.y-o)/c+.001),r.col=Math.floor((a-this.origin.x)/s+.001),this.updateTileInfo(r),r}updateTileInfo(e,t=0){if(!(`extent`in e))return!1;let n=this.lodAt(e.level);if(!n&&t===1){let t=this.lods[this.lods.length-1];t.level<e.level&&(n=t)}if(!n)return!1;let r=e.level-n.level,i=n.resolution*this.size[0]/2**r,a=n.resolution*this.size[1]/2**r;return e.extent[0]=this.origin.x+e.col*i,e.extent[1]=this.origin.y-(e.row+1)*a,e.extent[2]=e.extent[0]+i,e.extent[3]=e.extent[1]+a,!0}upsampleTile(e){let t=this._upsampleLevels[e.level];return!(!t||t.parentLevel===-1)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){let n=this.lodAt(t.level);if(n==null)return null;let{resolution:r}=n,i=r*this.size[0],a=r*this.size[1];return e[0]=this.origin.x+t.col*i,e[1]=this.origin.y-(t.row+1)*a,e[2]=e[0]+i,e[3]=e[1]+a,e}lodAt(e){return this._levelToLOD?.[e]??null}clone(){return jM.fromJSON(this.write({}))}getCompatibleForVTL(e){if(this.size[0]!==this.size[1]||this.size[0]===256&&e===512)return null;let t=(this.size[0]===512&&e===256?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===e&&t===0)return this;let n=[],r=this.lods.length-t;for(let e=0;e<r;e++){let r=e+t,{scale:i,resolution:a}=r>=0?this.lods[r]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};n.push(new kM({level:e,scale:i,resolution:a}))}return new jM({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:n})}_initializeUpsampleLevels(){let e=this.lods;this._upsampleLevels=[];let t=null;for(let n=0;n<e.length;n++){let r=e[n];this._upsampleLevels[r.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/r.resolution:0},t=r}}};O([P({type:Number,json:{write:!0}})],NM.prototype,`compressionQuality`,void 0),O([P({type:Number,json:{write:!0}})],NM.prototype,`dpi`,void 0),O([P({type:String,json:{read:MM.read,write:MM.write,origins:{"web-scene":{read:!1,write:!1}}}})],NM.prototype,`format`,void 0),O([P({readOnly:!0})],NM.prototype,`isWrappable`,null),O([P({type:Vy,json:{write:!0}})],NM.prototype,`origin`,void 0),O([W(`origin`)],NM.prototype,`readOrigin`,null),O([P({type:[kM],value:null,json:{write:!0}})],NM.prototype,`lods`,null),O([P({readOnly:!0})],NM.prototype,`scales`,void 0),O([P({cast:e=>Array.isArray(e)?e:typeof e==`number`?[e,e]:[256,256]})],NM.prototype,`size`,void 0),O([W(`size`,[`rows`,`cols`])],NM.prototype,`readSize`,null),O([z(`size`,{cols:{type:dg},rows:{type:dg}})],NM.prototype,`writeSize`,null),O([P({type:U,json:{write:!0}})],NM.prototype,`spatialReference`,void 0),NM=jM=O([F(`esri.layers.support.TileInfo`)],NM);var PM=class extends EM{constructor(e){super(e),this.addHandles(this.on(`before-add`,e=>{e.item!=null&&e.item.parent===this.owner&&(j.getLogger(this).warn(`Analysis inside the collection must be unique. Not adding this element again.`),e.preventDefault())}))}_own(e){e.parent=this.owner}_release(e){e.parent=null}};PM=O([F(`esri.support.AnalysesCollection`)],PM);var FM={widthBreakpoint:{getValue(e){let t=e.viewSize[0],n=e.breakpoints,r=this.values;return t<=n.xsmall?r.xsmall:t<=n.small?r.small:t<=n.medium?r.medium:t<=n.large?r.large:r.xlarge},values:{xsmall:`xsmall`,small:`small`,medium:`medium`,large:`large`,xlarge:`xlarge`},valueToClassName:{xsmall:`esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge`,small:`esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge`,medium:`esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge`,large:`esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge`,xlarge:`esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large`}},heightBreakpoint:{getValue(e){let t=e.viewSize[1],n=e.breakpoints,r=this.values;return t<=n.xsmall?r.xsmall:t<=n.small?r.small:t<=n.medium?r.medium:t<=n.large?r.large:r.xlarge},values:{xsmall:`xsmall`,small:`small`,medium:`medium`,large:`large`,xlarge:`xlarge`},valueToClassName:{xsmall:`esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge`,small:`esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge`,medium:`esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge`,large:`esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge`,xlarge:`esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large`}},orientation:{getValue(e){let t=e.viewSize,n=t[0],r=t[1],i=this.values;return r>=n?i.portrait:i.landscape},values:{portrait:`portrait`,landscape:`landscape`},valueToClassName:{portrait:`esri-view-orientation-portrait`,landscape:`esri-view-orientation-landscape`}}},IM={xsmall:544,small:768,medium:992,large:1200};function _fe(e){let t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}function LM(e,t){return t?FM[e].valueToClassName[t].split(` `):[]}var vfe=e=>{let t=e,n=class extends t{constructor(...e){super(...e),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=IM}initialize(){this.addHandles(q(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),Yw))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(e){if(e!==this._get(`breakpoints`)){if(!_fe(e)){let t=JSON.stringify(IM,null,2);console.warn(`provided breakpoints are not valid, using defaults:`+t),e=IM}this._set(`breakpoints`,{...e})}}_updateClassNames(){if(!this.container)return;let e=qp.acquire(),t=qp.acquire(),n,r=!1;for(n in FM){let i=this[n],a=FM[n].getValue({viewSize:this.size,breakpoints:this.breakpoints});i!==a&&(r=!0,this[n]=a,LM(n,i).forEach(e=>t.push(e)),LM(n,a).forEach(t=>e.push(t)))}r&&(this._applyClassNameChanges(e,t),qp.release(e),qp.release(t))}_applyClassNameChanges(e,t){let n=this.container;n&&(t.forEach(e=>n.classList.remove(e)),e.forEach(e=>n.classList.add(e)))}_removeActiveClassNames(){let e=this.container;if(!e)return;let t;for(t in FM)LM(t,this[t]).forEach(t=>e.classList.remove(t))}};return O([P()],n.prototype,`breakpoints`,null),O([P()],n.prototype,`orientation`,void 0),O([P()],n.prototype,`widthBreakpoint`,void 0),O([P()],n.prototype,`heightBreakpoint`,void 0),n=O([F(`esri.views.BreakpointsOwner`)],n),n};function RM(e){return typeof e==`string`?document.getElementById(e):e??null}function zM(e,t){for(;;){let n=e.firstChild;if(!n)break;t.appendChild(n)}}var BM=class extends I{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(e,t,n={}){return this._installWatch(e,t,n,q)}addWhen(e,t,n={}){return this._installWatch(e,t,n,Hw)}addOnCollectionChange(e,t,{initial:n=!1,final:r=!1}={}){let i=++this._handleId;return this.addHandles([Ww(e,`after-changes`,this._createSyncUpdatingCallback(),Jw),Ww(e,`change`,t,{onListenerAdd:n?e=>t({added:e.toArray(),removed:[]}):void 0,onListenerRemove:r?e=>t({added:[],removed:e.toArray()}):void 0})],i),Ed(()=>this.removeHandles(i))}addPromise(e){if(e==null)return e;let t=++this._handleId;this.addHandles(Ed(()=>{this._pendingPromises.delete(e)&&(this._pendingPromises.size!==0||this.hasHandles(VM)||this._set(`updating`,!1))}),t),this._pendingPromises.add(e),this._set(`updating`,!0);let n=()=>this.removeHandles(t);return e.then(n,n),e}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set(`updating`,!1)}_installWatch(e,t,n={},r){let i=++this._handleId;n.sync||this._installSyncUpdatingWatch(e,i);let a=r(e,t,n);return this.addHandles(a,i),Ed(()=>this.removeHandles(i))}_installSyncUpdatingWatch(e,t){let n=this._createSyncUpdatingCallback(),r=q(e,n,{sync:!0,equals:()=>!1});return this.addHandles(r,t),r}_createSyncUpdatingCallback(){return()=>{this.removeHandles(VM),++this._scheduleHandleId;let e=this._scheduleHandleId;this._get(`updating`)||this._set(`updating`,!0),this.addHandles(ph(()=>{e===this._scheduleHandleId&&(this._set(`updating`,this._pendingPromises.size>0),this.removeHandles(VM))}),VM)}}};O([P({readOnly:!0})],BM.prototype,`updating`,void 0),BM=O([F(`esri.core.support.UpdatingHandles`)],BM);var VM=-42,HM=function(){return HM=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},HM.apply(this,arguments)},UM={exports:{}},WM={},GM={exports:{}},KM={};function qM(){var e={};return e[`align-content`]=!1,e[`align-items`]=!1,e[`align-self`]=!1,e[`alignment-adjust`]=!1,e[`alignment-baseline`]=!1,e.all=!1,e[`anchor-point`]=!1,e.animation=!1,e[`animation-delay`]=!1,e[`animation-direction`]=!1,e[`animation-duration`]=!1,e[`animation-fill-mode`]=!1,e[`animation-iteration-count`]=!1,e[`animation-name`]=!1,e[`animation-play-state`]=!1,e[`animation-timing-function`]=!1,e.azimuth=!1,e[`backface-visibility`]=!1,e.background=!0,e[`background-attachment`]=!0,e[`background-clip`]=!0,e[`background-color`]=!0,e[`background-image`]=!0,e[`background-origin`]=!0,e[`background-position`]=!0,e[`background-repeat`]=!0,e[`background-size`]=!0,e[`baseline-shift`]=!1,e.binding=!1,e.bleed=!1,e[`bookmark-label`]=!1,e[`bookmark-level`]=!1,e[`bookmark-state`]=!1,e.border=!0,e[`border-bottom`]=!0,e[`border-bottom-color`]=!0,e[`border-bottom-left-radius`]=!0,e[`border-bottom-right-radius`]=!0,e[`border-bottom-style`]=!0,e[`border-bottom-width`]=!0,e[`border-collapse`]=!0,e[`border-color`]=!0,e[`border-image`]=!0,e[`border-image-outset`]=!0,e[`border-image-repeat`]=!0,e[`border-image-slice`]=!0,e[`border-image-source`]=!0,e[`border-image-width`]=!0,e[`border-left`]=!0,e[`border-left-color`]=!0,e[`border-left-style`]=!0,e[`border-left-width`]=!0,e[`border-radius`]=!0,e[`border-right`]=!0,e[`border-right-color`]=!0,e[`border-right-style`]=!0,e[`border-right-width`]=!0,e[`border-spacing`]=!0,e[`border-style`]=!0,e[`border-top`]=!0,e[`border-top-color`]=!0,e[`border-top-left-radius`]=!0,e[`border-top-right-radius`]=!0,e[`border-top-style`]=!0,e[`border-top-width`]=!0,e[`border-width`]=!0,e.bottom=!1,e[`box-decoration-break`]=!0,e[`box-shadow`]=!0,e[`box-sizing`]=!0,e[`box-snap`]=!0,e[`box-suppress`]=!0,e[`break-after`]=!0,e[`break-before`]=!0,e[`break-inside`]=!0,e[`caption-side`]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e[`clip-path`]=!1,e[`clip-rule`]=!1,e.color=!0,e[`color-interpolation-filters`]=!0,e[`column-count`]=!1,e[`column-fill`]=!1,e[`column-gap`]=!1,e[`column-rule`]=!1,e[`column-rule-color`]=!1,e[`column-rule-style`]=!1,e[`column-rule-width`]=!1,e[`column-span`]=!1,e[`column-width`]=!1,e.columns=!1,e.contain=!1,e.content=!1,e[`counter-increment`]=!1,e[`counter-reset`]=!1,e[`counter-set`]=!1,e.crop=!1,e.cue=!1,e[`cue-after`]=!1,e[`cue-before`]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e[`display-inside`]=!0,e[`display-list`]=!0,e[`display-outside`]=!0,e[`dominant-baseline`]=!1,e.elevation=!1,e[`empty-cells`]=!1,e.filter=!1,e.flex=!1,e[`flex-basis`]=!1,e[`flex-direction`]=!1,e[`flex-flow`]=!1,e[`flex-grow`]=!1,e[`flex-shrink`]=!1,e[`flex-wrap`]=!1,e.float=!1,e[`float-offset`]=!1,e[`flood-color`]=!1,e[`flood-opacity`]=!1,e[`flow-from`]=!1,e[`flow-into`]=!1,e.font=!0,e[`font-family`]=!0,e[`font-feature-settings`]=!0,e[`font-kerning`]=!0,e[`font-language-override`]=!0,e[`font-size`]=!0,e[`font-size-adjust`]=!0,e[`font-stretch`]=!0,e[`font-style`]=!0,e[`font-synthesis`]=!0,e[`font-variant`]=!0,e[`font-variant-alternates`]=!0,e[`font-variant-caps`]=!0,e[`font-variant-east-asian`]=!0,e[`font-variant-ligatures`]=!0,e[`font-variant-numeric`]=!0,e[`font-variant-position`]=!0,e[`font-weight`]=!0,e.grid=!1,e[`grid-area`]=!1,e[`grid-auto-columns`]=!1,e[`grid-auto-flow`]=!1,e[`grid-auto-rows`]=!1,e[`grid-column`]=!1,e[`grid-column-end`]=!1,e[`grid-column-start`]=!1,e[`grid-row`]=!1,e[`grid-row-end`]=!1,e[`grid-row-start`]=!1,e[`grid-template`]=!1,e[`grid-template-areas`]=!1,e[`grid-template-columns`]=!1,e[`grid-template-rows`]=!1,e[`hanging-punctuation`]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e[`image-orientation`]=!1,e[`image-resolution`]=!1,e[`ime-mode`]=!1,e[`initial-letters`]=!1,e[`inline-box-align`]=!1,e[`justify-content`]=!1,e[`justify-items`]=!1,e[`justify-self`]=!1,e.left=!1,e[`letter-spacing`]=!0,e[`lighting-color`]=!0,e[`line-box-contain`]=!1,e[`line-break`]=!1,e[`line-grid`]=!1,e[`line-height`]=!1,e[`line-snap`]=!1,e[`line-stacking`]=!1,e[`line-stacking-ruby`]=!1,e[`line-stacking-shift`]=!1,e[`line-stacking-strategy`]=!1,e[`list-style`]=!0,e[`list-style-image`]=!0,e[`list-style-position`]=!0,e[`list-style-type`]=!0,e.margin=!0,e[`margin-bottom`]=!0,e[`margin-left`]=!0,e[`margin-right`]=!0,e[`margin-top`]=!0,e[`marker-offset`]=!1,e[`marker-side`]=!1,e.marks=!1,e.mask=!1,e[`mask-box`]=!1,e[`mask-box-outset`]=!1,e[`mask-box-repeat`]=!1,e[`mask-box-slice`]=!1,e[`mask-box-source`]=!1,e[`mask-box-width`]=!1,e[`mask-clip`]=!1,e[`mask-image`]=!1,e[`mask-origin`]=!1,e[`mask-position`]=!1,e[`mask-repeat`]=!1,e[`mask-size`]=!1,e[`mask-source-type`]=!1,e[`mask-type`]=!1,e[`max-height`]=!0,e[`max-lines`]=!1,e[`max-width`]=!0,e[`min-height`]=!0,e[`min-width`]=!0,e[`move-to`]=!1,e[`nav-down`]=!1,e[`nav-index`]=!1,e[`nav-left`]=!1,e[`nav-right`]=!1,e[`nav-up`]=!1,e[`object-fit`]=!1,e[`object-position`]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e[`outline-color`]=!1,e[`outline-offset`]=!1,e[`outline-style`]=!1,e[`outline-width`]=!1,e.overflow=!1,e[`overflow-wrap`]=!1,e[`overflow-x`]=!1,e[`overflow-y`]=!1,e.padding=!0,e[`padding-bottom`]=!0,e[`padding-left`]=!0,e[`padding-right`]=!0,e[`padding-top`]=!0,e.page=!1,e[`page-break-after`]=!1,e[`page-break-before`]=!1,e[`page-break-inside`]=!1,e[`page-policy`]=!1,e.pause=!1,e[`pause-after`]=!1,e[`pause-before`]=!1,e.perspective=!1,e[`perspective-origin`]=!1,e.pitch=!1,e[`pitch-range`]=!1,e[`play-during`]=!1,e.position=!1,e[`presentation-level`]=!1,e.quotes=!1,e[`region-fragment`]=!1,e.resize=!1,e.rest=!1,e[`rest-after`]=!1,e[`rest-before`]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e[`rotation-point`]=!1,e[`ruby-align`]=!1,e[`ruby-merge`]=!1,e[`ruby-position`]=!1,e[`shape-image-threshold`]=!1,e[`shape-outside`]=!1,e[`shape-margin`]=!1,e.size=!1,e.speak=!1,e[`speak-as`]=!1,e[`speak-header`]=!1,e[`speak-numeral`]=!1,e[`speak-punctuation`]=!1,e[`speech-rate`]=!1,e.stress=!1,e[`string-set`]=!1,e[`tab-size`]=!1,e[`table-layout`]=!1,e[`text-align`]=!0,e[`text-align-last`]=!0,e[`text-combine-upright`]=!0,e[`text-decoration`]=!0,e[`text-decoration-color`]=!0,e[`text-decoration-line`]=!0,e[`text-decoration-skip`]=!0,e[`text-decoration-style`]=!0,e[`text-emphasis`]=!0,e[`text-emphasis-color`]=!0,e[`text-emphasis-position`]=!0,e[`text-emphasis-style`]=!0,e[`text-height`]=!0,e[`text-indent`]=!0,e[`text-justify`]=!0,e[`text-orientation`]=!0,e[`text-overflow`]=!0,e[`text-shadow`]=!0,e[`text-space-collapse`]=!0,e[`text-transform`]=!0,e[`text-underline-position`]=!0,e[`text-wrap`]=!0,e.top=!1,e.transform=!1,e[`transform-origin`]=!1,e[`transform-style`]=!1,e.transition=!1,e[`transition-delay`]=!1,e[`transition-duration`]=!1,e[`transition-property`]=!1,e[`transition-timing-function`]=!1,e[`unicode-bidi`]=!1,e[`vertical-align`]=!1,e.visibility=!1,e[`voice-balance`]=!1,e[`voice-duration`]=!1,e[`voice-family`]=!1,e[`voice-pitch`]=!1,e[`voice-range`]=!1,e[`voice-rate`]=!1,e[`voice-stress`]=!1,e[`voice-volume`]=!1,e.volume=!1,e[`white-space`]=!1,e.widows=!1,e.width=!0,e[`will-change`]=!1,e[`word-break`]=!0,e[`word-spacing`]=!0,e[`word-wrap`]=!0,e[`wrap-flow`]=!1,e[`wrap-through`]=!1,e[`writing-mode`]=!1,e[`z-index`]=!1,e}function yfe(e,t,n){}function bfe(e,t,n){}var xfe=/javascript\s*\:/gim;function Sfe(e,t){return xfe.test(t)?``:t}KM.whiteList=qM(),KM.getDefaultWhiteList=qM,KM.onAttr=yfe,KM.onIgnoreAttr=bfe,KM.safeAttrValue=Sfe;var JM={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,i;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,``)},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,``)}};function Cfe(e,t){e=JM.trimRight(e),e[e.length-1]!==`;`&&(e+=`;`);var n=e.length,r=!1,i=0,a=0,o=``;function s(){if(!r){var n=JM.trim(e.slice(i,a)),s=n.indexOf(`:`);if(s!==-1){var c=JM.trim(n.slice(0,s)),l=JM.trim(n.slice(s+1));if(c){var u=t(i,o.length,c,l,n);u&&(o+=u+`; `)}}}i=a+1}for(;a<n;a++){var c=e[a];if(c===`/`&&e[a+1]===`*`){var l=e.indexOf(`*/`,a+2);if(l===-1)break;a=l+1,i=a+1,r=!1}else c===`(`?r=!0:c===`)`?r=!1:c===`;`?r||s():c===`
`&&s()}return JM.trim(o)}var wfe=Cfe,YM=KM,Tfe=wfe;function XM(e){return e==null}function Efe(e){var t={};for(var n in e)t[n]=e[n];return t}function ZM(e){e=Efe(e||{}),e.whiteList=e.whiteList||YM.whiteList,e.onAttr=e.onAttr||YM.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||YM.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||YM.safeAttrValue,this.options=e}ZM.prototype.process=function(e){if(e||=``,e=e.toString(),!e)return``;var t=this.options,n=t.whiteList,r=t.onAttr,i=t.onIgnoreAttr,a=t.safeAttrValue;return Tfe(e,function(e,t,o,s,c){var l=n[o],u=!1;if(l===!0?u=l:typeof l==`function`?u=l(s):l instanceof RegExp&&(u=l.test(s)),u!==!0&&(u=!1),s=a(o,s),s){var d={position:t,sourcePosition:e,source:c,isWhite:u};if(u){var f=r(o,s,d);return XM(f)?o+`:`+s:f}else{var f=i(o,s,d);if(!XM(f))return f}}})};var Dfe=ZM;(function(e,t){var n=KM,r=Dfe;function i(e,t){return new r(t).process(e)}for(var a in t=e.exports=i,t.FilterCSS=r,n)t[a]=n[a]})(GM,GM.exports);var QM=GM.exports,$M={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,i;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,``)},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}},Ofe=QM.FilterCSS,kfe=QM.getDefaultWhiteList,eN=$M;function tN(){return{a:[`target`,`href`,`title`],abbr:[`title`],address:[],area:[`shape`,`coords`,`href`,`alt`],article:[],aside:[],audio:[`autoplay`,`controls`,`crossorigin`,`loop`,`muted`,`preload`,`src`],b:[],bdi:[`dir`],bdo:[`dir`],big:[],blockquote:[`cite`],br:[],caption:[],center:[],cite:[],code:[],col:[`align`,`valign`,`span`,`width`],colgroup:[`align`,`valign`,`span`,`width`],dd:[],del:[`datetime`],details:[`open`],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:[`color`,`size`,`face`],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:[`src`,`alt`,`title`,`width`,`height`],ins:[`datetime`],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:[`width`,`border`,`align`,`valign`],tbody:[`align`,`valign`],td:[`width`,`rowspan`,`colspan`,`align`,`valign`],tfoot:[`align`,`valign`],th:[`width`,`rowspan`,`colspan`,`align`,`valign`],thead:[`align`,`valign`],tr:[`rowspan`,`align`,`valign`],tt:[],u:[],ul:[],video:[`autoplay`,`controls`,`crossorigin`,`loop`,`muted`,`playsinline`,`poster`,`preload`,`src`,`height`,`width`]}}var nN=new Ofe;function Afe(e,t,n){}function jfe(e,t,n){}function Mfe(e,t,n){}function Nfe(e,t,n){}function rN(e){return e.replace(Ffe,`&lt;`).replace(Ife,`&gt;`)}function Pfe(e,t,n,r){if(n=fN(n),t===`href`||t===`src`){if(n=eN.trim(n),n===`#`)return`#`;if(!(n.substr(0,7)===`http://`||n.substr(0,8)===`https://`||n.substr(0,7)===`mailto:`||n.substr(0,4)===`tel:`||n.substr(0,11)===`data:image/`||n.substr(0,6)===`ftp://`||n.substr(0,2)===`./`||n.substr(0,3)===`../`||n[0]===`#`||n[0]===`/`))return``}else if(t===`background`){if(iN.lastIndex=0,iN.test(n))return``}else if(t===`style`){if(aN.lastIndex=0,aN.test(n)||(oN.lastIndex=0,oN.test(n)&&(iN.lastIndex=0,iN.test(n))))return``;r!==!1&&(r||=nN,n=r.process(n))}return n=pN(n),n}var Ffe=/</g,Ife=/>/g,Lfe=/"/g,Rfe=/&quot;/g,zfe=/&#([a-zA-Z0-9]*);?/gim,Bfe=/&colon;?/gim,Vfe=/&newline;?/gim,iN=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,aN=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,oN=/u\s*r\s*l\s*\(.*/gi;function sN(e){return e.replace(Lfe,`&quot;`)}function cN(e){return e.replace(Rfe,`"`)}function lN(e){return e.replace(zfe,function(e,t){return t[0]===`x`||t[0]===`X`?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))})}function uN(e){return e.replace(Bfe,`:`).replace(Vfe,` `)}function dN(e){for(var t=``,n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?` `:e.charAt(n);return eN.trim(t)}function fN(e){return e=cN(e),e=lN(e),e=uN(e),e=dN(e),e}function pN(e){return e=sN(e),e=rN(e),e}function Hfe(){return``}function Ufe(e,t){typeof t!=`function`&&(t=function(){});var n=!Array.isArray(e);function r(t){return n?!0:eN.indexOf(e,t)!==-1}var i=[],a=!1;return{onIgnoreTag:function(e,n,o){if(r(e))if(o.isClosing){var s=`[/removed]`,c=o.position+s.length;return i.push([a===!1?o.position:a,c]),a=!1,s}else return a||=o.position,`[removed]`;else return t(e,n,o)},remove:function(e){var t=``,n=0;return eN.forEach(i,function(r){t+=e.slice(n,r[0]),n=r[1]}),t+=e.slice(n),t}}}function Wfe(e){for(var t=``,n=0;n<e.length;){var r=e.indexOf(`<!--`,n);if(r===-1){t+=e.slice(n);break}t+=e.slice(n,r);var i=e.indexOf(`-->`,r);if(i===-1)break;n=i+3}return t}function Gfe(e){var t=e.split(``);return t=t.filter(function(e){var t=e.charCodeAt(0);return t===127?!1:t<=31?t===10||t===13:!0}),t.join(``)}WM.whiteList=tN(),WM.getDefaultWhiteList=tN,WM.onTag=Afe,WM.onIgnoreTag=jfe,WM.onTagAttr=Mfe,WM.onIgnoreTagAttr=Nfe,WM.safeAttrValue=Pfe,WM.escapeHtml=rN,WM.escapeQuote=sN,WM.unescapeQuote=cN,WM.escapeHtmlEntities=lN,WM.escapeDangerHtml5Entities=uN,WM.clearNonPrintableCharacter=dN,WM.friendlyAttrValue=fN,WM.escapeAttrValue=pN,WM.onIgnoreTagStripAll=Hfe,WM.StripTagBody=Ufe,WM.stripCommentTag=Wfe,WM.stripBlankChar=Gfe,WM.cssFilter=nN,WM.getDefaultCSSWhiteList=kfe;var mN={},hN=$M;function Kfe(e){var t=hN.spaceIndex(e),n=t===-1?e.slice(1,-1):e.slice(1,t+1);return n=hN.trim(n).toLowerCase(),n.slice(0,1)===`/`&&(n=n.slice(1)),n.slice(-1)===`/`&&(n=n.slice(0,-1)),n}function qfe(e){return e.slice(0,2)===`</`}function Jfe(e,t,n){var r=``,i=0,a=!1,o=!1,s=0,c=e.length,l=``,u=``;chariterator:for(s=0;s<c;s++){var d=e.charAt(s);if(a===!1){if(d===`<`){a=s;continue}}else if(o===!1){if(d===`<`){r+=n(e.slice(i,s)),a=s,i=s;continue}if(d===`>`){r+=n(e.slice(i,a)),u=e.slice(a,s+1),l=Kfe(u),r+=t(a,r.length,l,u,qfe(u)),i=s+1,a=!1;continue}if(d===`"`||d===`'`)for(var f=1,p=e.charAt(s-f);p.trim()===``||p===`=`;){if(p===`=`){o=d;continue chariterator}p=e.charAt(s-++f)}}else if(d===o){o=!1;continue}}return i<e.length&&(r+=n(e.substr(i))),r}var Yfe=/[^a-zA-Z0-9\\_:.-]/gim;function Xfe(e,t){var n=0,r=0,i=[],a=!1,o=e.length;function s(e,n){if(e=hN.trim(e),e=e.replace(Yfe,``).toLowerCase(),!(e.length<1)){var r=t(e,n||``);r&&i.push(r)}}for(var c=0;c<o;c++){var l=e.charAt(c),u,d;if(a===!1&&l===`=`){a=e.slice(n,c),n=c+1,r=e.charAt(n)===`"`||e.charAt(n)===`'`?n:Qfe(e,c+1);continue}if(a!==!1&&c===r){if(d=e.indexOf(l,c+1),d===-1)break;u=hN.trim(e.slice(r+1,d)),s(a,u),a=!1,c=d,n=c+1;continue}if(/\s|\n|\t/.test(l))if(e=e.replace(/\s|\n|\t/g,` `),a===!1)if(d=Zfe(e,c),d===-1){u=hN.trim(e.slice(n,c)),s(u),a=!1,n=c+1;continue}else{c=d-1;continue}else if(d=$fe(e,c-1),d===-1){u=hN.trim(e.slice(n,c)),u=gN(u),s(a,u),a=!1,n=c+1;continue}else continue}return n<e.length&&(a===!1?s(e.slice(n)):s(a,gN(hN.trim(e.slice(n))))),hN.trim(i.join(` `))}function Zfe(e,t){for(;t<e.length;t++){var n=e[t];if(n!==` `)return n===`=`?t:-1}}function Qfe(e,t){for(;t<e.length;t++){var n=e[t];if(n!==` `)return n===`'`||n===`"`?t:-1}}function $fe(e,t){for(;t>0;t--){var n=e[t];if(n!==` `)return n===`=`?t:-1}}function epe(e){return e[0]===`"`&&e[e.length-1]===`"`||e[0]===`'`&&e[e.length-1]===`'`}function gN(e){return epe(e)?e.substr(1,e.length-2):e}mN.parseTag=Jfe,mN.parseAttr=Xfe;var tpe=QM.FilterCSS,_N=WM,vN=mN,npe=vN.parseTag,rpe=vN.parseAttr,yN=$M;function bN(e){return e==null}function ipe(e){var t=yN.spaceIndex(e);if(t===-1)return{html:``,closing:e[e.length-2]===`/`};e=yN.trim(e.slice(t+1,-1));var n=e[e.length-1]===`/`;return n&&(e=yN.trim(e.slice(0,-1))),{html:e,closing:n}}function ape(e){var t={};for(var n in e)t[n]=e[n];return t}function ope(e){var t={};for(var n in e)Array.isArray(e[n])?t[n.toLowerCase()]=e[n].map(function(e){return e.toLowerCase()}):t[n.toLowerCase()]=e[n];return t}function xN(e){e=ape(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error(`Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time`),e.onIgnoreTag=_N.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=ope(e.whiteList||e.allowList):e.whiteList=_N.whiteList,e.onTag=e.onTag||_N.onTag,e.onTagAttr=e.onTagAttr||_N.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||_N.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||_N.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||_N.safeAttrValue,e.escapeHtml=e.escapeHtml||_N.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new tpe(e.css))}xN.prototype.process=function(e){if(e||=``,e=e.toString(),!e)return``;var t=this,n=t.options,r=n.whiteList,i=n.onTag,a=n.onIgnoreTag,o=n.onTagAttr,s=n.onIgnoreTagAttr,c=n.safeAttrValue,l=n.escapeHtml,u=t.cssFilter;n.stripBlankChar&&(e=_N.stripBlankChar(e)),n.allowCommentTag||(e=_N.stripCommentTag(e));var d=!1;n.stripIgnoreTagBody&&(d=_N.StripTagBody(n.stripIgnoreTagBody,a),a=d.onIgnoreTag);var f=npe(e,function(e,t,n,d,f){var p={sourcePosition:e,position:t,isClosing:f,isWhite:Object.prototype.hasOwnProperty.call(r,n)},m=i(n,d,p);if(!bN(m))return m;if(p.isWhite){if(p.isClosing)return`</`+n+`>`;var h=ipe(d),g=r[n],_=rpe(h.html,function(e,t){var r=yN.indexOf(g,e)!==-1,i=o(n,e,t,r);return bN(i)?r?(t=c(n,e,t,u),t?e+`="`+t+`"`:e):(i=s(n,e,t,r),bN(i)?void 0:i):i});return d=`<`+n,_&&(d+=` `+_),h.closing&&(d+=` /`),d+=`>`,d}else return m=a(n,d,p),bN(m)?l(d):m},l);return d&&(f=d.remove(f)),f};var spe=xN;(function(e,t){var n=WM,r=mN,i=spe;function a(e,t){return new i(t).process(e)}t=e.exports=a,t.filterXSS=a,t.FilterXSS=i,(function(){for(var e in n)t[e]=n[e];for(var i in r)t[i]=r[i]})();function o(){return typeof self<`u`&&typeof DedicatedWorkerGlobalScope<`u`&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=e.exports)})(UM,UM.exports);var SN=UM.exports,cpe=function(e){if(typeof e!=`object`||!e||Object.prototype.toString.call(e)!==`[object Object]`)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},CN=function(){function e(e,t){var n=this;this.arcgisWhiteList={a:[`href`,`style`,`target`],abbr:[`title`],article:[`style`],aside:[`style`],audio:[`autoplay`,`controls`,`loop`,`muted`,`preload`],b:[],blockquote:[`style`],br:[],code:[`style`],dd:[`style`],del:[`style`],details:[`open`,`style`],div:[`align`,`aria-hidden`,`aria-label`,`style`],dl:[`style`],dt:[`style`],em:[],figcaption:[`style`],figure:[`style`],font:[`color`,`face`,`size`,`style`],footer:[`style`],h1:[`style`],h2:[`style`],h3:[`style`],h4:[`style`],h5:[`style`],h6:[`style`],header:[`style`],hr:[],i:[],img:[`alt`,`border`,`height`,`src`,`style`,`width`],li:[],main:[`style`],mark:[`style`],nav:[`style`],ol:[],p:[`style`],pre:[`style`],section:[`style`],source:[`media`,`src`,`type`],span:[`aria-hidden`,`aria-label`,`style`],strong:[],sub:[`style`],summary:[`style`],sup:[`style`],table:[`border`,`cellpadding`,`cellspacing`,`height`,`style`,`width`],tbody:[],tr:[`align`,`height`,`style`,`valign`],td:[`align`,`colspan`,`height`,`nowrap`,`rowspan`,`style`,`valign`,`width`],th:[`align`,`colspan`,`height`,`nowrap`,`rowspan`,`style`,`valign`,`width`],time:[`style`],u:[],ul:[],video:[`autoplay`,`controls`,`height`,`loop`,`muted`,`poster`,`preload`,`width`]},this.arcgisCSSWhiteList=HM(HM({},SN.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=`http.https.mailto.iform.tel.flow.lfmobile.arcgis-navigator.arcgis-appstudio-player.arcgis-survey123.arcgis-collector.arcgis-workforce.arcgis-explorer.arcgis-trek2there.arcgis-quickcapture.mspbi.comgooglemaps.pdfefile.pdfehttp.pdfehttps.boxapp.boxemm.awb.awbs.gropen.radarscope`.split(`.`),this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(e,t,r,i){return e===`a`&&t===`href`||(e===`img`||e===`source`)&&t===`src`?n.sanitizeUrl(r):SN.safeAttrValue(e,t,r,i)}},this._entityMap={"&":`&#x38;`,"<":`&#x3C;`,">":`&#x3E;`,'"':`&#x22;`,"'":`&#x27;`,"/":`&#x2F;`};var r;e&&!t?r=e:e&&t?(r=Object.create(this.arcgisFilterOptions),r.css={whiteList:this.arcgisCSSWhiteList},Object.keys(e).forEach(function(t){if(t===`whiteList`)r.whiteList=n._extendObjectOfArrays([n.arcgisWhiteList,e.whiteList||{}]);else if(t===`css`){var i=e.css.whiteList;i!=null&&e.css instanceof Object&&Object.keys(i).forEach(function(e){return r.css.whiteList[e]=i[e]})}else r[t]=e[t]})):(r=Object.create(this.arcgisFilterOptions),r.whiteList=this.arcgisWhiteList,r.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=r,this._xssFilter=new SN.FilterXSS(r)}return e.prototype.sanitize=function(e,t){switch(t===void 0&&(t={}),typeof e){case`number`:return isNaN(e)||!isFinite(e)?null:e;case`boolean`:return e;case`string`:return this._xssFilter.process(e);case`object`:return this._iterateOverObject(e,t);default:return t.allowUndefined&&e===void 0?void 0:null}},e.prototype.sanitizeUrl=function(e,t){var n=(t??{}).isProtocolRequired,r=n===void 0?!0:n,i=this._trim(e.substring(0,e.indexOf(`:`))),a=e===`/`,o=/^#/.test(e),s=i&&this.allowedProtocols.indexOf(i.toLowerCase())>-1;return a||o||s?SN.escapeAttrValue(e):!i&&!r?SN.escapeAttrValue(`https://${e}`):``},e.prototype.sanitizeHTMLAttribute=function(e,t,n,r){return typeof this.xssFilterOptions.safeAttrValue==`function`?this.xssFilterOptions.safeAttrValue(e,t,n,r):SN.safeAttrValue(e,t,n,r)},e.prototype.validate=function(e,t){t===void 0&&(t={});var n=this.sanitize(e,t);return{isValid:e===n,sanitized:n}},e.prototype.encodeHTML=function(e){var t=this;return String(e).replace(/[&<>"'\/]/g,function(e){return t._entityMap[e]})},e.prototype.encodeAttrValue=function(e){var t=/^[a-zA-Z0-9]$/;return String(e).replace(/[\x00-\xFF]/g,function(n,r){return t.test(n)?n:`&#x${Number(e.charCodeAt(r)).toString(16)};`})},e.prototype._extendObjectOfArrays=function(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){Array.isArray(e[n])&&Array.isArray(t[n])?t[n]=t[n].concat(e[n]):t[n]=e[n]})}),t},e.prototype._iterateOverObject=function(e,t){var n=this;t===void 0&&(t={});try{var r=!1,i=void 0;if(Array.isArray(e))i=e.reduce(function(e,i){var a=n.validate(i,t);return a.isValid?e.concat([i]):(r=!0,e.concat([a.sanitized]))},[]);else if(cpe(e))i=Object.keys(e).reduce(function(i,a){var o=e[a],s=n.validate(o,t);return s.isValid?i[a]=o:(r=!0,i[a]=s.sanitized),i},{});else return t.allowUndefined&&e===void 0?void 0:null;return r?i:e}catch{return null}},e.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,``)},e}(),lpe=[`dd`,`dl`,`dt`,`h1`,`h2`,`h3`,`h4`,`h5`,`h6`,`sub`,`sup`,...`animate.animatetransform.circle.clippath.defs.ellipse.g.image.line.lineargradient.marker.mask.path.pattern.polygon.polyline.radialgradient.rect.stop.svg.switch.symbol.text.textpath.tspan.use`.split(`.`)].reduce((e,t)=>(e[t]=[],e),{}),upe=`align.alink.alt.bgcolor.border.cellpadding.cellspacing.class.color.cols.colspan.coords.d.dir.face.height.hspace.ismap.lang.marginheight.marginwidth.multiple.nohref.noresize.noshade.nowrap.ref.rel.rev.rows.rowspan.scrolling.shape.span.summary.tabindex.title.usemap.valign.value.vlink.vspace.width`.split(`.`),wN=new CN({whiteList:lpe,onTagAttr:(e,t,n)=>{let r=`${t}="${n}"`;if(upe.includes(t))return r},stripIgnoreTag:!0,stripIgnoreTagBody:[`script`,`style`]},!0),dpe=new CN({whiteList:{br:[]},stripIgnoreTag:!0,escapeHtml:e=>e},!1),TN=`http://www.w3.org/`,EN=`${TN}2000/svg`,DN=`${TN}1999/xlink`,ON=[],kN=(e,t)=>{let n={};return Object.keys(e).forEach(t=>{n[t]=e[t]}),t&&Object.keys(t).forEach(e=>{n[e]=t[e]}),n},AN=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),jN=e=>{if(typeof e!=`string`)throw Error(`Style values must be strings`)},fpe=(e,t,n)=>{if(t.vnodeSelector!==``){for(let r=n;r<e.length;r++)if(AN(e[r],t))return r}return-1},MN=(e,t,n,r)=>{let i=e[t];if(i.vnodeSelector===``)return;let a=i.properties;if(!(a&&(a.key===void 0?a.bind:a.key))){for(let a=0;a<e.length;a++)if(a!==t){let t=e[a];if(AN(t,i))throw Error(`${n.vnodeSelector} had a ${i.vnodeSelector} child ${r===`added`?r:`removed`}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},ppe=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},NN=[],PN=!1,FN=e=>{(e.children||[]).forEach(FN),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},IN=()=>{PN=!1,NN.forEach(FN),NN.length=0},LN=e=>{NN.push(e),PN||(PN=!0,typeof window<`u`&&`requestIdleCallback`in window?window.requestIdleCallback(IN,{timeout:16}):setTimeout(IN,16))},RN=e=>{let t=e.domNode;if(e.properties){let n=e.properties.exitAnimation;if(n){t.style.pointerEvents=`none`,n(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),LN(e))},e.properties);return}}t.parentNode&&(t.parentNode.removeChild(t),LN(e))},mpe=(e,t,n)=>{if(!t)return;let r=n.eventHandlerInterceptor,i=Object.keys(t),a=i.length;for(let o=0;o<a;o++){let a=i[o],s=t[a];if(a===`className`)throw Error(`Property "className" is not supported, use "class".`);if(a===`class`)UN(e,s,!0);else if(a===`classes`){let t=Object.keys(s),n=t.length;for(let r=0;r<n;r++){let n=t[r];s[n]&&e.classList.add(n)}}else if(a===`styles`){let t=Object.keys(s),r=t.length;for(let i=0;i<r;i++){let r=t[i],a=s[r];a&&(jN(a),n.styleApplyer(e,r,a))}}else if(a!==`key`&&s!=null){let i=typeof s;i===`function`?(a.lastIndexOf(`on`,0)===0&&(r&&(s=r(a,s,e,t)),a===`oninput`&&function(){let e=s;s=function(t){e.apply(this,[t]),t.target[`oninput-value`]=t.target.value}}()),e[a]=s):n.namespace===EN?a===`href`?e.setAttributeNS(DN,a,s):e.setAttribute(a,s):i===`string`&&a!==`value`?a===`innerHTML`?e[a]=wN.sanitize(s):zN(e)&&a in e?e[a]=s:e.setAttribute(a,s):e[a]=s}}};function zN(e){if(!(e instanceof Element&&e.tagName.includes(`-`)))return!1;let t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}var BN,hpe=(e,t,n)=>{if(t)for(let r of t)HN(r,e,void 0,n)},VN=(e,t,n)=>{hpe(e,t.children,n),t.text&&(e.textContent=t.text),mpe(e,t.properties,n),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,n,t.vnodeSelector,t.properties,t.children])},HN=(e,t,n,r)=>{let i,a=0,o=e.vnodeSelector,s=t.ownerDocument;if(o===``)i=e.domNode=s.createTextNode(e.text),n===void 0?t.appendChild(i):t.insertBefore(i,n);else{for(let c=0;c<=o.length;++c){let l=o.charAt(c);if(c===o.length||l===`.`||l===`#`){let l=o.charAt(a-1),u=o.slice(a,c);l===`.`?i.classList.add(u):l===`#`?i.id=u:(u===`svg`&&(r=kN(r,{namespace:EN})),r.namespace===void 0?(i=e.domNode=e.domNode||s.createElement(u),u===`input`&&e.properties&&e.properties.type!==void 0&&i.setAttribute(`type`,e.properties.type)):i=e.domNode=s.createElementNS(r.namespace,u),n===void 0?i.parentNode!==t&&t.appendChild(i):t.insertBefore(i,n)),a=c+1}}VN(i,e,r)}},UN=(e,t,n)=>{t&&t.split(` `).forEach(t=>{t&&e.classList.toggle(t,n)})},gpe=(e,t,n,r)=>{if(!n)return;let i=!1,a=Object.keys(n),o=a.length;for(let s=0;s<o;s++){let o=a[s],c=n[o],l=t[o];if(o===`class`)l!==c&&(UN(e,l,!1),UN(e,c,!0));else if(o===`classes`){let t=e.classList,n=Object.keys(c),r=n.length;for(let e=0;e<r;e++){let r=n[e],a=!!c[r];a!==!!l[r]&&(i=!0,a?t.add(r):t.remove(r))}}else if(o===`styles`){let t=Object.keys(c),n=t.length;for(let a=0;a<n;a++){let n=t[a],o=c[n];o!==l[n]&&(i=!0,o?(jN(o),r.styleApplyer(e,n,o)):r.styleApplyer(e,n,``))}}else if(c||typeof l!=`string`||(c=``),o!==`value`||zN(e)){if(c!==l){let t=typeof c;t===`function`&&r.eventHandlerInterceptor||(r.namespace===EN?o===`href`?e.setAttributeNS(DN,o,c):e.setAttribute(o,c):t===`string`?o===`innerHTML`?e[o]=wN.sanitize(c):o===`role`&&c===``?e.removeAttribute(o):zN(e)&&o in e?e[o]=c:e.setAttribute(o,c):e[o]!==c&&(e[o]=c),i=!0)}}else{let t=e[o];t!==c&&(e[`oninput-value`]?t===e[`oninput-value`]:c!==l)&&(e[o]=c,e[`oninput-value`]=void 0),c!==l&&(i=!0)}}return i},_pe=(e,t,n,r,i)=>{if(n===r)return!1;r||=ON;let a,o=(n||=ON).length,s=r.length,c=0,l=0,u=!1;for(;l<s;){let s=c<o?n[c]:void 0,d=r[l];if(s!==void 0&&AN(s,d))u=BN(s,d,i)||u,c++;else{let s=fpe(n,d,c+1);if(s>=0){for(a=c;a<s;a++)RN(n[a]),MN(n,a,e,`removed`);u=BN(n[s],d,i)||u,c=s+1}else HN(d,t,c<o?n[c].domNode:void 0,i),ppe(d),MN(r,l,e,`added`)}l++}if(o>c)for(a=c;a<o;a++)RN(n[a]),MN(n,a,e,`removed`);return u};BN=(e,t,n)=>{let r=e.domNode,i=!1;if(e===t)return!1;let a=!1;if(t.vnodeSelector===``){if(t.text!==e.text){let e=r.ownerDocument.createTextNode(t.text);return r.parentNode.replaceChild(e,r),t.domNode=e,i=!0,i}t.domNode=r}else t.vnodeSelector.lastIndexOf(`svg`,0)===0&&(n=kN(n,{namespace:EN})),e.text!==t.text&&(a=!0,t.text===void 0?r.removeChild(r.firstChild):r.textContent=t.text),t.domNode=r,a=_pe(t,r,e.children,t.children,n)||a,a=gpe(r,e.properties,t.properties,n)||a,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[r,n,t.vnodeSelector,t.properties,t.children]);return a&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(r,t.properties,e.properties),i};var WN=(e,t)=>({getLastRender:()=>e,update:n=>{if(e.vnodeSelector!==n.vnodeSelector)throw Error(`The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)`);let r=e;e=n,BN(r,n,t)},domNode:e.domNode}),vpe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,n)=>{t.charAt(0)===`-`?e.style.setProperty(t,n):e.style[t]=n}},GN=e=>kN(vpe,e),KN={create:(e,t)=>(t=GN(t),HN(e,document.createElement(`div`),void 0,t),WN(e,t)),append:(e,t,n)=>(n=GN(n),HN(t,e,void 0,n),WN(t,n)),insertBefore:(e,t,n)=>(n=GN(n),HN(t,e.parentNode,e,n),WN(t,n)),merge:(e,t,n)=>(n=GN(n),t.domNode=e,VN(e,t,n),WN(t,n)),replace:(e,t,n)=>(n=GN(n),HN(t,e.parentNode,e,n),e.parentNode.removeChild(e),WN(t,n))},qN,ype=(e,t)=>{let n=[];for(;e&&e!==t;)n.push(e),e=e.parentNode;return n};qN=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];var bpe=(e,t)=>{let n=e;return t.forEach(e=>{n=n&&n.children?qN(n.children,t=>t.domNode===e):void 0}),n},xpe=(e,t,n)=>{let r=function(r){n(`domEvent`,r);let i=t(),a=ype(r.currentTarget,i.domNode);a.reverse();let o,s=bpe(i.getLastRender(),a);return e.scheduleRender(),s&&(o=s.properties[`on${r.type}`].apply(s.properties.bind||this,arguments)),n(`domEventProcessed`,r),o};return(e,t,n,i)=>r},JN=e=>{let t,n,r=GN(e),i=r.performanceLogger,a=!0,o=!1,s=[],c=[],l=(e,n,a)=>{let o;r.eventHandlerInterceptor=xpe(t,()=>o,i),o=e(n,a(),r),s.push(o),c.push(a)},u=()=>{if(n=void 0,a){a=!1,i(`renderStart`,void 0);for(let e=0;e<s.length;e++){let t=c[e]();i(`rendered`,void 0),s[e].update(t),i(`patched`,void 0)}i(`renderDone`,void 0),a=!0}};return t={renderNow:u,scheduleRender:()=>{n||o||(n=requestAnimationFrame(u))},stop:()=>{n&&=(cancelAnimationFrame(n),void 0),o=!0},resume:()=>{o=!1,a=!0,t.scheduleRender()},append:(e,t)=>{l(KN.append,e,t)},insertBefore:(e,t)=>{l(KN.insertBefore,e,t)},merge:(e,t)=>{l(KN.merge,e,t)},replace:(e,t)=>{l(KN.replace,e,t)},detach:e=>{for(let t=0;t<c.length;t++)if(c[t]===e)return c.splice(t,1),s.splice(t,1)[0];throw Error(`renderFunction was not found`)}},t},YN=class extends I{constructor(){super(...arguments),this.items=new L,this._watchUpdatingTracking=new BM,this._callbacks=new Map,this._projector=JN(),this._hiddenProjector=JN()}get needsRender(){return this.items.length>0}get updating(){return this._watchUpdatingTracking?.updating??!1}initialize(){let e=document.createElement(`div`);e.className=`esri-overlay-surface`,this._set(`surface`,e),this._hiddenSurface=document.createElement(`div`),this._hiddenSurface.setAttribute(`style`,`visibility: hidden;`),e.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,e=>{for(let t of e.added){let e=()=>t.render();this._callbacks.set(t,e),this._projector.append(this.surface,e)}for(let t of e.removed){let e=this._projector.detach(this._callbacks.get(t));this.surface.removeChild(e.domNode),this._callbacks.delete(t)}})}addItem(e){this.items.add(e)}removeItem(e){this.items.remove(e)}destroy(){this.items.removeAll(),this._callbacks.forEach(e=>this._projector.detach(e)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(e){let t=this._hiddenSurface,n=this._hiddenProjector,r,i=()=>(r=e.render(),r);n.append(t,i),n.renderNow();let a={left:0,top:0,right:0,bottom:0};if(r?.domNode){let e=r.domNode.getBoundingClientRect();a.left=e.left,a.top=e.top,a.right=e.right,a.bottom=e.bottom}for(n.detach(i);t.firstChild;)t.removeChild(t.firstChild);return a}overlaps(e,t){let n=this.computeBoundingRect(e),r=this.computeBoundingRect(t);return Math.max(n.left,r.left)<=Math.min(n.right,r.right)&&Math.max(n.top,r.top)<=Math.min(n.bottom,r.bottom)}get hasVisibleItems(){return this.items.some(e=>e.visible)}async prepare(){await document.fonts.load(this._fontString()).catch(()=>{})}renderCanvas(e,t){let n=!!t?.disableDecorations;if(!this.items.some(e=>e.visible&&!(n&&e.isDecoration)))return;let r=e.getContext(`2d`);r.save(),r.font=this._fontString(),this.items.forEach(e=>{n&&e.isDecoration||(r.save(),e.renderCanvas(r),r.restore())}),r.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};O([P({readOnly:!0})],YN.prototype,`surface`,void 0),O([P({readOnly:!0})],YN.prototype,`items`,void 0),O([P({readOnly:!0})],YN.prototype,`needsRender`,null),O([P({readOnly:!0})],YN.prototype,`_watchUpdatingTracking`,void 0),O([P({readOnly:!0})],YN.prototype,`updating`,null),YN=O([F(`esri.views.overlay.ViewOverlay`)],YN);var XN=YN,ZN=[0,0];function Spe(e){let t=(e.ownerDocument||window.document).defaultView,n=e.getBoundingClientRect();return ZN[0]=n.left+(t?.pageXOffset??0),ZN[1]=n.top+(t?.pageYOffset??0),ZN}function QN(e){e&&(e.textContent=``,e.parentNode&&e.parentNode.removeChild(e))}function Cpe(e){let t=document.createElement(`div`);return e.appendChild(t),t}var $N=16,eP=750,wpe=512,Tpe=2,Epe=e=>{let t=e,n=class extends t{constructor(...e){super(...e),this._freqInfo={freq:$N,time:eP},this._overlayRenderTaskHandle=null,this.aria={},this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([q(()=>this.cursor,e=>{let{surface:t}=this;t&&t.setAttribute(`data-cursor`,e)}),q(()=>this.navigating,e=>{let{surface:t}=this;t&&t.setAttribute(`data-navigating`,e.toString())}),q(()=>[this.aria,this.surface],()=>this._updateAria(),{initial:!0})])}initialize(){let e=this;this.addHandles([q(()=>this.ui,(e,t)=>this._handleUIChange(e,t),Yw),e.on(`focus`,()=>this.notifyChange(`focused`)),e.on(`blur`,()=>this.notifyChange(`focused`))])}destroy(){this.destroyed||(this.ui?.destroy(),this.container=null)}get container(){return this._get(`container`)??null}set container(e){let t=this._get(`container`),n=RM(e);if(n||typeof e!=`string`||j.getLogger(this).error(`#container`,`element with id '${e}' not found`),t===n)return;if(this._stopMeasuring(),t&&(t.classList.remove(`esri-view`),this._overlayRenderTaskHandle&&=(this._overlayRenderTaskHandle.remove(),null),this.overlay&&(this.overlay.destroy(),this._set(`overlay`,null)),this.root&&(QN(this.root),this._set(`root`,null)),this.userContent&&(zM(this.userContent,t),QN(this.userContent),this._set(`userContent`,null))),!n)return this._set(`width`,0),this._set(`height`,0),this._set(`position`,null),this._set(`suspended`,!0),this._set(`surface`,null),void this._set(`container`,null);n.classList.add(`esri-view`);let r=document.createElement(`div`);r.className=`esri-view-user-storage`,zM(n,r),n.appendChild(r),this._set(`userContent`,r);let i=document.createElement(`div`);i.className=`esri-view-root`,n.insertBefore(i,n.firstChild),this._set(`root`,i);let a=document.createElement(`div`);a.className=`esri-view-surface`,a.setAttribute(`role`,`application`),a.tabIndex=0,i.appendChild(a),this._set(`surface`,a);let o=new XN;i.appendChild(o.surface),this._set(`overlay`,o),this.addHandles(q(()=>o.needsRender,e=>{e&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=mh({render:()=>this.overlay?.render()}):this._overlayRenderTaskHandle=qd(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this._set(`container`,n),this._startMeasuring()}get focused(){let e=document.activeElement===this.surface;return document.hasFocus()&&e}get size(){return[this.width,this.height]}set ui(e){let t=this._get(`ui`);t!==e&&t?.destroy(),this._set(`ui`,e)}blur(){this.surface?.blur()}focus(){this.surface?.focus()}pageToContainer(e,t,n){let r=this.position;return e-=r?r[0]:0,t-=r?r[1]:0,n?(n[0]=e,n[1]=t):n=[e,t],n}containerToPage(e,t,n){let r=this.position;return e+=r?r[0]:0,t+=r?r[1]:0,n?(n[0]=e,n[1]=t):n=[e,t],n}_updateAria(){let{surface:e,aria:t}=this;e&&(e.ariaLabelledByElements=t?.labelledByElements??null,e.ariaDescribedByElements=t?.describedByElements??null,e.ariaLabel=t?.label??null,e.ariaDescription=t?.description??null)}_handleUIChange(e,t){this.removeHandles(`ui`),t&&t!==e&&t.destroy(),e&&(e.view=this,this.addHandles(q(()=>this.root,t=>{e.container=t?Cpe(t):null},Yw),`ui`)),this._set(`ui`,e)}_stopMeasuring(){this.removeHandles(`measuring`),this._get(`resizing`)&&this._set(`resizing`,!1)}_startMeasuring(){let e=this._freqInfo;e.freq=$N,e.time=eP;let t=mh({prepare:e=>{let n=this._measure(),r=this._freqInfo;r.time+=e.deltaTime,n&&(r.freq=$N,this._get(`resizing`)||this._set(`resizing`,!0)),!(r.time<r.freq)&&(r.time=0,r.freq=this._position()||n?$N:Math.min(eP,r.freq*Tpe),!n&&r.freq>=wpe&&(t.pause(),this._get(`resizing`)&&this._set(`resizing`,!1)))}}),n=new ResizeObserver(n=>{e.freq=$N,e.time=eP,t.resume()});this.container!=null&&n.observe(this.container);let r=Ed(()=>n.disconnect());this.addHandles([Vd(window,`resize`,()=>{e.freq=$N,e.time=eP,t.resume()}),r,t],`measuring`),this._measure(),this._position()}_measure(){let e=this.container,t=e?e.clientWidth:0,n=e?e.clientHeight:0;if(t===0||n===0)return this.suspended||this._set(`suspended`,!0),!1;let r=this.width,i=this.height;return t===r&&n===i?(this.suspended&&this._set(`suspended`,!1),!1):(this._set(`width`,t),this._set(`height`,n),this.suspended&&this._set(`suspended`,!1),this.emit(`resize`,{oldWidth:r,oldHeight:i,width:t,height:n}),!0)}_position(){let e=this.container,t=this.position,n=e&&Spe(e);return!!n&&(!t||n[0]!==t[0]||n[1]!==t[1])&&(this._set(`position`,[n[0],n[1]]),!0)}forceDOMReadyCycle(){}};return O([P()],n.prototype,`aria`,void 0),O([P()],n.prototype,`container`,null),O([P({readOnly:!0})],n.prototype,`focused`,null),O([P({readOnly:!0})],n.prototype,`height`,void 0),O([P()],n.prototype,`messagesCommon`,void 0),O([P({type:XN})],n.prototype,`overlay`,void 0),O([P({readOnly:!0})],n.prototype,`position`,void 0),O([P({readOnly:!0})],n.prototype,`resizing`,void 0),O([P({readOnly:!0})],n.prototype,`root`,void 0),O([P({value:null,readOnly:!0})],n.prototype,`size`,null),O([P({readOnly:!0})],n.prototype,`surface`,void 0),O([P({readOnly:!0})],n.prototype,`suspended`,void 0),O([P({nonNullable:!0})],n.prototype,`ui`,null),O([P({readOnly:!0})],n.prototype,`userContent`,void 0),O([P({readOnly:!0})],n.prototype,`width`,void 0),O([P()],n.prototype,`widthBreakpoint`,void 0),n=O([F(`esri.views.DOMContainer`)],n),n},tP=`popup`,nP=`manual`;function rP(e){return e!=null&&`open`in e&&`declaredClass`in e}function iP(e){return!!e&&e.tagName.toLowerCase()===`arcgis-popup`&&`open`in e}function Dpe(e,t,n){let[r,i,a]=t;if(n){let[e,t,r]=n;e&&rP(t)&&(t.view=null,e.remove(t,tP),t!==i&&i&&t.destroy()),e&&r&&iP(r)&&(r.view=null,e.remove(r,tP),r!==a&&a&&r.remove())}r&&rP(i)&&(i.view=e,r.add(i,{key:tP,position:nP,internal:!0})),r&&a&&iP(a)&&(a.view=e,r.add(a,{key:tP,position:nP,internal:!0}))}async function Ope(e,t){let{popup:n,popupElement:r}=e;rP(n)?await aP(n,null,t):r&&iP(r)?await aP(null,r,t):t?.defer(async()=>{await e.setupPopup();let{popup:n,popupElement:r}=e;rP(n)&&!e.destroyed&&e.ready&&e.popupEnabled?await aP(n,null,t):r&&iP(r)&&await aP(null,r,t)})}function kpe(e,t){let{popup:n,popupElement:r}=e;if(rP(n))return n.open(t);r&&iP(r)&&r.open(t)}function Ape(e,t){rP(e)&&e.close(),t&&iP(t)&&(t.visible=!1)}async function aP(e,t,n){if(rP(e)){let t=await e.viewModel.handleViewClick(n);t?.promises?.length?e.open(t):e.visible&&e.close();return}if(t&&iP(t)){let e=await t.handleViewClick(n);e?.promises?.length?t.open(e):t.visible&&=!1}}var oP=k(`mac`)?`Meta`:`Control`,jpe=new Set([`Alt`,`Control`,`Meta`,`Shift`,`Ctrl`,`Primary`]),Mpe=e=>jpe.has(e),Npe=class{constructor(e,t=[]){this.eventType=e,this.keyModifiers=t}matches(e){if(e.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;let t=e.modifiers;for(let e of this.keyModifiers)if(!t.has(e))return!1;return!0}},sP=class{constructor(e){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=e}get incomingEventMatches(){if(!this._incomingEventMatches)for(let e in this._incomingEventMatches=[],this._incoming){let t=this._incoming[e];for(let e of t)this._incomingEventMatches.push(e.match)}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||=this.incomingEventMatches.map(e=>e.eventType),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||=Object.keys(this._outgoing),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(e){this._manager||=(e.setEventCallback(e=>this._handleEvent(e)),e.setUninstallCallback(()=>this._onUninstall()),e)}onUninstall(){}registerIncoming(e,t,n){let r;typeof t==`function`?(n=t,r=[]):r=t||[];let i=typeof e==`string`?new Npe(e,r):e,a=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},o=e=>{let t=this._incoming[e.match.eventType];if(t){let n=t.indexOf(e);t.splice(n,1),a(),this._manager&&this._manager.updateDependencies()}},s=new Ppe(i,n,{onPause:o,onRemove:o,onResume:e=>{let t=this._incoming[e.match.eventType];t&&!t.includes(e)&&(t.push(e),a(),this._manager&&this._manager.updateDependencies())}}),c=this._incoming[i.eventType];return c||(c=[],this._incoming[i.eventType]=c),c.push(s),a(),this._manager&&this._manager.updateDependencies(),s}registerOutgoing(e){if(this._outgoing[e])throw Error(`There is already a callback registered for this outgoing InputEvent: `+e);let t=new Fpe(e,{onEmit:(e,t,n,r)=>{this._manager?.emit(e.eventType,t,n,r)},onRemove:e=>{delete this._outgoing[e.eventType],this._manager?.updateDependencies()}});return this._outgoing[e]=t,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),t}startCapturingPointer(e){this._manager?.setPointerCapture(e,!0)}stopCapturingPointer(e){this._manager?.setPointerCapture(e,!1)}refreshHasPendingInputs(){this._manager?.refreshHasPendingInputs()}_onUninstall(){this._manager&&=(this.onUninstall(),null)}_handleEvent(e){let t=this._incoming[e.type];if(t){for(let n of t)if(n.match.matches(e)&&(n.callback?.(e),e.shouldStopPropagation()))break}}},Ppe=class{constructor(e,t,n){this.match=e,this._callback=t,this._handler=n}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}},Fpe=class{constructor(e,t){this.eventType=e,this._removed=!1,this._handler=t}emit(e,t,n){this._removed||this._handler.onEmit(this,e,t,n)}remove(){this._removed=!0,this._handler.onRemove(this)}},Ipe=class extends sP{constructor(e){super(!0),this._onChange=e,this._value=`mouse`,this._x=null,this._y=null,this._id=null,this.registerIncoming(`pointer-move`,e=>this._update(e.data))}_update(e){let t=e.native.pointerType===`touch`?`touch`:`mouse`,{x:n,y:r,native:{pointerId:i}}=e;t===this._value&&this._x===n&&this._y===r&&this._id===i||(this._value=t,this._x=n,this._y=r,this._id=i,this._onChange(i,t,n,r))}},Lpe=class{constructor(e,t){this._observable=new Qg,this._value=e,this._equalityFunction=t}get value(){return Am(this._observable),this._value}set value(e){this._equalityFunction(e,this._value)||(this._value=e,this._observable.notify())}mutate(e){e(this._value),this._observable.notify()}};function cP(e,t=sl){return new Lpe(e,t)}var Rpe=class extends sP{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=cP(!1),this._onPointerAdd=({data:e})=>{e.pointerType===`touch`&&(this._activeTouchPointerIds.add(e.native.pointerId),this._update())},this._onPointerRemove=({data:e})=>{e.pointerType===`touch`&&(this._activeTouchPointerIds.delete(e.native.pointerId),this._update())},this.registerIncoming(`pointer-down`,this._onPointerAdd),this.registerIncoming(`pointer-up`,this._onPointerRemove),this.registerIncoming(`pointer-capture-lost`,this._onPointerRemove),this.registerIncoming(`pointer-cancel`,this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}},lP=class{constructor(e,t){for(let n in this._owner=t,this._properties={},this._afterDispatchHandle=null,e){let t=e[n],r=new Jm(t,void 0,void 0,2,2);this._properties[n]={pool:r,acquired:[]}}this._afterDispatchHandle=Jee(()=>this._release())}destroy(){for(let e in this._afterDispatchHandle&&=(this._afterDispatchHandle.remove(),null),this._properties){let t=this._properties[e];for(let e of t.acquired)Kh(e)||t.pool.release(e);t.pool.destroy(),t.pool=null,t.acquired=null}this._properties=null,this._owner=null}get(e){let t=this._owner._get(e),n=this._properties[e],r=n.pool.acquire();for(n.acquired.push(r);r===t;)r=n.pool.acquire(),n.acquired.push(r);return Wh(),r}_release(){for(let e in this._properties){let t=this._properties[e],n=0;for(let e of t.acquired)Kh(e)?t.acquired[n++]=e:t.pool.release(e);t.acquired.length=n}}},zpe=class{constructor(){this.id=0,this.type=`mouse`,this.location=pj()}},uP=class extends I{constructor(e){super(e),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=oP,this._propertiesPool=new lP({latestPointerInfo:()=>new zpe},this),this._latestPointerInfo=void 0,this._paused=!1,this._testTimestamp=void 0}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){let e=Object.keys(this._nameToGroup);for(let t of e)this.uninstallHandlers(t);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(e=>e.handler.hasPendingInputs)}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get latestPointerInfo(){return this._latestPointerInfo}get updating(){return this.hasPendingInputs||this._paused}installHandlers(e,t,n=dP.INTERNAL){if(this._nameToGroup[e]||t.length===0)return;let r={name:e,handlers:t.map(e=>({handler:e,active:!0,removed:!1,priorityIndex:0,groupPriority:n,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[e]=r;for(let e=r.handlers.length-1;e>=0;e--){let t=r.handlers[e];this._handlers.push(t),t.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(e,n,r,i,a)=>{this._emitInputEvent(t.priorityIndex+1,e,n,r,a,i)},setPointerCapture:(e,n)=>{this._setPointerCapture(r,t,e,n)},setEventCallback:e=>{t.eventCallback=e},setUninstallCallback:e=>{t.uninstallCallback=e},refreshHasPendingInputs:()=>{this.notifyChange(`hasPendingInputs`)}})}this.updateDependencies()}uninstallHandlers(e){let t=this._nameToGroup[e];t?(t.handlers.forEach(e=>{e.removed=!0,e.uninstallCallback?.()}),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):j.getLogger(this).error("There is no InputHandler group registered under the name `"+e+"`")}hasHandlers(e){return this._nameToGroup[e]!==void 0}isModifierKeyDown(e){return this._activeKeyModifiers.has(e)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;let e=new Set,t=new Set;this._handlersPriority=[];for(let e=this._handlers.length-1;e>=0;e--){let t=this._handlers[e];t.priorityIndex=e,this._handlersPriority.push(t)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let n=this._handlersPriority.length-1;n>=0;n--){let r=this._handlersPriority[n];r.priorityIndex=n;let i=r.handler.hasSideEffects;if(!i){for(let t of r.handler.outgoingEventTypes)if(e.has(t)){i=!0;break}}if(i)for(let n of r.handler.incomingEventMatches){e.add(n.eventType);for(let e of n.keyModifiers)Mpe(e)||t.add(e)}r.active=i}this._sourceEvents=e,this._keyModifiers=t,this._pointerCaptures.size>0&&this._sourceEvents.add(`pointer-capture-lost`),this._keyModifiers.size>0&&(this._sourceEvents.add(`key-down`),this._sourceEvents.add(`key-up`)),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(e,t,n,r){let i=this._latestPointerInfo;if(i==null||i.id!==e||i.type!==t||i.location.x!==n||i.location.y!==r){let i=this._propertiesPool.get(`latestPointerInfo`);i.id=e,i.type=t,i.location.x=n,i.location.y=r,this._latestPointerInfo=i}}_onEventReceived(e,t){if(e===`pointer-capture-lost`){let e=t;this._pointerCaptures.delete(e.native.pointerId)}this._updateKeyModifiers(e,t);let n=this._testTimestamp??t.native?.timestamp,r=t.native?.cancelable;this._emitInputEventFromSource(e,t,n,r)}_updateKeyModifiers(e,t){if(!t)return;let n=!1,r=()=>{n||=(this._activeKeyModifiers=new Set(this._activeKeyModifiers),!0)},i=(e,t)=>{t&&!this._activeKeyModifiers.has(e)?(r(),this._activeKeyModifiers.add(e)):!t&&this._activeKeyModifiers.has(e)&&(r(),this._activeKeyModifiers.delete(e))};if(e===`key-down`||e===`key-up`){let n=t.key;this._keyModifiers.has(n)&&i(n,e===`key-down`)}let a=t.native;i(`Alt`,!!a?.altKey),i(`Control`,!!a?.ctrlKey),i(`Ctrl`,!!a?.ctrlKey),i(`Shift`,!!a?.shiftKey),i(`Meta`,!!a?.metaKey),i(`Primary`,this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new Ipe((e,t,n,r)=>this._setLatestPointer(e,t,n,r)),this._multiTouchHandler=new Rpe,this.installHandlers(`input-manager-logic`,[this._latestPointerHandler,this._multiTouchHandler],dP.ALWAYS),this.recognizers.length>0&&this.installHandlers(`default`,this.recognizers,dP.INTERNAL)}_setPointerCapture(e,t,n,r){let i=e.name+`-`+t.priorityIndex,a=this._pointerCaptures.get(n.pointerId)||new Set;this._pointerCaptures.set(n.pointerId,a),r?(a.add(i),a.size===1&&this.eventSource&&this.eventSource.setPointerCapture(n,!0)):a.has(i)&&(a.delete(i),a.size===0&&(this._pointerCaptures.delete(n.pointerId),this.eventSource&&this.eventSource.setPointerCapture(n,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(e=>!e.removed),this.updateDependencies()}_emitInputEventFromSource(e,t,n,r){this._emitInputEvent(0,e,t,n,r)}_emitInputEvent(e,t,n,r,i,a){let o=r??this._currentPropagation?.timestamp??performance.now(),s=i??!1,c={event:new Bpe(t,n,o,a||this._activeKeyModifiers,s),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(c):this._doNewPropagation(c)}_doNewPropagation(e){this._currentPropagation={events:new tM,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}_continuePropagation(){this._paused=!1;let e=this._currentPropagation;if(e){for(;e.events.length>0;){let{event:t,priorityIndex:n}=e.events.pop(),r=t.data?.eventId;if(!(r!=null&&this._stoppedPropagationEventIds.has(r)))for(e.currentHandler=this._handlersPriority[n];e.currentHandler;){if(e.currentHandler.removed)e.needsHandlerGarbageCollect=!0;else{if(e.currentHandler.active&&!t.shouldStopPropagation()&&e.currentHandler.eventCallback?.(t),t.shouldStopPropagation()){r!=null&&this._stoppedPropagationEventIds.add(r);break}if(t.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:t,priorityIndex:e.currentHandler.priorityIndex+1})}e.currentHandler=this._handlersPriority[e.currentHandler.priorityIndex+1]}}e.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(e){let t=new tM;t.push(e);let n=this._currentPropagation;if(n){for(;n.events.length;)t.push(n.events.pop());n.events=t,n.currentHandler=null,this._paused=!0}}_compareHandlerPriority(e,t){if(e.handler.hasSideEffects!==t.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==t.groupPriority)return e.groupPriority>t.groupPriority?-1:1;for(let n of e.handler.incomingEventMatches)for(let e of t.handler.incomingEventMatches){if(n.eventType!==e.eventType)continue;let t=n.keyModifiers.filter(t=>e.keyModifiers.includes(t));if(t.length===n.keyModifiers.length!=(t.length===e.keyModifiers.length))return n.keyModifiers.length>e.keyModifiers.length?-1:1}return e.priorityIndex>t.priorityIndex?-1:1}_sortHandlersPriority(e){let t=[];for(let n of e){let e=0;for(;e<t.length&&this._compareHandlerPriority(n,t[e])>=0;)e++;t.splice(e,0,n)}return t}get test(){}};O([P({readOnly:!0})],uP.prototype,`hasPendingInputs`,null),O([P({constructOnly:!0})],uP.prototype,`eventSource`,void 0),O([P({constructOnly:!0})],uP.prototype,`recognizers`,void 0),O([P()],uP.prototype,`multiTouchActive`,null),O([P()],uP.prototype,`_latestPointerInfo`,void 0),O([P()],uP.prototype,`latestPointerInfo`,null),O([P()],uP.prototype,`_paused`,void 0),O([P({readOnly:!0})],uP.prototype,`updating`,null),uP=O([F(`esri.views.input.InputManager`)],uP);var Bpe=class{constructor(e,t,n,r,i){this.type=e,this.data=t,this.timestamp=n,this.modifiers=r,this.cancelable=i,this._propagationState=0,this._resumeCallback=null}stopPropagation(){this._propagationState|=1}shouldStopPropagation(){return!!(1&this._propagationState)}defer(e){this._propagationState|=2;let t=(e,t)=>{this._propagationState&=-3;let n=this._resumeCallback;if(this._resumeCallback=null,n&&n(),t)throw e;return e};return(typeof e==`function`?e():e).then(e=>t(e,!1),e=>t(e,!0))}shouldPausePropagation(e){return!!(2&this._propagationState)&&(this._resumeCallback=e,!0)}preventDefault(){this.data.native.preventDefault()}},dP={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3},Vpe=e=>{let t=e,n=class extends t{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([q(()=>[this.ui,this.popup,this.popupElement],([e,t,n],r)=>{let[i,a,o]=r??[];Dpe(this,[e,t,n],[i,a,o])},Xw),this.on(`click`,e=>{this.popup&&this.popupEnabled&&(e.pointerType!==`mouse`||e.button===0)&&Ope(this,e)},dP.WIDGET)]),Gw(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>N(()=>import(`./Popup-DWJ1qV-j.js`),__vite__mapDeps([234,235,236,237,238,239,240,241,242,118,243,31,244,245,246,247,83,81,82,80,3,47,44,48,84,248,249,250,134,251,252,253,254,255,256,257,258])))}destroy(){this.destroyed||this.closePopup()}async openPopup(e){if(rP(this.popup))return this.popup.open(e);if(this.popupElement&&iP(this.popupElement))this.popupElement.open(e).catch(()=>{});else try{if(await this.setupPopup(),!this.popup)return void j.getLogger(this).error(new M(`view:null-popup`,`Popup is null and can't be opened`));kpe(this,e)}catch{}}closePopup(){this._popupSetupTask?.abort(),Ape(this.popup,this.popupElement)}async fetchPopupFeatures(e,t){return await this.when(),this._popupHitsToFeatures(await this._getPopupHits(e,t),t)}async setupPopup(){if(this._popupSetupTask?.abort(),this.popup&&!rP(this.popup))return this._popupSetupTask=A_(async e=>{if(!this.popupEnabled||!iP(this.popupElement))if(this.dependencies.popup&&typeof this.dependencies.popup==`function`)await this.dependencies.popup(),$d(e),customElements.get(`arcgis-popup`)||j.getLogger(this).error(new M(`view:undefined-popup-element`,"`arcgis-popup` custom element is undefined and can't be opened")),this.popupElement=document.createElement(`arcgis-popup`);else{let{default:t}=await N(async()=>{let{default:e}=await import(`./Popup-DWJ1qV-j.js`);return{default:e}},__vite__mapDeps([234,235,236,237,238,239,240,241,242,118,243,31,244,245,246,247,83,81,82,80,3,47,44,48,84,248,249,250,134,251,252,253,254,255,256,257,258]));if($d(e),!this.popup||rP(this.popup))return;let n=this.popup;if(`open`in n||`close`in n){let{open:e,close:r,...i}=n;this.popup=new t({...i})}else this.popup=new t(n)}}),this._popupSetupTask.promise}async _popupHitsToFeatures({location:e,hits:t},n){let r=[],i=[],a=!1,o=hf(n,k(`popup-view-fetch-timeout`)??Upe),s=e=>{let t=new Hpe(e);return i.push(t),r.push(t.promise),t},c=e=>{let t=i.at(-1);return t&&t.layerView===e&&!a?t:s(e)};for(let e of t)`graphic`in e?(c(e.layerView).graphics.push(e.graphic),a=!1):(r.push(e.layerView.fetchPopupFeaturesAtLocation(e.mapPoint,o)),a=!0);i.forEach(e=>e.resolve(o));let l=ff(r).then(e=>e.filter(e=>!!e).flat());return{pendingFeatures:r,allGraphicsPromise:l,location:e}}async _getPopupHits(e,t){let{hits:n,location:r}=await this.popupHitTest(e);$d(t);let i=[];for(let e of n)if(`graphic`in e){if(this._isValidPopupGraphic(e.graphic,t)){let t=this._isValidPopupGraphicsLayerView(e.layerView)?e.layerView:void 0;i.push({graphic:e.graphic,layerView:t})}}else this._isValidPopupLocationLayerView(e.layerView)&&i.push({mapPoint:e.mapPoint,layerView:e.layerView});return{hits:i,location:r}}_isValidPopupGraphic(e,t){return e&&!!e.getEffectivePopupTemplate(t?.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(e){return!e||(!(`layer`in e)||!e.suspended)&&`fetchPopupFeaturesFromGraphics`in e}_isValidPopupLocationLayerView(e){return(!(`layer`in e)||!e.suspended)&&`fetchPopupFeaturesAtLocation`in e}};return O([P()],n.prototype,`popup`,void 0),O([P()],n.prototype,`popupElement`,void 0),O([P()],n.prototype,`popupEnabled`,void 0),n=O([F(`esri.views.PopupView`)],n),n},Hpe=class{constructor(e){this.layerView=e,this._resolver=yf(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(e){let{layerView:t,graphics:n,_resolver:r}=this;if(!t)return r.resolve(n),r.promise;let i;return t.fetchPopupFeaturesFromGraphics(n,e).catch(e=>(i=e,null)).then(e=>{e?r.resolve(e):r.reject(i)}),r.promise}},Upe=5e3,fP,pP=I_()({orthometric:`gravity-related-height`,gravity_related_height:`gravity-related-height`,ellipsoidal:`ellipsoidal`}),mP=pP.jsonValues.slice();wc(mP,`orthometric`);var hP=I_()({meter:`meters`,foot:`feet`,"us-foot":`us-feet`,"clarke-foot":`clarke-feet`,"clarke-yard":`clarke-yards`,"clarke-link":`clarke-links`,"sears-yard":`sears-yards`,"sears-foot":`sears-feet`,"sears-chain":`sears-chains`,"benoit-1895-b-chain":`benoit-1895-b-chains`,"indian-yard":`indian-yards`,"indian-1937-yard":`indian-1937-yards`,"gold-coast-foot":`gold-coast-feet`,"sears-1922-truncated-chain":`sears-1922-truncated-chains`,"50-kilometers":`50-kilometers`,"150-kilometers":`150-kilometers`}),gP=fP=class extends R{constructor(e){super(e),this.heightModel=`gravity-related-height`,this.heightUnit=`meters`,this.vertCRS=null}writeHeightModel(e,t,n){return pP.write(e,t,n)}readHeightModel(e,t,n){return pP.read(e)||(n?.messages&&n.messages.push(Wpe(e,{context:n})),null)}readHeightUnit(e,t,n){return hP.read(e)||(n?.messages&&n.messages.push(_P(e,{context:n})),null)}readHeightUnitService(e,t,n){return cy(e)||hP.read(e)||(n?.messages&&n.messages.push(_P(e,{context:n})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new fP({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){let n=uy(t);return new fP({heightModel:e.heightModel,heightUnit:n??void 0,vertCRS:e.vertCRS})}write(e,t){return t={origin:`web-scene`,...t},super.write(e,t)}static fromJSON(e){if(!e)return null;let t=new fP;return t.read(e,{origin:`web-scene`}),t}};function _P(e,t){return new gg(`height-unit:unsupported`,`Height unit of value '${e}' is not supported`,t)}function Wpe(e,t){return new gg(`height-model:unsupported`,`Height model of value '${e}' is not supported`,t)}O([P({type:pP.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:mP,default:`ellipsoidal`,write:{isRequired:!0}}}}})],gP.prototype,`heightModel`,void 0),O([z(`web-scene`,`heightModel`)],gP.prototype,`writeHeightModel`,null),O([W([`web-scene`,`service`],`heightModel`)],gP.prototype,`readHeightModel`,null),O([P({type:hP.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:hP.jsonValues,write:{writer:hP.write,isRequired:!0}}}}})],gP.prototype,`heightUnit`,void 0),O([W(`web-scene`,`heightUnit`)],gP.prototype,`readHeightUnit`,null),O([W(`service`,`heightUnit`)],gP.prototype,`readHeightUnitService`,null),O([P({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],gP.prototype,`vertCRS`,void 0),O([W(`service`,`vertCRS`,[`vertCRS`,`ellipsoid`,`geoid`])],gP.prototype,`readVertCRS`,null),gP=fP=O([F(`esri.geometry.HeightModelInfo`)],gP);var vP;async function Gpe(){return vP??=N(()=>import(`./WhereClauseCache-BkAl8XfB.js`),__vite__mapDeps([259,41,42])).then(e=>new e.WhereClauseCache(500,500)),vP}async function yP(e,t){let n=await Gpe(),r=n.get(e,t);if(r==null)throw n.getError(e,t);return r}function bP(e,t){return e||=null,t||=null,e===`1=1`?t??e:t===`1=1`?e??t:e&&t?`(${e}) AND (${t})`:e??t}function xP(e,t){return e||=null,t||=null,e===`1=1`||t===`1=1`||e===t?e===`1=1`?e:t:e&&t?`(${e}) OR (${t})`:e??t}function SP(e,t){return t.length===0?null:`${e} IN (${Kpe(t)})`}function Kpe(e){return e.map(e=>typeof e==`string`?qpe(e):e).join(`,`)}function qpe(e){return`'${e.replaceAll(`'`,`''`)}'`}function CP(e){return typeof e==`number`}function Jpe(e){return typeof e==`number`&&isFinite(e)&&Math.floor(e)===e}function Ype(e){return typeof e==`boolean`}function wP(e){return typeof e==`string`||e instanceof String}function TP(e){return e==null||wP(e)}function Xpe(e){return Array.isArray(e)}function EP(e){return e?.declaredClass===`esri.Graphic`}function Zpe(e){return e instanceof Date}var Qpe=[`HH:mm:ss.SSS`,`HH:mm:ss`,`HH:mm`,`TT`],$pe=`yyyy-MM-dd`;function DP(e){if(!e||!wP(e))return null;let t=cw.fromFormat(e,$pe);return t.isValid?t:null}function OP(e){return e&&wP(e)?Zd(Qpe,t=>{let n=cw.fromFormat(e,t);return n.isValid?n:null})??null:null}function kP(e){if(!e||!wP(e))return null;let t=cw.fromISO(e);return t.isValid?t:null}var AP=new Set([`integer`,`small-integer`,`long`,`big-integer`,`esriFieldTypeInteger`,`esriFieldTypeSmallInteger`,`esriFieldTypeLong`,`esriFieldTypeBigInteger`]);function eme(e){return e!=null&&AP.has(e.type)}function jP(e){return e!=null&&(e.type===`date-only`||e.type===`esriFieldTypeDateOnly`)}function MP(e){return e!=null&&(e.type===`timestamp-offset`||e.type===`esriFieldTypeTimestampOffset`)}function NP(e){return e!=null&&(e.type===`time-only`||e.type===`esriFieldTypeTimeOnly`)}Eh(AP,new Set([...[`single`,`double`],...[`esriFieldTypeSingle`,`esriFieldTypeDouble`]]));function tme(e,t){let n=t??e?.domain;if(!n||n.type!==`range`)return;let r=`range`in n?n.range[0]:n.minValue,i=`range`in n?n.range[1]:n.maxValue,a=eme(e);return jP(e)||NP(e)||MP(e)?{...nme(e,i,r),isInteger:a}:{min:r!=null&&typeof r==`number`?r:null,max:i!=null&&typeof i==`number`?i:null,rawMin:r,rawMax:i,isInteger:a}}function nme(e,t,n){return jP(e)?{min:DP(n)?.toMillis(),max:DP(t)?.toMillis(),rawMin:n,rawMax:t}:NP(e)?{min:OP(n)?.toMillis(),max:OP(t)?.toMillis(),rawMin:n,rawMax:t}:MP(e)?{min:kP(n)?.toMillis(),max:kP(t)?.toMillis(),rawMin:n,rawMax:t}:{max:null,min:null}}function rme(e){if(!e)return;let t=e.match(ime);return t?.groups?t.groups.doubleQuoted??t.groups.singleQuoted??t.groups.dotNotation:void 0}var ime=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-z_][a-z0-9_]*))$/i;function ame(e){return e.match(ome)?.[1]?.replaceAll(`\\'`,`'`)??null}var ome=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/,PP;function FP(){return PP||=(async()=>{let[e,t,n]=await Promise.all([N(()=>import(`./arcadeUtils-Dws7Nmy5.js`),__vite__mapDeps([260,261,262,236,40,263,264,265,266,46,47,3,44,48,267,268,269,270,41,118,271,272,273,274,240,241,275])),N(()=>import(`./batchExec-CitotI9u.js`),__vite__mapDeps([276,1])),N(()=>import(`./aiServices-syZb0zjX.js`),__vite__mapDeps([277,261,262,236,40,267,273,274]))]);return{arcade:e.arcade,arcadeUtils:e,batchExec:t,aiServices:n,Dictionary:e.Dictionary,Feature:e.arcadeFeature,Voxel:e.Voxel,Pixel:e.Pixel}})(),PP}var sme=/^([0-9_])/,cme=/[^a-z0-9_\u0080-\uffff]+/gi;function IP(e){return e==null?null:e.trim().replaceAll(cme,`_`).replace(sme,`F$1`)||null}var lme=[`field`,`field2`,`field3`,`normalizationField`,`rotationInfo.field`,`proportionalSymbolInfo.field`,`proportionalSymbolInfo.normalizationField`,`colorInfo.field`,`colorInfo.normalizationField`],ume=[`field`,`normalizationField`];function LP(e,t){if(e!=null&&t!=null){for(let n of Array.isArray(e)?e:[e])if(RP(lme,n,t),`visualVariables`in n&&n.visualVariables)for(let e of n.visualVariables)RP(ume,e,t)}}function RP(e,t,n){if(e)for(let r of e){let e=dl(r,t),i=e&&typeof e!=`function`&&n.get(e);i&&fl(r,i.name,t)}}function zP(e,t){if(e!=null&&t?.fields?.length)if(`startField`in e){let n=t.get(e.startField),r=t.get(e.endField);e.startField=n?.name??null,e.endField=r?.name??null}else{let n=t.get(e.startTimeField),r=t.get(e.endTimeField);e.startTimeField=n?.name??null,e.endTimeField=r?.name??null}}var BP=new Set;function VP(e,t){return e&&t?(BP.clear(),HP(BP,e,t),Array.from(BP).sort()):[]}function HP(e,t,n){if(n)if(t?.fields?.length)if(n.includes(`*`))for(let{name:n}of t.fields)e.add(n);else for(let r of n)UP(e,t,r);else{if(n.includes(`*`))return e.clear(),void e.add(`*`);for(let t of n)t!=null&&e.add(t)}}function UP(e,t,n){if(typeof n==`string`)if(t){let r=t.get(n);r&&e.add(r.name)}else e.add(n)}function dme(e,t){return t==null||e==null?[]:t.includes(`*`)?(e.fields??[]).map(e=>e.name):t}function fme(e,t,n=1){if(!t||!e)return[];if(t.includes(`*`))return[`*`];let r=VP(e,t);return r.length/e.fields.length>=n?[`*`]:r}async function WP(e,t,n,r){if(!r)return;let i=rme(r);if(i)UP(e,t,i);else{let{arcadeUtils:i}=await FP(),a=i.extractFieldNames(r,n?.partitions??t?.fields?.map(e=>e.name));for(let r of a)UP(e,n?.index??t,r)}}async function GP(e,t,n){if(n&&n!==`1=1`){let r=await yP(n,t);if(!r.isStandardized)throw new M(`fieldUtils:collectFilterFields`,`Where clause is not standardized`,{where:n});HP(e,t,r.fieldNames)}}function pme({displayField:e,fields:t}){return e||(t?.length?mme(t):null)}function mme(e){return KP(e,`name-or-title`)||KP(e,`unique-identifier`)||KP(e,`type-or-category`)||hme(e)}function hme(e){for(let t of e){if(!t?.name)continue;let e=t.name.toLowerCase();if(e.includes(`name`)||e.includes(`title`))return t.name}return null}function KP(e,t){for(let n of e)if(n?.valueType&&n.valueType===t)return n.name;return null}async function gme(e,t){if(!t)return;let n=t.elevationInfo?.featureExpressionInfo;return n?n.collectRequiredFields(e,t.fieldsIndex):void 0}function _me(e,t,n){n.onStatisticExpression?WP(e,t,null,n.onStatisticExpression.expression):e.add(n.onStatisticField)}async function vme(e,t,n){if(!t||!n||!(`fields`in n))return;let r=[],i=n.popupTemplate;r.push(qP(e,t,i)),n.fields&&r.push(...n.fields.map(async n=>_me(e,t.fieldsIndex,n))),await Promise.all(r)}async function yme(e,t){let{fieldsIndex:n,trackInfo:r}=t;if(!t||!r||!n)return;let i=[r.latestObservations.renderer?.collectRequiredFields(e,n),r.previousObservations.renderer?.collectRequiredFields(e,n),r.trackLines.renderer?.collectRequiredFields(e,n)];r.popupTemplate&&i.push(qP(e,t,r.popupTemplate));for(let t of[r.latestObservations.labelingInfo,r.previousObservations.labelingInfo,r.trackLines.labelingInfo])if(t)for(let r of t)i.push(ZP(e,n,r));await Promise.all(i)}async function qP(e,t,n){let r=[];n?.expressionInfos&&r.push(...n.expressionInfos.map(n=>WP(e,t.fieldsIndex,null,n.expression)));let i=n?.content;if(Array.isArray(i))for(let n of i)n.type===`expression`&&n.expressionInfo&&r.push(WP(e,t.fieldsIndex,null,n.expressionInfo.expression));await Promise.all(r)}async function bme(e,t,n){t&&(t.timeInfo&&n?.timeExtent&&HP(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&HP(e,t.fieldsIndex,[t.floorInfo.floorField]),n?.where!=null&&await GP(e,t.fieldsIndex,n.where))}async function xme(e,t,n){t&&n&&await Promise.all(n.map(n=>Sme(e,t,n)))}async function Sme(e,t,n){t&&n&&(n.valueExpression?await WP(e,t.fieldsIndex,null,n.valueExpression):n.field&&UP(e,t.fieldsIndex,n.field))}function Cme(e){return e?VP(e.fieldsIndex,JP(e)):[]}function wme(e){if(!e)return[];let t=e.geometryFieldsInfo;return t?VP(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}async function Tme(e,t,n){if(!t||!n)return;let r=t.fieldsIndex;await Promise.all(n.filters.map(t=>GP(e,r,t.where)))}var Eme=new Set([`oid`,`global-id`,`guid`]),Dme=new Set([`oid`,`global-id`]),Ome=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/objectid/i,/^perimeter_/i,/_perimeter$/i,/_i$/i];function kme(e){let t=new Set;YP(e).forEach(e=>t.add(e)),wme(e).forEach(e=>t.add(e.toLowerCase()));let n=e&&`infoFor3D`in e?e.infoFor3D:void 0;return n&&(Object.values(n.assetMapFieldRoles).forEach(e=>t.add(e.toLowerCase())),Object.values(n.transformFieldRoles).forEach(e=>t.add(e.toLowerCase()))),Array.from(t)}function JP(e){if(!e)return[];let t=`editFieldsInfo`in e&&e.editFieldsInfo;if(!t)return[];let{creationDateField:n,creatorField:r,editDateField:i,editorField:a}=t;return[n,r,i,a].filter(Boolean)}function YP(e){return JP(e).map(e=>e.toLowerCase())}function XP(e,t){return e.editable&&!Eme.has(e.type)&&!YP(t).includes(e.name?.toLowerCase()??``)}function Ame(e,t){let n=e.name?.toLowerCase()??``;return!(t?.objectIdField!=null&&n===t.objectIdField.toLowerCase()||t?.globalIdField!=null&&n===t.globalIdField.toLowerCase()||kme(t).includes(n)||Dme.has(e.type)||Ome.some(e=>e.test(n)))}async function jme(e,t){let{labelingInfo:n,fieldsIndex:r}=t;n?.length&&await Promise.all(n.map(t=>ZP(e,r,t)))}async function ZP(e,t,n){if(!n)return;let r=n.getLabelExpression(),i=n.where;if(r.type===`arcade`)await WP(e,t,null,r.expression);else{let n=r.expression.match(/{[^}]*}/g);n&&n.forEach(n=>{UP(e,t,n.slice(1,-1))})}await GP(e,t,i)}function QP(e){let t=e.defaultValue;return t!==void 0&&eF(e,t)?t:e.nullable?null:void 0}function Mme(e){let t=typeof e==`string`?{type:e}:e;return aF(t)?255:t.type===`esriFieldTypeDate`||t.type===`date`?8:void 0}function $P(e){return typeof e==`number`&&!isNaN(e)&&isFinite(e)}function Nme(e){return e===null||$P(e)}function Pme(e){return e===null||Number.isInteger(e)}function Fme(){return!0}function eF(e,t){let n;switch(e.type){case`date`:case`integer`:case`long`:case`small-integer`:case`big-integer`:case`esriFieldTypeDate`:case`esriFieldTypeInteger`:case`esriFieldTypeLong`:case`esriFieldTypeSmallInteger`:case`esriFieldTypeBigInteger`:n=e.nullable?Pme:Number.isInteger;break;case`double`:case`single`:case`esriFieldTypeSingle`:case`esriFieldTypeDouble`:n=e.nullable?Nme:$P;break;case`string`:case`esriFieldTypeString`:n=e.nullable?TP:wP;break;default:n=Fme}return arguments.length===1?n:n(t)}var tF=[`integer`,`small-integer`,`big-integer`,`long`],nF=[`single`,`double`];[...tF,...nF];var Ime=[`esriFieldTypeInteger`,`esriFieldTypeSmallInteger`,`esriFieldTypeLong`,`esriFieldTypeBigInteger`],Lme=[`esriFieldTypeSingle`,`esriFieldTypeDouble`],rF=new Set([...tF,...Ime]),Rme=new Set([...nF,...Lme]),zme=Eh(rF,Rme);function Bme(e){return e!=null&&rF.has(e.type)}function iF(e){return e!=null&&zme.has(e.type)}function aF(e){return e!=null&&(e.type===`string`||e.type===`esriFieldTypeString`)}function oF(e){return e!=null&&(e.type===`date`||e.type===`esriFieldTypeDate`)}function sF(e){return e!=null&&(e.type===`date-only`||e.type===`esriFieldTypeDateOnly`)}function cF(e){return e!=null&&(e.type===`timestamp-offset`||e.type===`esriFieldTypeTimestampOffset`)}function lF(e){return e!=null&&(e.type===`time-only`||e.type===`esriFieldTypeTimeOnly`)}function uF(e){return e!=null&&(e.type===`oid`||e.type===`esriFieldTypeOID`)}function dF(e){return e!=null&&(e.type===`global-id`||e.type===`esriFieldTypeGlobalID`)}function Vme(e,t){return fF(e,t)===null}function Hme(e){return e==null||typeof e==`number`&&isNaN(e)?null:e}function fF(e,t){return e==null||e.nullable&&t===null?null:eF(e,t)?iF(e)&&!Ume(e.type,Number(t))?`numeric-range-validation-error::out-of-range`:null:`type-validation-error::invalid-type`}function Ume(e,t){let n=typeof e==`string`?pF(e):e;if(!n)return!1;let r=n.min,i=n.max;return n.isInteger?Number.isInteger(t)&&t>=r&&t<=i:t>=r&&t<=i}function pF(e){switch(e){case`esriFieldTypeSmallInteger`:case`small-integer`:return Wme;case`esriFieldTypeInteger`:case`esriFieldTypeLong`:case`integer`:case`long`:return Gme;case`esriFieldTypeBigInteger`:case`big-integer`:return Kme;case`esriFieldTypeSingle`:case`single`:return qme;case`esriFieldTypeDouble`:case`double`:return Jme}}var Wme={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},Gme={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},Kme={min:-(2**53-1),max:2**53-1,isInteger:!0,rawMin:-(2**53-1),rawMax:2**53-1},mF=(2-2**-23)*2**127,qme={min:-mF,max:mF,isInteger:!1,rawMin:-mF,rawMax:mF},Jme={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function Yme(e,t,n){switch(e){case`domain-validation-error::invalid-coded-value`:return`Value ${n} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case`domain-validation-error::value-out-of-range`:return`Value ${n} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case`type-validation-error::invalid-type`:return`Value ${n} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case`numeric-range-validation-error::out-of-range`:{let{min:e,max:r}=pF(t.type);return`Value ${n} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${e} to ${r}`}}}function hF(e,t){return!Xme(e,t,null)}function Xme(e,t,n){if(!e?.attributes||!t){if(n!=null)for(let e of t??[])n.add(e);return!0}let r=new Set(Object.keys(e.attributes)),i=!1;for(let e of t)if(!r.has(e)){if(i=!0,n==null)break;n.add(e)}return i}function gF(e){return!!e&&[`raster.itempixelvalue`,`raster.servicepixelvalue`].some(t=>e.toLowerCase().startsWith(t))}function _F(e){let t=e?.match(/{[^}]+}/g);return t?t.map(e=>e.slice(1,-1).split(`:`)[0].trim()):[]}var vF=class extends R{constructor(e){super(e),this.type=null}};O([P({type:[`attachments`,`custom`,`fields`,`media`,`text`,`expression`,`relationship`,`utility-network-associations`],readOnly:!0,json:{read:!1,write:!0}})],vF.prototype,`type`,void 0),vF=O([F(`esri.popup.content.Content`)],vF);var yF=vF,bF=new P_({asc:`ascending`,desc:`descending`}),xF=class extends Y(R){constructor(e){super(e),this.field=null,this.order=`ascending`}};O([P({type:String,json:{write:!0}})],xF.prototype,`field`,void 0),O([P({type:bF.apiValues,json:{type:bF.jsonValues,read:bF.read,write:bF.write}})],xF.prototype,`order`,void 0),xF=O([F(`esri.popup.support.AttachmentsOrderByInfo`)],xF);var SF=xF,CF=class extends Y(yF){constructor(e){super(e),this.attachmentKeywords=null,this.attachmentTypes=null,this.description=null,this.displayType=`auto`,this.orderByFields=null,this.title=null,this.type=`attachments`}};O([P({type:[String],json:{write:!0}})],CF.prototype,`attachmentKeywords`,void 0),O([P({type:[[`application`,`audio`,`image`,`model`,`text`,`video`]],json:{write:!0}})],CF.prototype,`attachmentTypes`,void 0),O([P({type:String,json:{write:!0}})],CF.prototype,`description`,void 0),O([P({type:[`auto`,`preview`,`list`],json:{write:!0}})],CF.prototype,`displayType`,void 0),O([P({type:[SF],json:{write:!0}})],CF.prototype,`orderByFields`,void 0),O([P({type:String,json:{write:!0}})],CF.prototype,`title`,void 0),O([P({type:[`attachments`],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],CF.prototype,`type`,void 0),CF=O([F(`esri.popup.content.AttachmentsContent`)],CF);var wF=CF,TF,EF=TF=class extends yF{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type=`custom`}clone(){return new TF({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?A(this.outFields):null})}};O([P()],EF.prototype,`creator`,void 0),O([P()],EF.prototype,`destroyer`,void 0),O([P()],EF.prototype,`outFields`,void 0),O([P({type:[`custom`],readOnly:!0})],EF.prototype,`type`,void 0),EF=TF=O([F(`esri.popup.content.CustomContent`)],EF);var Zme=EF,DF,OF=DF=class extends R{constructor(e){super(e),this.title=null,this.expression=null,this.returnType=`dictionary`}clone(){return new DF({title:this.title,expression:this.expression})}};O([P({type:String,json:{write:!0}})],OF.prototype,`title`,void 0),O([P({type:String,json:{write:!0}})],OF.prototype,`expression`,void 0),O([P({type:[`dictionary`],readOnly:!0,json:{read:!1,write:!0}})],OF.prototype,`returnType`,void 0),OF=DF=O([F(`esri.popup.ElementExpressionInfo`)],OF);var kF=OF,AF,jF=AF=class extends yF{constructor(e){super(e),this.expressionInfo=null,this.type=`expression`}clone(){return new AF({expressionInfo:this.expressionInfo?.clone()})}};O([P({type:kF,json:{write:!0}})],jF.prototype,`expressionInfo`,void 0),O([P({type:[`expression`],readOnly:!0,json:{read:!1,write:!0}})],jF.prototype,`type`,void 0),jF=AF=O([F(`esri.popup.content.ExpressionContent`)],jF);var MF=jF,NF=class extends Y(R){constructor(e){super(e),this.type=null}};O([P({type:[`date-time`,`number`],nonNullable:!0,readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],NF.prototype,`type`,void 0),NF=O([F(`esri.layers.support.FieldFormat`)],NF);var PF=NF,FF=`auto`,IF=class extends PF{constructor(e){super(e),this.dateStyle=null,this.hour12=FF,this.month=null,this.timeStyle=null,this.type=`date-time`,this.year=null}};O([P({type:[`full`,`long`,`medium`,`short`],json:{write:!0}})],IF.prototype,`dateStyle`,void 0),O([P({type:[`always`,`auto`,`never`],nonNullable:!0,json:{default:FF,write:!0}})],IF.prototype,`hour12`,void 0),O([P({type:[`long`,`short`],json:{write:!0}})],IF.prototype,`month`,void 0),O([P({type:[`full`,`long`,`medium`,`short`],json:{write:!0}})],IF.prototype,`timeStyle`,void 0),O([P({type:[`date-time`]})],IF.prototype,`type`,void 0),O([P({type:[`numeric`],json:{write:!0}})],IF.prototype,`year`,void 0),IF=O([F(`esri.layers.support.DateTimeFieldFormat`)],IF);var LF=IF,RF={min:0,max:20},zF=2,BF=0,VF=`decimal`,HF=`auto`,UF=class extends PF{constructor(e){super(e),this.maximumFractionDigits=zF,this.minimumFractionDigits=BF,this.style=VF,this.type=`number`,this.useGrouping=HF}};O([P({type:dg,nonNullable:!0,range:RF,json:{default:zF,write:!0}})],UF.prototype,`maximumFractionDigits`,void 0),O([P({type:dg,nonNullable:!0,range:RF,json:{default:BF,write:!0}})],UF.prototype,`minimumFractionDigits`,void 0),O([P({type:[`decimal`],nonNullable:!0,json:{default:VF,write:!0}})],UF.prototype,`style`,void 0),O([P({type:[`number`]})],UF.prototype,`type`,void 0),O([P({type:[`always`,`auto`,`never`],nonNullable:!0,json:{default:HF,write:!0}})],UF.prototype,`useGrouping`,void 0),UF=O([F(`esri.layers.support.NumberFieldFormat`)],UF);var WF=UF,GF=class extends Y(R){constructor(e){super(e),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};O([J(Gae)],GF.prototype,`dateFormat`,void 0),O([P({type:Boolean,json:{write:!0}})],GF.prototype,`digitSeparator`,void 0),O([P({type:dg,json:{write:!0}})],GF.prototype,`places`,void 0),GF=O([F(`esri.popup.support.FieldInfoFormat`)],GF);var KF=GF,qF={base:PF,key:`type`,errorContext:`field-configuration-field-format`,typeMap:{"date-time":LF,number:WF}};function JF(e,t){let{format:n}=e;return t&&XF(t)?n?YF(n,t):fI(t,{hour12:`always`,useGrouping:`always`}):null}function YF(e,t){let{dateFormat:n}=e;if(!t)return n?$F(e):QF(e);if(!XF(t))return;let r={hour12:`always`};switch(t.type){case`integer`:case`small-integer`:case`big-integer`:case`long`:return ZF(e);case`single`:case`double`:return QF(e);case`date`:case`timestamp-offset`:return n?$F(e):fI(t,r);case`date-only`:return n?Qme(e):fI(t);case`time-only`:return n?$me(e):fI(t,r)}}function XF(e){return iF(e)||oF(e)||sF(e)||lF(e)||cF(e)}function ZF(e){return new WF({useGrouping:e.digitSeparator?`always`:`never`})}function QF(e){let t=ZF(e),{places:n}=e;return t.minimumFractionDigits=n??0,t.maximumFractionDigits=n??2,t}function $F(e){return new LF({dateStyle:eI(e),year:iI(e),month:nI(e),timeStyle:rI(e),hour12:tI(e)})}function Qme(e){return new LF({dateStyle:eI(e),year:iI(e),month:nI(e)})}function $me(e){return new LF({timeStyle:rI(e),hour12:tI(e)})}function eI(e){let{dateFormat:t}=e;return t?t.startsWith(`short-date`)?`short`:t.startsWith(`day-short-month-year`)?`medium`:t.startsWith(`long-month-day-year`)?`long`:t.startsWith(`long-date`)?`full`:null:null}function tI(e){return e.dateFormat?.endsWith(`-24`)?`never`:`always`}function nI(e){switch(e.dateFormat){case`short-month-year`:return`short`;case`long-month-year`:return`long`;default:return null}}function rI(e){let{dateFormat:t}=e;return t?t.includes(`short-time`)?`short`:t.includes(`long-time`)?`medium`:null:null}function iI(e){switch(e.dateFormat){case`short-month-year`:case`long-month-year`:case`year`:return`numeric`;default:return null}}function aI(e,t){let n=e.type===`number`,r=e.type===`date-time`;if(!t)return n?sI(e):r?cI(e):null;if(XF(t))switch(t.type){case`integer`:case`small-integer`:case`big-integer`:case`long`:return n?oI(e):null;case`single`:case`double`:return n?sI(e):null;case`date`:case`timestamp-offset`:return r?cI(e):null;case`date-only`:return r?ehe(e):null;case`time-only`:return r?the(e):null}}function oI(e){return new KF({digitSeparator:e.useGrouping!==`never`})}function sI(e){let t=oI(e);return t.places=e.maximumFractionDigits,t}function cI(e){let t,n=lI(e),r=uI(e),i=e.hour12===`never`?`24`:null,a=e.year===`numeric`?`year`:null,o=dI(e);return n&&r&&i?t=`${n}-${r}-${i}`:n&&r?t=`${n}-${r}`:n?t=n:a&&o?t=`${o}-${a}`:a&&(t=a),t?new KF({dateFormat:t}):null}function ehe(e){let t,n=lI(e),r=e.year===`numeric`?`year`:null,i=dI(e);return n?t=n:r&&i?t=`${i}-${r}`:r&&(t=r),t?new KF({dateFormat:t}):null}function the(e){let t,n=uI(e),r=e.hour12===`never`?`24`:null;return n&&r?t=`short-date-${n}-${r}`:n&&(t=`short-date-${n}`),t?new KF({dateFormat:t}):null}function lI(e){switch(e.dateStyle){case`short`:return`short-date`;case`medium`:return`day-short-month-year`;case`long`:return`long-month-day-year`;case`full`:return`long-date`;default:return}}function uI(e){return e.timeStyle&&(e.timeStyle===`short`?`short-time`:`long-time`)}function dI(e){switch(e.month){case`short`:return`short-month`;case`long`:return`long-month`;default:return}}function fI(e,t){if(!XF(e))return;let n=t?.useGrouping??`auto`,r=t?.hour12??`auto`;switch(e.type){case`integer`:case`small-integer`:case`big-integer`:case`long`:return new WF({minimumFractionDigits:0,maximumFractionDigits:0,useGrouping:n});case`single`:case`double`:return new WF({minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:n});case`date`:case`timestamp-offset`:return new LF({dateStyle:`short`,timeStyle:`short`,hour12:r});case`date-only`:return new LF({dateStyle:`short`});case`time-only`:return new LF({timeStyle:`short`,hour12:r})}}var pI=class extends Y(R){constructor(e){super(e),this.fieldName=null,this.isEditable=!0,this.label=null,this.statisticType=null,this.stringFieldOption=`text-box`,this.tooltip=null,this.visible=!0}set fieldFormat(e){this._set(`fieldFormat`,e),this._set(`format`,e?aI(e):null)}set format(e){this._set(`format`,e),this._set(`fieldFormat`,e?YF(e):null)}readFormat(e,t){if(!t.fieldFormat)return e?KF.fromJSON(e):null}clone(){let e=super.clone();return e._set(`format`,this.format?.clone()),e._set(`fieldFormat`,this.fieldFormat?.clone()),e}};O([P({value:null,clonable:!1,types:qF,json:{write:{overridePolicy(e,t,n){let{fieldName:r}=this;return{enabled:!!r&&!r.startsWith(`expression/`)&&!r.startsWith(`relationships/`)&&!!n?.writeFieldFormat}}}}})],pI.prototype,`fieldFormat`,null),O([P({type:String,json:{write:!0}})],pI.prototype,`fieldName`,void 0),O([P({value:null,clonable:!1,type:KF,json:{write:!0}})],pI.prototype,`format`,null),O([W(`format`)],pI.prototype,`readFormat`,null),O([P({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],pI.prototype,`isEditable`,void 0),O([P({type:String,json:{write:!0}})],pI.prototype,`label`,void 0),O([P({type:[`count`,`sum`,`min`,`max`,`avg`,`stddev`,`var`],json:{write:!0}})],pI.prototype,`statisticType`,void 0),O([J(new P_({richtext:`rich-text`,textarea:`text-area`,textbox:`text-box`}),{default:`text-box`})],pI.prototype,`stringFieldOption`,void 0),O([P({type:String,json:{write:!0}})],pI.prototype,`tooltip`,void 0),O([P({type:Boolean,json:{write:!0}})],pI.prototype,`visible`,void 0),pI=O([F(`esri.popup.FieldInfo`)],pI);var mI=pI,hI,gI=hI=class extends yF{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type=`fields`}clone(){return new hI(A({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};O([P({type:Object,json:{write:!0}})],gI.prototype,`attributes`,void 0),O([P({type:String,json:{write:!0}})],gI.prototype,`description`,void 0),O([P({type:[mI],json:{write:!0}})],gI.prototype,`fieldInfos`,void 0),O([P({type:String,json:{write:!0}})],gI.prototype,`title`,void 0),O([P({type:[`fields`],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],gI.prototype,`type`,void 0),gI=hI=O([F(`esri.popup.content.FieldsContent`)],gI);var _I=gI,vI=class extends R{constructor(e){super(e),this.altText=null,this.caption=``,this.title=``,this.type=null}};O([P({type:String,json:{write:!0}})],vI.prototype,`altText`,void 0),O([P({type:String,json:{write:!0}})],vI.prototype,`caption`,void 0),O([P({type:String,json:{write:!0}})],vI.prototype,`title`,void 0),O([P({type:[`image`,`bar-chart`,`column-chart`,`line-chart`,`pie-chart`],readOnly:!0,json:{read:!1,write:!0}})],vI.prototype,`type`,void 0),vI=O([F(`esri.popup.content.mixins.MediaInfo`)],vI);var yI=vI,bI,xI=bI=class extends I{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new bI({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};O([P()],xI.prototype,`color`,void 0),O([P()],xI.prototype,`fieldName`,void 0),O([P()],xI.prototype,`tooltip`,void 0),O([P()],xI.prototype,`value`,void 0),xI=bI=O([F(`esri.popup.content.support.ChartMediaInfoValueSeries`)],xI);var SI=xI,CI,wI=CI=class extends R{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new CI({colors:A(this.colors),fields:A(this.fields),normalizeField:this.normalizeField,series:A(this.series),tooltipField:this.tooltipField})}};O([P({type:[lE],json:{type:[[dg]],write:!0}})],wI.prototype,`colors`,void 0),O([P({type:[String],json:{write:{isRequired:!0}}})],wI.prototype,`fields`,void 0),O([P({type:String,json:{write:!0}})],wI.prototype,`normalizeField`,void 0),O([P({type:[SI],json:{read:!1}})],wI.prototype,`series`,void 0),O([P({type:String,json:{write:!0}})],wI.prototype,`tooltipField`,void 0),wI=CI=O([F(`esri.popup.content.support.ChartMediaInfoValue`)],wI);var nhe=wI,TI=class extends yI{constructor(e){super(e),this.type=null,this.value=void 0}};O([P({type:[`bar-chart`,`column-chart`,`line-chart`,`pie-chart`],readOnly:!0,json:{read:!1,write:!0}})],TI.prototype,`type`,void 0),O([P({type:nhe,json:{write:{isRequired:!0}}})],TI.prototype,`value`,void 0),TI=O([F(`esri.popup.content.mixins.ChartMediaInfo`)],TI);var EI=TI,DI=I_()({barchart:`bar-chart`,columnchart:`column-chart`,linechart:`line-chart`,piechart:`pie-chart`}),OI,kI=OI=class extends EI{constructor(e){super(e),this.type=`bar-chart`}clone(){return new OI({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};O([P({type:[`bar-chart`],readOnly:!0,json:{type:[`barchart`],read:!1,write:{writer:DI.write,isRequired:!0}}})],kI.prototype,`type`,void 0),kI=OI=O([F(`esri.popup.content.BarChartMediaInfo`)],kI);var AI=kI,jI,MI=jI=class extends EI{constructor(e){super(e),this.type=`column-chart`}clone(){return new jI({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};O([P({type:[`column-chart`],readOnly:!0,json:{type:[`columnchart`],read:!1,write:{writer:DI.write,isRequired:!0}}})],MI.prototype,`type`,void 0),MI=jI=O([F(`esri.popup.content.ColumnChartMediaInfo`)],MI);var NI=MI,PI,FI=PI=class extends R{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new PI({linkURL:this.linkURL,sourceURL:this.sourceURL})}};O([P({type:String,json:{write:!0}})],FI.prototype,`linkURL`,void 0),O([P({type:String,json:{write:{isRequired:!0}}})],FI.prototype,`sourceURL`,void 0),FI=PI=O([F(`esri.popup.content.support.ImageMediaInfoValue`)],FI);var rhe=FI,II,LI=II=class extends yI{constructor(e){super(e),this.refreshInterval=0,this.type=`image`,this.value=void 0}clone(){return new II({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};O([P({type:Number,json:{write:!0}})],LI.prototype,`refreshInterval`,void 0),O([P({type:[`image`],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],LI.prototype,`type`,void 0),O([P({type:rhe,json:{write:{isRequired:!0}}})],LI.prototype,`value`,void 0),LI=II=O([F(`esri.popup.content.ImageMediaInfo`)],LI);var RI=LI,zI,BI=zI=class extends EI{constructor(e){super(e),this.type=`line-chart`}clone(){return new zI({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};O([P({type:[`line-chart`],readOnly:!0,json:{type:[`linechart`],read:!1,write:{writer:DI.write,isRequired:!0}}})],BI.prototype,`type`,void 0),BI=zI=O([F(`esri.popup.content.LineChartMediaInfo`)],BI);var VI=BI,HI,UI=HI=class extends EI{constructor(e){super(e),this.type=`pie-chart`}clone(){return new HI({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};O([P({type:[`pie-chart`],readOnly:!0,json:{type:[`piechart`],read:!1,write:{writer:DI.write,isRequired:!0}}})],UI.prototype,`type`,void 0),UI=HI=O([F(`esri.popup.content.PieChartMediaInfo`)],UI);var WI=UI,GI={base:yI,key:`type`,defaultKeyValue:`image`,typeMap:{"bar-chart":AI,"column-chart":NI,"line-chart":VI,"pie-chart":WI,image:RI}},KI,qI=KI=class extends yF{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type=`media`}readMediaInfos(e){return e&&e.map(e=>e.type===`image`?RI.fromJSON(e):e.type===`barchart`?AI.fromJSON(e):e.type===`columnchart`?NI.fromJSON(e):e.type===`linechart`?VI.fromJSON(e):e.type===`piechart`?WI.fromJSON(e):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(e=>e.toJSON())}clone(){return new KI(A({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};O([P()],qI.prototype,`activeMediaInfoIndex`,void 0),O([P({type:Object,json:{write:!0}})],qI.prototype,`attributes`,void 0),O([P({type:String,json:{write:!0}})],qI.prototype,`description`,void 0),O([P({types:[GI]})],qI.prototype,`mediaInfos`,void 0),O([W(`mediaInfos`)],qI.prototype,`readMediaInfos`,null),O([z(`mediaInfos`)],qI.prototype,`writeMediaInfos`,null),O([P({type:String,json:{write:!0}})],qI.prototype,`title`,void 0),O([P({type:[`media`],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],qI.prototype,`type`,void 0),qI=KI=O([F(`esri.popup.content.MediaContent`)],qI);var JI=qI,YI,XI=YI=class extends R{constructor(e){super(e),this.field=null,this.order=null}clone(){return new YI({field:this.field,order:this.order})}};O([P({type:String,json:{write:!0}})],XI.prototype,`field`,void 0),O([P({type:[`asc`,`desc`],json:{write:!0}})],XI.prototype,`order`,void 0),XI=YI=O([F(`esri.popup.support.RelatedRecordsInfoFieldOrder`)],XI);var ZI=XI,QI=class extends Y(yF){constructor(e){super(e),this.description=null,this.displayCount=null,this.displayType=`list`,this.orderByFields=null,this.relationshipId=null,this.title=null,this.type=`relationship`}};O([P({type:String,json:{write:!0}})],QI.prototype,`description`,void 0),O([P({type:Number,json:{type:dg,write:!0}})],QI.prototype,`displayCount`,void 0),O([P({type:[`list`],json:{write:{isRequired:!0}}})],QI.prototype,`displayType`,void 0),O([P({type:[ZI],json:{write:!0}})],QI.prototype,`orderByFields`,void 0),O([P({type:Number,json:{type:dg,write:{isRequired:!0}}})],QI.prototype,`relationshipId`,void 0),O([P({type:String,json:{write:!0}})],QI.prototype,`title`,void 0),O([P({type:[`relationship`],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],QI.prototype,`type`,void 0),QI=O([F(`esri.popup.content.RelationshipContent`)],QI);var $I=QI,eL,tL=eL=class extends yF{constructor(e){super(e),this.text=null,this.type=`text`}clone(){return new eL({text:this.text})}};O([P({type:String,json:{write:!0}})],tL.prototype,`text`,void 0),O([P({type:[`text`],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],tL.prototype,`type`,void 0),tL=eL=O([F(`esri.popup.content.TextContent`)],tL);var nL=tL,rL=class extends Y(R){constructor(e){super(e),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};O([P({type:String,json:{write:!0}})],rL.prototype,`title`,void 0),O([P({type:String,json:{write:!0}})],rL.prototype,`description`,void 0),O([P({type:[`attachment`,`connectivity`,`container`,`content`,`structure`],json:{write:!0}})],rL.prototype,`type`,void 0),O([P({type:Number,json:{type:dg,write:!0}})],rL.prototype,`associatedNetworkSourceId`,void 0),O([P({type:Number,json:{type:dg,write:!0}})],rL.prototype,`associatedAssetGroup`,void 0),O([P({type:Number,json:{type:dg,write:!0}})],rL.prototype,`associatedAssetType`,void 0),rL=O([F(`esri.popup.support.UtilityNetworkAssociationType`)],rL);var iL=rL,aL=class extends Y(yF){constructor(e){super(e),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type=`utility-network-associations`}};O([P({type:String,json:{write:!0}})],aL.prototype,`description`,void 0),O([P({type:Number,json:{type:dg,write:!0}})],aL.prototype,`displayCount`,void 0),O([P({type:String,json:{write:!0}})],aL.prototype,`title`,void 0),O([P({type:[iL],json:{write:!0}})],aL.prototype,`associationTypes`,void 0),O([J({utilityNetworkAssociations:`utility-network-associations`})],aL.prototype,`type`,void 0),aL=O([F(`esri.popup.content.UtilityNetworkAssociationsContent`)],aL);var oL=aL,ihe={base:null,key:`type`,typeMap:{attachment:wF,media:JI,text:nL,expression:MF,field:_I,relationship:$I,utilityNetworkAssociations:oL}},ahe={base:null,key:`type`,typeMap:{attachment:wF,media:JI,text:nL,expression:MF,field:_I,relationship:$I}},sL,cL=sL=class extends R{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new sL({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};O([P({type:String,json:{write:!0}})],cL.prototype,`name`,void 0),O([P({type:String,json:{write:!0}})],cL.prototype,`title`,void 0),O([P({type:String,json:{write:!0}})],cL.prototype,`expression`,void 0),O([P({type:[`string`,`number`],json:{write:!0}})],cL.prototype,`returnType`,void 0),cL=sL=O([F(`esri.popup.ExpressionInfo`)],cL);var lL=cL,uL,dL=uL=class extends R{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new uL({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};O([P({type:Boolean,json:{write:!0}})],dL.prototype,`returnTopmostRaster`,void 0),O([P({type:Boolean,json:{write:!0}})],dL.prototype,`showNoDataRecords`,void 0),dL=uL=O([F(`esri.popup.LayerOptions`)],dL);var ohe=dL,fL,pL=fL=class extends R{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new fL({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?A(this.orderByFields):null})}};O([P({type:Boolean,json:{write:!0}})],pL.prototype,`showRelatedRecords`,void 0),O([P({type:[ZI],json:{write:!0}})],pL.prototype,`orderByFields`,void 0),pL=fL=O([F(`esri.popup.RelatedRecordsInfo`)],pL);var mL=pL,hL,gL=hL=class extends Qw(I){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new hL({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};O([P()],gL.prototype,`active`,void 0),O([P()],gL.prototype,`className`,void 0),O([P()],gL.prototype,`disabled`,void 0),O([P()],gL.prototype,`icon`,void 0),O([P()],gL.prototype,`id`,void 0),O([P()],gL.prototype,`indicator`,void 0),O([P()],gL.prototype,`title`,void 0),O([P()],gL.prototype,`type`,void 0),O([P()],gL.prototype,`visible`,void 0),gL=hL=O([F(`esri.support.actions.ActionBase`)],gL);var _L=gL,vL,yL=vL=class extends _L{constructor(e){super(e),this.image=null,this.type=`button`}clone(){return new vL({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};O([P()],yL.prototype,`image`,void 0),yL=vL=O([F(`esri.support.actions.ActionButton`)],yL);var bL=yL,xL,SL=xL=class extends _L{constructor(e){super(e),this.image=null,this.type=`toggle`,this.value=!1}clone(){return new xL({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};O([P()],SL.prototype,`image`,void 0),O([P()],SL.prototype,`value`,void 0),SL=xL=O([F(`esri.support.actions.ActionToggle`)],SL);var CL=SL,wL=`relationships/`,TL=`expression/`,she=L.ofType({key:`type`,defaultKeyValue:`button`,base:_L,typeMap:{button:bL,toggle:CL}}),che={base:yF,key:`type`,typeMap:{media:JI,custom:Zme,text:nL,attachments:wF,fields:_I,expression:MF,relationship:$I,utilityNetworkAssociations:oL}},EL=new Set([`attachments`,`fields`,`media`,`text`,`expression`,`relationship`]),lhe=new Set([...EL,`utility-network-associations`]),DL=class extends Y(R){constructor(e){super(e),this.actions=null,this.content=``,this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=``}castContent(e){return Array.isArray(e)?e.map(e=>ug(che,e)):typeof e==`string`||typeof e==`function`||e instanceof HTMLElement||gf(e)?e:(j.getLogger(this).error(`content error`,`unsupported content value`,{value:e}),null)}readContent(e,t){let{popupElements:n}=t;return Array.isArray(n)&&n.length>0?this._readPopupInfoElements(t.description,t.mediaInfos,n):this._readPopupInfo(t)}writeWebSceneContent(e,t,n,r){this._writePopupTemplateContent(e,t,r)}writeWebMapContent(e,t,n,r){this._writePopupTemplateContent(e,t,r)}writeFieldInfos(e,t,n,r){let{content:i}=this,a=Array.isArray(i)?i:null,{writeFieldFormat:o,...s}=r||{};if(e){let n=a?a.filter(e=>e.type===`fields`):[],r=n.length&&n.every(e=>e.fieldInfos?.length);t.fieldInfos=e.filter(Boolean).map(e=>{let t=e.toJSON(s);return r&&(t.visible=!1),t})}if(a)for(let e of a)e.type===`fields`&&this._writeFieldsContent(e,t,s)}writeLayerOptions(e,t,n,r){t[n]=!e||e.showNoDataRecords===null&&e.returnTopmostRaster===null?null:e.toJSON(r)}writeTitle(e,t){t.title=e||``}async collectRequiredFields(e,t,n){let r=this.expressionInfos||[];await this._collectExpressionInfoFields(e,t,n,[...r,...this._getContentExpressionInfos(this.content,r)]),HP(e,t,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e,t){let n=new Set;return await this.collectRequiredFields(n,e,t),[...n].sort()}_writePopupTemplateContent(e,t,n){typeof e==`string`?t.description=e:Array.isArray(e)&&(t.popupElements=e.filter(e=>n?.origin===`web-scene`?EL.has(e.type):lhe.has(e.type)).map(e=>e?.toJSON(n)),t.popupElements.forEach(e=>{e.type===`attachments`?this._writeAttachmentContent(t):e.type===`media`?this._writeMediaContent(e,t):e.type===`text`?this._writeTextContent(e,t):e.type===`relationship`&&this._writeRelationshipContent(e,t)}))}_writeFieldsContent(e,t,n){let r=e.fieldInfos;if(!Array.isArray(r)||!r.length)return;let i=t.fieldInfos;if(Array.isArray(i))for(let e of r){let t=i.find(t=>t.fieldName?.toLowerCase()===e.fieldName?.toLowerCase());t?t.visible=!0:i.push(e.toJSON(n))}else t.fieldInfos=r.map(e=>e.toJSON(n))}_writeAttachmentContent(e){e.showAttachments||=!0}_writeRelationshipContent(e,t){let n=e.orderByFields?.map(t=>this._toFieldOrderJSON(t,e.relationshipId))||[],r=[...t.relatedRecordsInfo?.orderByFields||[],...n];t.relatedRecordsInfo={showRelatedRecords:!0,...r?.length&&{orderByFields:r}}}_writeTextContent(e,t){!t.description&&e.text&&(t.description=e.text)}_writeMediaContent(e,t){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;let n=A(e.mediaInfos);Array.isArray(t.mediaInfos)?t.mediaInfos=[...t.mediaInfos,...n]:t.mediaInfos=n}_readPopupInfoElements(e,t,n){let r={description:!1,mediaInfos:!1};return n.map(n=>n.type===`media`?(n.mediaInfos||!t||r.mediaInfos||(n.mediaInfos=t,r.mediaInfos=!0),JI.fromJSON(n)):n.type===`text`?(n.text||!e||r.description||(n.text=e,r.description=!0),nL.fromJSON(n)):n.type===`attachments`?wF.fromJSON(n):n.type===`fields`?_I.fromJSON(n):n.type===`expression`?MF.fromJSON(n):n.type===`relationship`?$I.fromJSON(n):n.type===`utilityNetworkAssociations`?oL.fromJSON(n):void 0).filter(Boolean)}_toRelationshipContent(e){let{field:t,order:n}=e;if(!t?.startsWith(wL))return null;let r=t.replace(wL,``).split(`/`);if(r.length!==2)return null;let i=parseInt(r[0],10),a=r[1];return!Number.isNaN(i)&&a?$I.fromJSON({relationshipId:i,orderByFields:[{field:a,order:n}]}):null}_toFieldOrderJSON(e,t){let{order:n,field:r}=e;return{field:`${wL}${t}/${r}`,order:n}}_readPopupInfo({description:e,mediaInfos:t,showAttachments:n,relatedRecordsInfo:r={showRelatedRecords:!1}}){let i=[];e?i.push(new nL({text:e})):i.push(new _I),Array.isArray(t)&&t.length&&i.push(JI.fromJSON({mediaInfos:t})),n&&i.push(wF.fromJSON({displayType:`auto`}));let{showRelatedRecords:a,orderByFields:o}=r;return a&&o?.length&&o.forEach(e=>{let t=this._toRelationshipContent(e);t&&i.push(t)}),i.length?i:e}_getContentElementFields(e){let t=e?.type;if(t===`attachments`)return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if(t===`custom`)return e.outFields||[];if(t===`fields`)return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos??this.fieldInfos)];if(t===`media`){let t=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...t.reduce((e,t)=>[...e,...this._getMediaInfoFields(t)],[])]}return t===`text`?this._extractFieldNames(e.text):t===`relationship`||t===`utility-network-associations`?[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)]:[]}_getMediaInfoFields(e){let{caption:t,title:n,value:r}=e,{fields:i,normalizeField:a,tooltipField:o,sourceURL:s,linkURL:c}=r||{},l=[...this._extractFieldNames(n),...this._extractFieldNames(t),...this._extractFieldNames(s),...this._extractFieldNames(c),...i??[]];return a&&l.push(a),o&&l.push(o),l}_getContentExpressionInfos(e,t){return Array.isArray(e)?e.reduce((e,t)=>[...e,...t.type===`expression`&&t.expressionInfo?[t.expressionInfo]:[]],t):[]}_getContentFields(e){return typeof e==`string`?this._extractFieldNames(e):Array.isArray(e)?e.reduce((e,t)=>[...e,...this._getContentElementFields(t)],[]):[]}async _collectExpressionInfoFields(e,t,n,r){r&&await Promise.all(r.map(r=>WP(e,t,n,r.expression)))}_getFieldInfoFields(e){return e?e.filter(({fieldName:e,visible:t})=>!(t!==void 0&&!t||!e||e.startsWith(wL)||e.startsWith(TL))).map(e=>e.fieldName):[]}_getActionsFields(e){return e?e.toArray().reduce((e,t)=>[...e,...this._getActionFields(t)],[]):[]}_getActionFields(e){let{className:t,title:n,type:r}=e,i=r===`button`||r===`toggle`?e.image:``;return[...this._extractFieldNames(n),...this._extractFieldNames(t),...this._extractFieldNames(i)]}_getTitleFields(e){return typeof e==`string`?this._extractFieldNames(e):[]}_extractFieldNames(e){return _F(e).filter(e=>!(e.startsWith(wL)||e.startsWith(TL)))}};O([P({type:she})],DL.prototype,`actions`,void 0),O([P()],DL.prototype,`content`,void 0),O([Sy(`content`)],DL.prototype,`castContent`,null),O([W(`content`,[`description`,`fieldInfos`,`popupElements`,`mediaInfos`,`showAttachments`,`relatedRecordsInfo`])],DL.prototype,`readContent`,null),O([z(`web-scene`,`content`,{popupElements:{type:L.ofType(ahe)},showAttachments:{type:Boolean},mediaInfos:{type:L.ofType(GI)},description:{type:String},relatedRecordsInfo:{type:mL}})],DL.prototype,`writeWebSceneContent`,null),O([z(`content`,{popupElements:{type:L.ofType(ihe)},showAttachments:{type:Boolean},mediaInfos:{type:L.ofType(GI)},description:{type:String},relatedRecordsInfo:{type:mL}})],DL.prototype,`writeWebMapContent`,null),O([P({type:[lL],json:{write:!0}})],DL.prototype,`expressionInfos`,void 0),O([P({type:[mI]})],DL.prototype,`fieldInfos`,void 0),O([z(`fieldInfos`)],DL.prototype,`writeFieldInfos`,null),O([P({type:ohe})],DL.prototype,`layerOptions`,void 0),O([z(`layerOptions`)],DL.prototype,`writeLayerOptions`,null),O([P({type:Boolean,json:{read:{source:`showLastEditInfo`},write:{target:`showLastEditInfo`},default:!0}})],DL.prototype,`lastEditInfoEnabled`,void 0),O([P()],DL.prototype,`outFields`,void 0),O([P()],DL.prototype,`overwriteActions`,void 0),O([P()],DL.prototype,`returnGeometry`,void 0),O([P({json:{type:String}})],DL.prototype,`title`,void 0),O([z(`title`)],DL.prototype,`writeTitle`,null),DL=O([F(`esri.PopupTemplate`)],DL);var OL=DL,kL=Symbol(`idFieldsProviderSymbol`);function uhe(e){return!!e&&kL in e}function AL(e){return uhe(e)?e[kL]:void 0}var jL=Symbol(`popupProvider`);function dhe(e){return typeof e==`object`&&!!e&&`popupEnabled`in e&&`popupTemplate`in e}function fhe(e){return!!e&&jL in e}function ML(e){return fhe(e)?e[jL]:null}function phe(e,t){switch(t.type){case`object-id`:case`unique-id-simple`:return e.attributes[t.fieldName];case`unique-id-composite`:{let n=[];for(let r of t.fieldNames)n.push(e.attributes[r]??null);return JSON.stringify(n)}}}function NL(e,t){if(`uniqueIdFields`in t&&t.uniqueIdFields?.length){if(t.uniqueIdFields.length===1)return e.attributes?.[t.uniqueIdFields[0]];let n=t.uniqueIdFields.map(t=>e.attributes?.[t]);return JSON.stringify(n)}return`objectIdField`in t&&t.objectIdField?e.attributes?.[t.objectIdField]:null}var PL=new P_({esriSMS:`simple-marker`,esriPMS:`picture-marker`,esriSLS:`simple-line`,esriSFS:`simple-fill`,esriPFS:`picture-fill`,esriTS:`text`,esriSHD:`shield-label-symbol`,PointSymbol3D:`point-3d`,LineSymbol3D:`line-3d`,PolygonSymbol3D:`polygon-3d`,WebStyleSymbol:`web-style`,MeshSymbol3D:`mesh-3d`,LabelSymbol3D:`label-3d`,CIMSymbolReference:`cim`}),mhe=0,FL=class extends R{constructor(e){super(e),this.id=`sym`+ mhe++,this.type=null,this.color=new lE([0,0,0,1])}readColor(e){return e?.[0]==null?e:[e[0],e[1],e[2],e[3]/255]}async collectRequiredFields(e,t){}hash(){return JSON.stringify(this.toJSON())}clone(){}};O([P({type:PL.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:PL.write,isRequired:!0}}})],FL.prototype,`type`,void 0),O([P({type:lE,json:{write:{allowNull:!0}}})],FL.prototype,`color`,void 0),O([W(`color`)],FL.prototype,`readColor`,null),FL=O([F(`esri.symbols.Symbol`)],FL);var IL,LL=IL=class extends FL{constructor(e){super(e),this.data=null,this.type=`cim`}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){if(this.data?.type===`CIMSymbolReference`){let n=this.data.primitiveOverrides;if(n){let r=n.map(n=>{let r=n.valueExpressionInfo;return r?WP(e,t,null,r.expression):null});await Promise.all(r)}}}clone(){return new IL({data:A(this.data)})}hash(){return Cl(JSON.stringify(this.data)).toString()}};O([P({json:{write:!1}})],LL.prototype,`color`,void 0),O([P({json:{write:!0}})],LL.prototype,`data`,void 0),O([W(`data`,[`symbol`])],LL.prototype,`readData`,null),O([z(`data`,{})],LL.prototype,`writeData`,null),O([J({CIMSymbolReference:`cim`},{readOnly:!0})],LL.prototype,`type`,void 0),LL=IL=O([F(`esri.symbols.CIMSymbol`)],LL);var RL=class extends R{constructor(e){super(e),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(e,t,n){e||(t[n]=e)}};O([P({type:Boolean,json:{read:{source:`enable`},write:{target:`enable`}}})],RL.prototype,`enabled`,void 0),O([z(`enabled`)],RL.prototype,`writeEnabled`,null),O([P({type:[`icon`,`object`,`line`,`path`,`fill`,`water`,`extrude`,`text`],readOnly:!0,json:{write:{isRequired:!0}}})],RL.prototype,`type`,void 0),RL=O([F(`esri.symbols.Symbol3DLayer`)],RL);function hhe(e,t){let n=t.transparency==null?1:hE(t.transparency),r=t.color;return r&&Array.isArray(r)?new lE([r[0]||0,r[1]||0,r[2]||0,n]):null}function ghe(e,t){t.color=e.toJSON().slice(0,3);let n=mE(e.a);n!==0&&(t.transparency=n)}function zL(e){return{type:lE,nonNullable:e?.nonNullable,json:{type:[dg],default:null,read:{source:[`color`,`transparency`],reader:hhe},write:{target:{color:{type:[dg],isRequired:e?.colorRequiredOnWrite},transparency:{type:dg}},writer:ghe}}}}var BL={type:Number,cast:fj,json:{write:!0}};function _he(e){return e===`emissive`?0:1}var VL=class extends R{constructor(e){super(e),this.color=new lE([0,0,0,1]),this.extensionLength=0,this.size=dj(1)}clone(){}cloneProperties(){return{color:A(this.color),size:this.size,extensionLength:this.extensionLength}}};O([P({type:[`solid`,`sketch`],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],VL.prototype,`type`,void 0),O([P(zL({colorRequiredOnWrite:!0}))],VL.prototype,`color`,void 0),O([P({...BL,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],VL.prototype,`extensionLength`,void 0),O([P(BL)],VL.prototype,`size`,void 0),VL=O([F(`esri.symbols.edges.Edges3D`)],VL);var HL=VL,UL,WL=UL=class extends HL{constructor(e){super(e),this.type=`sketch`}clone(){return new UL(this.cloneProperties())}};O([J({sketch:`sketch`},{readOnly:!0})],WL.prototype,`type`,void 0),WL=UL=O([F(`esri.symbols.edges.SketchEdges3D`)],WL);var vhe=WL,GL,KL=GL=class extends HL{constructor(e){super(e),this.type=`solid`}clone(){return new GL(this.cloneProperties())}};O([J({solid:`solid`},{readOnly:!0})],KL.prototype,`type`,void 0),KL=GL=O([F(`esri.symbols.edges.SolidEdges3D`)],KL);var qL=KL,JL={types:{key:`type`,base:HL,typeMap:{solid:qL,sketch:vhe}},json:{write:!0}},YL,XL=YL=class extends R{constructor(){super(...arguments),this.strength=null,this.source=`emissive`}clone(){let e={strength:this.strength,source:this.source};return new YL(e)}};O([P({json:{write:!1}})],XL.prototype,`strength`,void 0),O([P({json:{write:!1}})],XL.prototype,`source`,void 0),XL=YL=O([F(`esri.symbols.support.Symbol3DEmissive`)],XL);var ZL,QL=ZL=class extends R{constructor(e){super(e),this.color=null,this.emissive=new XL({source:`emissive`})}clone(){let e={color:this.color?.clone()??null,emissive:this.emissive?.clone()??null};return new ZL(e)}};O([P(zL())],QL.prototype,`color`,void 0),O([P({type:XL,json:{write:!1}})],QL.prototype,`emissive`,void 0),QL=ZL=O([F(`esri.symbols.support.Symbol3DMaterial`)],QL);var $L,eR=class extends RL{static{$L=this}constructor(e){super(e),this.type=`extrude`,this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new $L({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};O([J({Extrude:`extrude`},{readOnly:!0})],eR.prototype,`type`,void 0),O([P({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],eR.prototype,`size`,void 0),O([P({type:QL,json:{write:!0}})],eR.prototype,`material`,void 0),O([P({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],eR.prototype,`castShadows`,void 0),O([P(JL)],eR.prototype,`edges`,void 0),eR=$L=O([F(`esri.symbols.ExtrudeSymbol3DLayer`)],eR);var tR=class extends R{constructor(e){super(e)}clone(){throw Error(`Subclasses of LinePattern3D should implement their own clone method.`)}};O([P({type:[`style`],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],tR.prototype,`type`,void 0),tR=O([F(`esri.symbols.patterns.LinePattern3D`)],tR);var yhe=[`dash`,`dash-dot`,`dot`,`long-dash`,`long-dash-dot`,`long-dash-dot-dot`,`none`,`short-dash`,`short-dash-dot`,`short-dash-dot-dot`,`short-dot`,`solid`],nR,bhe=I_()({dash:`dash`,"dash-dot":`dash-dot`,"dash-dot-dot":`long-dash-dot-dot`,dot:`dot`,"long-dash":`long-dash`,"long-dash-dot":`long-dash-dot`,null:`none`,"short-dash":`short-dash`,"short-dash-dot":`short-dash-dot`,"short-dash-dot-dot":`short-dash-dot-dot`,"short-dot":`short-dot`,solid:`solid`}),rR=nR=class extends tR{constructor(e){super(e),this.type=`style`,this.style=`solid`}clone(){let e={style:this.style};return new nR(e)}};O([P({type:[`style`],json:{write:{isRequired:!0}}})],rR.prototype,`type`,void 0),O([J(bhe),P({type:yhe,json:{write:{isRequired:!0}}})],rR.prototype,`style`,void 0),rR=nR=O([F(`esri.symbols.patterns.LineStylePattern3D`)],rR);var iR=class extends R{constructor(e){super(e),this.type=`style`}clone(){throw Error(`Subclasses of Pattern3D should implement their own clone method.`)}};O([P({type:[`style`],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],iR.prototype,`type`,void 0),iR=O([F(`esri.symbols.patterns.Pattern3D`)],iR);var xhe=[`backward-diagonal`,`cross`,`diagonal-cross`,`forward-diagonal`,`horizontal`,`none`,`solid`,`vertical`],aR,oR=aR=class extends iR{constructor(e){super(e),this.type=`style`,this.style=`solid`}clone(){return new aR({style:this.style})}};O([P({type:[`style`],json:{write:{isRequired:!0}}})],oR.prototype,`type`,void 0),O([P({type:xhe,json:{read:!0,write:{isRequired:!0}}})],oR.prototype,`style`,void 0),oR=aR=O([F(`esri.symbols.patterns.StylePattern3D`)],oR);var She={types:{key:`type`,base:iR,typeMap:{style:oR}},json:{write:!0}},sR={types:{key:`type`,base:tR,typeMap:{style:rR}},json:{write:!0}},cR=new lE(`white`),Che=new lE([255,255,255,0]);function whe(e){return e.r===0&&e.g===0&&e.b===0}var lR,uR=lR=class extends QL{constructor(e){super(e),this.colorMixMode=null}clone(){let e={color:this.color?.clone()??null,colorMixMode:this.colorMixMode,emissive:this.emissive?.clone()??null};return new lR(e)}};O([J({multiply:`multiply`,replace:`replace`,tint:`tint`})],uR.prototype,`colorMixMode`,void 0),uR=lR=O([F(`esri.symbols.support.Symbol3DFillMaterial`)],uR);function dR(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function fR(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function pR(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h){return[e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h]}var mR=dR();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:mR,clone:fR,create:dR,fromValues:pR},Symbol.toStringTag,{value:`Module`}));function hR(e){return e<=1024?Array(e).fill(0):new Float64Array(e)}function The(e){return(Gc(e)?e.byteLength/8:e.length)<=1024?Array.from(e):new Float64Array(e)}function Ehe(e,t,n){return Array.isArray(e)?e.slice(t,t+n):e.subarray(t,t+n)}function Dhe(e){return[...e]}function Ohe(e){let t=dR();for(let n=0;n<16;++n)t[n]=e[n];return t}function gR(e){return e}function _R(e=DR){return gR([e[0],e[1],e[2],e[3],e[4],e[5]])}function vR(e,t,n,r,i,a,o=_R()){return o[0]=e,o[1]=t,o[2]=n,o[3]=r,o[4]=i,o[5]=a,o}function khe(e,t=_R()){return yR(e,0,e.length/3,t)}function yR(e,t,n,r=_R()){return wR(r,ER),bR(r,e,t,n),r}function Ahe(e,t=hR(24)){let[n,r,i,a,o,s]=e;return t[0]=n,t[1]=r,t[2]=i,t[3]=n,t[4]=r,t[5]=s,t[6]=n,t[7]=o,t[8]=i,t[9]=n,t[10]=o,t[11]=s,t[12]=a,t[13]=r,t[14]=i,t[15]=a,t[16]=r,t[17]=s,t[18]=a,t[19]=o,t[20]=i,t[21]=a,t[22]=o,t[23]=s,t}function jhe(e,t){let n=isFinite(e[2])||isFinite(e[5]);return new cb(n?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function Mhe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function Nhe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function Phe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function bR(e,t,n=0,r=t.length/3){let i=e[0],a=e[1],o=e[2],s=e[3],c=e[4],l=e[5];for(let e=0;e<r;e++)i=Math.min(i,t[n+3*e]),a=Math.min(a,t[n+3*e+1]),o=Math.min(o,t[n+3*e+2]),s=Math.max(s,t[n+3*e]),c=Math.max(c,t[n+3*e+1]),l=Math.max(l,t[n+3*e+2]);e[0]=i,e[1]=a,e[2]=o,e[3]=s,e[4]=c,e[5]=l}function Fhe(e,t,n){let r=t.length,i=e[0],a=e[1],o=e[2],s=e[3],c=e[4],l=e[5];if(n)for(let e=0;e<r;e++){let n=t[e];i=Math.min(i,n[0]),a=Math.min(a,n[1]),o=Math.min(o,n[2]),s=Math.max(s,n[0]),c=Math.max(c,n[1]),l=Math.max(l,n[2])}else for(let e=0;e<r;e++){let n=t[e];i=Math.min(i,n[0]),a=Math.min(a,n[1]),s=Math.max(s,n[0]),c=Math.max(c,n[1])}e[0]=i,e[1]=a,e[2]=o,e[3]=s,e[4]=c,e[5]=l}function Ihe(e){for(let t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0}function xR(e){return e[0]>=e[3]?0:e[3]-e[0]}function SR(e){return e[1]>=e[4]?0:e[4]-e[1]}function CR(e){return e[2]>=e[5]?0:e[5]-e[2]}function Lhe(e){let t=xR(e),n=CR(e),r=SR(e);return Math.sqrt(t*t+n*n+r*r)}function Rhe(e,t=[0,0,0]){return t[0]=e[0]+xR(e)/2,t[1]=e[1]+SR(e)/2,t[2]=e[2]+CR(e)/2,t}function zhe(e,t=[0,0,0]){return t[0]=xR(e),t[1]=SR(e),t[2]=CR(e),t}function Bhe(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function Vhe(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}function Hhe(e,t){return t==null||Vhe(e,t)}function Uhe(e,t,n,r,i=e){return i[0]=e[0]+t,i[1]=e[1]+n,i[2]=e[2]+r,i[3]=e[3]+t,i[4]=e[4]+n,i[5]=e[5]+r,i}function Whe(e,t,n=e){let r=e[0]+xR(e)/2,i=e[1]+SR(e)/2,a=e[2]+CR(e)/2;return n[0]=r+(e[0]-r)*t,n[1]=i+(e[1]-i)*t,n[2]=a+(e[2]-a)*t,n[3]=r+(e[3]-r)*t,n[4]=i+(e[4]-i)*t,n[5]=a+(e[5]-a)*t,n}function Ghe(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Khe(e,t,n=e){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n!==e&&(n[3]=e[3],n[4]=e[4],n[5]=e[5]),n}function qhe(e,t,n=e){return n[3]=t[0],n[4]=t[1],n[5]=t[2],n!==e&&(n[0]=e[0],n[1]=e[1],n[2]=e[2]),e}function wR(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Jhe(e){return e?wR(e,ER):_R(ER)}function Yhe(e,t=oD()){return t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t}function Xhe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=-1/0,e[3]=t[2],e[4]=t[3],e[5]=1/0,e}function Zhe(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=-1/0,e[3]=r,e[4]=i,e[5]=1/0,e}function TR(e){return e.length===6}function Qhe(e){return xR(e)===0&&SR(e)===0&&CR(e)===0}function $he(e,t,n){if(e==null||t==null)return e===t;if(!TR(e)||!TR(t))return!1;if(n){for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var ER=gR([1/0,1/0,1/0,-1/0,-1/0,-1/0]),DR=gR([0,0,0,0,0,0]);_R();function ege(e,{isPrimitive:t,width:n,depth:r,height:i}){let a=t?10:1;if(n==null&&i==null&&r==null)return[a*e[0],a*e[1],a*e[2]];let o=kk(n,r,i),s;for(let t=0;t<3;t++){let n=o[t];if(n!=null){s=n/e[t];break}}for(let t=0;t<3;t++)o[t]??(o[t]=e[t]*s);return o}var tge=vR(-.5,-.5,-.5,.5,.5,.5),nge=vR(-.5,-.5,0,.5,.5,1),rge=vR(-.5,-.5,0,.5,.5,.5);function ige(e){switch(e){case`sphere`:case`cube`:case`diamond`:return tge;case`cylinder`:case`cone`:case`inverted-cone`:return nge;case`tetrahedron`:return rge;default:return}}var OR=[`butt`,`square`,`round`],age=[...OR,`none`],kR=[`miter`,`bevel`,`round`],AR,jR=AR=class extends R{constructor(e){super(e),this.color=new lE([0,0,0,1]),this.size=dj(1),this.pattern=null,this.patternCap=`butt`}clone(){let e={color:this.color==null?null:this.color.clone(),size:this.size,pattern:this.pattern==null?null:this.pattern.clone(),patternCap:this.patternCap};return new AR(e)}};O([P(zL({colorRequiredOnWrite:!0}))],jR.prototype,`color`,void 0),O([P({...BL,json:{write:{isRequired:!0}}})],jR.prototype,`size`,void 0),O([P(sR)],jR.prototype,`pattern`,void 0),O([P({type:OR,json:{default:`butt`,write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],jR.prototype,`patternCap`,void 0),jR=AR=O([F(`esri.symbols.support.Symbol3DOutline`)],jR);var MR,NR=class extends RL{static{MR=this}constructor(e){super(e),this.type=`fill`,this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){let e={edges:this.edges==null?null:this.edges.clone(),enabled:this.enabled,material:this.material==null?null:this.material.clone(),pattern:this.pattern==null?null:this.pattern.clone(),castShadows:this.castShadows,outline:this.outline==null?null:this.outline.clone()};return new MR(e)}static fromSimpleFillSymbol(e){let t=e.outline&&e.outline.style&&e.outline.style!==`solid`?new rR({style:e.outline.style}):null,n={size:e.outline?.width??0,color:(e.outline?.color??cR).clone(),pattern:t};return t&&e.outline?.cap&&(n.patternCap=e.outline.cap),new MR({material:new uR({color:(e.color??Che).clone()}),pattern:e.style&&e.style!==`solid`?new oR({style:e.style}):null,outline:n})}};O([J({Fill:`fill`},{readOnly:!0})],NR.prototype,`type`,void 0),O([P({type:uR,json:{write:!0}})],NR.prototype,`material`,void 0),O([P(She)],NR.prototype,`pattern`,void 0),O([P({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],NR.prototype,`castShadows`,void 0),O([P({type:jR,json:{write:!0}})],NR.prototype,`outline`,void 0),O([P(JL)],NR.prototype,`edges`,void 0),NR=MR=O([F(`esri.symbols.FillSymbol3DLayer`)],NR);var PR,oge=I_()({circle:`circle`,square:`square`,cross:`cross`,x:`x`,kite:`kite`,triangle:`triangle`}),FR=PR=class extends R{constructor(e){super(e)}readHref(e,t,n){return e?Sf(e,n):t.dataURI}writeHref(e,t,n,r){e&&(ku(e)?t.dataURI=e:(t.href=Cf(e,r),Du(t.href)&&(t.href=wu(t.href))))}clone(){return new PR({href:this.href,primitive:this.primitive})}equals(e){return e.primitive===this.primitive&&e.href===this.href}};O([P({type:String,json:{write:!0,read:{source:[`href`,`dataURI`]}}})],FR.prototype,`href`,void 0),O([W(`href`)],FR.prototype,`readHref`,null),O([z(`href`,{href:{type:String},dataURI:{type:String}})],FR.prototype,`writeHref`,null),O([J(oge)],FR.prototype,`primitive`,void 0),FR=PR=O([F(`esri.symbols.support.IconSymbol3DLayerResource`)],FR);var sge=`circle`,IR=class extends Y(R){constructor(e){super(e),this.mode=`hidden`}equals(e){return this.mode===e.mode}};O([P({type:[`adaptive`,`hidden`,`visible`],json:{write:{isRequired:!0}}})],IR.prototype,`mode`,void 0),IR=O([F(`esri.symbols.support.OccludedVisibility`)],IR);var LR=IR,RR,zR=RR=class extends I{constructor(e){super(e),this.x=0,this.y=0}clone(){return new RR({x:this.x,y:this.y})}equals(e){return e.x===this.x&&e.y===this.y}};O([P({type:Number})],zR.prototype,`x`,void 0),O([P({type:Number})],zR.prototype,`y`,void 0),zR=RR=O([F(`esri.symbols.support.Symbol3DAnchorPosition2D`)],zR);var BR,VR=BR=class extends R{constructor(e){super(e),this.color=new lE([0,0,0,1]),this.size=dj(1)}clone(){let e={color:this.color==null?null:this.color.clone(),size:this.size};return new BR(e)}equals(e){return e.size===this.size&&(this.color==null?e.color==null:this.color.equals(e.color))}};O([P(zL({colorRequiredOnWrite:!0}))],VR.prototype,`color`,void 0),O([P({...BL,json:{write:{isRequired:!0}}})],VR.prototype,`size`,void 0),VR=BR=O([F(`esri.symbols.support.Symbol3DIconOutline`)],VR);var HR,UR=class extends RL{static{HR=this}constructor(e){super(e),this.material=null,this.resource=null,this.type=`icon`,this.size=12,this.anchor=`center`,this.anchorPosition=null,this.outline=null,this.angle=0,this.occludedVisibility=null}clone(){return new HR({anchor:this.anchor,anchorPosition:A(this.anchorPosition),enabled:this.enabled,material:A(this.material),outline:A(this.outline),resource:A(this.resource),angle:this.angle,size:this.size,occludedVisibility:A(this.occludedVisibility)})}static fromSimpleMarkerSymbol(e){let t=e.color||cR,n=WR(e),r=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||cR).clone()}:null;return new HR({size:e.size,angle:e.angle,resource:{primitive:lge(()=>j.getLogger(this.prototype),e.style)},material:{color:t},outline:r,anchor:n?`relative`:void 0,anchorPosition:n})}static fromPictureMarkerSymbol(e){let t=!e.color||whe(e.color)?cR:e.color,n=WR(e);return new HR({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:t.clone()},anchor:n?`relative`:void 0,anchorPosition:n})}static fromCIMSymbol(e){return new HR({resource:{href:Pu({mediaType:`application/json`,data:JSON.stringify(e.data)})}})}};function WR(e){let t=`width`in e?e.width:e.size,n=`height`in e?e.height:e.size,r=GR(e.xoffset),i=GR(e.yoffset);return(r||i)&&t&&n?{x:-r/t,y:i/n}:null}function GR(e){return isFinite(e)?e:0}O([P({type:QL,json:{write:!0}})],UR.prototype,`material`,void 0),O([P({type:FR,json:{write:!0}})],UR.prototype,`resource`,void 0),O([J({Icon:`icon`},{readOnly:!0})],UR.prototype,`type`,void 0),O([P({...BL,json:{write:{isRequired:!0}}})],UR.prototype,`size`,void 0),O([J({center:`center`,left:`left`,right:`right`,top:`top`,bottom:`bottom`,topLeft:`top-left`,topRight:`top-right`,bottomLeft:`bottom-left`,bottomRight:`bottom-right`,relative:`relative`},{default:`center`})],UR.prototype,`anchor`,void 0),O([P({type:zR,json:{type:[Number],read:{reader:e=>new zR({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor===`relative`}}}}})],UR.prototype,`anchorPosition`,void 0),O([P({type:VR,json:{write:!0}})],UR.prototype,`outline`,void 0),O([P({type:Number,json:{write:!0,default:0}})],UR.prototype,`angle`,void 0),O([P({type:LR})],UR.prototype,`occludedVisibility`,void 0),UR=HR=O([F(`esri.symbols.IconSymbol3DLayer`)],UR);var cge={circle:`circle`,cross:`cross`,diamond:`kite`,square:`square`,x:`x`,triangle:`triangle`,path:null};function lge(e,t){return cge[t]||(e().warn(`${t} cannot be mapped to Icon symbol. Fallback to "circle"`),`circle`)}var uge=[`begin`,`end`,`begin-end`],KR=[`arrow`,`circle`,`square`,`diamond`,`cross`,`x`],qR=class extends Y(R){constructor(e){super(e),this.type=`style`,this.placement=`begin-end`,this.style=`arrow`,this.color=null}equals(e){return e!=null&&e.placement===this.placement&&e.style===this.style&&(this.color==null&&e.color==null||this.color!=null&&e.color!=null&&this.color.toJSON()===e.color.toJSON())}};O([P({type:[`style`],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],qR.prototype,`type`,void 0),O([P({type:uge,json:{default:`begin-end`,write:!0}})],qR.prototype,`placement`,void 0),O([P({type:KR,json:{default:`arrow`,write:!0}})],qR.prototype,`style`,void 0),O([P({type:lE,json:{type:[dg],default:null,write:!0}})],qR.prototype,`color`,void 0),qR=O([F(`esri.symbols.LineStyleMarker3D`)],qR);var JR,YR=class extends RL{static{JR=this}constructor(e){super(e),this.material=null,this.type=`line`,this.join=`miter`,this.cap=`butt`,this.size=dj(1),this.pattern=null,this.marker=null}clone(){let e={enabled:this.enabled,material:this.material==null?null:this.material.clone(),size:this.size,join:this.join,cap:this.cap,pattern:this.pattern==null?null:this.pattern.clone(),marker:this.marker==null?null:this.marker.clone()};return new JR(e)}static fromSimpleLineSymbol(e){let t={enabled:!0,size:e.width??dj(1),cap:e.cap||`butt`,join:e.join||`miter`,pattern:e.style?new rR({style:e.style}):null,material:new QL({color:(e.color||cR).clone()}),marker:e.marker?new qR({placement:e.marker.placement,style:e.marker.style,color:e.marker.color?.clone()??null}):null};return new JR(t)}};O([P({type:QL,json:{write:!0}})],YR.prototype,`material`,void 0),O([J({Line:`line`},{readOnly:!0})],YR.prototype,`type`,void 0),O([P({type:kR,json:{write:!0,default:`miter`}})],YR.prototype,`join`,void 0),O([P({type:OR,json:{write:!0,default:`butt`}})],YR.prototype,`cap`,void 0),O([P({...BL,json:{write:{isRequired:!0}}})],YR.prototype,`size`,void 0),O([P(sR)],YR.prototype,`pattern`,void 0),O([P({types:{key:`type`,base:qR,typeMap:{style:qR}},json:{write:!0}})],YR.prototype,`marker`,void 0),YR=JR=O([F(`esri.symbols.LineSymbol3DLayer`)],YR);var XR,dge=I_()({sphere:`sphere`,cylinder:`cylinder`,cube:`cube`,cone:`cone`,diamond:`diamond`,tetrahedron:`tetrahedron`,invertedCone:`inverted-cone`}),ZR=XR=class extends R{clone(){return new XR({href:this.href,primitive:this.primitive})}};O([P({type:String,json:{read:wf,write:Tf}})],ZR.prototype,`href`,void 0),O([J(dge)],ZR.prototype,`primitive`,void 0),ZR=XR=O([F(`esri.symbols.support.ObjectSymbol3DLayerResource`)],ZR);var fge=`sphere`,QR,$R=QR=class extends I{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new QR({x:this.x,y:this.y,z:this.z})}};O([P({type:Number})],$R.prototype,`x`,void 0),O([P({type:Number})],$R.prototype,`y`,void 0),O([P({type:Number})],$R.prototype,`z`,void 0),$R=QR=O([F(`esri.symbols.support.Symbol3DAnchorPosition3D`)],$R);var ez,tz=class extends RL{static{ez=this}constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type=`object`,this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new ez({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!=`string`}};O([P({type:QL,json:{write:!0}})],tz.prototype,`material`,void 0),O([P({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],tz.prototype,`castShadows`,void 0),O([P({type:ZR,json:{write:!0}})],tz.prototype,`resource`,void 0),O([J({Object:`object`},{readOnly:!0})],tz.prototype,`type`,void 0),O([P({type:Number,json:{write:!0}})],tz.prototype,`width`,void 0),O([P({type:Number,json:{write:!0}})],tz.prototype,`height`,void 0),O([P({type:Number,json:{write:!0}})],tz.prototype,`depth`,void 0),O([J({center:`center`,top:`top`,bottom:`bottom`,origin:`origin`,relative:`relative`},{default:`origin`})],tz.prototype,`anchor`,void 0),O([P({type:$R,json:{type:[Number],read:{reader:e=>new $R({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor===`relative`}}}}})],tz.prototype,`anchorPosition`,void 0),O([P({type:Number,json:{write:!0}})],tz.prototype,`heading`,void 0),O([P({type:Number,json:{write:!0}})],tz.prototype,`tilt`,void 0),O([P({type:Number,json:{write:!0}})],tz.prototype,`roll`,void 0),O([P({readOnly:!0})],tz.prototype,`isPrimitive`,null),tz=ez=O([F(`esri.symbols.ObjectSymbol3DLayer`)],tz);var nz,rz=class extends RL{static{nz=this}constructor(e){super(e),this.material=null,this.castShadows=!0,this.type=`path`,this.profile=`circle`,this.join=`miter`,this.cap=`butt`,this.width=void 0,this.height=void 0,this.anchor=`center`,this.profileRotation=`all`}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new nz({enabled:this.enabled,material:this.material==null?null:this.material.clone(),castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};O([P({type:QL,json:{write:!0}})],rz.prototype,`material`,void 0),O([P({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],rz.prototype,`castShadows`,void 0),O([J({Path:`path`},{readOnly:!0})],rz.prototype,`type`,void 0),O([P({type:[`circle`,`quad`],nonNullable:!0,json:{write:!0,default:`circle`}})],rz.prototype,`profile`,void 0),O([P({type:kR,nonNullable:!0,json:{write:!0,default:`miter`}})],rz.prototype,`join`,void 0),O([P({type:age,nonNullable:!0,json:{write:!0,default:`butt`}})],rz.prototype,`cap`,void 0),O([P({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],rz.prototype,`width`,void 0),O([W(`width`,[`width`,`size`,`height`])],rz.prototype,`readWidth`,null),O([P({type:Number,json:{write:!0}})],rz.prototype,`height`,void 0),O([W(`height`,[`height`,`size`,`width`])],rz.prototype,`readHeight`,null),O([P({type:[`center`,`bottom`,`top`],nonNullable:!0,json:{write:!0,default:`center`}})],rz.prototype,`anchor`,void 0),O([P({type:[`heading`,`all`],nonNullable:!0,json:{write:!0,default:`all`}})],rz.prototype,`profileRotation`,void 0),rz=nz=O([F(`esri.symbols.PathSymbol3DLayer`)],rz);var pge=[`none`,`underline`,`line-through`],mge=[`normal`,`italic`,`oblique`],hge=[`normal`,`lighter`,`bold`,`bolder`],iz={type:Number,cast:e=>{let t=Yh(e);return t===0?1:KT(t,.1,4)},nonNullable:!0},gge=[`left`,`right`,`center`],_ge=[`baseline`,`top`,`middle`,`bottom`],az={type:gge,nonNullable:!0},oz={type:_ge,nonNullable:!0},vge=8,sz,cz=sz=class extends R{constructor(e){super(e),this.decoration=`none`,this.family=`sans-serif`,this.size=9,this.style=`normal`,this.weight=`normal`}castSize(e){return fj(e)}clone(){return new sz({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};O([P({type:pge,json:{default:`none`,write:!0}})],cz.prototype,`decoration`,void 0),O([P({type:String,json:{write:!0}})],cz.prototype,`family`,void 0),O([P({type:Number,json:{write:{overridePolicy:(e,t,n)=>({enabled:!n||!n.textSymbol3D})}}})],cz.prototype,`size`,void 0),O([Sy(`size`)],cz.prototype,`castSize`,null),O([P({type:mge,json:{default:`normal`,write:!0}})],cz.prototype,`style`,void 0),O([P({type:hge,json:{default:`normal`,write:!0}})],cz.prototype,`weight`,void 0),cz=sz=O([F(`esri.symbols.Font`)],cz);var lz,uz=lz=class extends R{constructor(){super(...arguments),this.color=new lE([0,0,0,1]),this.size=0}clone(){let e={color:A(this.color),size:this.size};return new lz(e)}};O([P(zL())],uz.prototype,`color`,void 0),O([P(BL)],uz.prototype,`size`,void 0),uz=lz=O([F(`esri.symbols.support.Symbol3DHalo`)],uz);var dz=class extends Y(R){constructor(e){super(e),this.color=null}};O([P(zL())],dz.prototype,`color`,void 0),dz=O([F(`esri.symbols.support.Symbol3DTextBackground`)],dz);var fz,pz=class extends RL{static{fz=this}constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment=`center`,this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type=`text`,this.verticalAlignment=`baseline`,this.occludedVisibility=null}get font(){return this._get(`font`)||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set(`font`,e)}writeFont(e,t,n,r){let i={...r,textSymbol3D:!0};t.font=e.write({},i),delete t.font.size}get size(){return this._userSize==null?this.font?.size==null?9:this.font.size:this._userSize}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange(`size`)}clone(){let e=new fz({enabled:this.enabled,font:A(this.font),halo:A(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material==null?null:this.material.clone(),text:this.text,verticalAlignment:this.verticalAlignment,background:A(this.background),occludedVisibility:A(this.occludedVisibility)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new fz({font:e.font==null?new cz:e.font.clone(),halo:yge(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new QL({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new dz({color:e.backgroundColor.clone()}):null})}};function yge(e,t){return e&&t!=null&&t>0?new uz({color:A(e),size:t}):null}O([P({type:cz,json:{write:!0}})],pz.prototype,`font`,null),O([z(`font`)],pz.prototype,`writeFont`,null),O([P({type:uz,json:{write:!0}})],pz.prototype,`halo`,void 0),O([P({...az,json:{default:`center`,write:!0}})],pz.prototype,`horizontalAlignment`,void 0),O([P({...iz,json:{default:1,write:!0}})],pz.prototype,`lineHeight`,void 0),O([P({type:QL,json:{write:!0}})],pz.prototype,`material`,void 0),O([P({type:dz,json:{write:!0}})],pz.prototype,`background`,void 0),O([P(BL)],pz.prototype,`size`,null),O([P({type:String,json:{write:!0}})],pz.prototype,`text`,void 0),O([J({Text:`text`},{readOnly:!0})],pz.prototype,`type`,void 0),O([P({...oz,json:{default:`baseline`,write:!0}})],pz.prototype,`verticalAlignment`,void 0),O([P({type:LR})],pz.prototype,`occludedVisibility`,void 0),pz=fz=O([F(`esri.symbols.TextSymbol3DLayer`)],pz);var mz,hz=class extends RL{static{mz=this}constructor(e){super(e),this.color=gz.clone(),this.type=`water`,this.waterbodySize=`medium`,this.waveDirection=null,this.waveStrength=`moderate`}clone(){return new mz({color:this.color.clone(),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};O([P({type:lE,nonNullable:!0,json:{type:[dg],write:(e,t,n)=>t[n]=e.toArray(1),default:()=>gz.clone(),defaultEquals:e=>e.toCss(!0)===gz.toCss(!0)}})],hz.prototype,`color`,void 0),O([J({Water:`water`},{readOnly:!0})],hz.prototype,`type`,void 0),O([P({type:[`small`,`medium`,`large`],json:{write:!0,default:`medium`}})],hz.prototype,`waterbodySize`,void 0),O([P({type:Number,json:{write:!0,default:null}})],hz.prototype,`waveDirection`,void 0),O([P({type:[`calm`,`rippled`,`slight`,`moderate`],json:{write:!0,default:`moderate`}})],hz.prototype,`waveStrength`,void 0),hz=mz=O([F(`esri.symbols.WaterSymbol3DLayer`)],hz);var gz=new lE([0,119,190]),_z,vz=_z=class extends I{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new _z({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};O([P({type:String})],vz.prototype,`name`,void 0),O([P({type:String})],vz.prototype,`styleUrl`,void 0),O([P({type:String})],vz.prototype,`styleName`,void 0),O([P({type:G})],vz.prototype,`portal`,void 0),vz=_z=O([F(`esri.symbols.support.StyleOrigin`)],vz);var yz,bz=yz=class extends I{constructor(){super(...arguments),this.url=``}clone(){return new yz({url:this.url})}};O([P({type:String})],bz.prototype,`url`,void 0),bz=yz=O([F(`esri.symbols.support.Thumbnail`)],bz);var xz={icon:UR,object:tz,line:YR,path:rz,fill:NR,extrude:eR,text:pz,water:hz},bge=L.ofType({base:RL,key:`type`,typeMap:xz,errorContext:`symbol-layer`}),Sz=class extends FL{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;let t=(this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers)?.type||L;this._set(`symbolLayers`,new t)}get color(){return null}set color(e){this.constructed&&j.getLogger(this).error(`Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.`)}set symbolLayers(e){u_(e,this._get(`symbolLayers`))}readStyleOrigin(e,t,n){if(e.styleUrl&&e.name){let t=Sf(e.styleUrl,n);return new vz({styleUrl:t,name:e.name})}if(e.styleName&&e.name)return new vz({portal:n?.portal||G.getDefault(),styleName:e.styleName,name:e.name});n?.messages&&n.messages.push(new gg(`symbol3d:incomplete-style-origin`,`Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property`,{context:n,definition:e}))}writeStyleOrigin(e,t,n,r){if(e.styleUrl&&e.name){let n=Cf(e.styleUrl,r);Du(n)&&(n=wu(n)),t.styleOrigin={styleUrl:n,name:e.name}}else e.styleName&&e.name&&(e.portal&&r?.portal&&!gu(e.portal.restUrl,r.portal.restUrl)?r?.messages&&r.messages.push(new gg(`symbol:cross-portal`,`The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.`,{symbol:this})):t.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof RL||e&&xz[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};O([P({json:{read:!1,write:!1}})],Sz.prototype,`color`,null),O([P({type:bge,nonNullable:!0,json:{write:!0}}),Sy(d_)],Sz.prototype,`symbolLayers`,null),O([P({type:vz})],Sz.prototype,`styleOrigin`,void 0),O([W(`styleOrigin`)],Sz.prototype,`readStyleOrigin`,null),O([z(`styleOrigin`,{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],Sz.prototype,`writeStyleOrigin`,null),O([P({type:bz,json:{read:!1}})],Sz.prototype,`thumbnail`,void 0),O([P({type:[`point-3d`,`line-3d`,`polygon-3d`,`mesh-3d`,`label-3d`],readOnly:!0})],Sz.prototype,`type`,void 0),Sz=O([F(`esri.symbols.Symbol3D`)],Sz);var Cz=class extends R{constructor(e){super(e),this.visible=!0}clone(){throw Error(`Subclasses of Callout3D should implement their own clone method.`)}};O([P({type:[`line`],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],Cz.prototype,`type`,void 0),O([P({readOnly:!0})],Cz.prototype,`visible`,void 0),Cz=O([F(`esri.symbols.callouts.Callout3D`)],Cz);var wz,Tz=wz=class extends R{constructor(e){super(e),this.color=new lE(`white`)}clone(){return new wz({color:A(this.color)})}};O([P(zL({colorRequiredOnWrite:!0}))],Tz.prototype,`color`,void 0),Tz=wz=O([F(`esri.symbols.callouts.LineCallout3DBorder`)],Tz);var Ez=Tz,Dz,Oz=Dz=class extends Cz{constructor(e){super(e),this.type=`line`,this.color=new lE([0,0,0,1]),this.size=dj(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new Dz({color:A(this.color),size:this.size,border:A(this.border)})}};O([J({line:`line`})],Oz.prototype,`type`,void 0),O([P(zL({colorRequiredOnWrite:!0}))],Oz.prototype,`color`,void 0),O([P({...BL,json:{write:{isRequired:!0}}})],Oz.prototype,`size`,void 0),O([P({type:Ez,json:{write:!0}})],Oz.prototype,`border`,void 0),O([P({readOnly:!0})],Oz.prototype,`visible`,null),Oz=Dz=O([F(`esri.symbols.callouts.LineCallout3D`)],Oz);function kz(e){if(!e)return!1;let t=e.verticalOffset;return!(!t||t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function Az(e){return!e||!e.supportsCallout||!e.supportsCallout()?!1:!!e.callout?.visible&&!!kz(e)}function xge(e){return e.type===`point-3d`||e.type===`label-3d`}function Sge(e){return e.horizontalAlignment===`center`}var jz={types:{key:`type`,base:Cz,typeMap:{line:Oz}},json:{write:!0}},Mz,Nz=Mz=class extends R{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new Mz({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};O([P({...BL,json:{write:{isRequired:!0}}})],Nz.prototype,`screenLength`,void 0),O([P({type:Number,nonNullable:!0,json:{write:!0,default:0}})],Nz.prototype,`minWorldLength`,void 0),O([P({type:Number,json:{write:!0}})],Nz.prototype,`maxWorldLength`,void 0),Nz=Mz=O([F(`esri.symbols.support.Symbol3DVerticalOffset`)],Nz);var Pz,Fz=L.ofType({base:null,key:`type`,typeMap:{text:pz}}),Iz=Pz=class extends Sz{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new Fz,this.type=`label-3d`}supportsCallout(){return!0}hasVisibleCallout(){return Az(this)}hasVisibleVerticalOffset(){return kz(this)}clone(){return new Pz({styleOrigin:A(this.styleOrigin),symbolLayers:A(this.symbolLayers),thumbnail:A(this.thumbnail),callout:A(this.callout),verticalOffset:A(this.verticalOffset)})}static fromTextSymbol(e){return new Pz({symbolLayers:new L([pz.fromTextSymbol(e)])})}};O([P({type:Nz,json:{write:!0}})],Iz.prototype,`verticalOffset`,void 0),O([P(jz)],Iz.prototype,`callout`,void 0),O([P({json:{read:!1,write:!1}})],Iz.prototype,`styleOrigin`,void 0),O([P({type:Fz})],Iz.prototype,`symbolLayers`,void 0),O([J({LabelSymbol3D:`label-3d`},{readOnly:!0})],Iz.prototype,`type`,void 0),Iz=Pz=O([F(`esri.symbols.LabelSymbol3D`)],Iz);var Lz,Rz=L.ofType({base:null,key:`type`,typeMap:{line:YR,path:rz}}),Cge=L.ofType({base:null,key:`type`,typeMap:{line:YR,path:rz}}),zz=Lz=class extends Sz{constructor(e){super(e),this.symbolLayers=new Rz,this.type=`line-3d`}clone(){return new Lz({styleOrigin:A(this.styleOrigin),symbolLayers:A(this.symbolLayers),thumbnail:A(this.thumbnail)})}static fromSimpleLineSymbol(e){return new Lz({symbolLayers:new L([YR.fromSimpleLineSymbol(e)])})}};O([P({type:Rz,json:{type:Cge}})],zz.prototype,`symbolLayers`,void 0),O([J({LineSymbol3D:`line-3d`},{readOnly:!0})],zz.prototype,`type`,void 0),zz=Lz=O([F(`esri.symbols.LineSymbol3D`)],zz);var Bz,Vz=L.ofType({base:null,key:`type`,typeMap:{fill:NR}}),Hz=Bz=class extends Sz{constructor(e){super(e),this.symbolLayers=new Vz,this.type=`mesh-3d`}clone(){return new Bz({styleOrigin:A(this.styleOrigin),symbolLayers:A(this.symbolLayers),thumbnail:A(this.thumbnail)})}static fromSimpleFillSymbol(e){return new Bz({symbolLayers:new L([NR.fromSimpleFillSymbol(e)])})}};O([P({type:Vz})],Hz.prototype,`symbolLayers`,void 0),O([J({MeshSymbol3D:`mesh-3d`},{readOnly:!0})],Hz.prototype,`type`,void 0),Hz=Bz=O([F(`esri.symbols.MeshSymbol3D`)],Hz);var Uz=class extends FL{constructor(e){super(e),this.type=`simple-line`,this.width=.75}hash(){return`${this.type}.${this.width}`}};O([J({esriSLS:`simple-line`},{readOnly:!0})],Uz.prototype,`type`,void 0),O([P({type:Number,cast:fj,json:{write:!0}})],Uz.prototype,`width`,void 0),Uz=O([F(`esri.symbols.LineSymbol`)],Uz);var Wz,Gz=Wz=class extends R{constructor(e){super(e),this.placement=`begin-end`,this.type=`line-marker`,this.style=`arrow`}writeStyle(e,t,n,r){t[n]=r?.origin===`web-map`?`arrow`:e}set color(e){this._set(`color`,e)}readColor(e){return e?.[0]==null?e:[e[0],e[1],e[2],e[3]/255]}writeColor(e,t,n,r){r?.origin===`web-map`||(t[n]=e)}clone(){return new Wz({color:A(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};O([P({type:[`begin`,`end`,`begin-end`],json:{write:!0}})],Gz.prototype,`placement`,void 0),O([J({"line-marker":`line-marker`},{readOnly:!0}),P({json:{origins:{"web-map":{write:!1}}}})],Gz.prototype,`type`,void 0),O([P({type:KR})],Gz.prototype,`style`,void 0),O([z(`style`)],Gz.prototype,`writeStyle`,null),O([P({type:lE,value:null,json:{write:{allowNull:!0}}})],Gz.prototype,`color`,null),O([W(`color`)],Gz.prototype,`readColor`,null),O([z(`color`)],Gz.prototype,`writeColor`,null),Gz=Wz=O([F(`esri.symbols.LineSymbolMarker`)],Gz);var wge=Gz,Kz,qz=new P_({esriSLSSolid:`solid`,esriSLSDash:`dash`,esriSLSDot:`dot`,esriSLSDashDot:`dash-dot`,esriSLSDashDotDot:`long-dash-dot-dot`,esriSLSNull:`none`,esriSLSShortDash:`short-dash`,esriSLSShortDot:`short-dot`,esriSLSShortDashDot:`short-dash-dot`,esriSLSShortDashDotDot:`short-dash-dot-dot`,esriSLSLongDash:`long-dash`,esriSLSLongDashDot:`long-dash-dot`}),Jz=Kz=class extends Uz{constructor(...e){super(...e),this.type=`simple-line`,this.style=`solid`,this.cap=`round`,this.join=`round`,this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,n,r,i,a){if(e&&typeof e!=`string`)return e;let o={};return e!=null&&(o.style=e),t!=null&&(o.color=t),n!=null&&(o.width=fj(n)),r!=null&&(o.cap=r),i!=null&&(o.join=i),a!=null&&(o.miterLimit=fj(a)),o}clone(){return new Kz({color:A(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};O([J({esriSLS:`simple-line`},{readOnly:!0})],Jz.prototype,`type`,void 0),O([P({type:qz.apiValues,json:{read:qz.read,write:qz.write}})],Jz.prototype,`style`,void 0),O([P({type:[`butt`,`round`,`square`],json:{write:{overridePolicy:(e,t,n)=>({enabled:e!==`round`&&n?.origin==null})}}})],Jz.prototype,`cap`,void 0),O([P({type:[`miter`,`round`,`bevel`],json:{write:{overridePolicy:(e,t,n)=>({enabled:e!==`round`&&n?.origin==null})}}})],Jz.prototype,`join`,void 0),O([P({types:{key:`type`,base:null,defaultKeyValue:`line-marker`,typeMap:{"line-marker":wge}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Jz.prototype,`marker`,void 0),O([P({type:Number,json:{read:!1,write:!1}})],Jz.prototype,`miterLimit`,void 0),Jz=Kz=O([F(`esri.symbols.SimpleLineSymbol`)],Jz);var Yz=class extends FL{constructor(e){super(e),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};O([P({types:{key:`type`,base:null,defaultKeyValue:`simple-line`,typeMap:{"simple-line":Jz}},json:{default:null,write:!0}})],Yz.prototype,`outline`,void 0),O([P({type:[`simple-fill`,`picture-fill`],readOnly:!0})],Yz.prototype,`type`,void 0),Yz=O([F(`esri.symbols.FillSymbol`)],Yz);function Tge(e,t,n){return t.imageData?Pu({mediaType:t.contentType||`image/png`,isBase64:!0,data:t.imageData}):Xz(t.url,n)}function Xz(e,t){if(!Du(e)){let n=Dge(t);if(n)return Tu(n,`images`,e)}return Sf(e,t)}function Ege(e,t,n,r){if(ku(e)){let i=Nu(e);if(!i)return;t.contentType=i.mediaType,t.imageData=i.data,n&&n.imageData===t.imageData&&n.url&&Tf(n.url,t,`url`,r)}else Tf(e,t,`url`,r)}var Zz={json:{read:{source:[`imageData`,`url`],reader:Tge},write:{writer(e,t,n,r){Ege(e,t,this.source,r)}}}},Qz={readOnly:!0,json:{read:{source:[`imageData`,`url`],reader(e,t,n){let r={};return t.imageData&&(r.imageData=t.imageData),t.contentType&&(r.contentType=t.contentType),t.url&&(r.url=Xz(t.url,n)),r}}}};function Dge(e){if(!e)return null;let{origin:t,layer:n}=e;if(t!==`service`&&t!==`portal-item`)return null;let r=n?.type;return r===`feature`||r===`stream`?n.parsedUrl?.path:r===`map-image`||r===`tile`?e.url?.path:null}var $z,eB=$z=class extends Yz{constructor(...e){super(...e),this.type=`picture-fill`,this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,n,r){if(e&&typeof e!=`string`&&e.imageData==null)return e;let i={};return e&&(i.url=e),t&&(i.outline=t),n!=null&&(i.width=fj(n)),r!=null&&(i.height=fj(r)),i}clone(){let e=new $z({color:A(this.color),height:this.height,outline:A(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set(`source`,A(this.source)),e}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};O([J({esriPFS:`picture-fill`},{readOnly:!0})],eB.prototype,`type`,void 0),O([P(Zz)],eB.prototype,`url`,void 0),O([P({type:Number,json:{write:!0}})],eB.prototype,`xscale`,void 0),O([P({type:Number,json:{write:!0}})],eB.prototype,`yscale`,void 0),O([P({type:Number,cast:fj,json:{write:!0}})],eB.prototype,`width`,void 0),O([P({type:Number,cast:fj,json:{write:!0}})],eB.prototype,`height`,void 0),O([P({type:Number,cast:fj,json:{write:!0}})],eB.prototype,`xoffset`,void 0),O([P({type:Number,cast:fj,json:{write:!0}})],eB.prototype,`yoffset`,void 0),O([P(Qz)],eB.prototype,`source`,void 0),eB=$z=O([F(`esri.symbols.PictureFillSymbol`)],eB);var tB=class extends FL{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};O([P({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],tB.prototype,`angle`,void 0),O([P({type:[`simple-marker`,`picture-marker`],readOnly:!0})],tB.prototype,`type`,void 0),O([P({type:Number,cast:fj,json:{write:!0}})],tB.prototype,`xoffset`,void 0),O([P({type:Number,cast:fj,json:{write:!0}})],tB.prototype,`yoffset`,void 0),O([P({cast:e=>e===`auto`?e:Yh(fj(e)),json:{write:!0}})],tB.prototype,`size`,void 0),tB=O([F(`esri.symbols.MarkerSymbol`)],tB);var nB,rB=nB=class extends tB{constructor(...e){super(...e),this.color=null,this.type=`picture-marker`,this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,n){if(e&&typeof e!=`string`&&e.imageData==null)return e;let r={};return e&&(r.url=e),t!=null&&(r.width=fj(t)),n!=null&&(r.height=fj(n)),r}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){let e=new nB({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set(`source`,A(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};O([P({json:{write:!1}})],rB.prototype,`color`,void 0),O([J({esriPMS:`picture-marker`},{readOnly:!0})],rB.prototype,`type`,void 0),O([P(Zz)],rB.prototype,`url`,void 0),O([P(Qz)],rB.prototype,`source`,void 0),O([P({type:Number,cast:fj,json:{write:!0}})],rB.prototype,`height`,void 0),O([W(`height`,[`height`,`size`])],rB.prototype,`readHeight`,null),O([P({type:Number,cast:fj,json:{write:!0}})],rB.prototype,`width`,void 0),O([P({json:{write:!1}})],rB.prototype,`size`,void 0),rB=nB=O([F(`esri.symbols.PictureMarkerSymbol`)],rB);var iB,aB=L.ofType({base:null,key:`type`,typeMap:{icon:UR,object:tz,text:pz}}),oB=iB=class extends Sz{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new aB,this.type=`point-3d`}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(let e of this.symbolLayers.items)switch(e.type){case`icon`:case`text`:case`object`:continue;default:return!1}return!0}hasVisibleCallout(){return Az(this)}hasVisibleVerticalOffset(){return kz(this)}clone(){return new iB({verticalOffset:A(this.verticalOffset),callout:A(this.callout),styleOrigin:A(this.styleOrigin),symbolLayers:A(this.symbolLayers),thumbnail:A(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new iB({symbolLayers:new L([UR.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new iB({symbolLayers:new L([UR.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){if(e.data?.symbol?.type!==`CIMPointSymbol`)return null;let t=e.data.symbol;return new iB(t?.callout?{symbolLayers:new L([UR.fromCIMSymbol(e)]),callout:new Oz({size:.5,color:new lE([0,0,0])}),verticalOffset:new Nz({screenLength:40})}:{symbolLayers:new L([UR.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new iB({symbolLayers:new L([pz.fromTextSymbol(e)])})}};O([P({type:Nz,json:{write:!0}})],oB.prototype,`verticalOffset`,void 0),O([P(jz)],oB.prototype,`callout`,void 0),O([P({type:aB,json:{origins:{"web-scene":{write:!0}}}})],oB.prototype,`symbolLayers`,void 0),O([J({PointSymbol3D:`point-3d`},{readOnly:!0})],oB.prototype,`type`,void 0),oB=iB=O([F(`esri.symbols.PointSymbol3D`)],oB);var sB,cB=L.ofType({base:null,key:`type`,typeMap:{extrude:eR,fill:NR,icon:UR,line:YR,object:tz,text:pz,water:hz}}),lB=sB=class extends Sz{constructor(e){super(e),this.symbolLayers=new cB,this.type=`polygon-3d`}initialize(){let e=e=>{e.type===`line`&&im(j.getLogger(this),`LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.`,{replacement:`Use FillSymbol3DLayer.outline instead.`,version:`4.28`}),e.type===`text`&&im(j.getLogger(this),`TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.`,{replacement:`Use Labels instead.`,version:`4.28`})};for(let t of this.symbolLayers)e(t);this.addHandles(Ww(()=>this.symbolLayers,`after-add`,({item:t})=>e(t),Jw))}clone(){return new sB({styleOrigin:A(this.styleOrigin),symbolLayers:A(this.symbolLayers),thumbnail:A(this.thumbnail)})}static fromJSON(e){let t=new sB;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type===`fill`&&t.symbolLayers.at(1).type===`line`){let n=t.symbolLayers.at(0),r=t.symbolLayers.at(1);!r.enabled||e.symbolLayers?.[1]&&!1===e.symbolLayers[1].enable||(n.outline={size:r.size,color:r.material==null?null:r.material.color}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new sB({symbolLayers:new L([NR.fromSimpleFillSymbol(e)])})}};O([P({type:cB,json:{write:!0}})],lB.prototype,`symbolLayers`,void 0),O([J({PolygonSymbol3D:`polygon-3d`},{readOnly:!0})],lB.prototype,`type`,void 0),lB=sB=O([F(`esri.symbols.PolygonSymbol3D`)],lB);var uB,dB=new P_({esriSFSSolid:`solid`,esriSFSNull:`none`,esriSFSHorizontal:`horizontal`,esriSFSVertical:`vertical`,esriSFSForwardDiagonal:`forward-diagonal`,esriSFSBackwardDiagonal:`backward-diagonal`,esriSFSCross:`cross`,esriSFSDiagonalCross:`diagonal-cross`}),fB=uB=class extends Yz{constructor(...e){super(...e),this.color=new lE([0,0,0,.25]),this.outline=new Jz,this.type=`simple-fill`,this.style=`solid`}normalizeCtorArgs(e,t,n){if(e&&typeof e!=`string`)return e;let r={};return e&&(r.style=e),t&&(r.outline=t),n&&(r.color=n),r}clone(){return new uB({color:A(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};O([P()],fB.prototype,`color`,void 0),O([P()],fB.prototype,`outline`,void 0),O([J({esriSFS:`simple-fill`},{readOnly:!0})],fB.prototype,`type`,void 0),O([P({type:dB.apiValues,json:{read:dB.read,write:dB.write}})],fB.prototype,`style`,void 0),fB=uB=O([F(`esri.symbols.SimpleFillSymbol`)],fB);var pB,mB=new P_({esriSMSCircle:`circle`,esriSMSSquare:`square`,esriSMSCross:`cross`,esriSMSX:`x`,esriSMSDiamond:`diamond`,esriSMSTriangle:`triangle`,esriSMSPath:`path`}),hB=pB=class extends tB{constructor(...e){super(...e),this.color=new lE([255,255,255,.25]),this.type=`simple-marker`,this.size=12,this.style=`circle`,this.outline=new Jz}normalizeCtorArgs(e,t,n,r){if(e&&typeof e!=`string`)return e;let i={};return e&&(i.style=e),t!=null&&(i.size=fj(t)),n&&(i.outline=n),r&&(i.color=r),i}writeColor(e,t){e&&this.style!==`x`&&this.style!==`cross`&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style=`path`,this._set(`path`,e)}clone(){return new pB({angle:this.angle,color:A(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};O([P()],hB.prototype,`color`,void 0),O([z(`color`)],hB.prototype,`writeColor`,null),O([J({esriSMS:`simple-marker`},{readOnly:!0})],hB.prototype,`type`,void 0),O([P()],hB.prototype,`size`,void 0),O([P({type:mB.apiValues,json:{read:mB.read,write:mB.write}})],hB.prototype,`style`,void 0),O([P({type:String,json:{write:!0}})],hB.prototype,`path`,null),O([P({types:{key:`type`,base:null,defaultKeyValue:`simple-line`,typeMap:{"simple-line":Jz}},json:{default:null,write:!0}})],hB.prototype,`outline`,void 0),hB=pB=O([F(`esri.symbols.SimpleMarkerSymbol`)],hB);var gB,_B=gB=class extends FL{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new cz,this.horizontalAlignment=`center`,this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text=``,this.type=`text`,this.verticalAlignment=`baseline`,this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,n){if(e&&typeof e!=`string`)return e;let r={};return e&&(r.text=e),t&&(r.font=t),n&&(r.color=n),r}writeLineWidth(e,t,n,r){r&&typeof r!=`string`?r.origin:t[n]=e}castLineWidth(e){return fj(e)}writeLineHeight(e,t,n,r){r&&typeof r!=`string`?r.origin:t[n]=e}clone(){return new gB({angle:this.angle,backgroundColor:A(this.backgroundColor),borderLineColor:A(this.borderLineColor),borderLineSize:this.borderLineSize,color:A(this.color),font:this.font&&this.font.clone(),haloColor:A(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};O([P({type:lE,json:{write:!0}})],_B.prototype,`backgroundColor`,void 0),O([P({type:lE,json:{write:!0}})],_B.prototype,`borderLineColor`,void 0),O([P({type:Number,json:{write:!0},cast:fj})],_B.prototype,`borderLineSize`,void 0),O([P({type:cz,json:{write:!0}})],_B.prototype,`font`,void 0),O([P({...az,json:{write:!0}})],_B.prototype,`horizontalAlignment`,void 0),O([P({type:Boolean,json:{write:!0}})],_B.prototype,`kerning`,void 0),O([P({type:lE,json:{write:!0}})],_B.prototype,`haloColor`,void 0),O([P({type:Number,cast:fj,json:{write:!0}})],_B.prototype,`haloSize`,void 0),O([P({type:Boolean,json:{write:!0}})],_B.prototype,`rightToLeft`,void 0),O([P({type:Boolean,json:{write:!0}})],_B.prototype,`rotated`,void 0),O([P({type:String,json:{write:!0}})],_B.prototype,`text`,void 0),O([J({esriTS:`text`},{readOnly:!0})],_B.prototype,`type`,void 0),O([P({...oz,json:{write:!0}})],_B.prototype,`verticalAlignment`,void 0),O([P({type:Number,cast:fj,json:{write:!0}})],_B.prototype,`xoffset`,void 0),O([P({type:Number,cast:fj,json:{write:!0}})],_B.prototype,`yoffset`,void 0),O([P({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],_B.prototype,`angle`,void 0),O([P({type:Number,json:{write:!0}})],_B.prototype,`width`,void 0),O([P({type:Number})],_B.prototype,`lineWidth`,void 0),O([z(`lineWidth`)],_B.prototype,`writeLineWidth`,null),O([Sy(`lineWidth`)],_B.prototype,`castLineWidth`,null),O([P(iz)],_B.prototype,`lineHeight`,void 0),O([z(`lineHeight`)],_B.prototype,`writeLineHeight`,null),_B=gB=O([F(`esri.symbols.TextSymbol`)],_B);var vB,yB=vB=class extends FL{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type=`web-style`}get _fetchCacheKey(){let e=this.portal==null?G.getDefault():this.portal,t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t?.portal,super.read(e,t)}clone(){return new vB({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol(e)}async fetchCIMSymbol(e){tm(j.getLogger(this),`WebStyleSymbol.fetchCIMSymbol is deprecated in favour of WebStyleSymbol.fetchSymbol which now supports both web and cim symbology`,{version:`4.33`,replacement:`WebStyleSymbol.fetchSymbol`,see:`https://arcg.is/0CXPTr#fetchSymbol`,warnOnce:!0});let t=await this._fetchSymbol({...e,acceptedFormats:[`cim`]});if(t?.type!==`cim`)throw new M(`webstylesymbol:fetchCIMSymbol`,`Resolved web style symbol is not of type 'cim'`);return t}async _fetchSymbol(e){let t=e==null?null:e.cache,n=t?this._fetchCacheKey:null;if(t!=null){let e=n&&t.get(n);if(e)return e.clone()}let{resolveWebStyleSymbol:r}=await N(async()=>{let{resolveWebStyleSymbol:e}=await import(`./webStyleSymbolUtils-BixzdQsc.js`);return{resolveWebStyleSymbol:e}},__vite__mapDeps([278,251,256,255]));$d(e);let i=r(this,{portal:this.portal},e);i.catch(e=>{j.getLogger(this).error(`#fetchSymbol()`,`Failed to create symbol from style`,e)});let a=await i;return t?.set(n,a.clone()),a}};O([P({json:{write:!1}})],yB.prototype,`color`,void 0),O([P({type:String,json:{write:!0}})],yB.prototype,`styleName`,void 0),O([P({type:G,json:{write:!1}})],yB.prototype,`portal`,void 0),O([P({type:String,json:{read:wf,write:Tf}})],yB.prototype,`styleUrl`,void 0),O([P({type:bz,json:{read:!1}})],yB.prototype,`thumbnail`,void 0),O([P({type:String,json:{write:!0}})],yB.prototype,`name`,void 0),O([J({styleSymbolReference:`web-style`},{readOnly:!0})],yB.prototype,`type`,void 0),O([P()],yB.prototype,`_fetchCacheKey`,null),yB=vB=O([F(`esri.symbols.WebStyleSymbol`)],yB);function Oge(e){if(!e)return!1;switch(e.type){case`picture-fill`:case`picture-marker`:case`simple-fill`:case`simple-line`:case`simple-marker`:case`text`:case`cim`:return!0;default:return!1}}function bB(e){switch(e?.type){case`label-3d`:case`line-3d`:case`mesh-3d`:case`point-3d`:case`polygon-3d`:return!0;default:return!1}}var xB={base:FL,key:`type`,typeMap:{"simple-fill":fB,"picture-fill":eB,"picture-marker":rB,"simple-line":Jz,"simple-marker":hB,text:_B,"label-3d":Iz,"line-3d":zz,"mesh-3d":Hz,"point-3d":oB,"polygon-3d":lB,"web-style":yB,cim:LL},errorContext:`symbol`},kge={base:FL,key:`type`,typeMap:{"picture-marker":rB,"simple-marker":hB,"point-3d":oB,cim:LL},errorContext:`symbol`},Age={base:FL,key:`type`,typeMap:{"simple-line":Jz,"line-3d":zz,cim:LL},errorContext:`symbol`},jge={base:FL,key:`type`,typeMap:{"simple-fill":fB,"picture-fill":eB,"polygon-3d":lB,cim:LL},errorContext:`symbol`},Mge={base:FL,key:`type`,typeMap:{"picture-marker":rB,"simple-marker":hB,text:_B,"web-style":yB,cim:LL},errorContext:`symbol`},Nge=Sg({types:xB}),SB={base:FL,key:`type`,typeMap:{"simple-fill":fB,"picture-fill":eB,"picture-marker":rB,"simple-line":Jz,"simple-marker":hB,text:_B,"line-3d":zz,"mesh-3d":Hz,"point-3d":oB,"polygon-3d":lB,"web-style":yB,cim:LL},errorContext:`symbol`},Pge={base:FL,key:`type`,typeMap:{text:_B,"label-3d":Iz},errorContext:`symbol`},CB={base:FL,key:`type`,typeMap:{"line-3d":zz,"mesh-3d":Hz,"point-3d":oB,"polygon-3d":lB,"web-style":yB,cim:LL},errorContext:`symbol`},Fge={base:FL,key:`type`,typeMap:{"label-3d":Iz},errorContext:`symbol`},wB=ug(xB),TB;function Ige(e){if(!e)return null;let t={};for(let n in e){let r=qj(e[n]);r&&(t[n]=r)}return Object.keys(t).length===0?null:t}function Lge(e){if(e==null)return null;let t={};for(let n in e){let r=e[n];r&&(t[n]=r.toJSON())}return Object.keys(t).length===0?null:t}var EB=class extends Y(R){static{TB=this}constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,`uid`,{value:kh(),configurable:!0}),Object.defineProperty(this,`_lastMeshTransform`,{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&rm(j.getLogger(this),`Graphic`,{version:`4.30`})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){let t=this._get(`aggregateGeometries`);JSON.stringify(t)!==JSON.stringify(e)&&this._set(`aggregateGeometries`,e)}set attributes(e){let t=this._get(`attributes`);t!==e&&(this._set(`attributes`,e),this._notifyLayer(`attributes`,t,e))}set geometry(e){let t=this._get(`geometry`);t!==e&&(this._set(`geometry`,e),e?.type!==`mesh`&&this._notifyLayer(`geometry`,t,e))}set popupTemplate(e){let t=this._get(`popupTemplate`);t!==e&&(this._set(`popupTemplate`,e),this._notifyLayer(`popupTemplate`,t,e))}set symbol(e){let t=this._get(`symbol`);t!==e&&(this._set(`symbol`,e),this._notifyLayer(`symbol`,t,e))}get version(){return this._version}set visible(e){let t=this._get(`visible`);t!==e&&(this._set(`visible`,e),this._notifyLayer(`visible`,t,e))}cloneShallow(){return new TB({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;let t=ML(this.origin);if(t)return t.popupTemplate??(e?t.defaultPopupTemplate:null)??null;let n=this.origin&&`layer`in this.origin?this.origin.layer:null;for(let t of[n,this.sourceLayer,this.layer])if(t&&typeof t==`object`){if(`popupTemplate`in t&&t.popupTemplate)return t.popupTemplate;if(e&&`defaultPopupTemplate`in t&&t.defaultPopupTemplate!=null)return t.defaultPopupTemplate}return null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,t){if(this.attributes){let n=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer(`attributes`,n,t,e)}else this.attributes={[e]:t}}getObjectId(){let e=AL(this.origin);if(e)return NL(this,e);let t=this.sourceLayer??this.layer;return t?NL(this,t):null}getGlobalId(){let e=AL(this.origin);if(e?.globalIdField)return this.getAttribute(e.globalIdField);let t=this.sourceLayer??this.layer;return t&&`globalIdField`in t&&t.globalIdField?this.getAttribute(t.globalIdField):null}toJSON(){return{aggregateGeometries:Lge(this.aggregateGeometries),geometry:this.geometry==null?null:this.geometry.toJSON(),symbol:this.symbol==null?null:this.symbol.toJSON(),attributes:Nl(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(e={}){let{geometry:t}=this;if(t?.type===`mesh`){let n={origin:t.origin,transform:t.transform};this._notifyLayer(`origin-transform`,n,n,e.action)}}_notifyLayer(e,t,n,r){if(this._version++,!this.layer||!(`graphicChanged`in this.layer))return;let i={graphic:this,property:e,oldValue:t,newValue:n};e===`origin-transform`&&(i.action=r),e===`attributes`&&(i.attributeName=r),this.layer.graphicChanged(i)}_watchMeshGeometryChanges(){this.addHandles([Hw(()=>this.geometry?.type===`mesh`&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:e,origin:t})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===t||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged())}),Hw(()=>this.geometry?.type===`mesh`?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{let e=this.geometry;e?.type===`mesh`&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=e.transform?.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer(`geometry`,this.geometry,this.geometry)},{equals:(e,t)=>e===t,sync:!0})])}};O([P({value:null,json:{read:Ige}})],EB.prototype,`aggregateGeometries`,null),O([P({value:null})],EB.prototype,`attributes`,null),O([P({value:null,types:Xj,json:{read:qj}})],EB.prototype,`geometry`,null),O([P({type:Boolean})],EB.prototype,`isAggregate`,void 0),O([P({clonable:!1})],EB.prototype,`layer`,void 0),O([P({clonable:`reference`})],EB.prototype,`origin`,void 0),O([P({type:OL,value:null})],EB.prototype,`popupTemplate`,null),O([P({clonable:`reference`})],EB.prototype,`sourceLayer`,void 0),O([P({value:null,types:xB})],EB.prototype,`symbol`,null),O([P({clonable:!1,json:{read:!1,write:!1}})],EB.prototype,`_version`,void 0),O([P({type:Boolean,value:!0})],EB.prototype,`visible`,null),EB=TB=O([F(`esri.Graphic`)],EB);var DB=class extends EM{_own(e){e.layer&&`remove`in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_release(e){e.layer===this.owner&&(e.layer=null)}};O([Zg({Type:EB,ensureType:ag(EB)})],DB.prototype,`itemType`,void 0),DB=O([F(`esri.support.GraphicsCollection`)],DB);var OB=class extends I{constructor(e){super(e),this.view=null,this.baseLayerViews=new L,this.groundLayerViews=new L,this.referenceLayerViews=new L,this._loadingHandle=q(()=>this.view?.map?.basemap,e=>{e&&e.load().catch(()=>{})},Yw)}destroy(){this._set(`view`,null),this._loadingHandle=qd(this._loadingHandle),this.baseLayerViews.destroyAll(),this.groundLayerViews.destroyAll(),this.referenceLayerViews.destroyAll()}get suspended(){return this.view?.suspended??!0}get updating(){return this.view?.suspended?!1:!!this.view?.map?.basemap?.loaded&&(this.baseLayerViews.some(e=>e.updating)||this.groundLayerViews.some(e=>e.updating)||this.referenceLayerViews.some(e=>e.updating))}};O([P({constructOnly:!0})],OB.prototype,`view`,void 0),O([P({readOnly:!0})],OB.prototype,`baseLayerViews`,void 0),O([P({readOnly:!0})],OB.prototype,`groundLayerViews`,void 0),O([P({readOnly:!0})],OB.prototype,`referenceLayerViews`,void 0),O([P({readOnly:!0})],OB.prototype,`suspended`,null),O([P({type:Boolean,readOnly:!0})],OB.prototype,`updating`,null),OB=O([F(`esri.views.BasemapView`)],OB);var Rge=OB,kB=class extends I{constructor(e){super(e),this.factor=1.5,this.offset=pj(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty(`factor`),this.commitProperty(`offset`),this.commitProperty(`position`),this.commitProperty(`visible`),this.commitProperty(`size`),this.commitProperty(`maskUrl`),this.commitProperty(`maskEnabled`),this.commitProperty(`overlayUrl`),this.commitProperty(`overlayEnabled`),(this._get(`version`)||0)+1}};O([P({type:Number})],kB.prototype,`factor`,void 0),O([P({nonNullable:!0})],kB.prototype,`offset`,void 0),O([P()],kB.prototype,`position`,void 0),O([P({type:Number,range:{min:0}})],kB.prototype,`size`,void 0),O([P()],kB.prototype,`maskUrl`,void 0),O([P()],kB.prototype,`maskEnabled`,void 0),O([P()],kB.prototype,`overlayUrl`,void 0),O([P()],kB.prototype,`overlayEnabled`,void 0),O([P({readOnly:!0})],kB.prototype,`version`,null),O([P({type:Boolean})],kB.prototype,`visible`,void 0),kB=O([F(`esri.views.Magnifier`)],kB);var AB=kB,jB=class{constructor(e){this._observable=new Qg,this._map=new Map(e)}get size(){return Am(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(e){let t=this._map.delete(e);return t&&this._observable.notify(),t}entries(){return Am(this._observable),this._map.entries()}forEach(e,t){Am(this._observable),this._map.forEach((n,r)=>e.call(t,n,r,this),t)}get(e){return Am(this._observable),this._map.get(e)}has(e){return Am(this._observable),this._map.has(e)}keys(){return Am(this._observable),this._map.keys()}set(e,t){return this._map.set(e,t),this._observable.notify(),this}values(){return Am(this._observable),this._map.values()}[Symbol.iterator](){return Am(this._observable),this._map[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}},MB,NB=MB=class extends R{constructor(e){super(e),this.name=null,this.code=null}clone(){return new MB({name:this.name,code:this.code})}};O([P({type:String,json:{write:{isRequired:!0}}})],NB.prototype,`name`,void 0),O([P({type:[String,Number],json:{write:{isRequired:!0}}})],NB.prototype,`code`,void 0),NB=MB=O([F(`esri.layers.support.CodedValue`)],NB);var zge=new P_({inherited:`inherited`,codedValue:`coded-value`,range:`range`}),PB=class extends R{constructor(e){super(e),this.name=null,this.type=null}};O([P({type:String,json:{write:!0}})],PB.prototype,`name`,void 0),O([J(zge),P({json:{write:{isRequired:!0}}})],PB.prototype,`type`,void 0),PB=O([F(`esri.layers.support.Domain`)],PB);var FB,IB=class extends PB{static{FB=this}constructor(e){super(e),this.codedValues=null,this.type=`coded-value`}getName(e){let t=null;if(this.codedValues){let n=String(e);this.codedValues.some(e=>(String(e.code)===n&&(t=e.name),!!t))}return t}clone(){return new FB({codedValues:A(this.codedValues),name:this.name})}};O([P({type:[NB],json:{write:{isRequired:!0}}})],IB.prototype,`codedValues`,void 0),O([J({codedValue:`coded-value`})],IB.prototype,`type`,void 0),IB=FB=O([F(`esri.layers.support.CodedValueDomain`)],IB);var LB,RB=class extends PB{static{LB=this}constructor(e){super(e),this.type=`inherited`}clone(){return new LB}};O([J({inherited:`inherited`})],RB.prototype,`type`,void 0),RB=LB=O([F(`esri.layers.support.InheritedDomain`)],RB);var zB,BB=class extends PB{static{zB=this}constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type=`range`}clone(){return new zB({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};O([P({json:{type:[Number],read:{source:`range`,reader:(e,t)=>t.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:`range`,writer(e,t,n){t[n]=[this.minValue||0,e]},isRequired:!0}}})],BB.prototype,`maxValue`,void 0),O([P({json:{type:[Number],read:{source:`range`,reader:(e,t)=>t.range?.[0]},write:{target:`range`,writer(e,t,n){t[n]=[e,this.maxValue||0]},isRequired:!0}}})],BB.prototype,`minValue`,void 0),O([J({range:`range`})],BB.prototype,`type`,void 0),BB=zB=O([F(`esri.layers.support.RangeDomain`)],BB);var VB={key:`type`,base:PB,typeMap:{range:BB,"coded-value":IB,inherited:RB}};function HB(e){if(!e?.type)return null;switch(e.type){case`range`:return BB.fromJSON(e);case`codedValue`:return IB.fromJSON(e);case`inherited`:return RB.fromJSON(e)}return null}var UB=new P_({esriFieldTypeSmallInteger:`small-integer`,esriFieldTypeInteger:`integer`,esriFieldTypeSingle:`single`,esriFieldTypeDouble:`double`,esriFieldTypeLong:`long`,esriFieldTypeString:`string`,esriFieldTypeDate:`date`,esriFieldTypeOID:`oid`,esriFieldTypeGeometry:`geometry`,esriFieldTypeBlob:`blob`,esriFieldTypeRaster:`raster`,esriFieldTypeGUID:`guid`,esriFieldTypeGlobalID:`global-id`,esriFieldTypeXML:`xml`,esriFieldTypeBigInteger:`big-integer`,esriFieldTypeDateOnly:`date-only`,esriFieldTypeTimeOnly:`time-only`,esriFieldTypeTimestampOffset:`timestamp-offset`}),WB,Bge=new P_({binary:`binary`,coordinate:`coordinate`,countOrAmount:`count-or-amount`,currency:`currency`,dateAndTime:`date-and-time`,description:`description`,emailAddress:`email-address`,locationOrPlaceName:`location-or-place-name`,measurement:`measurement`,nameOrTitle:`name-or-title`,none:`none`,orderedOrRanked:`ordered-or-ranked`,percentageOrRatio:`percentage-or-ratio`,phoneNumber:`phone-number`,typeOrCategory:`type-or-category`,uniqueIdentifier:`unique-identifier`}),GB=class extends R{static{WB=this}constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){let n=null;try{n=t?JSON.parse(t):null}catch{}return n?.value??null}readValueType(e,{description:t}){let n=null;try{n=t?JSON.parse(t):null}catch{}return n?Bge.fromJSON(n.fieldValueType):null}clone(){return new WB({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};O([P({type:String,json:{write:!0}})],GB.prototype,`alias`,void 0),O([P({type:[String,Number],json:{write:{allowNull:!0}}})],GB.prototype,`defaultValue`,void 0),O([P()],GB.prototype,`description`,void 0),O([W(`description`)],GB.prototype,`readDescription`,null),O([P({types:VB,json:{read:{reader:HB},write:!0}})],GB.prototype,`domain`,void 0),O([P({type:Boolean,json:{write:!0}})],GB.prototype,`editable`,void 0),O([P({type:dg,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],GB.prototype,`length`,void 0),O([P({type:String,json:{write:!0}})],GB.prototype,`name`,void 0),O([P({type:Boolean,json:{write:!0}})],GB.prototype,`nullable`,void 0),O([J(UB)],GB.prototype,`type`,void 0),O([P()],GB.prototype,`valueType`,void 0),O([W(`valueType`,[`description`])],GB.prototype,`readValueType`,null),O([P({type:Boolean,json:{read:!1}})],GB.prototype,`visible`,void 0),GB=WB=O([F(`esri.layers.support.Field`)],GB);var KB,qB=KB=class extends R{constructor(e){super(e),this.type=`map-layer`}clone(){let{mapLayerId:e,gdbVersion:t}=this;return new KB({mapLayerId:e,gdbVersion:t})}};O([J({mapLayer:`map-layer`}),P({json:{write:{isRequired:!0}}})],qB.prototype,`type`,void 0),O([P({type:dg,json:{write:{isRequired:!0}}})],qB.prototype,`mapLayerId`,void 0),O([P({type:String,json:{write:!0}})],qB.prototype,`gdbVersion`,void 0),qB=KB=O([F(`esri.layers.support.source.MapLayerSource`)],qB);var JB,YB=JB=class extends R{constructor(e){super(e),this.type=`query-table`}clone(){let{workspaceId:e,query:t,oidFields:n,spatialReference:r,geometryType:i}=this,a={workspaceId:e,query:t,oidFields:n,spatialReference:r?.clone()??void 0,geometryType:i};return new JB(a)}};O([J({queryTable:`query-table`}),P({json:{write:{isRequired:!0}}})],YB.prototype,`type`,void 0),O([P({type:String,json:{write:!0}})],YB.prototype,`workspaceId`,void 0),O([P({type:String,json:{write:!0}})],YB.prototype,`query`,void 0),O([P({type:String,json:{write:!0}})],YB.prototype,`oidFields`,void 0),O([P({type:U,json:{write:!0}})],YB.prototype,`spatialReference`,void 0),O([J(Nde)],YB.prototype,`geometryType`,void 0),YB=JB=O([F(`esri.layers.support.source.QueryTableDataSource`)],YB);var XB,ZB=XB=class extends R{constructor(e){super(e),this.type=`raster`}clone(){let{workspaceId:e,dataSourceName:t}=this;return new XB({workspaceId:e,dataSourceName:t})}};O([J({raster:`raster`}),P({json:{write:{isRequired:!0}}})],ZB.prototype,`type`,void 0),O([P({type:String,json:{write:!0}})],ZB.prototype,`dataSourceName`,void 0),O([P({type:String,json:{write:!0}})],ZB.prototype,`workspaceId`,void 0),ZB=XB=O([F(`esri.layers.support.source.RasterDataSource`)],ZB);var QB,$B=QB=class extends R{constructor(e){super(e),this.type=`table`}clone(){let{workspaceId:e,gdbVersion:t,dataSourceName:n}=this;return new QB({workspaceId:e,gdbVersion:t,dataSourceName:n})}};O([J({table:`table`}),P({json:{write:{isRequired:!0}}})],$B.prototype,`type`,void 0),O([P({type:String,json:{write:!0}})],$B.prototype,`workspaceId`,void 0),O([P({type:String,json:{write:!0}})],$B.prototype,`gdbVersion`,void 0),O([P({type:String,json:{write:!0}})],$B.prototype,`dataSourceName`,void 0),$B=QB=O([F(`esri.layers.support.source.TableDataSource`)],$B);var eV,tV,Vge=I_()({esriLeftInnerJoin:`left-inner-join`,esriLeftOuterJoin:`left-outer-join`}),nV=eV=class extends R{constructor(e){super(e),this.type=`join-table`}readLeftTableSource(e,t,n){return iV()(e,t,n)}castLeftTableSource(e){return ug(oV(),e)}readRightTableSource(e,t,n){return iV()(e,t,n)}castRightTableSource(e){return ug(oV(),e)}clone(){let{leftTableKey:e,rightTableKey:t,leftTableSource:n,rightTableSource:r,joinType:i}=this,a={leftTableKey:e,rightTableKey:t,leftTableSource:n?.clone()??void 0,rightTableSource:r?.clone()??void 0,joinType:i};return new eV(a)}};O([J({joinTable:`join-table`}),P({json:{write:{isRequired:!0}}})],nV.prototype,`type`,void 0),O([P({type:String,json:{write:!0}})],nV.prototype,`leftTableKey`,void 0),O([P({type:String,json:{write:!0}})],nV.prototype,`rightTableKey`,void 0),O([P({json:{write:!0}})],nV.prototype,`leftTableSource`,void 0),O([W(`leftTableSource`)],nV.prototype,`readLeftTableSource`,null),O([Sy(`leftTableSource`)],nV.prototype,`castLeftTableSource`,null),O([P({json:{write:!0}})],nV.prototype,`rightTableSource`,void 0),O([W(`rightTableSource`)],nV.prototype,`readRightTableSource`,null),O([Sy(`rightTableSource`)],nV.prototype,`castRightTableSource`,null),O([J(Vge)],nV.prototype,`joinType`,void 0),nV=eV=O([F(`esri.layers.support.source.JoinTableDataSource`)],nV);var rV=null;function iV(){return rV||=Sg({types:oV()}),rV}var aV=null;function oV(){return aV||={key:`type`,base:null,typeMap:{"data-layer":sV,"map-layer":qB}},aV}var Hge={key:`type`,base:null,typeMap:{"join-table":nV,"query-table":YB,raster:ZB,table:$B}},sV=class extends R{static{tV=this}constructor(e){super(e),this.type=`data-layer`}clone(){let{fields:e,dataSource:t}=this;return new tV({fields:e,dataSource:t})}};O([J({dataLayer:`data-layer`}),P({json:{write:{isRequired:!0}}})],sV.prototype,`type`,void 0),O([P({type:[GB],json:{write:!0}})],sV.prototype,`fields`,void 0),O([P({types:Hge,json:{write:!0}})],sV.prototype,`dataSource`,void 0),sV=tV=O([F(`esri.layers.support.source.DataLayerSource`)],sV),sV.from=ag(sV);var cV=class extends Y(R){constructor(e){super(e),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};O([P({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.onFields!=null&&this.onFields.length>0}}}}})],cV.prototype,`onFields`,void 0),O([P({type:String,json:{write:!0}})],cV.prototype,`operator`,void 0),O([P({type:String,json:{write:!0}})],cV.prototype,`searchTerm`,void 0),O([P({type:String,json:{write:!0}})],cV.prototype,`searchType`,void 0),cV=O([F(`esri.rest.support.FullTextSearch`)],cV);var Uge=cV,lV,uV=new P_({upperLeft:`upper-left`,lowerLeft:`lower-left`}),dV=lV=class extends R{constructor(e){super(e),this.extent=null,this.mode=`view`,this.originPosition=`upper-left`,this.tolerance=1}clone(){return new lV(A({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};O([P({type:cb,json:{write:{overridePolicy(){return{enabled:this.mode===`view`}}}}})],dV.prototype,`extent`,void 0),O([P({type:[`view`,`edit`],json:{write:!0}})],dV.prototype,`mode`,void 0),O([P({type:String,json:{read:uV.read,write:uV.write}})],dV.prototype,`originPosition`,void 0),O([P({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode===`view`}}}}})],dV.prototype,`tolerance`,void 0),dV=lV=O([F(`esri.rest.support.QuantizationParameters`)],dV);var fV=e=>{let t=e,n=class extends t{};return n=O([F(`esri.rest.support.QueryMixin`)],n),n},pV=new P_({esriSpatialRelIntersects:`intersects`,esriSpatialRelContains:`contains`,esriSpatialRelCrosses:`crosses`,esriSpatialRelDisjoint:`disjoint`,esriSpatialRelEnvelopeIntersects:`envelope-intersects`,esriSpatialRelIndexIntersects:`index-intersects`,esriSpatialRelOverlaps:`overlaps`,esriSpatialRelTouches:`touches`,esriSpatialRelWithin:`within`,esriSpatialRelRelation:`relation`}),mV,hV=new P_({count:`count`,sum:`sum`,min:`min`,max:`max`,avg:`avg`,stddev:`stddev`,var:`var`,exceedslimit:`exceedslimit`,percentile_cont:`percentile-continuous`,percentile_disc:`percentile-discrete`,EnvelopeAggregate:`envelope-aggregate`,CentroidAggregate:`centroid-aggregate`,ConvexHullAggregate:`convex-hull-aggregate`}),gV=mV=class extends R{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!==`percentile-continuous`&&this.statisticType!==`percentile-discrete`||(t.statisticParameters=A(e))}clone(){return new mV({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:A(this.statisticParameters)})}};O([P({type:Number,json:{write:!0}})],gV.prototype,`maxPointCount`,void 0),O([P({type:Number,json:{write:!0}})],gV.prototype,`maxRecordCount`,void 0),O([P({type:Number,json:{write:!0}})],gV.prototype,`maxVertexCount`,void 0),O([P({type:String,json:{write:!0}})],gV.prototype,`onStatisticField`,void 0),O([P({type:String,json:{write:!0}})],gV.prototype,`outStatisticFieldName`,void 0),O([P({type:String,json:{read:{source:`statisticType`,reader:hV.read},write:{target:`statisticType`,writer:hV.write}}})],gV.prototype,`statisticType`,void 0),O([P({type:Object})],gV.prototype,`statisticParameters`,void 0),O([z(`statisticParameters`)],gV.prototype,`writeStatisticParameters`,null),gV=mV=O([F(`esri.rest.support.StatisticDefinition`)],gV);var _V,Wge=new P_({esriSRUnit_Meter:`meters`,esriSRUnit_Kilometer:`kilometers`,esriSRUnit_Foot:`feet`,esriSRUnit_StatuteMile:`miles`,esriSRUnit_NauticalMile:`nautical-miles`,esriSRUnit_USNauticalMile:`us-nautical-miles`}),X=class extends fV(R){static{_V=this}static from(e){return rg(_V,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.returnTrueCurves=void 0,this.sourceSpatialReference=null,this.spatialRelationship=`intersects`,this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return typeof e==`number`||typeof e==`object`?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){let n={};for(let t in e){let r=e[t];Array.isArray(r)?n[t]=r.map(e=>e instanceof Date?e.getTime():e):r instanceof Date?n[t]=r.getTime():n[t]=r}t.parameterValues=n}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where=`1=1`}writeWhere(e,t){t.where=e||`1=1`}clone(){return new _V(A({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment==null?null:new Date(this.historicMoment),maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,returnTrueCurves:this.returnTrueCurves,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}static{this.MAX_MAX_RECORD_COUNT_FACTOR=5}};O([P({json:{write:!0}})],X.prototype,`aggregateIds`,void 0),O([P({type:Boolean,json:{write:!0}})],X.prototype,`cacheHint`,void 0),O([P({type:Boolean,json:{default:!1,write:!0}})],X.prototype,`compactGeometryEnabled`,void 0),O([P({json:{write:!0}})],X.prototype,`datumTransformation`,void 0),O([Sy(`datumTransformation`)],X.prototype,`castDatumTransformation`,null),O([P({type:Boolean,json:{default:!1,write:!0}})],X.prototype,`defaultSpatialReferenceEnabled`,void 0),O([P({type:Number,json:{write:!0}})],X.prototype,`distance`,void 0),O([P({type:sV,json:{write:!0}})],X.prototype,`dynamicDataSource`,void 0),O([P({type:String,json:{write:!0}})],X.prototype,`formatOf3DObjects`,void 0),O([P({type:[Uge],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.fullText!=null&&this.fullText.length>0}}}}})],X.prototype,`fullText`,void 0),O([P({type:String,json:{write:!0}})],X.prototype,`gdbVersion`,void 0),O([P({types:Xj,json:{read:qj,write:!0}})],X.prototype,`geometry`,void 0),O([P({type:Number,json:{write:!0}})],X.prototype,`geometryPrecision`,void 0),O([P({type:[String],json:{write:!0}})],X.prototype,`groupByFieldsForStatistics`,void 0),O([P({type:String,json:{write:!0}})],X.prototype,`having`,void 0),O([P({type:Date})],X.prototype,`historicMoment`,void 0),O([z(`historicMoment`)],X.prototype,`writeHistoricMoment`,null),O([P({type:Number,json:{write:!0}})],X.prototype,`maxAllowableOffset`,void 0),O([P({type:Number,cast:e=>e<1?1:e>X.MAX_MAX_RECORD_COUNT_FACTOR?X.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],X.prototype,`maxRecordCountFactor`,void 0),O([P({type:[`xyFootprint`],json:{write:!0}})],X.prototype,`multipatchOption`,void 0),O([P({type:Number,json:{read:{source:`resultRecordCount`}}})],X.prototype,`num`,void 0),O([P({json:{write:!0}})],X.prototype,`objectIds`,void 0),O([P({type:[String],json:{write:!0}})],X.prototype,`orderByFields`,void 0),O([P({type:[String],json:{write:!0}})],X.prototype,`outFields`,void 0),O([P({type:U,json:{name:`outSR`,write:!0}})],X.prototype,`outSpatialReference`,void 0),O([P({type:[gV],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.outStatistics!=null&&this.outStatistics.length>0}}}}})],X.prototype,`outStatistics`,void 0),O([P({json:{write:!0}})],X.prototype,`parameterValues`,void 0),O([z(`parameterValues`)],X.prototype,`writeParameterValues`,null),O([P({type:Vy,json:{write:!0}})],X.prototype,`pixelSize`,void 0),O([P({type:dV,json:{write:!0}})],X.prototype,`quantizationParameters`,void 0),O([P({type:[Object],json:{write:!0}})],X.prototype,`rangeValues`,void 0),O([P({type:String,json:{read:{source:`relationParam`},write:{target:`relationParam`,overridePolicy(){return{enabled:this.spatialRelationship===`relation`}}}}})],X.prototype,`relationParameter`,void 0),O([P({type:String,json:{write:!0}})],X.prototype,`resultType`,void 0),O([P({type:Boolean,json:{default:!1,write:!0}})],X.prototype,`returnCentroid`,void 0),O([P({type:Boolean,json:{default:!1,write:!0}})],X.prototype,`returnDistinctValues`,void 0),O([P({type:Boolean,json:{default:!0,write:!0}})],X.prototype,`returnExceededLimitFeatures`,void 0),O([P({type:Boolean,json:{write:!0}})],X.prototype,`returnGeometry`,void 0),O([P({type:Boolean,json:{default:!1,write:!0}})],X.prototype,`returnQueryGeometry`,void 0),O([P({type:Boolean,json:{default:!1,write:!0}})],X.prototype,`returnM`,void 0),O([P({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],X.prototype,`returnZ`,void 0),O([P({type:Boolean,json:{write:!0}})],X.prototype,`returnTrueCurves`,void 0),O([P({type:U,json:{write:!0}})],X.prototype,`sourceSpatialReference`,void 0),O([J(pV,{ignoreUnknown:!1,name:`spatialRel`})],X.prototype,`spatialRelationship`,void 0),O([P({type:Number,json:{read:{source:`resultOffset`}}})],X.prototype,`start`,void 0),O([z(`start`),z(`num`)],X.prototype,`writeStart`,null),O([P({type:String,json:{write:!0}})],X.prototype,`sqlFormat`,void 0),O([P({type:String,json:{write:!0}})],X.prototype,`text`,void 0),O([P({type:oT,json:{write:!0}})],X.prototype,`timeExtent`,void 0),O([P({type:Boolean,json:{default:!1,write:!0}})],X.prototype,`timeReferenceUnknownClient`,void 0),O([J(Wge,{ignoreUnknown:!1}),P({json:{write:{overridePolicy(e){return{enabled:!!e&&this.distance!=null}}}}})],X.prototype,`units`,void 0),O([P({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start!=null&&this.start>0}}}}})],X.prototype,`where`,void 0),O([z(`where`)],X.prototype,`writeWhere`,null),X=_V=O([F(`esri.rest.support.Query`)],X);function vV(e){return!(typeof e!=`object`||!e||!(`createQuery`in e)||!e.createQuery)}var yV=class extends Xg{constructor(e){super(e),this._selectionMap=new jB,this._sources=new L,this._trashCan=[],this._layerEditHandles=new L,this._vizTaskId=0,this.view=null,this.showHighlight=!0,this.highlightName=`default`}initialize(){this.addHandles([q(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),q(()=>this.view,e=>{e?.when().then(()=>this.syncSources())},Yw),Ww(()=>this.sources,`change`,e=>{let t=this._selectionMap,n=[];for(let r of e.removed){let e=t.get(r);e&&(t.delete(r),e.highlightHandle?.remove(),n.push({layer:r,selection:[],added:[],removed:[...e.selection]}))}this._refreshListeners(),n.length&&this._onSelectionChange(n)},{onListenerAdd:()=>this._refreshListeners()})])}destroy(){this.clear(),this._layerEditHandles.drain(qd)}get selections(){return Array.from(this._selectionMap.entries()).map(e=>{let[t,n]=e;return{layer:t,selection:[...n.selection]}})}get count(){let e=0;for(let t of this._selectionMap.values())e+=t.selection.length;return e}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(e){u_(e,this._sources)}syncSources(){let e=new Set,t=this.view?.map;if(!t)return;let n=t=>{boe(t)?(t.layers?.forEach(n),t.tables?.forEach(n)):yoe(t)?(t.sublayers?.forEach(n),t.subtables?.forEach(n)):pT(t)?t.sublayers?.forEach(n):vV(t)&&e.add(t)};t.allLayers.forEach(n),t.allTables.forEach(n),this.sources=[...e]}async getSelectedFeatures(e,t={},n=`layerView`){let{view:r,selections:i}=this;if(!r&&n===`layerView`)return j.getLogger(this).warn(`Cannot query layer views without a view.`),[];let a=(e?.length?i.filter(t=>e.includes(t.layer)):i).map(async e=>{let{layer:i,selection:a}=e;if(!a.length)return;let o=mT(i)?i.parent:i;if(o!=null){if(r&&n===`layerView`&&!bV(o)&&xV(o)){let e=await r.whenLayerView(o).catch(()=>null);if(e)return SV(e,a,t)}return SV(o,a,t)}}).filter(Mc);return(await Promise.all(a)).filter(Mc)}updateSelection(e){let t=new Map;for(let[e,n]of this._selectionMap)t.set(e,[...n.selection]);let n=!1,r=e.current.concat(e.added);for(let e of r){let r=e.sourceLayer,i=e.getObjectId();if(this.sources.includes(r)&&(vV(r)||mT(r))&&i!==null){let e=Cd(t,r,()=>[]);e.includes(i)||(e.push(i),n=!0)}}for(let r of e.removed){let e=r.sourceLayer,i=r.getObjectId();if(this.sources.includes(e)&&(vV(e)||mT(e))&&i!==null){let r=t.get(e),a=r?.indexOf(i);a!==void 0&&a>=0&&(r?.splice(a,1),n=!0)}}if(n){let{_selectionMap:e,_trashCan:n}=this,r=[];for(let[i,a]of t){let t=e.get(i);t!==void 0&&n.push(t),e.set(i,{selection:a}),r.push({layer:i,selection:a,...vc(t===void 0?[]:t.selection,a)})}this._onSelectionChange(r)}}setSelection(e,t){this._setSelection(e,t)}getSelection(e){return this._selectionMap.get(e)?.selection}appendToSelection(e,t){let n=this._selectionMap.get(e),r=n===void 0?[]:[...n.selection];for(let e of t)r.includes(e)||r.push(e);this._setSelection(e,r)}removeFromSelection(e,t){let n=this._selectionMap.get(e);if(!n)return;let r=[];for(let e of n.selection)t.includes(e)||r.push(e);this._setSelection(e,r)}toggleInSelection(e,t){let n=this._selectionMap.get(e);if(!n||n.selection.length===0)return void this._setSelection(e,t);let r=new Set(n.selection),i=Bee(r,new Set(t));this._setSelection(e,Array.from(i))}clear(){let e=this._selectionMap.values();this._trashCan.push(...e);let t=[];for(let[e,n]of this._selectionMap.entries())t.push({layer:e,added:[],removed:[...n.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(t)}_onSelectionChange(e){this._refreshVisualization(),this.emit(`selection-change`,{view:this.view,changes:e})}_refreshVisualization(){for(this._vizTaskId++;this._trashCan.length>0;)this._trashCan.pop()?.highlightHandle?.remove();if(this.view==null)return;let{sources:e,view:t,_selectionMap:n,showHighlight:r}=this,i=this._vizTaskId;for(let a of e){let e=n.get(a),o=mT(a)?a.parent:a;if(o!=null&&xV(o)){if(bV(o))continue;t.whenLayerView(o).then(t=>{e?.highlightHandle?.remove(),e!=null&&r&&i===this._vizTaskId&&`highlight`in t&&typeof t.highlight==`function`&&e.selection.length>0&&(e.highlightHandle=t.highlight(e.selection,this.highlightName))}).catch(()=>{e?.highlightHandle?.remove()})}}}_refreshListeners(){this._layerEditHandles.drain(qd);let e=new Set(this.sources.map(e=>mT(e)?e.parent:e));for(let t of e)vV(t)&&`on`in t&&t.on&&this._layerEditHandles.push(t.on(`edits`,e=>this._onLayerEdit(e,t)))}_onLayerEdit(e,t){if(pT(t))this._onParentLayerEdit(e,t);else if(e.deletedFeatures.length&&this._selectionMap.has(t)){let n=[];e.deletedFeatures.forEach(({error:e,objectId:t})=>{t!=null&&e==null&&n.push(t)}),this.removeFromSelection(t,n)}}_onParentLayerEdit(e,t){let{deletedFeatures:n,edits:r,updatedFeatures:i}=e;if(r?.updateFeatures?.forEach(e=>{let n=e.getObjectId()??e.attributes[t.objectIdField];if(n==null||i.find(e=>e.objectId===n)?.error)return;let r=t.findSublayerForFeature(e);if(!vV(r))return;let a=t.sublayers.find(e=>!(!vV(e)||!this.getSelection(e)?.includes(n)));vV(a)&&a!==r&&(this.removeFromSelection(a,[n]),this.appendToSelection(r,[n]))}),n.length){let e=[];n.forEach(({error:t,objectId:n})=>{n!=null&&t==null&&e.push(n)}),t.sublayers.forEach(t=>{vV(t)&&this._selectionMap.has(t)&&this.removeFromSelection(t,e)})}}_setSelection(e,t){if(!this.sources.includes(e))throw Error(`Cannot set selection on layer ${e.title} because it is not in 'sources'`);let n=this._selectionMap.get(e);if(n===void 0||!Kge(n,{selection:t})){n!==void 0&&this._trashCan.push(n),this._selectionMap.set(e,{selection:[...t]});let r={layer:e,selection:[...t],...vc(n===void 0?[]:n.selection,t)};this._onSelectionChange([r])}}};O([P()],yV.prototype,`_selectionMap`,void 0),O([P()],yV.prototype,`_sources`,void 0),O([P({readOnly:!0,nonNullable:!0})],yV.prototype,`selections`,null),O([P({readOnly:!0,nonNullable:!0})],yV.prototype,`count`,null),O([P()],yV.prototype,`view`,void 0),O([P({readOnly:!0,nonNullable:!0})],yV.prototype,`hasSelection`,null),O([P()],yV.prototype,`showHighlight`,void 0),O([P()],yV.prototype,`sources`,null),O([P()],yV.prototype,`highlightName`,void 0),yV=O([F(`esri.views.SelectionManager`)],yV);var bV=e=>mT(e)?!0===e.parent?.isTable:e.isTable,Gge=e=>e.layer!==void 0,xV=e=>e?.when!==void 0,Kge=(e,t)=>{if(e==null&&t==null)return!0;if(e!=null&&t==null||e==null&&t!=null)return!1;if(e!=null&&t!=null&&e.selection!=null&&t.selection!=null){let n=[...e.selection],r=[...t.selection];if(n.length!==r.length)return!1;n.sort(),r.sort();for(let e=0;e<n.length;e++)if(n[e]!==r[e])return!1}return!0},SV=async(e,t,n={})=>{let r;if(Gge(e)){let i=e;r=i===void 0?null:await i.queryFeatures(new X({...n,objectIds:t})).then(t=>({data:t,layer:e.layer}))}else{let i=e;r=i===void 0?null:await i.queryFeatures(new X({...n,objectIds:t})).then(e=>({data:e,layer:i}))}return r},qge=yV,CV=class extends Y(I){constructor(e){super(e),this.accentColor=new lE([255,127,0]),this.textColor=new lE([255,255,255])}};O([P({type:lE,nonNullable:!0})],CV.prototype,`accentColor`,void 0),O([P({type:lE,nonNullable:!0})],CV.prototype,`textColor`,void 0),CV=O([F(`esri.views.Theme`)],CV);var wV=CV,TV=[`click`,`double-click`,`immediate-click`,`immediate-double-click`,`hold`,`drag`,`key-down`,`key-up`,`pointer-down`,`pointer-move`,`pointer-up`,`pointer-drag`,`mouse-wheel`,`pointer-enter`,`pointer-leave`,`gamepad`,`focus`,`blur`],EV={};function DV(e){return!!EV[e]}function Jge(e){for(let t of e)if(!DV(t))return!1;return!0}TV.forEach(e=>{EV[e]=!0});var OV=class{constructor(e){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=e,this.inputManager=null}connect(e){e&&this.disconnect(),this.inputManager=e,this._handlers.forEach(({handler:e,priority:t},n)=>this.inputManager?.installHandlers(n,[e],t))}disconnect(){this.inputManager&&this._handlers.forEach((e,t)=>this.inputManager?.uninstallHandlers(t)),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(e,t,n,r){let i=Array.isArray(e)?e:e.split(`,`);if(!Jge(i))return i.some(DV)&&console.error(`Error: registering input events and other events on the view at the same time is not supported.`),null;let a,o;Array.isArray(t)?o=t:(a=t,o=[]),typeof n==`function`?a=n:r=n,r??=dP.DEFAULT;let s=this._createUniqueGroupName(),c=new Yge(this.view,i,o,a);this._handlers.set(s,{handler:c,priority:r});for(let e of i){let t=this._handlerCounts.get(e)||0;this._handlerCounts.set(e,t+1)}return this.inputManager&&this.inputManager.installHandlers(s,[c],r),Ed(()=>this._removeHandler(s,i))}hasHandler(e){return!!this._handlerCounts.get(e)}_removeHandler(e,t){if(this._handlers.has(e)){this._handlers.delete(e);for(let e of t){let t=this._handlerCounts.get(e);t===void 0||(t===1?this._handlerCounts.delete(e):this._handlerCounts.set(e,t-1))}}this.inputManager&&this.inputManager.uninstallHandlers(e)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}},Yge=class extends sP{constructor(e,t,n,r){super(!0),this._latestDragStart=void 0,this.view=e;for(let i of t)switch(i){case`click`:this.registerIncoming(`click`,n,t=>r(Qge(e,t)));break;case`double-click`:this.registerIncoming(`double-click`,n,t=>r($ge(e,t)));break;case`immediate-click`:this.registerIncoming(`immediate-click`,n,t=>r(e_e(e,t)));break;case`immediate-double-click`:this.registerIncoming(`immediate-double-click`,n,t=>r(t_e(e,t)));break;case`hold`:this.registerIncoming(`hold`,n,t=>r(n_e(e,t)));break;case`drag`:this.registerIncoming(`drag`,n,e=>{let t=this._wrapDrag(e);t&&r(t)});break;case`key-down`:this.registerIncoming(`key-down`,n,e=>r(r_e(e)));break;case`key-up`:this.registerIncoming(`key-up`,n,e=>r(i_e(e)));break;case`pointer-down`:this.registerIncoming(`pointer-down`,n,e=>r(AV(e,`pointer-down`)));break;case`pointer-move`:this.registerIncoming(`pointer-move`,n,e=>r(AV(e,`pointer-move`)));break;case`pointer-up`:this.registerIncoming(`pointer-up`,n,e=>r(AV(e,`pointer-up`)));break;case`pointer-drag`:this.registerIncoming(`pointer-drag`,n,e=>r(a_e(e)));break;case`mouse-wheel`:this.registerIncoming(`mouse-wheel`,n,e=>r(o_e(e)));break;case`pointer-enter`:this.registerIncoming(`pointer-enter`,n,e=>r(AV(e,`pointer-enter`)));break;case`pointer-leave`:this.registerIncoming(`pointer-leave`,n,e=>r(AV(e,`pointer-leave`)));break;case`gamepad`:this.registerIncoming(`gamepad`,n,e=>{r(s_e(e))});break;case`focus`:this.registerIncoming(`focus`,n,e=>{r(Xge(e))});break;case`blur`:this.registerIncoming(`blur`,n,e=>{r(Zge(e))})}}_wrapDrag(e){let t=e.data,{x:n,y:r}=t.center,{action:i,pointerType:a,button:o}=t;if(i===`start`&&(this._latestDragStart=t),!this._latestDragStart)return;let s=t.pointer.native,c=t.buttons,{cancelable:l,timestamp:u}=e,d={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return i===`end`&&(this._latestDragStart=void 0),{type:`drag`,action:i,x:n,y:r,origin:d,pointerType:a,button:o,buttons:c,radius:t.radius,angle:YT(t.angle),native:s,timestamp:u,cancelable:l,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}};function Xge(e){return{type:`focus`,timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}function Zge(e){return{type:`blur`,timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}function Qge(e,t){let{pointerType:n,button:r,buttons:i,x:a,y:o,native:s,eventId:c}=t.data,{cancelable:l,timestamp:u}=t;return{type:`click`,pointerType:n,button:r,buttons:i,x:a,y:o,native:s,timestamp:u,screenPoint:pj(a,o),mapPoint:kV(e,a,o),eventId:c,cancelable:l,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function $ge(e,t){let{pointerType:n,button:r,buttons:i,x:a,y:o,native:s,eventId:c}=t.data,{cancelable:l,timestamp:u}=t;return{type:`double-click`,pointerType:n,button:r,buttons:i,x:a,y:o,native:s,timestamp:u,mapPoint:kV(e,a,o),eventId:c,cancelable:l,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function e_e(e,t){let{pointerType:n,button:r,buttons:i,x:a,y:o,native:s,eventId:c}=t.data,l=s.pointerId,{cancelable:u,timestamp:d}=t;return{type:`immediate-click`,pointerId:l,pointerType:n,button:r,buttons:i,x:a,y:o,native:s,timestamp:d,mapPoint:kV(e,a,o),eventId:c,cancelable:u,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function t_e(e,t){let{pointerType:n,button:r,buttons:i,x:a,y:o,native:s,eventId:c}=t.data,l=s.pointerId,{cancelable:u,timestamp:d}=t;return{type:`immediate-double-click`,pointerId:l,pointerType:n,button:r,buttons:i,x:a,y:o,native:s,timestamp:d,mapPoint:kV(e,a,o),eventId:c,cancelable:u,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function n_e(e,t){let{pointerType:n,button:r,buttons:i,x:a,y:o,native:s}=t.data,{cancelable:c,timestamp:l}=t;return{type:`hold`,pointerType:n,button:r,buttons:i,x:a,y:o,native:s,timestamp:l,mapPoint:kV(e,a,o),cancelable:c,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function kV(e,t,n){return e.toMap(pj(t,n),{exclude:[]})}function r_e(e){let{key:t,repeat:n,native:r}=e.data,{cancelable:i,timestamp:a}=e;return{type:`key-down`,key:t,repeat:n,native:r,timestamp:a,cancelable:i,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}function i_e(e){let{key:t,native:n}=e.data,{cancelable:r,timestamp:i}=e;return{type:`key-up`,key:t,native:n,timestamp:i,cancelable:r,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}function AV(e,t){let{x:n,y:r,button:i,buttons:a,native:o,eventId:s}=e.data,c=o.pointerId,l=o.pointerType,{cancelable:u,timestamp:d}=e;return{type:t,x:n,y:r,pointerId:c,pointerType:l,button:i,buttons:a,native:o,timestamp:d,eventId:s,cancelable:u,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}function a_e(e){let{x:t,y:n,buttons:r,native:i,eventId:a}=e.data.currentEvent,{button:o}=e.data.startEvent,s=e.data.startEvent.native.pointerId,c=e.data.startEvent.native.pointerType,l=e.data.action,u={x:e.data.startEvent.x,y:e.data.startEvent.y},{cancelable:d,timestamp:f}=e;return{type:`pointer-drag`,x:t,y:n,pointerId:s,pointerType:c,button:o,buttons:r,action:l,origin:u,native:i,timestamp:f,eventId:a,cancelable:d,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}function o_e(e){let{cancelable:t,data:n,timestamp:r}=e,{x:i,y:a,deltaY:o,native:s}=n;return{type:`mouse-wheel`,x:i,y:a,deltaY:o,native:s,timestamp:r,cancelable:t,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}function s_e(e){let{action:t,state:n,device:r}=e.data,{cancelable:i,timestamp:a}=e,{buttons:o,axes:s}=n;return{type:`gamepad`,device:r,timestamp:a,action:t,buttons:o,axes:s,cancelable:i,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}var jV=`z`,MV=`r`,NV={cancel:`Escape`,complete:`Enter`},c_e={...NV,redo:MV,undo:jV,center:`Alt`,constraint:`Shift`,delete:[`Backspace`,`Delete`],vertexAdd:`f`,pan:` `},l_e={toggle:`Control`},u_e={enterInputMode:`Tab`,commit:`Enter`,discard:`Escape`,next:`Tab`},d_e={moveUp:{key:`ArrowUp`,modifier:`Shift`,repeats:!0},moveDown:{key:`ArrowDown`,modifier:`Shift`,repeats:!0},moveLeft:{key:`ArrowLeft`,modifier:`Shift`,repeats:!0},moveRight:{key:`ArrowRight`,modifier:`Shift`,repeats:!0},scaleUp:{key:`+`,modifier:`Shift`},scaleDown:{key:`-`,modifier:`Shift`},factorModifier:{key:oP,continuePropagation:!0},toggleOpacity:`t`,preserveAspectRatio:{key:`Shift`,continuePropagation:!0},rotateIncrements:{key:`Shift`,continuePropagation:!0},editSourcePoints:{key:`Alt`,continuePropagation:!0},undo:jV,redo:MV},f_e=class{constructor(){this._bindings=new Map}add(e,t){return this.addToggle(e,e=>{e.type===`key-down`&&t(e)})}addToggle(e,t){let n=p_e.fromDefinition(e,t),r=Cd(this._bindings,n.key,()=>[]);return r.push(n),Ed(()=>jc(r,n))}register(e,t=dP.WIDGET){return kd([e.on(`key-down`,t=>this.dispatch(e.inputManager,t),t),e.on(`key-up`,t=>this.dispatch(e.inputManager,t),t)])}dispatch(e,t){let n=t.key,r=this._bindings.get(n);if(r)for(let n of r)n.process(e,t)}},p_e=class e{constructor(e,t,n,r,i){this.key=e,this.modifiers=t,this.repeats=n,this.continuePropagation=r,this.callback=i}process(e,t){if(!(t.key!==this.key||`repeat`in t&&t.repeat&&!this.repeats)){for(let t of this.modifiers)if(!e.isModifierKeyDown(t))return;this.continuePropagation||t.stopPropagation(),this.callback(t)}}static fromDefinition(t,n){if(typeof t==`string`)return new e(t,[],!1,!1,n);let{key:r,modifier:i,repeats:a,continuePropagation:o}=t;return new e(r,i?Array.isArray(i)?i:[i]:[],!!a,!!o,n)}};function m_e(e){return[e.on(`before-add`,t=>{let n=t.item;if(n==null||e.includes(n))return j.getLogger(`esri.views.interactive.interactiveToolUtils`).warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault();n.onAdd()}),e.on(`after-remove`,e=>{let t=e.item;t.active&&(t.view.activeTool=null),t.destroy()})]}function PV(e){return e.visible&&e.getEditableFlag!=null&&e.getEditableFlag(0)&&e.getEditableFlag(1)}function FV(e){return e.type===`key-down`&&e.key===NV.cancel}function IV(e){return pj(e.x,e.y)}function LV(e,t){let n=(e instanceof HTMLElement?e:e.surface)?.getBoundingClientRect();return n?pj(t.clientX-n.left,t.clientY-n.top):pj(0,0)}function RV(e,t){return t instanceof Event?LV(e,t):IV(t)}function zV(e){if(e instanceof Event)return!0;if(typeof e==`object`&&`type`in e)switch(e.type){case`click`:case`double-click`:case`pointer-down`:case`pointer-drag`:case`pointer-enter`:case`pointer-leave`:case`pointer-up`:case`pointer-move`:case`immediate-click`:case`immediate-double-click`:case`hold`:case`drag`:case`mouse-wheel`:return!0;default:return!1}return!1}var BV=class extends I{constructor(){super(...arguments),this._pointerLocations=new Map,this._hoveredManipulators=new jB,this._grabbedManipulators=new jB,this._draggedManipulators=new Map,this._stopDrag=!1,this._externallyDragging=!1,this._revertToNullActiveTool=!1}get cursor(){return this._cursorFromMap(this._grabbedManipulators,`grabbing`)??this._cursorFromMap(this._hoveredManipulators,`pointer`)}get hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(e,t){let n=()=>e.stopPropagation();switch(e.type){case`pointer-move`:HV(e.pointerType)&&this._pointerLocations.set(e.pointerId,{x:e.x,y:e.y,pointerType:e.pointerType});break;case`drag`:this._grabbedManipulators.size>0?this._stopDrag=!0:e.action===`start`?this._externallyDragging=!0:e.action===`end`&&(this._externallyDragging=!1),this._stopDrag&&(n(),e.action===`end`&&(this._stopDrag=!1));break;case`pointer-down`:{if(!UV(e))break;let r=IV(e),i=VV(r,e.pointerType,t.tools);if(i==null)break;let a=i.manipulator,o=i.tool;a==null||o==null||!a.interactive||a.grabbable&&a.grabbableForEvent(e)||!a.grabbing||a.dragging||this._releaseManipulatorBeforeDragging(a,e,t),a!=null&&o!=null&&a.interactive&&a.grabbable&&a.grabbableForEvent(e)&&!a.grabbing&&(this._grabbedManipulators.set(e.pointerId,{manipulator:a,tool:o,start:r,pointerType:e.pointerType}),this._grabbedManipulators.size===1&&t.activeTool==null&&(this._revertToNullActiveTool=!0,t.setActiveTool(i.tool)),a.grabbing=!0,a.events.emit(`grab-changed`,{action:`start`,pointerType:e.pointerType,screenPoint:r}),n());break}case`pointer-up`:this._draggedManipulators.has(e.pointerId)||this._handlePointerEnd(e,t);break;case`pointer-drag`:{if(!UV(e))break;let r=this._grabbedManipulators.get(e.pointerId),i=r?.manipulator,a=r?.tool;if(i==null||a==null)break;let o=IV(e);o.x=KT(o.x,0,t.view.width),o.y=KT(o.y,0,t.view.height);let s=r.start,c=this._draggedManipulators.get(e.pointerId);switch(e.action){case`start`:case`update`:e.action!==`update`&&this._grabbedManipulators.size!==1||(i.dragging=!0,c?i.events.emit(`drag`,{action:`update`,start:s,screenPoint:o}):i.events.emit(`drag`,{action:`start`,start:s,screenPoint:o,pointerType:e.pointerType}),this._draggedManipulators.set(e.pointerId,{tool:a,manipulator:i,start:s}));break;case`end`:i.dragging=!1,c&&i.events.emit(`drag`,{action:`end`,start:s,screenPoint:o}),this._draggedManipulators.delete(e.pointerId),this._handlePointerEnd(e,t)}n();break}case`immediate-click`:{let r=IV(e),i=VV(r,e.pointerType,t.tools);if(!h_e(e)){for(let e of t.tools)if((i==null||i.tool!==e||e.automaticManipulatorSelection)&&e.manipulators){let t=!1;e.manipulators.forEach(({manipulator:e})=>{e.selected&&(e.selected=!1,t=!0)}),t&&e.onManipulatorSelectionChanged&&e.onManipulatorSelectionChanged()}}if(i==null)break;let{manipulator:a,tool:o}=i;if(!a.interactive)break;a.selectable&&o.automaticManipulatorSelection&&(a.selected=!a.selected,o.onManipulatorSelectionChanged&&o.onManipulatorSelectionChanged());let s=e.native.shiftKey;a.events.emit(`immediate-click`,{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:s,stopPropagation:n}),WV(a,n);break}case`click`:{let r=IV(e),i=VV(r,e.pointerType,t.tools)?.manipulator;if(i==null||!i.interactive)break;let a=e.native.shiftKey;i.events.emit(e.type,{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:a}),n();break}case`double-click`:{let r=IV(e),i=VV(r,e.pointerType,t.tools),a=i==null?null:i.manipulator;if(a==null||!a.interactive)break;let o=e.native.shiftKey;a.events.emit(`double-click`,{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:o,stopPropagation:n}),WV(a,n);break}case`immediate-double-click`:{let r=IV(e),i=VV(r,e.pointerType,t.tools),a=i==null?null:i.manipulator;if(a==null||!a.interactive)break;let o=e.native.shiftKey;a.events.emit(`immediate-double-click`,{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:o,stopPropagation:n}),e.pointerType===`mouse`&&WV(a,n);break}}this._onFocusChange(t.tools)}_releaseManipulatorBeforeDragging(e,t,n){e.grabbing=!1,e.events.emit(`grab-changed`,{action:`end`,pointerType:t.pointerType,screenPoint:IV(t)}),this._grabbedManipulators.forEach(({manipulator:t},n)=>{t===e&&this._grabbedManipulators.delete(n)}),this._afterManipulatorRelease(n.setActiveTool)}_handlePointerEnd(e,t){let n=this._grabbedManipulators.get(e.pointerId)?.manipulator;n!=null&&n.grabbing&&(n.grabbing=!1,n.events.emit(`grab-changed`,{action:`end`,pointerType:e.pointerType,screenPoint:IV(e)}),this._grabbedManipulators.delete(e.pointerId),this._afterManipulatorRelease(t.setActiveTool))}_onFocusChange(e){this._updateFocusedManipulatorTools(e)}_updateFocusedManipulatorTools(e){let t=new Set,n=new Set;this._grabbedManipulators.forEach(({tool:e})=>t.add(e)),this._hoveredManipulators.forEach(({tool:e})=>n.add(e));for(let r of e){r.hasGrabbedManipulators=t.has(r),r.hasHoveredManipulators=n.has(r);let e=this._grabbedManipulators.values(),i=om(e,({tool:e})=>e===r);r.firstGrabbedManipulator=i==null?null:i.manipulator}}clearPointers(e,{tools:t,setActiveTool:n},r=!0,i){let a=(t,n)=>t===e&&(i==null||i===n);this._grabbedManipulators.forEach(({tool:e,manipulator:t,pointerType:n},r)=>{a(e,t)&&(this._grabbedManipulators.delete(r),t.grabbing=!1,t.events.emit(`grab-changed`,{action:`end`,screenPoint:null,pointerType:n}))}),this._draggedManipulators.forEach(({tool:e,manipulator:t},n)=>{a(e,t)&&(this._draggedManipulators.delete(n),t.dragging=!1,t.events.emit(`drag`,{action:`cancel`}))}),r&&this._hoveredManipulators.forEach(({tool:e,manipulator:t},n)=>{a(e,t)&&(this._hoveredManipulators.delete(n),t.hovering=!1)}),this._afterManipulatorRelease(n),this._onFocusChange(t)}updateHoveredStateFromKnownPointers(e){this._pointerLocations.forEach((t,n)=>{this._updateHoveredStateForPointerAtScreenPosition(pj(t.x,t.y),n,t.pointerType,e)})}handleHoverEvent(e,t){let n=e.type;n!==`pointer-up`&&n!==`immediate-click`&&n!==`pointer-move`||!HV(e.pointerType)||(n!==`pointer-up`&&this._externallyDragging?this._clearHoveredManipulatorStates(e.pointerId):this._updateHoveredStateForPointerAtScreenPosition(IV(e),e.pointerId,e.pointerType,t))}_updateHoveredStateForPointerAtScreenPosition(e,t,n,r){let i=VV(e,n,r),a=this._hoveredManipulators.get(t)?.manipulator;i==null||i.manipulator.interactive||(i=null),i!=null&&a===i.manipulator||(a!=null&&(a.hovering=!1),i==null?this._hoveredManipulators.delete(t):(i.manipulator.hovering=!0,this._hoveredManipulators.set(t,i)),this._onFocusChange(r))}_afterManipulatorRelease(e){this._grabbedManipulators.size===0&&this._revertToNullActiveTool&&(e(null),this._revertToNullActiveTool=!1)}_clearHoveredManipulatorStates(e){this._hoveredManipulators.forEach(({manipulator:t},n)=>{e===n&&(this._hoveredManipulators.delete(e),t.hovering=!1)})}_cursorFromMap(e,t){if(!e?.size)return null;for(let{manipulator:t}of e.values())if(t?.interactive){if(t.grabbing&&t.grabCursor)return t.grabCursor;if(t.cursor)return t.cursor}return t}};function VV(e,t,n){for(let r of n){if(r.manipulators==null||!PV(r))continue;let n=r.manipulators.intersect(e,t);if(n!=null)return{tool:r,manipulator:n}}return null}function HV(e){return e===`mouse`}function UV(e){return e.pointerType!==`mouse`||e.button===0}function h_e(e){return!!e.native.shiftKey}function WV(e,t){e?.consumesClicks&&t()}O([P()],BV.prototype,`cursor`,null),BV=O([F(`esri.views.interactive.ToolViewManagerManipulatorState`)],BV);var GV=`attached`,KV=`tools`,g_e=1e3,qV=class extends I{constructor(e){super(e),this._updatingHandles=new BM,this._clock=Ld,this._manipulatorState=new BV,this.tools=new L,this._interacting=!1,this._interactingTimeout=g_e,this._interactingTimeoutHandle=null}initialize(){this.addHandles([this.view.on(TV,e=>{this._handleInputEvent(e)},dP.TOOL),...m_e(this.tools),this.tools.on(`before-add`,({item:e})=>{this._updateToolEditableFlag(e)}),this.tools.on(`before-remove`,({item:e})=>{this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs)}),this.tools.on(`change`,()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null,this.tools.drain(e=>e.destroy()),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy(),this._manipulatorState.destroy()}get _manipulatorStateEventArgs(){return{tools:this.tools,activeTool:this.activeTool,setActiveTool:e=>{this.activeTool=e},view:this.view}}set activeTool(e){if(e!=null&&!this.view.ready)return void j.getLogger(this).error(`Cannot set active tool while view is not ready.`);if(e===this.activeTool)return;let t=this.activeTool;this._set(`activeTool`,e),t?.deactivate(),e?.activate(),this._removeIncompleteTools(e);for(let e of this.tools){this._updateToolEditableFlag(e);let t=PV(e);this.activeTool!=null&&t||this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs,!t)}}get cursor(){let e=this._manipulatorState.cursor;if(e!=null)return e;for(let e of this.tools)if(e.visible&&e.cursor!=null)return e.cursor;return null}get updating(){return this._updatingHandles.updating||this.tools.some(e=>e.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=qd(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){this.view.type===`3d`?this.addHandles([q(()=>{let{state:e}=this.view;return`camera`in e&&e.camera},()=>this._forEachManipulator(e=>e.onViewChange())),this.view.elevationProvider.on(`elevation-change`,e=>this._forEachManipulator(t=>t.onElevationChange(e)))],GV):this.addHandles(q(()=>this.view.extent,()=>this._forEachManipulator(e=>e.onViewChange())))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(GV),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(e){for(let t of this.tools)t.manipulators&&t.manipulators.forEach(({manipulator:n})=>e(n,t))}_handleInputEvent(e){let t=!1,n={...e,stopPropagation:()=>{t=!0,e.stopPropagation()}};if(this.activeTool!=null)this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(n);else for(let e of this.tools)!t&&e.visible&&e.handleInputEvent(n);!t&&FV(e)&&this.activeTool&&(e.stopPropagation(),e.preventDefault(),this.activeTool.cancel(),this.activeTool=null),this._manipulatorState.handleInputEvent(n,this._manipulatorStateEventArgs),t||this.activeTool==null||this.activeTool.handleInputEventAfter(n),this._manipulatorState.handleHoverEvent(n,this.tools),e.type===`pointer-move`&&(this._manipulatorState.hasFocusedManipulators||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(KV);for(let e of this.tools){if(e instanceof I){let t=q(()=>[e.cursor,e.visible,e.editable],()=>{PV(e)||this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs)});this.addHandles(t,KV)}e.manipulators&&this.addHandles([e.manipulators.on(`after-remove`,t=>{this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs,!0,t.item.manipulator)}),e.manipulators.on(`change`,()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this.tools)})],KV)}this._manipulatorState.updateHoveredStateFromKnownPointers(this.tools)}_updateToolEditableFlag(e){e.setEditableFlag?.(1,this.activeTool==null||e===this.activeTool)}_removeIncompleteTools(e){this.tools.filter(t=>(e==null||t!==e)&&!t.created&&t.removeIncompleteOnCancel).forEach(e=>{this.tools.remove(e)})}get test(){}};O([P({constructOnly:!0,nonNullable:!0})],qV.prototype,`view`,void 0),O([P({value:null})],qV.prototype,`activeTool`,null),O([P({readOnly:!0,type:L})],qV.prototype,`tools`,void 0),O([P()],qV.prototype,`cursor`,null),O([P({readOnly:!0})],qV.prototype,`updating`,null),O([P()],qV.prototype,`_interacting`,void 0),O([P({readOnly:!0})],qV.prototype,`interacting`,null),qV=O([F(`esri.views.ToolViewManager`)],qV);var JV=new lE(`cyan`),__e=.25,v_e=new lE(`black`),y_e=.4,b_e=.2,x_e=.25,YV=`default`,S_e=`temporary`,C_e=new lE(`yellow`),XV,ZV=XV=class extends I{constructor(e){super(e),this.name=YV,this.color=JV.clone(),this.haloColor=null,this.haloOpacity=1,this.fillOpacity=__e,this.shadowColor=v_e.clone(),this.shadowOpacity=y_e,this.shadowDifference=b_e,this.haloWidth=2.1,this.haloBlur=.8/this.haloWidth}equals(e){return this.color.equals(e.color)&&(this.haloColor||this.color).equals(e.haloColor||e.color)&&this.haloOpacity===e.haloOpacity&&this.fillOpacity===e.fillOpacity&&this.haloWidth===e.haloWidth&&this.haloBlur===e.haloBlur&&this.shadowColor.equals(e.shadowColor)&&this.shadowOpacity===e.shadowOpacity&&this.shadowDifference===e.shadowDifference}clone(){return new XV({...this,color:this.color.clone(),haloColor:this.haloColor?.clone(),shadowColor:this.shadowColor?.clone()})}assignFrom(e){this.color=e.color.clone(),this.haloColor=e.haloColor?.clone(),this.haloOpacity=e.haloOpacity,this.fillOpacity=e.fillOpacity,this.shadowColor=e.shadowColor.clone(),this.shadowDifference=e.shadowDifference,this.shadowOpacity=e.shadowOpacity,this.haloBlur=e.haloBlur,this.haloWidth=e.haloWidth}};O([P({type:String,constructOnly:!0,nonNullable:!0})],ZV.prototype,`name`,void 0),O([P({type:lE,nonNullable:!0})],ZV.prototype,`color`,void 0),O([P({type:lE})],ZV.prototype,`haloColor`,void 0),O([P({nonNullable:!0})],ZV.prototype,`haloOpacity`,void 0),O([P({nonNullable:!0})],ZV.prototype,`fillOpacity`,void 0),O([P({type:lE,nonNullable:!0})],ZV.prototype,`shadowColor`,void 0),O([P({nonNullable:!0})],ZV.prototype,`shadowOpacity`,void 0),O([P({nonNullable:!0})],ZV.prototype,`shadowDifference`,void 0),O([P({nonNullable:!0})],ZV.prototype,`haloWidth`,void 0),O([P({nonNullable:!0})],ZV.prototype,`haloBlur`,void 0),ZV=XV=O([F(`esri.views.support.HighlightOptions`)],ZV);var QV=ZV;function w_e(){return new(L.ofType(QV))([new QV({name:YV}),new QV({name:S_e,color:C_e})])}var $V=class extends I{constructor(e){super(),this.nativeIndex=null,this._detectedDeviceType=`unknown`,e.mapping===`standard`?this._detectedDeviceType=`standard`:T_e.test(e.id)?this._detectedDeviceType=`spacemouse`:this._detectedDeviceType=`unknown`,this.nativeIndex=e.index}get native(){let e=navigator.getGamepads?navigator.getGamepads():[];return this.nativeIndex!=null&&this.nativeIndex<e.length?e[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return E_e[this.deviceType]}};O([P({nonNullable:!0,readOnly:!0})],$V.prototype,`nativeIndex`,void 0),O([P({type:String,readOnly:!0})],$V.prototype,`deviceType`,null),O([P({type:Number,readOnly:!0})],$V.prototype,`axisThreshold`,null),$V=O([F(`esri.views.input.gamepad.GamepadInputDevice`)],$V);var eH=$V,T_e=RegExp(`^(3dconnexion|space(mouse|navigator|pilot|explorer))`,`i`),E_e={standard:.15,spacemouse:.025,unknown:0},tH=class extends I{constructor(e){super(e),this.devices=new L,this.enabledFocusMode=`document`}};O([P({type:L.ofType(eH),readOnly:!0})],tH.prototype,`devices`,void 0),O([P({type:[`document`,`view`,`none`]})],tH.prototype,`enabledFocusMode`,void 0),tH=O([F(`esri.views.input.gamepad.GamepadSettings`)],tH);var D_e=tH,nH=class extends I{constructor(){super(...arguments),this.gamepad=new D_e}};O([P({readOnly:!0})],nH.prototype,`gamepad`,void 0),nH=O([F(`esri.views.input.Input`)],nH);var O_e=nH,rH=()=>P({type:[`pan`,`rotate`,`zoom`,`none`],nonNullable:!0}),iH=class extends I{constructor(e){super(e),this.dragPrimary=`pan`,this.dragSecondary=`rotate`,this.dragTertiary=`zoom`,this.mouseWheel=`zoom`}};O([rH()],iH.prototype,`dragPrimary`,void 0),O([rH()],iH.prototype,`dragSecondary`,void 0),O([rH()],iH.prototype,`dragTertiary`,void 0),O([P({type:[`zoom`,`none`],nonNullable:!0})],iH.prototype,`mouseWheel`,void 0),iH=O([F(`esri.views.navigation.NavigationActionMap`)],iH);var aH=iH,oH=class extends I{constructor(e){super(e),this.enabled=!0,this.device=null,this.mode=`pan`,this.tiltDirection=`forward-down`,this.velocityFactor=1}};O([P({type:Boolean,nonNullable:!0})],oH.prototype,`enabled`,void 0),O([P({type:eH})],oH.prototype,`device`,void 0),O([P({type:[`pan`,`zoom`],nonNullable:!0})],oH.prototype,`mode`,void 0),O([P({type:[`forward-down`,`forward-up`],nonNullable:!0})],oH.prototype,`tiltDirection`,void 0),O([P({type:Number,nonNullable:!0})],oH.prototype,`velocityFactor`,void 0),oH=O([F(`esri.views.navigation.gamepad.GamepadSettings`)],oH);var sH=oH,cH=class extends I{constructor(e){super(e),this.actionMap=new aH,this.browserTouchPanEnabled=!0,this.gamepad=new sH,this.momentumEnabled=!0}get mouseWheelZoomEnabled(){return this.actionMap.mouseWheel===`zoom`}set mouseWheelZoomEnabled(e){nm(j.getLogger(this),`mouseWheelZoomEnabled`,{replacement:`actionMap.mouseWheel`,version:`4.32`,warnOnce:!0}),this.actionMap.mouseWheel=e?`zoom`:`none`}};O([P({type:aH,nonNullable:!0})],cH.prototype,`actionMap`,void 0),O([P({type:Boolean})],cH.prototype,`browserTouchPanEnabled`,void 0),O([P({type:sH,nonNullable:!0})],cH.prototype,`gamepad`,void 0),O([P({type:Boolean})],cH.prototype,`momentumEnabled`,void 0),O([P({type:Boolean})],cH.prototype,`mouseWheelZoomEnabled`,null),cH=O([F(`esri.views.navigation.Navigation`)],cH);var lH=cH;function k_e(e,t,n){let r=dH(e),i=t,a=A_e(r,i,n);if(r){let t=gP.deriveUnitFromSR(r,e.spatialReference).heightUnit;if(!n&&t!==r.heightUnit){let e=new M(`layerview:unmatched-height-unit`,`The vertical units of the layer must match the horizontal units (${t})`,{horizontalUnit:t});return new M(`layerview:unsupported-height-model-info`,`The vertical coordinate system of the layer is not supported`,{heightModelInfo:r,error:e})}}if(!j_e(e)||a===4)return new M(`layerview:unsupported-height-model-info`,`The vertical coordinate system of the layer is not supported`,{heightModelInfo:r});switch(a){case 1:{let e=r?.heightUnit||`unknown`,t=i?.heightUnit||`unknown`,n=new M(`layerview:incompatible-height-unit`,`The vertical units of the layer (${e}) must match the vertical units of the scene (${t})`,{layerUnit:e,sceneUnit:t});return new M(`layerview:incompatible-height-model-info`,`The vertical coordinate system of the layer is incompatible with the scene`,{layerHeightModelInfo:r,sceneHeightModelInfo:i,error:n})}case 2:{let e=r?.heightModel||`unknown`,t=i?.heightModel||`unknown`,n=new M(`layerview:incompatible-height-model`,`The height model of the layer (${e}) must match the height model of the scene (${t})`,{layerHeightModel:e,sceneHeightModel:t});return new M(`layerview:incompatible-height-model-info`,`The vertical coordinate system of the layer is incompatible with the scene`,{layerHeightModelInfo:r,sceneHeightModelInfo:i,error:n})}case 3:{let e=r?.vertCRS||`unknown`,t=i?.vertCRS||`unknown`,n=new M(`layerview:incompatible-vertical-datum`,`The vertical datum of the layer (${e}) must match the vertical datum of the scene (${t})`,{layerDatum:e,sceneDatum:t});return new M(`layerview:incompatible-height-model-info`,`The vertical coordinate system of the layer is incompatible with the scene`,{layerHeightModelInfo:r,sceneHeightModelInfo:i,error:n})}}return null}function A_e(e,t,n){if(!uH(e)||!uH(t))return 4;if(e==null||t==null)return 0;if(!n&&e.heightUnit!==t.heightUnit)return 1;if(e.heightModel!==t.heightModel)return 2;switch(e.heightModel){case`gravity-related-height`:return 0;case`ellipsoidal`:return e.vertCRS===t.vertCRS?0:3;default:return 4}}function uH(e){return e==null||e.heightModel!=null&&e.heightUnit!=null}function j_e(e){return`heightModelInfo`in e&&e.heightModelInfo!=null||e.spatialReference!=null||!mH(e)}function dH(e){if(e.type===`integrated-mesh-3dtiles`||e.type===`gaussian-splat`)return null;let t=e.url?Vf(e.url):void 0;return!(e.spatialReference?.vcsWkid==null&&t!=null&&t.serverType===`ImageServer`)&&fH(e)&&e.heightModelInfo?e.heightModelInfo:mH(e)?gP.deriveUnitFromSR(M_e,e.spatialReference):null}function fH(e){return`heightModelInfo`in e}function pH(e){if(e.type===`unknown`||!(`capabilities`in e))return!1;switch(e.type){case`catalog`:case`catalog-footprint`:case`csv`:case`feature`:case`geojson`:case`subtype-group`:case`ogc-feature`:case`oriented-imagery`:case`wfs`:case`knowledge-graph-sublayer`:return!0;default:return!1}}function mH(e){return pH(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):gH(e)}function hH(e){return e.layers!=null||gH(e)||pH(e)||fH(e)}function gH(e){switch(e.type){case`building-scene`:case`elevation`:case`integrated-mesh`:case`integrated-mesh-3dtiles`:case`point-cloud`:case`scene`:case`voxel`:return!0;case`base-dynamic`:case`base-elevation`:case`base-tile`:case`bing-maps`:case`catalog`:case`catalog-footprint`:case`catalog-dynamic-group`:case`csv`:case`dimension`:case`gaussian-splat`:case`geojson`:case`feature`:case`subtype-group`:case`geo-rss`:case`graphics`:case`group`:case`imagery`:case`imagery-tile`:case`kml`:case`knowledge-graph`:case`link-chart`:case`knowledge-graph-sublayer`:case`line-of-sight`:case`map-image`:case`map-notes`:case`media`:case`ogc-feature`:case`open-street-map`:case`oriented-imagery`:case`parquet`:case`route`:case`stream`:case`tile`:case`unknown`:case`unsupported`:case`vector-tile`:case`video`:case`viewshed`:case`wcs`:case`web-tile`:case`wfs`:case`wms`:case`wmts`:case null:return!1}return!1}var M_e=new gP({heightModel:`gravity-related-height`}),_H,vH=null;async function N_e(e){vH||=N(()=>import(`./geometryServiceUtils-_eVbGYIY.js`),[]).then(e=>_H=e),await vH,$d(e)}async function yH(e,t,n,r){if(!e)return null;let i=e.spatialReference;return FA()||GA(i,t)?zA(e,t):_H?_H.projectGeometry(e,t,n,r):(await Promise.race([N_e(r),RA(r)]),yH(e,t,n,r))}async function P_e(e,t){try{return e?.spatialReference?await WA(e,t):null}catch{return null}}var bH=class extends I{constructor(e){super(e),this.required={extent:!1,heightModelInfo:!1,tileInfo:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=Jd(this._projectExtentTask.task)),this._set(`map`,null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return this.userSpatialReference==null||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){let e=this.map?.(),t=[];return this.priorityCollection!=null&&t.push(this.priorityCollection),t.push({parent:e?.basemap,layers:e?.basemap?.baseLayers},{parent:e?.basemap,layers:e?.basemap?.groundLayers},{layers:e?.layers},{parent:e?.ground,layers:e?.ground?.layers},{parent:e?.basemap,layers:e?.basemap?.referenceLayers}),t}get _spatialReferenceTask(){if(this.suspended)return this._get(`_spatialReferenceTask`)??{updating:!1};let e;if(this._collectLayers(this.mapCollections,t=>{let n=this._getSupportedSpatialReferences(t);if(n.length>0){let t=this._narrowDownSpatialReferenceCandidates(e,n);t!=null&&(e=t)}return e?.length===1})&&e?.length!==1)return{updating:!0};let t=this._pickSpatialReferenceCandidate(e);return{spatialReference:t?.spatialReference??null,viewingMode:t?.viewingMode??null,updating:!1}}get _tileInfoTask(){if(!this.required.tileInfo)return this._get(`_tileInfoTask`)??{updating:!1};let e=this.map?.(),t=this.spatialReference;if(!t)return{updating:this._spatialReferenceTask.updating};let n,r=this._collectLayers([{parent:e?.basemap,layers:e?.basemap?.baseLayers},{parent:e?.basemap,layers:e?.basemap?.groundLayers},{layers:e?.layers}],e=>!(!(`tileInfo`in e)||!e.tileInfo?.spatialReference.equals(t))&&(n=e,!0),e=>`tileInfo`in e);return n?{tileInfo:n.tileInfo,updating:!1}:{updating:r}}get _heightModelInfoTask(){if(!this.required.heightModelInfo||this.suspended&&this._get(`_heightModelInfoTask`)?.heightModelInfo)return this._get(`_heightModelInfoTask`)??{updating:!1};let e={},t=this._collectLayers(this.mapCollections,t=>{let n=dH(t);return!!n&&(e={heightModelInfo:n,vcsWkid:t.spatialReference?.vcsWkid,latestVcsWkid:t.spatialReference?.latestVcsWkid},!0)},e=>hH(e));return{...e,updating:t}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get(`_extentCandidatesTask`)??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};let e=[],t=this._collectLayers(this.mapCollections,t=>{let n=`fullExtents`in t&&t.fullExtents||(t.fullExtent==null?[]:[t.fullExtent]),r=this.requiresExtentInSpatialReference?null:n[0],i=n.find(e=>e.spatialReference.equals(this.spatialReference))??r;if(i)return e.push({extent:i,layer:t}),!0;if(this._getSupportedSpatialReferences(t).length>0)for(let r of n)e.push({extent:r,layer:t});return!1});return{candidates:e,updating:t}}get _extentTask(){let{candidates:e,updating:t}=this._extentCandidatesTask;if(t)return{updating:t};if(e==null||e.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};let n=this._pickExtentCandidate(e),r=this.spatialReference;return n.extent.equals(this._projectExtentTask.input)&&r.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:this._projectExtentTask.task!=null&&!this._projectExtentTask.task.finished}:(this._projectExtentTask.task!=null&&(this._projectExtentTask.task=Jd(this._projectExtentTask.task)),this._projectExtentTask={input:n.extent.clone(),output:null,spatialReference:r.clone(),task:A_(async e=>{try{let t=await yH(n.extent,r,`portalItem`in n.layer?n.layer.portalItem:void 0,e);this._projectExtentTask={...this._projectExtentTask,task:null,output:t}}catch{if(tf(e))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(e,t){if(e==null)return t;let n=[];for(let r of e)for(let e of t){if(!r.spatialReference.equals(e.spatialReference))continue;let t=I_e(r.viewingMode,e.viewingMode);if(!1!==t){n.push({spatialReference:r.spatialReference,viewingMode:t});break}}return n.length>0?n:null}_pickSpatialReferenceCandidate(e){let t=this.defaultSpatialReference;return e==null||e.length<1?t?{spatialReference:t,viewingMode:null}:null:(t!=null&&e.length>1&&e.some(({spatialReference:e})=>e.equals(t))&&(e=e.filter(({spatialReference:e})=>e.equals(t))),e.length>1&&e.some(({viewingMode:e})=>e!==2)&&(e=e.filter(({viewingMode:e})=>e!==2)),e[0])}_getSupportedSpatialReferences(e){let t=`supportedSpatialReferences`in e&&e.supportedSpatialReferences||(e.spatialReference?[e.spatialReference]:[]);if(t.length===0)return[];let n=[];for(let r of t){let t=this.getSpatialReferenceSupport(r,e);if(t!=null){let e=t.constraints??[{spatialReference:r,viewingMode:null}];for(let{spatialReference:t,viewingMode:r}of e)this.requiresExtentInSpatialReference&&this.userSpatialReference!=null&&!t.equals(this.userSpatialReference)||n.push({spatialReference:t,viewingMode:r})}}return n}_pickExtentCandidate(e){let t=this.spatialReference;return e.find(({extent:e})=>t.equals(e.spatialReference))||e[0]}_collectLayers(e,t,n=()=>!0){switch(this._loadMaybe(this.map?.())){case`loading`:return!0;case`failed`:return!1}let r=new F_e(n,t);for(let t of e)if(this._collectCollection(t,r),r.done||r.preloading===this.sourcePreloadCount)break;return r.updating}_collectCollection(e,t){if(e.layers){switch(this._loadMaybe(e.parent)){case`loading`:t.updating=!0,++t.preloading;return;case`failed`:return}for(let n of e.layers)if((n.type!==`graphics`||!n.internal)&&t.layerFilter(n)){switch(this._loadMaybe(n)){case`failed`:continue;case`loading`:t.updating=!0,++t.preloading;break;case`loaded`:if(t.updating||(t.done=t.pushLayer(n)),t.done||t.preloading===this.sourcePreloadCount)break;`layers`in n&&this._collectCollection({layers:n.layers},t)}if(t.done||t.preloading===this.sourcePreloadCount)break}}}_loadMaybe(e){return e&&`loadStatus`in e&&e.loadStatus!=null?e.loadStatus===`not-loaded`?(e.load().catch(e=>{lf(e)}),`loading`):e.loadStatus:`loaded`}};O([P()],bH.prototype,`required`,void 0),O([P({constructOnly:!0})],bH.prototype,`map`,void 0),O([P({constructOnly:!0})],bH.prototype,`getSpatialReferenceSupport`,void 0),O([P()],bH.prototype,`defaultSpatialReference`,void 0),O([P()],bH.prototype,`userSpatialReference`,void 0),O([P()],bH.prototype,`sourcePreloadCount`,void 0),O([P()],bH.prototype,`priorityCollection`,void 0),O([P()],bH.prototype,`requiresExtentInSpatialReference`,void 0),O([P()],bH.prototype,`suspended`,void 0),O([P({readOnly:!0})],bH.prototype,`ready`,null),O([P({readOnly:!0})],bH.prototype,`heightModelInfoReady`,null),O([P({readOnly:!0})],bH.prototype,`spatialReference`,null),O([P({readOnly:!0})],bH.prototype,`extent`,null),O([P({readOnly:!0})],bH.prototype,`heightModelInfo`,null),O([P({readOnly:!0})],bH.prototype,`vcsWkid`,null),O([P({readOnly:!0})],bH.prototype,`latestVcsWkid`,null),O([P({readOnly:!0})],bH.prototype,`viewingMode`,null),O([P({readOnly:!0})],bH.prototype,`tileInfo`,null),O([P({readOnly:!0})],bH.prototype,`mapCollections`,null),O([P({readOnly:!0})],bH.prototype,`_spatialReferenceTask`,null),O([P({readOnly:!0})],bH.prototype,`_tileInfoTask`,null),O([P({readOnly:!0})],bH.prototype,`_heightModelInfoTask`,null),O([P({readOnly:!0})],bH.prototype,`_extentCandidatesTask`,null),O([P()],bH.prototype,`_extentTask`,null),O([P()],bH.prototype,`_projectExtentTask`,void 0),bH=O([F(`esri.views.support.DefaultsFromMap`)],bH);var F_e=class{constructor(e,t){this.layerFilter=e,this.pushLayer=t,this.preloading=-1,this.updating=!1,this.done=!1}};function I_e(e,t){return e==null?t:(t==null||e===t)&&e}function L_e(e){return`tryRecycleWith`in e}var R_e=class{constructor(e,t,n){this.layer=e,this.view=t,this.layerViewImporter=n,this._controller=new AbortController,this._started=!1,this.done=!1,this._deferred=yf(),this.promise=this._deferred.promise,af(this._controller.signal,()=>{this._recycleController?.abort();let t=new M(`cancelled:layerview-create`,`layerview creation cancelled`,{layer:e});this._deferred?.reject(t)})}tryRecycle(e){if(!this.done||!this.layerView||!L_e(this.layerView))return null;this._recycleController?.abort(),this._recycleController=new AbortController;let t=this.layer.type,n=this._recycleController.signal;for(let r=0;r<e.length;r++){let i=e[r];if(i.type!==t)continue;let a=this.layerView.tryRecycleWith(i,{signal:n});if(a){e.splice(r,1),this.layer=i;let t=this.layerView,o=t.view;return this.promise=a.then(()=>($d(n),i.emit(`layerview-destroy`,{view:o,layerView:t}),o.emit(`layerview-destroy`,{view:o,layerView:t}),i.emit(`layerview-create`,{view:o,layerView:t}),o.emit(`layerview-create`,{view:o,layerView:t}),t)),this.promise}}return null}destroy(){this._controller.abort();let{layerView:e}=this;if(e){let{layer:t,view:n}=this;t.emit(`layerview-destroy`,{view:n,layerView:e}),n.emit(`layerview-destroy`,{layer:t,layerView:e})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null,this.promise=null,this._deferred=null}async start(){let{view:e}=this;if(this._started||!e.map)return;this._started=!0;let{_controller:{signal:t},layer:n}=this;this._map=e.map;try{let r,i;if(await n.load({signal:t}),n.prefetchResources&&await n.prefetchResources({signal:t}),z_e(n))r=await n.createLayerView(e,{signal:t});else{if(!this.layerViewImporter.hasLayerViewModule(n))throw new M(`layer:view-not-supported`,`No layerview implementation was found`);let i=await this.layerViewImporter.importLayerView(n);$d(t),r=`default`in i?new i.default({layer:n,view:e}):new i({layer:n,view:e})}let a=()=>{i=qd(i),r.destroyed||r.destroy(),this.done=!0};i=af(t,a),$d(t);try{await r.when()}catch(e){throw a(),e}if(!this._map?.allLayers?.includes(n))return a(),void this._deferred?.reject(new M(`view:no-layerview-for-layer`,`The layer has been removed from the map`,{layer:n}));this.layerView=r,n.emit(`layerview-create`,{view:e,layerView:r}),e.emit(`layerview-create`,{layer:n,layerView:r}),this.done=!0,this._deferred?.resolve(r)}catch(t){n.emit(`layerview-create-error`,{view:e,error:t}),e.emit(`layerview-create-error`,{layer:n,error:t}),this.done=!0,this._deferred?.reject(new M(`layerview:create-error`,`layerview creation failed`,{layer:n,error:t}))}}};function z_e(e){return e.createLayerView!==cT.prototype.createLayerView}function B_e(e){return typeof e==`object`&&!!e&&`layerViews`in e}var xH=class extends I{constructor(e){super(e),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new BM,this.supportsGround=!0,this._preloadLayerViewModules=()=>{let e=this.view.map?.allLayers;if(e)for(let t of e)!1!==this.layerViewFilter?.(t)&&this.layerViewImporter.hasLayerViewModule(t)&&this.layerViewImporter.importLayerView(t)},this._reschedule=()=>this.destroyed?Promise.reject():(this._workPromise??(this._workPromise=yf(),this._workPromise.promise.catch(()=>{})),this.removeHandles(`reschedule`),this.addHandles(ph(this._doWork),`reschedule`),this._workPromise.promise),this._doWork=()=>{if(this.destroyed)return;let{map:e}=this.view;if(!e)return void this.clear();if(this._map!==e&&(this.clear(),this._map=e),this._workPromise==null)return void this.notifyChange(`updating`);this.removeHandles(`reschedule`),this.removeHandles(`collection-change`);let t=new Set,n=[],r=this.view.ready,i=e=>{if(e!=null){for(let a of e)if(a){if(!1===this.layerViewFilter?.(a))continue;t.add(a);let e=this._layerLayerViewInfoMap.get(a);e&&r?e.start():e||this._recyclingInfoMap.has(a)||n.push(a),`layers`in a&&a.layers&&i(a.layers)}}};for(let e of this._rootCollectionNames)i(bm(this,e));let a=[],o=e=>{let t=e.tryRecycle(n);t?(this._recyclingInfoMap.set(e.layer,e),this.notifyChange(`updating`),t.then(()=>{this._recyclingInfoMap.delete(e.layer),this._layerLayerViewInfoMap.set(e.layer,e),this._reschedule(),this.notifyChange(`updating`)}).catch(t=>{lf(t)||(this._recyclingInfoMap.delete(e.layer),e.destroy(),this._reschedule(),this.notifyChange(`updating`))})):a.push(e)};for(let e of this._layerLayerViewInfoMap.values())t.has(e.layer)||(this._layerLayerViewInfoMap.delete(e.layer),o(e));for(let e of this._recyclingInfoMap.values())t.has(e.layer)||(this._recyclingInfoMap.delete(e.layer),o(e));for(let e of n)this._createLayerView(e);this._refreshCollections(),a.forEach(e=>e.destroy());let s=[e?.ground?.layers,e?.basemap?.baseLayers,e?.basemap?.groundLayers,e?.basemap?.referenceLayers,e?.layers].filter(e=>!!e);t.forEach(e=>`layers`in e&&s.push(e.layers)),this.addHandles(s.map(e=>this._watchUpdatingTracking.addOnCollectionChange(()=>e,this._reschedule)),`collection-change`),this._workPromise.resolve(),this._workPromise=null},this._layersToLayerViews=new Map(e.layerviewMapping)}initialize(){this.addHandles([Ww(()=>this.view?.map?.allLayers,`change`,this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),q(()=>{let e=this.view,t=e?.map;return[t?.basemap,t?.ground,t?.layers,e?.ready]},()=>this._reschedule(),Xw)]),this._preloadLayerViewModules(),this._reschedule()}clearHandles(){this._watchUpdatingTracking.removeAll()}destroy(){this.clear(),Nj(this._recyclingInfoMap),Nj(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,this._workPromise!=null&&(this._workPromise.reject(Qd()),this._workPromise=null)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return this._workPromise!=null||this._watchUpdatingTracking.updating||bd(this._layerLayerViewInfoMap,e=>!e.done)||this._recyclingInfoMap.size>0}get updatingRemaining(){let e=0;for(let t of this._layerLayerViewInfoMap.values())t.done||++e;return e}clear(){this.destroyed||(this._clearCollections(),Nj(this._layerLayerViewInfoMap),Nj(this._recyclingInfoMap))}async whenLayerView(e){await this._reschedule();let t=this._layerLayerViewInfoMap.get(e)?.promise;if(!t){let t=this._recyclingInfoMap.get(e)?.promise;if(!t)throw new M(`view:no-layerview-for-layer`,`No layerview has been found for the layer`,{layer:e});return t}return t}isCreatingLayerViewsForLayer(e,t){this.commitProperty(`updatingRemaining`);let n=this._layerLayerViewInfoMap.get(e);if(!n?.done)return!0;let r=n.layerView;return!(!r||!t||r.parent===t)||!!(n.done&&r&&`layers`in e&&e.layers?.length)&&e.layers.some(e=>this.isCreatingLayerViewsForLayer(e,r))}_refreshCollections(){for(let[e,t]of this._layersToLayerViews)this._populateLayerViewsOwners(bm(this,e),bm(this,t),this.view);this.notifyChange(`updating`),this.notifyChange(`updatingRemaining`)}_clearCollections(){for(let e of this._layersToLayerViews.values())bm(this,e)?.removeAll()}_populateLayerViewsOwners(e,t,n){if(!e||!t)return void t?.removeAll();let r=0;for(let i of e){let e=this._layerLayerViewInfoMap.get(i);if(!e?.layerView)continue;let{layerView:a}=e;a.layer=i,a.parent=n,t.at(r)!==a&&t.splice(r,0,a),`layers`in i&&B_e(a)&&this._populateLayerViewsOwners(i.layers,a.layerViews,a),++r}r<t.length&&t.splice(r)}_createLayerView(e){e.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e);let t=new R_e(e,this.view,this.layerViewImporter);t.promise?.then(()=>this._refreshCollections(),t=>{t&&(lf(t)||t.name===`cancelled:layerview-create`)||j.getLogger(this).error(`Failed to create layerview for layer title:'${e.title??`no title`}', id:'${e.id??`no id`}' of type '${e.type}'.`,{layer:e,error:t}),this.destroyed||this._refreshCollections()}),this._layerLayerViewInfoMap.set(e,t),this.view.ready&&t.start(),this.notifyChange(`updating`),this.notifyChange(`updatingRemaining`)}};O([P()],xH.prototype,`_workPromise`,void 0),O([P({readOnly:!0})],xH.prototype,`_watchUpdatingTracking`,void 0),O([P({readOnly:!0})],xH.prototype,`_layersToLayerViews`,void 0),O([P({constructOnly:!0})],xH.prototype,`layerviewMapping`,void 0),O([P({readOnly:!0})],xH.prototype,`_rootCollectionNames`,null),O([P({constructOnly:!0})],xH.prototype,`layerViewFilter`,void 0),O([P()],xH.prototype,`layerViewImporter`,void 0),O([P()],xH.prototype,`supportsGround`,void 0),O([P({readOnly:!0})],xH.prototype,`updating`,null),O([P({readOnly:!0})],xH.prototype,`updatingRemaining`,null),O([P({constructOnly:!0})],xH.prototype,`view`,void 0),xH=O([F(`esri.views.support.LayerViewManager`)],xH);var V_e=xH,SH=class extends I{constructor(e){super(e),this.featureTitleFields=!1,this.utilityNetworkFields=!1,this.globalIdField=!1}};O([P()],SH.prototype,`featureTitleFields`,void 0),O([P()],SH.prototype,`utilityNetworkFields`,void 0),O([P()],SH.prototype,`globalIdField`,void 0),SH=O([F(`esri.views.support.RequiredFieldsOptions`)],SH);var H_e=SH,CH,Z=class extends qg(x_){static{CH=this}constructor(e){super(e),this._userSpatialReference=null,this.handles=new cm,this.updatingHandles=new BM,this.allLayerViews=new uE({getCollections:()=>this.layerviewCollections,getChildrenFunction:W_e}),this.analyses=new PM,this.basemapView=null,this.dependencies={popup:void 0},this.displayFilterEnabled=!0,this.fatalError=null,this.graphics=new DB,this.typeSpecificPreconditionsReady=!0,this.layerViews=new L,this.magnifier=new AB,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this._readyStateWaitingTask=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this._lowPriorityCursorHandles=new L,this._highPriorityCursorHandles=new L,this.input=new O_e,this.navigation=new lH,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new OV(this),this.persistableViewModels=new L,this.requiredFieldsOptions=new H_e,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this._userTimeExtent=null,this._lockedTimeExtent=null,this.theme=null,this.handles.add(q(()=>this.preconditionsReady,e=>{let t=this.ready;if(e?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,this._lockedTimeExtent=this.timeExtent,CH.views.add(this)):(this._lockedSpatialReference=null,CH.views.remove(this)),this.notifyChange(`spatialReference`),!e&&t)this.toolViewManager?.detach(),this.analysisViewManager?.detach(),this.layerViewManager?.clear(),this._teardown();else if(e&&!t){try{this._startup()}catch(e){queueMicrotask(()=>{this.fatalError=new M(`view:startup-error`,`View._startup failed`,e)});return}this.analysisViewManager?.attach(),this.toolViewManager.attach()}},Jw))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this._validateWithErrorDisplay()]).then(()=>(this._isValid=!0,Gw(()=>this.ready)))),this.basemapView=new Rge({view:this}),this.layerViewManager=new V_e({view:this,layerViewFilter:e=>this.layerViewFilter?.(e)??!0,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},layerviewMapping:this._layerToLayerviewMapping}),this.toolViewManager=new qV({view:this}),this.selectionManager=new qge({view:this}),this.addHandles([Hw(()=>this.readyState===`map-content-error`&&!this.spatialReference,()=>{j.getLogger(this).warn(`#spatialReference`,`no spatial reference could be derived from the currently added map layers`)}),q(()=>this.initialExtentRequired,e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e},Xw),q(()=>this.ready,e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)},Jw),q(()=>this._userSpatialReference,e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)},Xw)])}get _layerToLayerviewMapping(){return CH._layerToLayerview}static{this._layerToLayerview=[[`view.map.basemap.baseLayers`,`view.basemapView.baseLayerViews`],[`view.map.basemap.groundLayers`,`view.basemapView.groundLayerViews`],[`view.map.basemap.referenceLayers`,`view.basemapView.referenceLayerViews`],[`view.map.layers`,`view.layerViews`]]}destroy(){this.destroyed||(CH.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set(`navigation`,null)),this.graphics=Gd(this.graphics),this.analyses=Gd(this.analyses),this.defaultsFromMap.destroy(),this._set(`defaultsFromMap`,null),this.analysisViewManager=Gd(this.analysisViewManager),this.toolViewManager=Gd(this.toolViewManager),this.layerViewManager=Gd(this.layerViewManager),this.selectionManager=Gd(this.selectionManager),this.basemapView=Gd(this.basemapView),this.layerViews?.forEach(e=>e.destroy()),this.layerViews.length=0,this.invalidate(),this.handles.destroy(),this.map=Gd(this.map),this.updatingHandles.destroy())}_startup(){this._set(`ready`,!0)}_teardown(){this._set(`ready`,!1)}whenReady(){return Promise.resolve(this)}toMap(){return j.getLogger(this).error(`#toMap()`,`Not implemented on this instance of View`),null}get activeTool(){return this.toolViewManager?.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e)}get layerviewCollections(){return[this.basemapView?.baseLayerViews,this.basemapView?.groundLayerViews,this.layerViews,this.basemapView?.referenceLayerViews]}get animation(){return this._get(`animation`)}set animation(e){this._set(`animation`,e)}get center(){return null}get defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new bH({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(e,t)=>this.getSpatialReferenceSupport(e,t),...this.defaultsFromMapSettings})}get extent(){return this._get(`extent`)}set extent(e){this._set(`extent`,e)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get highlights(){return this._get(`highlights`)??w_e()}set highlights(e){this._set(`highlights`,u_(e,this._get(`highlights`),L.ofType(QV)))}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){return!this.destroying&&!this.destroyed&&!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||T_(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){e!==this._get(`map`)&&(e?.destroyed&&(j.getLogger(this).warn(`#map`,`The provided map is already destroyed`,{map:e}),e=null),T_(e)&&e.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set(`map`,e))}get readyState(){if(this.destroyed)return this._get(`readyState`);if(!this.map)return`missing-map`;if(`container`in this&&!this.container)return`missing-container`;if(this.fatalError)return`rendering-error`;if((this.defaultsFromMap?.ready??!1)&&!this.spatialReference){let e=!(`loaded`in this.map)||this.map.loaded,t=this.map.ground.loaded,n=this.map.basemap?.loaded??!0;return e&&n&&t&&!this.map?.allLayers.length?`empty-map`:(this._readyStateWaitingTask||(this._readyStateWaitingTask=A_(e=>mf(k(`view-readyState-waiting-delay`),null,e)),this.addHandles(this._readyStateWaitingTask),this.addHandles(this._readyStateWaitingTask,`ready-state-task`)),this._readyStateWaitingTask?.finished?`map-content-error`:`loading`)}return this._readyStateWaitingTask=Jd(this._readyStateWaitingTask),this.removeHandles(`ready-state-task`),this.ready?`ready`:`loading`}get spatialReference(){let e=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(e&&this.defaultsFromMap?.required?.heightModelInfo){let t=e.clone();return t.vcsWkid=this.defaultsFromMap.vcsWkid,t.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,t}return e}set spatialReference(e){let t=!vv(e,this._get(`spatialReference`));this._set(`_userSpatialReference`,e),t&&(this._set(`spatialReference`,e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeExtent(){return this._userTimeExtent??this._lockedTimeExtent??this.getDefaultTimeExtent()??null}set timeExtent(e){this._userTimeExtent=e}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??`system`}set timeZone(e){this._userTimeZone=e,fw(e)||j.getLogger(this).warn(`#timeZone`,`the parsed value '${e}' may not be a valid IANA time zone`)}get tools(){return this.toolViewManager?.tools}get initialExtent(){return this.defaultsFromMap?.extent}get cursor(){return this.toolViewManager?.cursor??this._highPriorityCursorHandles.at(-1)?.cursor??this._lowPriorityCursorHandles.at(-1)?.cursor??`default`}acquireCursor(e,t=`low`){let n=t===`high`?this._highPriorityCursorHandles:this._lowPriorityCursorHandles,r={cursor:e},i=Ed(()=>n.remove(r));return n.add(r),this.addHandles(i),i}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new wV}whenLayerView(e){return this.layerViewManager?.whenLayerView(e)??Promise.reject()}getDefaultSpatialReference(){return this.defaultsFromMap?.spatialReference}getDefaultHeightModelInfo(){return(this.map&&`heightModelInfo`in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null}getDefaultTimeZone(){return null}getDefaultTimeExtent(){return null}getSurface(){return null}importLayerView(e){throw new M(`view:importLayerView-missing`,`importLayerView() not implemented`)}hasLayerViewModule(e){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return this.getSpatialReferenceSupport(e)!=null}when(e,t){return this.isResolved()&&!this.ready&&j.getLogger(this).warn(`#when()`,`Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead.`),super.when(e,t)}forceReadyCycle(){this.ready&&(Hw(()=>this.destroyed||!1===this.preconditionsReady,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}on(e,t){return super.on(e,t)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}static{this.views=new L}async _validateWithErrorDisplay(){try{await this.validate()}catch(e){let t=document.createElement(`div`);t.setAttribute(`style`,`display: flex; flex-direction: column; gap: 8px; padding: 20px; height: 100%; justify-content: center; color: black; background: white; font-family: sans-serif;`);let n=document.createElement(`div`);n.innerHTML=`Unable to display map. WebGL2 support is required.`,n.setAttribute(`style`,`font-size: 24px; font-weight: bold;`);let r=document.createElement(`div`);r.innerHTML=`Ensure that your browser and hardware meet the minimum requirements.`,r.setAttribute(`style`,`font-size: 18px;`);let i=document.createElement(`a`);i.innerHTML=`https://esriurl.com/webgl-faq`,i.target=`_blank`,i.setAttribute(`style`,`font-size: 18px;`),i.href=`https://esriurl.com/webgl-faq`,t.appendChild(n),t.appendChild(r),t.appendChild(i);let a=this.getSurface();throw a&&a.appendChild(t),e}}};O([P()],Z.prototype,`_userSpatialReference`,void 0),O([P()],Z.prototype,`activeTool`,null),O([P({readOnly:!0})],Z.prototype,`allLayerViews`,void 0),O([P({readOnly:!0})],Z.prototype,`layerviewCollections`,null),O([P(DM(PM,`analyses`))],Z.prototype,`analyses`,void 0),O([P()],Z.prototype,`animation`,null),O([P()],Z.prototype,`basemapView`,void 0),O([P()],Z.prototype,`center`,null),O([P()],Z.prototype,`defaultsFromMapSettings`,null),O([P()],Z.prototype,`defaultsFromMap`,null),O([P()],Z.prototype,`dependencies`,void 0),O([P()],Z.prototype,`displayFilterEnabled`,void 0),O([P({type:cb})],Z.prototype,`extent`,null),O([P()],Z.prototype,`fatalError`,void 0),O([P(DM(DB,`graphics`))],Z.prototype,`graphics`,void 0),O([P({readOnly:!0,type:gP})],Z.prototype,`heightModelInfo`,null),O([P({type:L.ofType(QV)})],Z.prototype,`highlights`,null),O([P({readOnly:!0})],Z.prototype,`interacting`,null),O([P({constructOnly:!0})],Z.prototype,`layerViewFilter`,void 0),O([P({readOnly:!0})],Z.prototype,`navigating`,null),O([P({readOnly:!0,dependsOn:[`fatalError`,`_isValid`,`_readyCycleForced`,`map`,`map.loaded?`,`width`,`height`,`spatialReference`,`_lockedSpatialReference`,`defaultsFromMap.ready`,`typeSpecificPreconditionsReady`]})],Z.prototype,`preconditionsReady`,null),O([P({readOnly:!0})],Z.prototype,`typeSpecificPreconditionsReady`,void 0),O([P({type:L,readOnly:!0})],Z.prototype,`layerViews`,void 0),O([P()],Z.prototype,`resolution`,null),O([P({type:AB})],Z.prototype,`magnifier`,void 0),O([P({value:null,type:Lj})],Z.prototype,`map`,null),O([P()],Z.prototype,`padding`,void 0),O([P({readOnly:!0})],Z.prototype,`ready`,void 0),O([P()],Z.prototype,`_readyStateWaitingTask`,void 0),O([P({readOnly:!0})],Z.prototype,`readyState`,null),O([P({type:U})],Z.prototype,`spatialReference`,null),O([P()],Z.prototype,`stationary`,null),O([P({type:oT})],Z.prototype,`timeExtent`,null),O([P({type:String,nonNullable:!0})],Z.prototype,`timeZone`,null),O([P()],Z.prototype,`tools`,null),O([P()],Z.prototype,`toolViewManager`,void 0),O([P({readOnly:!0})],Z.prototype,`type`,void 0),O([P({type:Number})],Z.prototype,`scale`,void 0),O([P({readOnly:!0})],Z.prototype,`updating`,void 0),O([P({readOnly:!0})],Z.prototype,`initialExtentRequired`,void 0),O([P({readOnly:!0})],Z.prototype,`initialExtent`,null),O([P()],Z.prototype,`cursor`,null),O([P({readOnly:!0})],Z.prototype,`input`,void 0),O([P({type:lH,nonNullable:!0})],Z.prototype,`navigation`,void 0),O([P()],Z.prototype,`layerViewManager`,void 0),O([P()],Z.prototype,`analysisViewManager`,void 0),O([P()],Z.prototype,`selectionManager`,void 0),O([P()],Z.prototype,`width`,void 0),O([P()],Z.prototype,`height`,void 0),O([P({readOnly:!0})],Z.prototype,`resizing`,void 0),O([P({value:null,readOnly:!0})],Z.prototype,`size`,null),O([P({readOnly:!0})],Z.prototype,`suspended`,void 0),O([P({readOnly:!0})],Z.prototype,`viewEvents`,void 0),O([P({readOnly:!0})],Z.prototype,`persistableViewModels`,void 0),O([P()],Z.prototype,`_isValid`,void 0),O([P()],Z.prototype,`_readyCycleForced`,void 0),O([P()],Z.prototype,`_lockedSpatialReference`,void 0),O([P()],Z.prototype,`_userTimeZone`,void 0),O([P()],Z.prototype,`_lockedTimeZone`,void 0),O([P()],Z.prototype,`_userTimeExtent`,void 0),O([P()],Z.prototype,`_lockedTimeExtent`,void 0),O([P({type:wV})],Z.prototype,`theme`,void 0),O([P({readOnly:!0,type:wV})],Z.prototype,`effectiveTheme`,null),Z=CH=O([F(`esri.views.View`)],Z);var wH=globalThis.$arcgis;wH&&!wH.views&&Object.defineProperty(wH,`views`,{configurable:!1,enumerable:!0,writable:!1,value:Z.views});var U_e=Z;function W_e(e){return e.layerViews}function TH(){return[0,0]}function EH(e){return[e[0],e[1]]}function DH(e,t){return[e,t]}function G_e(e,t){return[e,t]}function OH(e,t=TH()){let n=Math.min(2,e.length);for(let r=0;r<n;++r)t[r]=e[r];return t}function kH(){return TH()}function AH(){return DH(1,1)}function jH(){return DH(1,0)}function MH(){return DH(0,1)}var NH=kH(),PH=AH(),FH=jH(),IH=MH();Object.freeze(Object.defineProperty({__proto__:null,ONES:PH,UNIT_X:FH,UNIT_Y:IH,ZEROS:NH,clone:EH,create:TH,freeze:G_e,fromArray:OH,fromValues:DH,ones:AH,unitX:jH,unitY:MH,zeros:kH},Symbol.toStringTag,{value:`Module`}));function K_e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function LH(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function RH(e,t,n,r,i,a,o){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o,e}function zH(e,t){let n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=n*a-r*i;return c?(c=1/c,e[0]=a*c,e[1]=-r*c,e[2]=-i*c,e[3]=n*c,e[4]=(i*s-a*o)*c,e[5]=(r*o-n*s)*c,e):null}function q_e(e){return e[0]*e[3]-e[1]*e[2]}function BH(e,t,n){let r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],l=n[0],u=n[1],d=n[2],f=n[3],p=n[4],m=n[5];return e[0]=r*l+a*u,e[1]=i*l+o*u,e[2]=r*d+a*f,e[3]=i*d+o*f,e[4]=r*p+a*m+s,e[5]=i*p+o*m+c,e}function VH(e,t,n){let r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],l=Math.sin(n),u=Math.cos(n);return e[0]=r*u+a*l,e[1]=i*u+o*l,e[2]=r*-l+a*u,e[3]=i*-l+o*u,e[4]=s,e[5]=c,e}function HH(e,t,n){let r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],l=n[0],u=n[1];return e[0]=r*l,e[1]=i*l,e[2]=a*u,e[3]=o*u,e[4]=s,e[5]=c,e}function UH(e,t,n){let r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],l=n[0],u=n[1];return e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=r*l+a*u+s,e[5]=i*l+o*u+c,e}function WH(e,t){let n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e[4]=0,e[5]=0,e}function GH(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function KH(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function J_e(e){return`mat2d(`+e[0]+`, `+e[1]+`, `+e[2]+`, `+e[3]+`, `+e[4]+`, `+e[5]+`)`}function Y_e(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)}function X_e(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e}function qH(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e}function Z_e(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e}function Q_e(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e}function $_e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function eve(e,t){let n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],c=t[0],l=t[1],u=t[2],d=t[3],f=t[4],p=t[5],m=vD();return Math.abs(n-c)<=m*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(r-l)<=m*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(i-u)<=m*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-d)<=m*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(o-f)<=m*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(s-p)<=m*Math.max(1,Math.abs(s),Math.abs(p))}var tve=BH,nve=qH;Object.freeze(Object.defineProperty({__proto__:null,add:X_e,copy:K_e,determinant:q_e,equals:eve,exactEquals:$_e,frob:Y_e,fromRotation:WH,fromScaling:GH,fromTranslation:KH,identity:LH,invert:zH,mul:tve,multiply:BH,multiplyScalar:Z_e,multiplyScalarAndAdd:Q_e,rotate:VH,scale:HH,set:RH,str:J_e,sub:nve,subtract:qH,translate:UH},Symbol.toStringTag,{value:`Module`}));function JH(){return[1,0,0,1,0,0]}function YH(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function rve(e,t,n,r,i,a){return[e,t,n,r,i,a]}var ive=JH();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:ive,clone:YH,create:JH,fromValues:rve},Symbol.toStringTag,{value:`Module`}));var XH={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new Gk({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:U.WebMercator}),minus180Line:new Gk({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:U.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new Gk({paths:[[[180,-180],[180,180]]],spatialReference:U.WGS84}),minus180Line:new Gk({paths:[[[-180,-180],[-180,180]]],spatialReference:U.WGS84})}};function ZH(e,t){return Math.ceil((e-t)/(2*t))}function QH(e,t){let n=$H(e);for(let e of n)for(let n of e)n[0]+=t;return e}function $H(e){return Kj(e)?e.rings:e.paths}function eU(e,t){return t?{...t,query:{...e,...t.query}}:{query:e}}function tU(e){return typeof e==`string`?au(e):A(e)}function nU(e,t,n){let r={};for(let i in e){if(i===`declaredClass`)continue;let a=e[i];if(a!=null&&typeof a!=`function`)if(Array.isArray(a))r[i]=a.map(e=>nU(e));else if(typeof a==`object`)if(a.toJSON){let e=a.toJSON(n?.[i]);r[i]=t?e:JSON.stringify(e)}else r[i]=t?a:JSON.stringify(a);else r[i]=a}return r}function ave(e,t){return e?t&&tp(e)?t:Qf(e)??gd?.findCredential(e)?.token:null}async function ove(e,t,n){return ave(e,t)||(!gd&&vl.request.useIdentity&&await N(()=>import(`./IdentityManager-vlF5H4qJ.js`),[]),(await gd.getCredential(e,n))?.token)}async function sve(e,t,n,r){let i=tU(e),a=t[0].spatialReference,o={...r,responseType:`json`,query:{...i.query,f:`json`,sr:bv(a),target:JSON.stringify({geometryType:Jj(t[0]),geometries:t}),cutter:JSON.stringify(n)}},{cutIndexes:s,geometries:c=[]}=(await gp(i.path+`/cut`,o)).data;return{cutIndexes:s,geometries:c.map(e=>{let t=qj(e);return t.spatialReference=a,t})}}function cve(e){return{geometryType:Jj(e[0]),geometries:e.map(e=>e.toJSON())}}function rU(e,t,n){let r=Mde(t);return e.map(e=>{let t=r.fromJSON(e);return t.spatialReference=n,t})}async function lve(e,t,n){let r=typeof e==`string`?au(e):e,i=t[0].spatialReference,a=Jj(t[0]),o={...n,query:{...r.query,f:`json`,sr:bv(i),geometries:JSON.stringify(cve(t))}},{data:s}=await gp(r.path+`/simplify`,o);return rU(s.geometries,a,i)}var iU=()=>j.getLogger(`esri.geometry.support.normalizeUtils`);function uve(e){return e.type===`polygon`}function dve(e){return e[0].type===`polygon`}function fve(e){return e[0].type===`polyline`}function aU(e){let t=[],n=0,r=0;for(let i=0;i<e.length;i++){let a=e[i],o=null;for(let e=0;e<a.length;e++)o=a[e],t.push(o),e===0?(n=o[0],r=n):(n=Math.min(n,o[0]),r=Math.max(r,o[0]));o&&t.push([(n+r)/2,0])}return t}function oU(e,t){if(!(e instanceof Gk||e instanceof Ek)){let e=`straightLineDensify: the input geometry is neither polyline nor polygon`;throw iU().error(e),new M(`internal:geometry`,e)}let n=$H(e),r=[];for(let e of n){let n=[];r.push(n),n.push([e[0][0],e[0][1]]);for(let r=0;r<e.length-1;r++){let i=e[r][0],a=e[r][1],o=e[r+1][0],s=e[r+1][1],c=Math.sqrt((o-i)*(o-i)+(s-a)*(s-a)),l=(s-a)/c,u=(o-i)/c,d=c/t;if(d>1){for(let e=1;e<=d-1;e++){let r=e*t,o=u*r+i,s=l*r+a;n.push([o,s])}let e=(c+Math.floor(d-1)*t)/2,r=u*e+i,o=l*e+a;n.push([r,o])}n.push([o,s])}}return uve(e)?new Ek({rings:r,spatialReference:e.spatialReference}):new Gk({paths:r,spatialReference:e.spatialReference})}function sU(e,t,n){if(t){let t=oU(e,1e6);e=Py(t,!0)}return n&&(e=QH(e,n)),e}function cU(e,t,n){if(Array.isArray(e)){let r=e[0];if(r>t){let n=ZH(r,t);e[0]=r+n*(-2*t)}else if(r<n){let t=ZH(r,n);e[0]=r+t*(-2*n)}}else{let r=e.x;if(r>t){let n=ZH(r,t);e=e.clone().offset(n*(-2*t),0)}else if(r<n){let t=ZH(r,n);e=e.clone().offset(t*(-2*n),0)}}return e}function pve(e,t){let n=-1;for(let r=0;r<t.cutIndexes.length;r++){let i=t.cutIndexes[r],a=t.geometries[r],o=$H(a);for(let e=0;e<o.length;e++){let t=o[e];t.some(n=>{if(n[0]<180)return!0;{let n=0;for(let e=0;e<t.length;e++){let r=t[e][0];n=r>n?r:n}n=Number(n.toFixed(9));let r=-360*ZH(n,180);for(let n=0;n<t.length;n++){let t=a.getPoint(e,n);a.setPoint(e,n,t.clone().offset(r,0))}return!0}})}if(i===n){if(dve(e))for(let t of $H(a))e[i]=e[i].addRing(t);else if(fve(e))for(let t of $H(a))e[i]=e[i].addPath(t)}else n=i,e[i]=a}return e}async function lU(e,t,n){if(!Array.isArray(e))return lU([e],t);t&&typeof t!=`string`&&iU().warn(`normalizeCentralMeridian()`,`The url object is deprecated, use the url string instead`);let r=typeof t==`string`?t:t?.url??vl.geometryServiceUrl,i,a,o,s,c,l,u,d,f=0,p=[],m=[];for(let t of e)if(t!=null)if(i||(i=t.spatialReference,a=yv(i),o=i.isWebMercator,l=o?102100:4326,s=XH[l].maxX,c=XH[l].minX,u=XH[l].plus180Line,d=XH[l].minus180Line),a)if(t.type===`mesh`)m.push(t);else if(t.type===`point`)m.push(cU(t.clone(),s,c));else if(t.type===`multipoint`){let e=t.clone();e.points=e.points.map(e=>cU(e,s,c)),m.push(e)}else if(t.type===`extent`){let e=t.clone()._normalize(!1,!1,a);m.push(e.rings?new Ek(e):e)}else if(t.extent){let e=t.extent,n=ZH(e.xmin,c)*(2*s),r=n===0?t.clone():QH(t.clone(),n);e.offset(n,0);let{xmin:i,xmax:a}=e;i=Number(i.toFixed(9)),a=Number(a.toFixed(9)),e.intersects(u)&&a!==s?(f=a>f?a:f,r=sU(r,o),p.push(r),m.push(`cut`)):e.intersects(d)&&i!==c?(f=a*(2*s)>f?a*(2*s):f,r=sU(r,o,360),p.push(r),m.push(`cut`)):m.push(r)}else m.push(t.clone());else m.push(t);else m.push(t);let h=ZH(f,s),g=-90,_=h,v=new Gk;for(;h>0;){let e=360*h-180;v.addPath([[e,g],[e,-1*g]]),g*=-1,h--}if(p.length>0&&_>0){let t=pve(p,await sve(r,p,v,n)),i=[],a=[];for(let n=0;n<m.length;n++){let r=m[n];if(r!==`cut`)a.push(r);else{let r=t.shift(),s=e[n];s!=null&&s.type===`polygon`&&s.rings&&s.rings.length>1&&r.rings.length>=s.rings.length?(i.push(r),a.push(`simplify`)):a.push(o?Ny(r):r)}}if(!i.length)return a;let s=await lve(r,i,n),c=[];for(let e=0;e<a.length;e++){let t=a[e];t===`simplify`?c.push(o?Ny(s.shift()):s.shift()):c.push(t)}return c}let y=[];for(let e=0;e<m.length;e++){let t=m[e];if(t!==`cut`)y.push(t);else{let e=p.shift();y.push(!0===o?Ny(e):e)}}return y}function mve(e){if(!e)return null;let t=e.extent;if(!t)return null;let n=e.spatialReference&&yv(e.spatialReference);if(!n)return t;let[r,i]=n.valid,a=2*i,{width:o}=t,s,{xmin:c,xmax:l}=t;if([c,l]=[l,c],e.type===`extent`||o===0||o<=i||o>a||c<r||l>i)return t;switch(e.type){case`polygon`:if(!(e.rings.length>1))return t;s=aU(e.rings);break;case`polyline`:if(!(e.paths.length>1))return t;s=aU(e.paths);break;case`multipoint`:s=e.points}let u=t.clone();for(let e=0;e<s.length;e++){let t=s[e][0];t<0?(t+=i,l=Math.max(t,l)):(t-=i,c=Math.min(t,c))}return u.xmin=c,u.xmax=l,u.width<o?(u.xmin-=i,u.xmax-=i,u):t}function uU(e,t,n){let r=yv(n);if(r==null)return e;let[i,a]=r.valid,o=2*a,s=0,c=0;t>a?s=Math.ceil(Math.abs(t-a)/o):t<i&&(s=-Math.ceil(Math.abs(t-i)/o)),e>a?c=Math.ceil(Math.abs(e-a)/o):e<i&&(c=-Math.ceil(Math.abs(e-i)/o));let l=e+(s-c)*o,u=l-t;return u>a?l-=o:u<i&&(l+=o),l}function hve(e,t){return dU(t)?.normalize(e)??e}function dU(e){let t=yv(e);if(t==null)return null;let[n,r]=t.valid;return new zj(n,r)}var gve=dU(U.WGS84);dU(U.WebMercator);var fU=96,pU=39.37,_ve=180/Math.PI;function mU(e){return e.wkid?e:e.spatialReference||U.WGS84}function hU(e,t){return t.type?CD(e,t.x,t.y):SD(e,t)}function gU(e){return dy(e)}function _U(e,t,n=0){let r=e.width,i=e.height;if(n!==0){let t=JT(n),a=Math.abs(Math.cos(t)),o=Math.abs(Math.sin(t));r=e.width*a+e.height*o,i=e.width*o+e.height*a}let a=Math.max(1,t[0]),o=Math.max(1,t[1]);return Math.max(r/a,i/o)*wve(e.spatialReference)}async function vU(e,t,n,r){let i,a;if(!e||Array.isArray(e)&&!e.length)return null;if(L.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&typeof e[0]==`object`){let i=e.every(e=>`attributes`in e),a=e.some(e=>!e.geometry),o=e;if(i&&a&&t&&t.allLayerViews){let n=new Map;for(let t of e){let e=t.layer,r=n.get(e)||[],i=t.attributes[e.objectIdField];i!=null&&r.push(i),n.set(e,r)}let r=[];n.forEach((e,n)=>{let i=t.allLayerViews?.find(e=>e.layer.id===n.id);if(i&&`queryFeatures`in i){let t=n.createQuery();t.objectIds=e,t.returnGeometry=!0,r.push(i.queryFeatures(t))}});let i=await Promise.all(r),a=[];for(let e of i)if(e&&e.features&&e.features.length)for(let t of e.features)t.geometry!=null&&a.push(t.geometry);o=a}for(let e of o)r=await vU(e,t,n,r);return r}if(Array.isArray(e)&&e.length===2&&typeof e[0]==`number`&&typeof e[1]==`number`)i=new Vy(e);else if(e instanceof xy)i=e;else if(`geometry`in e){if(e.geometry)i=e.geometry;else if(e.layer){let n=e.layer,r=t.allLayerViews?.find(e=>e.layer.id===n.id);if(r&&`queryFeatures`in r){let t=n.createQuery();t.objectIds=[e.attributes[n.objectIdField]],t.returnGeometry=!0,i=(await r.queryFeatures(t))?.features?.[0]?.geometry}}}if(i==null)return null;switch(i.type){case`point`:a=new cb({xmin:i.x,ymin:i.y,xmax:i.x,ymax:i.y,spatialReference:i.spatialReference});break;case`extent`:case`multipoint`:case`polygon`:case`polyline`:a=mve(i);break;default:a=i.extent}if(!a)return null;FA()||GA(a.spatialReference,n)||await RA();let o=zA(a,n);if(!o)return null;if(r){let e=o.center,t=e.clone();t.x=uU(e.x,r.center.x,n),t.x!==e.x&&o.centerAt(t),r=r.union(o)}else r=o;return r}function vve(e){if(e&&(!Array.isArray(e)||typeof e[0]!=`number`)&&(typeof e==`object`||Array.isArray(e)&&typeof e[0]==`object`)){if(`layer`in e&&e.layer?.minScale!=null&&e.layer.maxScale!=null){let t=e.layer;return{min:t.minScale,max:t.maxScale}}if(Array.isArray(e)&&e.length&&e.every(e=>`layer`in e)){let t=0,n=0;for(let r of e){let e=r.layer;e?.minScale&&e.maxScale&&(t=e.minScale<t?e.minScale:t,n=e.maxScale>n?e.maxScale:n)}return t&&n?{min:t,max:n}:null}}}function yU(e,t){let n=mU(e);return vv(n,t)||n.imageCoordinateSystem||t.imageCoordinateSystem?e:zA(e,t)}async function yve(e,t){if(!e||!t)return new $j({targetGeometry:new Vy,scale:0,rotation:0});let n=t.spatialReference,{constraints:r,padding:i,viewpoint:a,size:o}=t,s=[i?o[0]-i.left-i.right:o[0],i?o[1]-i.top-i.bottom:o[1]],c=null;e instanceof $j?c=e:e.viewpoint?c=e.viewpoint:e.target&&e.target.declaredClass===`esri.Viewpoint`&&(c=e.target);let l=null;c?.targetGeometry?l=c.targetGeometry:e instanceof cb?l=e:e instanceof xy?l=await vU(e,t,n):e&&(l=await vU(e.center,t,n)||await vU(e.target,t,n)||await vU(e,t,n)),!l&&a?.targetGeometry?l=a.targetGeometry:!l&&t.extent&&(l=t.extent),n||=mU(t.spatialReference||t.extent||l),FA()||vv(l.spatialReference,n)||GA(l.spatialReference,n)||await RA();let u=yU(l,n),d=`center`in u?u.center:u;!1!==t.pickClosestTarget&&d.type===`point`&&a.targetGeometry?.type===`point`&&(d.x=uU(d.x,a.targetGeometry.x,d.spatialReference));let f=0;c?f=c.rotation:e.hasOwnProperty(`rotation`)?f=e.rotation:a&&(f=a.rotation);let p=0;p=c?.targetGeometry!=null&&c.targetGeometry.type===`point`?c.scale:`scale`in e&&e.scale?e.scale:`zoom`in e&&e.zoom!==-1&&r&&r.effectiveLODs?r.zoomToScale(e.zoom):Array.isArray(l)||l.type===`point`||l.type===`extent`&&l.width===0&&l.height===0?a.scale:_U(yU(l.extent,n),s,f);let m=vve(e.target??e);m&&(m.min&&m.min<p?p=m.min:m.max&&m.max>p&&(p=m.max));let h=new $j({targetGeometry:d,scale:p,rotation:f});return r&&(h=r.fit(h),r.constrainByGeometry(h),r.rotationEnabled||(h.rotation=a.rotation)),h}function bU(e,t){let n=e.targetGeometry,r=t.targetGeometry;return n.x=r.x,n.y=r.y,n.spatialReference=r.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function xU(e,t,n){return n?CD(e,.5*(t[0]-n.right+n.left),.5*(t[1]-n.bottom+n.top)):AD(e,t,.5)}var bve=function(){let e=TH();return function(t,n,r){let i=n.targetGeometry;hU(e,i);let a=.5*CU(n);return t.xmin=e[0]-a*r[0],t.ymin=e[1]-a*r[1],t.xmax=e[0]+a*r[0],t.ymax=e[1]+a*r[1],t.spatialReference=i.spatialReference,t}}();function xve(e,t,n,r,i){return AU(e,t,n.center),e.scale=_U(n,r),i?.constraints?.constrain(e),e}function Sve(e,t,n,r){return DU(e,t,n,r),zH(e,e)}var SU=function(){let e=TH();return function(t,n,r){return YD(t,Tve(t,n),xU(e,n,r))}}(),Cve=function(){let e=JH(),t=TH();return function(n,r,i,a){let o=CU(r),s=TU(r);return CD(t,o,o),GH(e,t),VH(e,e,s),UH(e,e,SU(t,i,a)),UH(e,e,[0,a.top-a.bottom]),CD(n,e[4],e[5])}}();function CU(e){return e.scale*wU(e.targetGeometry?.spatialReference)}function wU(e){return Mv(e)?1/(gU(e)*pU*fU):1}function TU(e){return bD(e.rotation)||0}function wve(e){return Mv(e)?gU(e)*pU*fU:1}function Tve(e,t){return AD(e,t,.5)}var EU=function(){let e=TH(),t=TH(),n=TH();return function(r,i,a,o,s,c){return ID(e,i),AD(t,a,.5*c),CD(n,1/o*c,-1/o*c),KH(r,t),s&&VH(r,r,s),HH(r,r,n),UH(r,r,e),r}}(),DU=function(){let e=TH();return function(t,n,r,i){let a=CU(n),o=TU(n);return hU(e,n.targetGeometry),EU(t,e,r,a,o,i)}}(),Eve=function(){let e=TH();return function(t,n,r,i){let a=CU(n);return hU(e,n.targetGeometry),EU(t,e,r,a,0,i)}}();function OU(e){let t=yv(e);return t?t.valid[1]-t.valid[0]:0}function Dve(e,t){return Math.round(OU(e)/t)}var kU=function(){let e=TH(),t=TH(),n=[0,0,0];return function(r,i,a){TD(e,r,i),LD(e,e),TD(t,r,a),LD(t,t),zD(n,e,t);let o=Math.acos(RD(e,t)/(PD(e)*PD(t)))*_ve;return n[2]<0&&(o=-o),isNaN(o)&&(o=0),o}}(),Ove=function(){let e=TH();return function(t,n,r,i){let a=t.targetGeometry;return bU(t,n),Cve(e,n,r,i),a.x+=e[0],a.y+=e[1],t}}(),AU=function(e,t,n){bU(e,t);let r=e.targetGeometry;return r.x=n.x,r.y=n.y,r.spatialReference=n.spatialReference,e},kve=function(){let e=TH();return function(t,n,r,i,a){a||=`center`,YD(e,r,i),AD(e,e,.5);let o=e[0],s=e[1];switch(a){case`center`:CD(e,0,0);break;case`left`:CD(e,-o,0);break;case`top`:CD(e,0,s);break;case`right`:CD(e,o,0);break;case`bottom`:CD(e,0,-s);break;case`top-left`:CD(e,-o,s);break;case`bottom-left`:CD(e,-o,-s);break;case`top-right`:CD(e,o,s);break;case`bottom-right`:CD(e,o,-s)}return FU(t,n,e),t}}();function Ave(e,t,n){return bU(e,t),e.rotation+=n,e}function jve(e,t,n){return bU(e,t),e.rotation=n,e}var Mve=function(){let e=TH();return function(t,n,r,i,a){return bU(t,n),isNaN(r)||r===0||(NU(e,i,n,a),t.scale=n.scale*r,PU(e,e,t,a),FU(t,t,CD(e,e[0]-i[0],i[1]-e[1]))),t}}();function jU(e,t,n){return bU(e,t),e.scale=n,e}var MU=function(){let e=TH();return function(t,n,r,i,a,o){return bU(t,n),isNaN(r)||r===0||(NU(e,a,n,o),t.scale=n.scale*r,t.rotation+=i,PU(e,e,t,o),FU(t,t,CD(e,e[0]-a[0],a[1]-e[1]))),t}}(),Nve=function(){let e=TH(),t=TH();return function(n,r,i,a,o,s,c){return SU(t,s,c),wD(e,o,t),a?MU(n,r,i,a,e,s):Mve(n,r,i,e,s)}}(),NU=function(){let e=JH();return function(t,n,r,i){return HD(t,n,Sve(e,r,i,1))}}(),PU=function(){let e=JH();return function(t,n,r,i){return HD(t,n,DU(e,r,i,1))}}(),FU=function(){let e=TH(),t=JH();return function(n,r,i){bU(n,r);let a=CU(r),o=n.targetGeometry;return WH(t,TU(r)),HH(t,t,DH(a,a)),HD(e,i,t),o.x+=e[0],o.y+=e[1],n}}();function IU(){let e=new Float32Array(6);return e[0]=1,e[3]=1,e}function Pve(e){let t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Fve(e,t,n,r,i,a){let o=new Float32Array(6);return o[0]=e,o[1]=t,o[2]=n,o[3]=r,o[4]=i,o[5]=a,o}function LU(e,t,n,r){let i=t[r],a=t[r+1];e[r]=n[0]*i+n[2]*a+n[4],e[r+1]=n[1]*i+n[3]*a+n[5]}function RU(e,t,n,r=0,i=0,a=2){let o=i||t.length/a;for(let i=r;i<o;i++)LU(e,t,n,i*a)}Object.freeze(Object.defineProperty({__proto__:null,clone:Pve,create:IU,fromValues:Fve,transform:LU,transformMany:RU},Symbol.toStringTag,{value:`Module`}));function zU(){let e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function BU(e){let t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Ive(e,t,n,r,i,a,o,s,c){let l=new Float32Array(9);return l[0]=e,l[1]=t,l[2]=n,l[3]=r,l[4]=i,l[5]=a,l[6]=o,l[7]=s,l[8]=c,l}Object.freeze(Object.defineProperty({__proto__:null,clone:BU,create:zU,fromValues:Ive},Symbol.toStringTag,{value:`Module`}));function VU(){return new Float32Array(2)}function Lve(e){let t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}function HU(e,t){let n=new Float32Array(2);return n[0]=e,n[1]=t,n}function UU(){return VU()}function WU(){return HU(1,1)}function GU(){return HU(1,0)}function KU(){return HU(0,1)}var qU=UU(),JU=WU(),Rve=GU(),zve=KU();Object.freeze(Object.defineProperty({__proto__:null,ONES:JU,UNIT_X:Rve,UNIT_Y:zve,ZEROS:qU,clone:Lve,create:VU,fromValues:HU,ones:WU,unitX:GU,unitY:KU,zeros:UU},Symbol.toStringTag,{value:`Module`}));function Bve(e){return e instanceof Float32Array&&e.length>=2}function Vve(e){return Array.isArray(e)&&e.length>=2}function YU(e){return Bve(e)||Vve(e)}var XU,ZU=[0,0],QU=XU=class extends R{constructor(e){super(e),this._viewpoint2D={center:TH(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new cb,this.id=0,this.inverseTransform=JH(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=JH(),this.transformNoRotation=JH(),this.displayMat3=zU(),this.displayViewMat3=zU(),this.viewMat3=zU(),this.viewMat2d=IU(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set(`pixelRatio`,e),this._update()}set size(e){this._set(`size`,e),this._update()}set viewpoint(e){if(e){let t=this._viewpoint2D,n=e.targetGeometry;t.center[0]=n.x,t.center[1]=n.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=n.spatialReference}this._update()}get visibleArea(){let[e,t]=this.size;return[this.toMap([0,0],0,0),this.toMap([0,0],0,t),this.toMap([0,0],e,t),this.toMap([0,0],e,0)]}copy(e){let t=this.size,n=this.viewpoint;return n&&t?(this.viewpoint=bU(n,e.viewpoint),this._set(`size`,SD(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set(`size`,[e.size[0],e.size[1]])),this._set(`pixelRatio`,e.pixelRatio),this}clone(){return new XU({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,n){return YU(t)?HD(e,t,this.inverseTransform):(ZU[0]=t,ZU[1]=n,HD(e,ZU,this.inverseTransform))}toScreen(e,t,n){return YU(t)?HD(e,t,this.transform):(ZU[0]=t,ZU[1]=n,HD(e,ZU,this.transform))}toScreenNoRotation(e,t,n){return YU(t)?HD(e,t,this.transformNoRotation):(ZU[0]=t,ZU[1]=n,HD(e,ZU,this.transformNoRotation))}wrapMapCoordinate(e,t){SD(e,t);let[n]=t,[r]=this.center,{extent:i,spatialReference:a}=this,{xmin:o,xmax:s}=i;if(a.isWrappable){let e=OU(a)/2;o=Math.max(o,r-e),s=Math.min(s,r+e)}return(n<o||n>s)&&(e[0]=uU(n,r,a)),e}getScreenTransform(e,t){let{center:n}=this._viewpoint2D,r=this._get(`pixelRatio`)||1,i=this._get(`size`);return EU(e,n,i,t,0,r),e}_update(){let{center:e,spatialReference:t,scale:n,rotation:r}=this._viewpoint2D,i=this._get(`pixelRatio`)||1,a=this._get(`size`),o=new $j({targetGeometry:new Vy(e[0],e[1],t),scale:n,rotation:r});if(this._set(`viewpoint`,o),!a||!t||!n)return;this.resolution=CU(o),this.rotation=r,this.scale=n,this.spatialReference=t,SD(this.center,e);let s=a[0]===0?0:2/a[0],c=a[1]===0?0:-2/a[1];vO(this.displayMat3,s,0,0,0,c,0,-1,1,1);let l=yO(this.viewMat3),u=HU(a[0]/2,a[1]/2),d=HU(-a[0]/2,-a[1]/2),f=bD(r);TO(l,l,u),EO(l,l,f),TO(l,l,d),wO(this.displayViewMat3,this.displayMat3,l);let p=KH(this.viewMat2d,u);return VH(p,p,f),UH(p,p,d),bve(this.extent,o,a),DU(this.transform,o,a,i),zH(this.inverseTransform,this.transform),Eve(this.transformNoRotation,o,a,i),this.worldScreenWidth=Dve(this.spatialReference,this.resolution),this._set(`id`,this.id+1),this.notifyChange(`visibleArea`),this}};O([P({readOnly:!0})],QU.prototype,`id`,void 0),O([P({value:1,json:{write:!0}})],QU.prototype,`pixelRatio`,null),O([P({json:{write:!0}})],QU.prototype,`size`,null),O([P()],QU.prototype,`spatialReference`,void 0),O([P({type:$j,json:{write:!0}})],QU.prototype,`viewpoint`,null),O([P({readOnly:!0})],QU.prototype,`visibleArea`,null),QU=XU=O([F(`esri.views.2d.ViewState`)],QU);var $U=QU,eW,tW,nW=eW=class extends I{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new eW({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};O([P()],nW.prototype,`left`,void 0),O([P()],nW.prototype,`top`,void 0),O([P()],nW.prototype,`right`,void 0),O([P()],nW.prototype,`bottom`,void 0),nW=eW=O([F(`esri.views.2d.PaddedViewState.Padding`)],nW);var rW=tW=class extends $U{constructor(...e){super(...e),this.paddedViewState=new $U,this._updateContent=(()=>{let e=TH();return()=>{let t=this._get(`size`),n=this._get(`padding`);if(!t||!n)return;let r=this.paddedViewState;CD(e,n.left+n.right,n.top+n.bottom),TD(e,t,e),SD(r.size,e);let i=r.viewpoint;i&&(this.viewpoint=i)}})(),this.addHandles(q(()=>[this.size,this.padding],()=>this._updateContent(),Jw)),this.padding=new nW,this.size=[0,0]}set padding(e){this._set(`padding`,e||new nW)}set viewpoint(e){if(e){this.paddedViewState.viewpoint=e;let t=e,n=this._get(`padding`);n&&(t=Ove(e.clone(),e,this._get(`size`),n));let{targetGeometry:r,rotation:i,scale:a}=t,{x:o,y:s,spatialReference:c}=r,l=this._viewpoint2D;l.center[0]=o,l.center[1]=s,l.rotation=i,l.scale=a,l.spatialReference=c,this._update()}}clone(){return new tW({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};O([P()],rW.prototype,`paddedViewState`,void 0),O([P({type:nW})],rW.prototype,`padding`,null),O([P()],rW.prototype,`viewpoint`,null),rW=tW=O([F(`esri.views.2d.PaddedViewState`)],rW);var iW=rW,aW=class extends I{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};O([P()],aW.prototype,`SCHEDULER_LOG_SLOW_TASKS`,void 0),O([P()],aW.prototype,`FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES`,void 0),aW=O([F(`esri.views.support.debugFlags`)],aW);var oW=new aW,sW=Symbol(`Yield`),cW=class{constructor(){this._tasks=[],this._numPendingTasks=cP(0),this._readyToRun=cP(!1)}get length(){return this._tasks.length}get updating(){return this._numPendingTasks.value>0}get readyToRun(){return this._readyToRun.value}_updateReadyToRun(){this._readyToRun.value=this._tasks.length>0}destroy(){this.cancelAll()}runTask(e){if(this.length===0)return sW;for(;!e.done&&this._process(e);)e.madeProgress()}push(e,t,n){return this._addTask((r,i)=>new fW(r,i,e,t,n),Array.prototype.push)}unshift(e,t,n){return this._addTask((r,i)=>new fW(r,i,e,t,n),Array.prototype.unshift)}pushGenerator(e,t,n){return this._addTask((r,i)=>new Hve(r,i,e,t,n),Array.prototype.push)}_process(e){if(this._tasks.length===0)return!1;let t=this._tasks.shift();this._updateReadyToRun();try{if(tf(t.signal))this._cancelTask(t,Qd());else switch(t.type){case 0:this._processSimple(t,e);break;case 1:this._processGenerator(t,e);break;case 2:this._processIterator(t,e);break;default:}}catch(e){t.reject(e)}return!0}cancelAll(){let e=Qd();for(let t of this._tasks)this._cancelTask(t,e);this._tasks.length=0,this._updateReadyToRun()}_cancelTask(e,t){if(e.abortCallback){let n=e.abortCallback(t);e.type===2&&e.iterator.return&&lW(e.iterator.return()),gf(n)?n.then(e.resolve,e.reject):e.resolve(n)}else e.type===2&&e.iterator.throw&&lW(e.iterator.throw(t)),e.reject(t)}_onIteratorResult(e,t){t.done?e.resolve(t.value):(this._tasks.unshift(e),this._updateReadyToRun())}_processSimple(e,t){let n=e.callback(t);gf(n)?n.then(e.resolve,e.reject):e.resolve(n)}_processGenerator(e,t){let n=e.generatorFunction(t),r=new Uve(e.resolve,e.reject,n,e.signal,e.abortCallback);this._processIterator(r,t)}_processIterator(e,t){let n=e.iterator.next(t);gf(n)?n.then(t=>this._onIteratorResult(e,t),e.reject):this._onIteratorResult(e,n)}_addTask(e,t){return new Promise((n,r)=>{let i=e(n,r);t.call(this._tasks,i),++this._numPendingTasks.value,this._updateReadyToRun()}).finally(()=>--this._numPendingTasks.value)}};function lW(e){gf(e)?e.then(uW,uW):uW(e)}function uW(e){lf(e)||e instanceof Error||e instanceof M||typeof e==`object`&&e&&`done`in e&&e.done||j.getLogger(`esri.layers.support.PromiseQueue`).warn(`Generator iterator was aborted, but it is not done.`)}var dW=class{constructor(e,t,n=void 0,r=void 0){this.resolve=e,this.reject=t,this.signal=n,this.abortCallback=r}},fW=class extends dW{constructor(e,t,n,r,i){super(e,t,r,i),this.callback=n,this.type=0}},Hve=class extends dW{constructor(e,t,n,r,i){super(e,t,r,i),this.generatorFunction=n,this.type=1}},Uve=class extends dW{constructor(e,t,n,r,i){super(e,t,r,i),this.iterator=n,this.type=2}};function Wve(){return new Yve}var pW={RESOURCE_CONTROLLER_IMMEDIATE:`immediate`,RESOURCE_CONTROLLER:`schedule`,SLIDE:`slide`,STREAM_DATA_LOADER:`stream loader`,ELEVATION_QUERY:`elevation query`,TERRAIN_SURFACE:`terrain`,SURFACE_GEOMETRY_UPDATES:`surface geometry updates`,LOD_RENDERER:`LoD renderer`,GRAPHICS_CORE:`Graphics3D`,I3S_CONTROLLER:`I3S`,POINT_CLOUD_LAYER:`point cloud`,FEATURE_TILE_FETCHER:`feature fetcher`,STREAM_CONTROLLER:`stream controller`,OVERLAY:`overlay`,OVERLAY_RENDERER:`overlay renderer`,STAGE:`stage`,GRAPHICS_DECONFLICTOR:`graphics deconflictor`,FILTER_VISIBILITY:`Graphics3D filter visibility`,SCALE_VISIBILITY:`Graphics3D scale visibility`,FRUSTUM_VISIBILITY:`Graphics3D frustum visibility`,POINT_OF_INTEREST_FREQUENT:`POI frequent`,POINT_OF_INTEREST_INFREQUENT:`POI infrequent`,LABELER:`labeler`,FEATURE_QUERY_ENGINE:`feature query`,FEATURE_TILE_TREE:`feature tile tree`,FEATURE_TILE_TREE_ACTIVE:`fast feature tile tree`,ELEVATION_ALIGNMENT:`elevation alignment`,ELEVATION_ALIGNMENT_SCENE:`elevation alignment scene`,TEXT_TEXTURE_ATLAS:`text texture atlas`,TEXTURE_UNLOAD:`texture unload`,LINE_OF_SIGHT_TOOL:`line of sight tool`,LINE_OF_SIGHT_TOOL_INTERACTIVE:`interactive line of sight tool`,ELEVATION_PROFILE:`elevation profile`,SNAPPING:`snapping`,SHADOW_ACCUMULATOR:`shadow accumulator`,CLOUDS_GENERATOR:`clouds generator`,FLOW_GENERATOR:`flow generator`,MAPVIEW_FETCH_QUEUE:`mapview fetch queue`,MAPVIEW_LAYERVIEW_UPDATE:`mapview layerview update`,MAPVIEW_VECTOR_TILE_PARSING_QUEUE:`mapview vector tile parsing queue`,NONE:0,TEST_PRIO:1},mW=0,hW=new Map([[pW.RESOURCE_CONTROLLER_IMMEDIATE,mW],[pW.RESOURCE_CONTROLLER,4],[pW.SLIDE,mW],[pW.STREAM_DATA_LOADER,mW],[pW.ELEVATION_QUERY,mW],[pW.TERRAIN_SURFACE,1],[pW.SURFACE_GEOMETRY_UPDATES,1],[pW.LOD_RENDERER,2],[pW.GRAPHICS_CORE,2],[pW.I3S_CONTROLLER,2],[pW.POINT_CLOUD_LAYER,2],[pW.FEATURE_TILE_FETCHER,2],[pW.STREAM_CONTROLLER,2],[pW.CLOUDS_GENERATOR,2],[pW.OVERLAY,4],[pW.OVERLAY_RENDERER,4],[pW.STAGE,4],[pW.GRAPHICS_DECONFLICTOR,4],[pW.FILTER_VISIBILITY,4],[pW.SCALE_VISIBILITY,4],[pW.FRUSTUM_VISIBILITY,4],[pW.POINT_OF_INTEREST_FREQUENT,6],[pW.POINT_OF_INTEREST_INFREQUENT,30],[pW.LABELER,8],[pW.FEATURE_QUERY_ENGINE,8],[pW.FEATURE_TILE_TREE,16],[pW.FEATURE_TILE_TREE_ACTIVE,mW],[pW.ELEVATION_ALIGNMENT,12],[pW.ELEVATION_ALIGNMENT_SCENE,14],[pW.TEXT_TEXTURE_ATLAS,12],[pW.TEXTURE_UNLOAD,12],[pW.LINE_OF_SIGHT_TOOL,16],[pW.LINE_OF_SIGHT_TOOL_INTERACTIVE,mW],[pW.SNAPPING,mW],[pW.SHADOW_ACCUMULATOR,30],[pW.FLOW_GENERATOR,12],[pW.MAPVIEW_FETCH_QUEUE,mW],[pW.MAPVIEW_LAYERVIEW_UPDATE,2],[pW.MAPVIEW_VECTOR_TILE_PARSING_QUEUE,mW]]);function gW(e){return hW.has(e)?hW.get(e):typeof e==`number`?e:1}var Gve=nh(6.5),_W=nh(1),Kve=nh(30),qve=nh(1e3/30),Jve=nh(100),vW=.9,Yve=class{get updating(){return this._updating.value}_updatingChanged(){this._updating.value=this._tasks.some(e=>e.needsUpdate)}constructor(){this._updating=cP(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new Zm(`total`),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new yW,this.state=1,this._tasks=[],this._runQueue=[],this._load=0,this._forceTask=!1,this._debug=!1,this._debugHandle=q(()=>oW.SCHEDULER_LOG_SLOW_TASKS,e=>this._debug=e,Yw);for(let e of Object.keys(pW))this.performanceInfo.tasks.set(pW[e],new Zm(String(pW[e])))}destroy(){this._tasks.forEach(e=>e.remove()),this._tasks.length=0,this._runQueue.length=0,qd(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(e){this._updatingChanged(),e&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this._runFrame())}))}registerTask(e,t){let n=new Xve(this,e,t);return this._tasks.push(n),this._updatingChanged(),this.performanceInfo.tasks.has(e)||this.performanceInfo.tasks.set(e,new Zm(e)),n}get load(){return this._load}frame(e){if(this._startFrameTaskTimes(),this._updateBudget(e)){let e=this._budget.now();return this._runFrame(),this._recordFrameTaskTimes(this._budget.now()-e),!0}return this._recordFrameTaskTimes(0),!1}_updateBudget(e){this._test&&(this._test.usedBudget=0),++this._frameNumber;let t=Gve,n=e.frameDuration,r=_W;switch(this.state){case 2:t=nh(0),n=nh(Math.max(Jve,e.frameDuration)),r=Kve;break;case 1:n=nh(Math.max(qve,e.frameDuration))}return n=nh(n-e.elapsedFrameTime-t),this.state!==2&&n<_W&&!this._forceTask?(this._forceTask=!0,!1):(n=nh(Math.max(n,r)),this._budget.reset(n),this._updateLoad(),this._schedule())}_runFrame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case 2:this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test&&(this._test.usedBudget=this._budget.elapsed)}stopFrame(){this._budget.reset(nh(0)),this._budget.madeProgress()}removeTask(e){wc(this._tasks,e),wc(this._runQueue,e),this._updatingChanged()}_updateTask(e){this._tasks.forEach(t=>{t.name===e&&t.setPriority(e)})}_getState(e){if(this._runQueue.some(t=>t.name===e))return`s`;let t=`i`;return this._tasks.forEach(n=>{n.name===e&&n.needsUpdate&&(n.schedulePriority<=1?t=`r`:t!==`r`&&(t=`w`))}),t}_getRuntime(e){let t=0;return this._tasks.forEach(n=>{n.name===e&&(t+=n.runtime)}),t}_resetRuntimes(){this._tasks.forEach(e=>e.runtime=0)}_getRunning(){let e=new Map;if(this._tasks.forEach(t=>{t.needsUpdate&&e.set(t.name,(e.get(t.name)||0)+1)}),e.size===0)return null;let t=``;return e.forEach((e,n)=>{t+=e>1?` ${e}x ${n}`:` ${n}`}),t}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){let e=this._tasks.reduce((e,t)=>t.needsUpdate?++e:e,0);this._load=this._load*vW+e*(1-vW)}_schedule(){for(Ec(this._runQueue,e=>!!e.needsUpdate||(e.schedulePriority=e.basePriority,!1)),this._tasks.forEach(e=>{e.basePriority===mW&&e.needsUpdate&&!this._runQueue.includes(e)&&e.blockFrame!==this._frameNumber&&this._runQueue.unshift(e)});this._runQueue.length===0;){let e=!1,t=0;if(this._tasks.forEach(n=>{n.needsUpdate&&n.schedulePriority!==0&&n.basePriority!==mW&&n.blockFrame!==this._frameNumber&&(e=!0,t=Math.max(t,n.basePriority),n.schedulePriority===1?(n.schedulePriority=0,this._runQueue.push(n)):--n.schedulePriority)}),!e)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){do for(;this._runQueue.length>0;){let e=this._budget.now(),t=this._runQueue.pop();this._budget.resetProgress();try{t.task.runTask(this._budget)===sW&&(t.blockFrame=this._frameNumber)}catch(e){j.getLogger(`esri.views.support.Scheduler`).error(`Exception in task "${t.name}"`,e),t.blockFrame=this._frameNumber}!this._budget.hasProgressed&&t.blockFrame!==this._frameNumber&&t.needsUpdate&&(t.name,pW.I3S_CONTROLLER,t.blockFrame=this._frameNumber),t.schedulePriority=t.basePriority;let n=this._budget.now()-e;if(t.runtime+=n,this._frameTaskTimes.set(t.priority,this._frameTaskTimes.get(t.priority)+n),this._budget.remaining<=0)return void this._updatingChanged()}while(this._schedule());this._updatingChanged()}_startFrameTaskTimes(){for(let e of Object.keys(pW))this._frameTaskTimes.set(pW[e],0)}_recordFrameTaskTimes(e){this._frameTaskTimes.forEach((e,t)=>this.performanceInfo.tasks.get(t).push(e)),this.performanceInfo.total.push(e)}get test(){return this._test}},Xve=class{get task(){return this._task.value}get readyToRun(){return this._queue.readyToRun}get updating(){return this._queue.updating}constructor(e,t,n){this._scheduler=e,this.name=t,this.blockFrame=0,this.runtime=0,this._queue=new cW,this._handles=new cm,this._basePriority=gW(t),this.schedulePriority=this._basePriority,this._task=cP(n??this._queue),this._handles.add(Hw(()=>this.task.readyToRun,t=>e.taskRunningChanged(t)))}remove(){this.processQueue(bW),this._scheduler.removeTask(this),this.schedule=xW.schedule,this.reschedule=xW.reschedule,this.scheduleGenerator=xW.scheduleGenerator,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(e){if(this.name===e)return;this.name=e;let t=gW(e);this._basePriority!==mW&&this.schedulePriority===0||(this.schedulePriority=t),this._basePriority=t}get priority(){return this.name}set priority(e){this.setPriority(e)}get needsUpdate(){return this.readyToRun||!this.task.destroyed&&this.task.readyToRun}schedule(e,t,n){return this._queue.push(e,t,n)}reschedule(e,t,n){return this._queue.unshift(e,t,n)}scheduleGenerator(e,t,n){return this._queue.pushGenerator(e,t,n)}processQueue(e){return this._queue.runTask(e)}},yW=class{constructor(){this._begin=performance?.now()??0,this._budget=0,this._done=!1,this._progressed=!1,this._enabled=!0}run(e){return!this.done&&(!0===e()&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get enabled(){return this._enabled}set enabled(e){this._enabled=e}reset(e){this._begin=this.now(),this._budget=e,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return this.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}},bW=new yW;bW.enabled=!1;var xW=new class{remove(){}processQueue(){}schedule(e,t,n){try{if(tf(t)){let e=Qd();return n?Promise.resolve(n(e)):Promise.reject(e)}return _f(e(bW))}catch(e){return Promise.reject(e)}}reschedule(e,t,n){return this.schedule(e,t,n)}async scheduleGenerator(e,t,n){if(tf(t)){let e=Qd();if(n)return n(e);throw e}let r=e(bW);for(;;){let e=r.next(bW),i=gf(e)?await e:e;if(tf(t)){let e=Qd();if(n){let t=n(e),i=r.return(null);return gf(i)&&await uf(i),t}let t=r.throw(e);throw gf(t)&&await uf(t),e}if(i.done)return i.value}}},Zve=class{constructor(e){this.view=e,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this._scheduler=Wve(),this._schedulerHandle=Hw(()=>this._scheduler.updating,()=>this.requestFrame()),this.stationary=!0,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions,this._updateParameters.targetState.copy(this.view.state),this.view.animation?.target==null||gf(this.view.animation.target)||(this._updateParameters.targetState.viewpoint=this.view.animation.target))},this.update=e=>{if(this._updateRequested=!1,this.view?.destroyed)return;let{allLayerViews:t,graphicsView:n,labelManager:r,state:{id:i}}=this.view;t?.forEach(this._updateLayerView,this),r!=null&&(r.lastUpdateId!==i&&(r.viewChange(),r.lastUpdateId=i),r.updateRequested&&r.processUpdate(this._updateParameters)),n!=null&&(n.lastUpdateId!==i&&(n.viewChange(),n.lastUpdateId=i),n.updateRequested&&n.processUpdate(this._updateParameters)),this.view.graphicsTileStore?.setViewState(this._updateParameters.state),this.view.animation?this._scheduler.state=0:this.view.interacting?this._scheduler.state=1:this._scheduler.state=2,this._scheduler.frame(e)||this._updateRequested||this._scheduler.state!==2||this._frameTaskHandle?.pause()}}destroy(){this.stop(),this._schedulerHandle.remove(),this._scheduler.destroy()}get scheduler(){return this._scheduler}start(){if(this._frameTaskHandle)return;let e=this.view;this.stationary=e.stationary,this._updateParameters={state:e.state,targetState:new iW,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:e.renderingOptions},this._stationaryHandle=q(()=>e.stationary,e=>{this.stationary=e,this.requestFrame()}),this._frameTaskHandle=mh(this),this.requestUpdate()}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle?.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(e){if(!e.attached)return void this.requestUpdate();let t=this.view.state,n=e.lastUpdateId;n!=null&&(this.stationary||e.moving)||(e.moving=!0),n!==t.id&&e.viewChange(),this.stationary&&e.moving&&(e.moving=!1,e.moveEnd()),e.lastUpdateId=t.id,e.updateRequested&&e.processUpdate(this._updateParameters),`layerViews`in e&&e.layerViews?.forEach(this._updateLayerView,this)}};function Qve(e,t){let{spatialReference:n}=t,r=[t.x,t.y],i,a,o,s,c=[0,0],l=$ve(e);for(let e=0;e<l.length;e++){let t=l[e];for(let n=0;n<t.length-1;n++){Dse(c,r,t,n);let l=MD(r,c);(i==null||l<i)&&(i=l,a=[...c],o=e,s=n)}}if(i==null||!a||o==null||s==null)throw new M(`nearest-coordinate:failed`,`Failed to find the nearest coordinate`);let[u,d]=a;return{coordinate:new Vy({x:u,y:d,spatialReference:n}),distance:i}}function $ve(e){switch(e.type){case`extent`:return[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]];case`polygon`:return e.rings;case`polyline`:return e.paths}}var SW,CW=SW=class extends $w(I){constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(this.geometry==null||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return zA(this.geometry,this.spatialReference)}catch(e){return j.getLogger(this).error(`#constraints.geometry`,`could not project the geometry to the view's spatial reference`,{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,t){if(this.normalizedGeometry==null)return e;let n=e.targetGeometry;if(this.normalizedGeometry.type===`extent`?Uy(this.normalizedGeometry,n):Ky(this.normalizedGeometry,n))return e;let{coordinate:r}=Qve(this.normalizedGeometry,n);return r&&(e.targetGeometry=r),e}clone(){return new SW({geometry:this.geometry?.clone(),spatialReference:this.spatialReference?.clone()})}};O([P({constructOnly:!0})],CW.prototype,`geometry`,void 0),O([P({readOnly:!0})],CW.prototype,`normalizedGeometry`,null),O([P({constructOnly:!0})],CW.prototype,`spatialReference`,void 0),CW=SW=O([F(`esri.views.2d.constraints.GeometryConstraint`)],CW);var wW,TW=wW=class extends $w(I){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t&&(this.rotationEnabled||(e.rotation=t.rotation)),e}clone(){return new wW({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};O([P()],TW.prototype,`enabled`,void 0),O([P()],TW.prototype,`rotationEnabled`,void 0),TW=wW=O([F(`esri.views.2d.constraints.RotationConstraint`)],TW);var EW=TW,DW,OW=DW=class extends $w(I){constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let e,{lods:t,minScale:n,maxScale:r,minZoom:i,maxZoom:a}=this,o=-1,s=-1,c=!1,l=!1;if(n!==0&&r!==0&&n<r&&([n,r]=[r,n]),!t?.length)return this._set(`effectiveMinScale`,n),void this._set(`effectiveMaxScale`,r);t=t.map(e=>e.clone()),t.sort((e,t)=>t.scale-e.scale),t.forEach((e,t)=>e.level=t);for(let i of t)!c&&n>0&&n>=i.scale&&(o=i.level,c=!0),!l&&r>0&&r>=i.scale&&(s=e?e.level:-1,l=!0),e=i;i===-1&&(i=n===0?0:o),a===-1&&(a=r===0?t.length-1:s),i=Math.max(i,0),i=Math.min(i,t.length-1),a=Math.max(a,0),a=Math.min(a,t.length-1),i>a&&([i,a]=[a,i]),n=t[i].scale,r=t[a].scale,t.splice(0,i),t.splice(a-i+1),t.forEach((e,t)=>{this._lodByScale[e.scale]=e,this._scales[t]=e.scale}),this._set(`effectiveLODs`,t),this._set(`effectiveMinZoom`,i),this._set(`effectiveMaxZoom`,a),this._set(`effectiveMinScale`,n),this._set(`effectiveMaxScale`,r)}constrain(e,t){if(t&&e.scale===t.scale)return e;let n=this.effectiveMinScale,r=this.effectiveMaxScale,i=e.targetGeometry,a=t&&t.targetGeometry,o=r!==0&&e.scale<r,s=n!==0&&e.scale>n;if(o||s){let o=s?n:r;if(t&&a){let n=(o-t.scale)/(e.scale-t.scale);i.x=a.x+(i.x-a.x)*n,i.y=a.y+(i.y-a.y)*n}e.scale=o}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);let t=this.scaleToZoom(e.scale),n=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(n>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);let t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];let n=Math.floor(e),r=Math.ceil(e);return t[n]+(e-n)*(t[r]-t[n])}scaleToZoom(e){if(!this.effectiveLODs)return-1;let t=this._scales,n,r;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let i=0;i<t.length-1;i++){if(n=t[i],r=t[i+1],r===e)return i+this.effectiveMinZoom+1;if(n>e&&r<e)return i+this.effectiveMinZoom+1-(e-r)/(n-r)}return-1}snapToClosestScale(e){if(!this.effectiveLODs)return e;let t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;let n=Math.round(this.scaleToZoom(e));return this.zoomToScale(n+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;let n=Math.round(this.scaleToZoom(e));return this.zoomToScale(n-1)}clone(){return new DW({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce((t,n)=>Math.abs(n-e)<=Math.abs(t-e)?n:t,this._scales[0])),this._lodByScale[e].scale}};O([P({readOnly:!0})],OW.prototype,`effectiveLODs`,void 0),O([P({readOnly:!0})],OW.prototype,`effectiveMinZoom`,void 0),O([P({readOnly:!0})],OW.prototype,`effectiveMaxZoom`,void 0),O([P({readOnly:!0})],OW.prototype,`effectiveMinScale`,void 0),O([P({readOnly:!0})],OW.prototype,`effectiveMaxScale`,void 0),O([P()],OW.prototype,`lods`,void 0),O([P()],OW.prototype,`minZoom`,void 0),O([P()],OW.prototype,`maxZoom`,void 0),O([P()],OW.prototype,`minScale`,void 0),O([P()],OW.prototype,`maxScale`,void 0),O([P()],OW.prototype,`snapToZoom`,void 0),OW=DW=O([F(`esri.views.2d.constraints.ZoomConstraint`)],OW);var kW=OW,eye={base:null,key:`type`,typeMap:{extent:cb,polygon:Ek}},AW=class extends I{constructor(e){super(e),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new L}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(e){e?this._set(`geometry`,e):this._set(`geometry`,null)}get version(){return`${this._zoom?.uid}/${this._rotation?.uid}/${this._geometry?.uid}`}get _geometry(){let e=this._get(`_geometry`);return e&&this.geometry===e.geometry&&this.view?.constraintsInfo.spatialReference===e.spatialReference?e:new CW({geometry:this.geometry,spatialReference:this.view?.constraintsInfo.spatialReference})}get _rotation(){return new EW({rotationEnabled:this.rotationEnabled})}get _zoom(){let e=this._get(`_zoom`),t=this.lods||this.view?.constraintsInfo.lods,n=this.minZoom,r=this.maxZoom,i=this.minScale,a=this.maxScale,o=this.snapToZoom;return e&&e.lods===t&&e.minZoom===n&&e.maxZoom===r&&e.minScale===i&&e.maxScale===a&&e.snapToZoom===o?e:new kW({lods:t,minZoom:n,maxZoom:r,minScale:i,maxScale:a,snapToZoom:o})}canZoomInTo(e){let t=this.effectiveMaxScale;return t===0||e>=t}canZoomOutTo(e){let t=this.effectiveMinScale;return t===0||e<=t}constrain(e,t){return this._zoom.constrain(e,t),this._rotation.constrain(e,t),this._geometry.constrain(e,t),this.customConstraints.forEach(n=>n.constrain(e,t)),e}constrainByGeometry(e){return this._geometry.constrain(e),this.customConstraints.forEach(t=>t.applyPanConstraint?.(e)),e}fit(e){return this._zoom.fit(e)}zoomToScale(e){return this._zoom.zoomToScale(e)}scaleToZoom(e){return this._zoom.scaleToZoom(e)}snapScale(e){return this._zoom.snapToClosestScale(e)}snapToNextScale(e){return this._zoom.snapToNextScale(e)}snapToPreviousScale(e){return this._zoom.snapToPreviousScale(e)}};O([P({readOnly:!0})],AW.prototype,`effectiveLODs`,null),O([P({readOnly:!0})],AW.prototype,`effectiveMinScale`,null),O([P({readOnly:!0})],AW.prototype,`effectiveMaxScale`,null),O([P({readOnly:!0})],AW.prototype,`effectiveMinZoom`,null),O([P({readOnly:!0})],AW.prototype,`effectiveMaxZoom`,null),O([P({types:eye,value:null})],AW.prototype,`geometry`,null),O([P({type:[kM]})],AW.prototype,`lods`,void 0),O([P()],AW.prototype,`minScale`,void 0),O([P()],AW.prototype,`maxScale`,void 0),O([P()],AW.prototype,`minZoom`,void 0),O([P()],AW.prototype,`maxZoom`,void 0),O([P()],AW.prototype,`rotationEnabled`,void 0),O([P()],AW.prototype,`snapToZoom`,void 0),O([P({type:L})],AW.prototype,`customConstraints`,void 0),O([P()],AW.prototype,`view`,void 0),O([P({readOnly:!0})],AW.prototype,`version`,null),O([P({type:CW,readOnly:!0})],AW.prototype,`_geometry`,null),O([P({type:EW})],AW.prototype,`_rotation`,null),O([P({readOnly:!0,type:kW})],AW.prototype,`_zoom`,null),AW=O([F(`esri.views.2d.MapViewConstraints`)],AW);var jW=AW,MW=class extends I{constructor(e){super(e),this.constraints=null,this.ready=!1,this.resizeAlign=`center`,this.addHandles([q(()=>this.constraints?.version,e=>{this.constraints&&e&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))},Jw)])}get center(){if(!this.ready)return this._get(`center`);let{center:e,spatialReference:t}=this.state.paddedViewState;return this.state.commitProperty(`id`),new Vy({x:e[0],y:e[1],spatialReference:t})}set center(e){if(e==null)return;if(!this.ready)return void this._set(`center`,e);let t;try{t=this._project(e,this.state.spatialReference)}catch(t){j.getLogger(this).error(new M(`mapview:invalid-center`,`could not project the value in the view's spatial reference`,{input:e,error:t}));return}let n=this.viewpoint;AU(n,n,t),this.viewpoint=n}get extent(){return this.ready?(this.state.commitProperty(`id`),this.state.paddedViewState.extent.clone()):this._get(`extent`)}set extent(e){if(e==null)return;if(!e.width||!e.height)return void j.getLogger(this).error(new M(`mapview:invalid-extent`,`invalid extent size`));if(!this.ready)return this._set(`extent`,e),this._set(`center`,void 0),this._set(`viewpoint`,void 0),this._set(`scale`,void 0),void this._set(`zoom`,void 0);let t;try{t=this._project(e,this.state.spatialReference)}catch(e){j.getLogger(this).error(new M(`mapview:invalid-extent`,`could not project the value in the view's spatial reference`,{error:e}));return}let n=this.viewpoint;xve(n,n,t,this.state.size,{constraints:this.constraints}),this.viewpoint=n}get padding(){return this.ready?this.state.padding:this._get(`padding`)}set padding(e){this.ready?(this.state.padding=e,this._set(`padding`,this.state.padding)):this._set(`padding`,e)}get resolution(){return this.ready?(this.state.commitProperty(`id`),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty(`id`),this.state.rotation):this._get(`rotation`)}set rotation(e){if(isNaN(e))return;if(!this.ready)return void this._set(`rotation`,e);let t=this.viewpoint;jve(t,t,e),this.viewpoint=t}get scale(){return this.ready?(this.state.commitProperty(`id`),this.state.scale):this._get(`scale`)}set scale(e){if(!e||isNaN(e))return;if(!this.ready){this._set(`scale`,e),this._set(`zoom`,void 0);let t=this._get(`extent`);t&&(this._set(`extent`,void 0),this._set(`center`,t.center));return}let t=this.viewpoint;jU(t,t,e),this.viewpoint=t}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get(`viewpoint`)}set viewpoint(e){if(e==null)return;if(!this.ready)return this._set(`viewpoint`,e),this._set(`extent`,void 0),this._set(`center`,void 0),this._set(`zoom`,void 0),void this._set(`scale`,void 0);let t,n;try{t=this._project(e,this.state.spatialReference),!e.scale||isNaN(e.scale)?n=new M(`mapview:invalid-viewpoint`,`invalid scale value of ${e.scale}`):e.targetGeometry??(n=new M(`mapview:invalid-viewpoint`,`geometry not defined`))}catch(e){n=new M(`mapview:invalid-viewpoint`,`could not project the value in the view's spatial reference`,{error:e})}if(n)return void j.getLogger(this).error(n);this._scaleBeforeChangingSpatialReference=null;let r=new $j({targetGeometry:new Vy,scale:0,rotation:0});bU(r,t),this.constraints?.constrain(r,this.state.paddedViewState.viewpoint),this.state.viewpoint=r,this._set(`viewpoint`,r)}get visibleArea(){return this.ready?this.state.visibleArea:null}get zoom(){return this.ready?this.constraints?.scaleToZoom(this.scale)??-1:this._get(`zoom`)}set zoom(e){if(!(e>=0))return;if(!this.ready){this._set(`zoom`,e),this._set(`scale`,void 0);let t=this._get(`extent`);t&&(this._set(`extent`,void 0),this._set(`center`,t.center));return}let t=this.constraints?.zoomToScale(e)??0;if(!t)return void this._set(`zoom`,-1);let n=this.viewpoint;jU(n,n,t),this.viewpoint=n,this._set(`zoom`,this.constraints?.scaleToZoom(this.scale)??-1)}getUserStartupOptions(e){if(!e[0]&&!e[1])return{center:void 0,rotation:void 0,scale:void 0};let{padding:t,constraints:n}=this,r=this._get(`center`),i=this._get(`extent`),a=this._get(`scale`),o=this._get(`rotation`),s=this._get(`viewpoint`),c=this._get(`zoom`),l=c!=null&&n!=null&&n.zoomToScale(c)||void 0,u,d,f,p=s?.rotation,m=s?.targetGeometry;m?.type===`extent`?u=m:m?.type===`point`&&(d=m,f=s?.scale);let h=i??u;return{center:r??d??h?.center,rotation:o??p,scale:(a??l??f??(h&&_U(h,[e[0]-t.left-t.right,e[1]-t.top-t.bottom])))||void 0}}startup(e,t,n,r){let i=e.targetGeometry;try{this._project(e,n)}catch(t){j.getLogger(this).warn(new gg(`mapview:startup-projection-error`,`projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.`,{center:i.toJSON(),spatialReference:n,error:t})),e.targetGeometry=r||new Vy({x:0,y:0,spatialReference:n})}this.constraints?.fit(e),this._set(`state`,new iW({padding:this.padding,size:t,viewpoint:e})),this._set(`ready`,!0)}teardown(){this._set(`ready`,!1);let{center:[e,t],spatialReference:n,rotation:r,scale:i}=this.state.paddedViewState,a=new Vy({x:e,y:t,spatialReference:n});this._set(`viewpoint`,null),this._set(`extent`,null),this._set(`center`,a),this._set(`zoom`,-1),this._set(`rotation`,r),this._set(`scale`,i),this._set(`state`,null)}changeSpatialReference(e){let t=this.state.paddedViewState.clone();if(this._scaleBeforeChangingSpatialReference==null)this._scaleBeforeChangingSpatialReference=t.scale;else{let e=t.viewpoint.clone();e.scale=this._scaleBeforeChangingSpatialReference,t.viewpoint=e}let n=t.clone(),[r,i]=t.center,a=null;try{a=this._project(new Vy({x:r,y:i,spatialReference:t.spatialReference}),e)}catch(t){U_()||j.getLogger(this).warn(new gg(`mapview:spatial-reference-change`,`could not project the view's center to the new spatial reference`,{center:a?.toJSON(),spatialReference:e,error:t}))}a||=new Vy({x:0,y:0,spatialReference:e});let o=AU(new $j({targetGeometry:new Vy,scale:0,rotation:0}),t.viewpoint,a);n.viewpoint=o;try{let r=[t.size[0]/2,t.size[1]/2],i=[r[0]+20,r[1]],a=t.toMap([0,0],i),{x:s,y:c}=this._project(new Vy({x:a[0],y:a[1],spatialReference:t.spatialReference}),e);a[0]=s,a[1]=c,n.toScreen(a,a);let l=kU(r,a,i),u=Math.hypot(a[0]-r[0],a[1]-r[1])/20;!Number.isFinite(u)||Math.abs(u)>4?(o.rotation=0,o.targetGeometry=new Vy({x:0,y:0,spatialReference:e})):(o.scale*=u,o.scale>k(`mapview-srswitch-adjust-rotation-scale-threshold`)?o.rotation=0:o.rotation+=Number.isFinite(l)?l:0)}catch{}this._get(`constraints`)?.constrain(o,void 0),this._get(`state`).viewpoint=o}resize(e,t){if(!this.ready)return;let n=this.state,r=this.state.paddedViewState.viewpoint,i=this.state.paddedViewState.size.slice();n.size=[e,t],kve(r,r,i,this.state.paddedViewState.size,this.resizeAlign),r=this.constraints?.constrain(r,void 0)??r,this.state.viewpoint=r}toMap(e){if(!this.ready)return null;let[t,n]=this.state.toMap([0,0],[e.x,e.y]),r=this.state.spatialReference;return new Vy({x:t,y:n,spatialReference:r})}toScreen(e,t){if(!this.ready)return null;let n=this._project(e,this.state.spatialReference),r=[n.x,n.y];return!1===t?.pickClosestTarget||this.state.paddedViewState.wrapMapCoordinate(r,r),this.state.toScreen(r,r),pj(r[0],r[1])}_project(e,t){let n=e?.targetGeometry||e;if(!t)return e;if(!n)return null;if(t.imageCoordinateSystem||n.spatialReference?.imageCoordinateSystem||vv(t,n.spatialReference))return e;let r=zA(n,t);if(!r)throw new M(`mapview:projection-not-possible`,`projecting input geometry to target spatial reference returned a null value`,{geometry:n,spatialReference:t});return tye(e)?(e.targetGeometry=r,e):r}};function tye(e){return e?.declaredClass===`esri.Viewpoint`}O([P({type:Vy})],MW.prototype,`center`,null),O([P()],MW.prototype,`constraints`,void 0),O([P({type:cb})],MW.prototype,`extent`,null),O([P({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],MW.prototype,`padding`,null),O([P()],MW.prototype,`ready`,void 0),O([P()],MW.prototype,`resizeAlign`,void 0),O([P({readOnly:!0})],MW.prototype,`resolution`,null),O([P({type:Number})],MW.prototype,`rotation`,null),O([P({type:Number})],MW.prototype,`scale`,null),O([P({readOnly:!0})],MW.prototype,`state`,void 0),O([P({type:$j})],MW.prototype,`viewpoint`,null),O([P({readOnly:!0})],MW.prototype,`visibleArea`,null),O([P()],MW.prototype,`zoom`,null),MW=O([F(`esri.views.2d.ViewStateManager`)],MW);var NW=160,PW=class extends I{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),this._timer??=setInterval(()=>{performance.now()-this._timestamp>=NW&&this.clear()},NW)}clear(){this._timer&&=(clearInterval(this._timer),void 0)}};O([P()],PW.prototype,`_timer`,void 0),O([P()],PW.prototype,`stationary`,null),PW=O([F(`esri.views.2d.support.StationaryManager`)],PW);var nye=e=>{let t=e,n=class extends t{constructor(...e){super(...e),this.fullOpacity=1,this.stateManager=new MW({constraints:new jW({view:this})}),this.stationaryManager=new PW,this.mapViewNavigation=null,this.renderingOptions={samplingMode:`dynamic`,edgeLabelsVisible:!1,labelsAnimationTime:0,labelCollisionsEnabled:!1},this.frameTask=new Zve(this),this.viewEvents=new OV(this),this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([q(()=>this.viewpoint,()=>this.stationaryManager.flip(),Jw)])}get constraintsInfo(){return{lods:null,spatialReference:null}}get extent(){return this.stateManager?.extent??null}set extent(e){this.stateManager.extent=e}get state(){return this.stateManager.state}get interacting(){return!1}get stationary(){return!this.animation&&this.stationaryManager.stationary}set animation(e){let t=this._get(`animation`);if(e===t)return;if(t&&t.stop(),e!==this.animationManager.animation&&this.animationManager.stop(),!e||e.isFulfilled())return void this._set(`animation`,null);this._set(`animation`,e);let n=()=>{this.destroyed||e===this._get(`animation`)&&(this._set(`animation`,null),this.frameTask?.requestFrame())};e.when(n,n)}get constraints(){return this.stateManager?.constraints}set constraints(e){e.view=this;let t=this.stateManager.constraints;this.stateManager.constraints=e,t?.destroy()}get padding(){return this.stateManager?.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e)}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(e){this.stateManager.resizeAlign=e}get rotation(){return this.stateManager.rotation??0}set rotation(e){let{rotationEnabled:t}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=e,this.constraints.rotationEnabled=t}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(e){this.stateManager.viewpoint=e,this.frameTask.requestFrame()}};return O([P({readOnly:!0})],n.prototype,`animationManager`,void 0),O([P({readOnly:!0})],n.prototype,`fullOpacity`,void 0),O([P()],n.prototype,`stateManager`,void 0),O([P()],n.prototype,`constraintsInfo`,null),O([P()],n.prototype,`extent`,null),O([P({readOnly:!0})],n.prototype,`state`,null),O([P({readOnly:!0})],n.prototype,`mapViewNavigation`,void 0),O([P()],n.prototype,`renderingOptions`,void 0),O([P({readOnly:!0})],n.prototype,`interacting`,null),O([P()],n.prototype,`stationary`,null),O([P()],n.prototype,`animation`,null),O([P({type:jW})],n.prototype,`constraints`,null),O([P()],n.prototype,`padding`,null),O([P()],n.prototype,`resizeAlign`,null),O([P()],n.prototype,`rotation`,null),O([P({readOnly:!0})],n.prototype,`viewEvents`,void 0),O([P({type:$j})],n.prototype,`viewpoint`,null),n=O([F(`esri.views.Viewport2DBaseMixin`)],n),n},FW=()=>vl.respectPrefersReducedMotion&&window.matchMedia(`(prefers-reduced-motion: reduce)`).matches,IW=class extends x_{constructor(e){super(e),this.state=`running`,this.target=null,this._resolver=null}initialize(){this._resolver=yf(),this.addResolvingPromise(this._resolver.promise)}get done(){return this.state===`finished`||this.state===`stopped`}stop(){this.state!==`stopped`&&this.state!==`finished`&&(this._set(`state`,`stopped`),this._resolver?.reject(new M(`view:animation-stopped`,`ViewAnimation stopped`)))}finish(){this.state!==`stopped`&&this.state!==`finished`&&(this._set(`state`,`finished`),this._resolver?.resolve())}update(e,t){t||=gf(e)?`waiting-for-target`:`running`,this._set(`target`,e),this._set(`state`,t)}static{this.state={RUNNING:`running`,STOPPED:`stopped`,FINISHED:`finished`,WAITING_FOR_TARGET:`waiting-for-target`}}};O([P({readOnly:!0})],IW.prototype,`done`,null),O([P({readOnly:!0,type:String})],IW.prototype,`state`,void 0),O([P()],IW.prototype,`target`,void 0),IW=O([F(`esri.views.ViewAnimation`)],IW);var LW=IW,RW=class extends I{constructor(e){super(e),this._gotoTask=null}destroy(){this._gotoTask=null}async goTo(e,t){if(!e)return void j.getLogger(this).error(`#goTo()`,`target cannot be null or undefined`);let n=new LW;this.view.animation=n,await Gw(()=>this.view.ready,t);let r={...t,animate:t?.animate??(!FW()&&this.view.animationsEnabled),animationMode:t?.animationMode??`auto`},{extent:i,spatialReference:a,size:o,viewpoint:s,constraints:c,padding:l,allLayerViews:u}=this.view,d=yve(e,{extent:i,spatialReference:a,size:o,viewpoint:s,constraints:c,padding:l,allLayerViews:u,pickClosestTarget:t?.pickClosestTarget??!0});return n?.update(d),this._gotoTask={},r.animate?this._gotoAnimated(d,r):this._gotoImmediate(d,r)}_gotoImmediate(e,t){let n=this._gotoTask,r=this.view.animation,i=e.then(e=>{if($d(t),n!==this._gotoTask)throw new M(`view:goto-interrupted`,`Goto was interrupted`);this.view.viewpoint=r.target=e,r.finish()});return this._cancellableGoTo(n,r,i,t)}_gotoAnimated(e,t){let n=this._gotoTask,r=this.view.animation;if(!r)return Promise.resolve();let i=e.then(e=>{if($d(t),n!==this._gotoTask)throw new M(`view:goto-interrupted`,`Goto was interrupted`);return r.update(e),this.view.animationManager.animate(r,this.view.viewpoint,t),r.when().then(()=>{},()=>{})});return this._cancellableGoTo(n,r,i,t)}_cancellableGoTo(e,t,n,r){let i=()=>e===this._gotoTask;return cf(n,r).finally(()=>{i()&&(t.done||t.stop())})}};O([P({constructOnly:!0})],RW.prototype,`view`,void 0),RW=O([F(`esri.views.2d.GoToManager`)],RW);function zW(e,t){switch(t){case`primary`:return e.pointerType===`touch`||e.button===0;case`secondary`:return e.pointerType!==`touch`&&e.button===2;case`tertiary`:return e.pointerType!==`touch`&&e.button===1}}function BW(e,t){return t.some(t=>zW(e,t))}function VW(e,{dragPrimary:t,dragSecondary:n,dragTertiary:r}){return[{key:`primary`,value:t},{key:`secondary`,value:n},{key:`tertiary`,value:r}].filter(t=>t.value===e).map(e=>e.key)}var HW=class extends sP{constructor(e,t){super(!0),this._view=e,this.registerIncoming(`double-click`,t,e=>this._handleDoubleClick(e,t))}_handleDoubleClick(e,t){zW(e.data,`primary`)&&(e.stopPropagation(),t?this._view.mapViewNavigation.zoomOut([e.data.x,e.data.y]):this._view.mapViewNavigation.zoomIn([e.data.x,e.data.y]))}},rye=class extends sP{constructor(e,t,n){super(!0),this.view=e,this.pointerType=t,this.registerIncoming(`double-tap-drag`,n,e=>this._handleDoubleTapDrag(e))}_handleDoubleTapDrag(e){let{data:t}=e,{pointerType:n}=t;if(n!==this.pointerType)return;e.stopPropagation();let{action:r,delta:i}=t,{view:a}=this,{mapViewNavigation:o}=a;switch(r){case`begin`:{let{scale:e}=a;this._startScale=e,this._currentScale=e,this._previousDelta=i,o.begin();break}case`update`:{if(this._previousDelta.y===i.y)return;this._previousDelta=i;let e=1.015**i.y,t=this._startScale*e,n=t/this._currentScale;o.setViewpointImmediate(n),this._currentScale=t;break}case`end`:{let{constraints:e}=a,{effectiveLODs:t,snapToZoom:n}=e;if(!n||!t)return void o.end();let r=e.snapScale(this._currentScale),s=(i.y>0?Math.max(r,e.snapToPreviousScale(this._startScale)):Math.min(r,e.snapToNextScale(this._startScale)))/this._currentScale;o.zoom(s).then(()=>{o.end()});break}}}},UW=class{constructor(e){this._callbacks=e,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(e){let t=e.data,n=t.pointers.size;switch(t.action){case`start`:this._currentCount=n,this._emitStart(e);break;case`added`:this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(e);break;case`update`:this._emitUpdate(e);break;case`removed`:this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(e);break;case`end`:this._emitEnd(e),this._currentCount=0}this._previousEvent=e}_emitStart(e){this._startEvent=e,this._callbacks.condition?.(this._currentCount,e)&&this._callbacks.start(this._currentCount,e,this._startEvent)}_emitUpdate(e){this._callbacks.condition?.(this._currentCount,e)&&this._callbacks.update(this._currentCount,e,this._startEvent)}_emitEnd(e){this._callbacks.condition?.(this._currentCount,e)&&this._callbacks.end(this._currentCount,e,this._startEvent),this._startEvent=null}},iye=class extends sP{constructor(e,t,n){super(!0),this.view=e,this.pointerActions=t,this.registerIncoming(`drag`,n,e=>this._handleDrag(e)),this.registerIncoming(`pointer-down`,()=>this.stopMomentumNavigation())}onInstall(e){super.onInstall(e),this._dragEventSeparator=new UW({start:(e,t)=>{this.view.mapViewNavigation.pan.begin(this.view,t.data),t.stopPropagation()},update:(e,t)=>{this.view.mapViewNavigation.pan.update(this.view,t.data),t.stopPropagation()},end:(e,t)=>{this.view.mapViewNavigation.pan.end(this.view,t.data),t.stopPropagation()},condition:(e,t)=>e===1&&BW(t.data,this.pointerActions)})}_handleDrag(e){let t=this.view.mapViewNavigation;t.pinch.zoomMomentum||t.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(e)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}},aye=class extends sP{constructor(e,t,n){super(!0),this._view=e,this.pointerActions=t;let r=this._view.mapViewNavigation;this._dragEventSeparator=new UW({start:(e,t)=>{r.rotate.begin(this._view,t.data),t.stopPropagation()},update:(e,t)=>{r.rotate.update(this._view,t.data),t.stopPropagation()},end:(e,t)=>{r.rotate.end(),t.stopPropagation()},condition:(e,t)=>e===1&&BW(t.data,this.pointerActions)}),this.registerIncoming(`drag`,n,e=>this._dragEventSeparator.handle(e))}};function WW(e){let t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}function GW(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function KW(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function qW(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function JW(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function YW(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function XW(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function oye(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function sye(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function ZW(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function QW(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function $W(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function eG(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function cye(e,t=0,n=1){return e[0]=Math.min(Math.max(e[0],t),n),e[1]=Math.min(Math.max(e[1],t),n),e[2]=Math.min(Math.max(e[2],t),n),e}function lye(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function tG(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function nG(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function rG(e,t){let n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)}function iG(e,t){let n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}function aG(e){let t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function oG(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function sG(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function cG(e,t){let n=t[0],r=t[1],i=t[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a),e}function lG(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function uG(e,t,n){let r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],c=n[2];return e[0]=i*c-a*s,e[1]=a*o-r*c,e[2]=r*s-i*o,e}function uye(e,t,n){let r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],c=n[2],l=i*c-a*s,u=a*o-r*c,d=r*s-i*o,f=Math.sqrt(l*l+u*u+d*d);return e[0]=l/f,e[1]=u/f,e[2]=d/f,e}function dG(e,t,n,r){let i=t[0],a=t[1],o=t[2];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e[2]=o+r*(n[2]-o),e}function dye(e,t,n,r,i,a){let o=a*a,s=o*(2*a-3)+1,c=o*(a-2)+a,l=o*(a-1),u=o*(3-2*a);return e[0]=t[0]*s+n[0]*c+r[0]*l+i[0]*u,e[1]=t[1]*s+n[1]*c+r[1]*l+i[1]*u,e[2]=t[2]*s+n[2]*c+r[2]*l+i[2]*u,e}function fye(e,t,n,r,i,a){let o=1-a,s=o*o,c=a*a,l=s*o,u=3*a*s,d=3*c*o,f=c*a;return e[0]=t[0]*l+n[0]*u+r[0]*d+i[0]*f,e[1]=t[1]*l+n[1]*u+r[1]*d+i[1]*f,e[2]=t[2]*l+n[2]*u+r[2]*d+i[2]*f,e}function pye(e,t=1){let n=yD,r=2*n()*Math.PI,i=2*n()-1,a=Math.sqrt(1-i*i)*t;return e[0]=Math.cos(r)*a,e[1]=Math.sin(r)*a,e[2]=i*t,e}function fG(e,t,n){let r=t[0],i=t[1],a=t[2];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12],e[1]=n[1]*r+n[5]*i+n[9]*a+n[13],e[2]=n[2]*r+n[6]*i+n[10]*a+n[14],e}function pG(e,t,n){let r=t[0],i=t[1],a=t[2];return e[0]=r*n[0]+i*n[3]+a*n[6],e[1]=r*n[1]+i*n[4]+a*n[7],e[2]=r*n[2]+i*n[5]+a*n[8],e}function mG(e,t,n){let r=n[0],i=n[1],a=n[2],o=n[3],s=t[0],c=t[1],l=t[2],u=i*l-a*c,d=a*s-r*l,f=r*c-i*s,p=i*f-a*d,m=a*u-r*f,h=r*d-i*u,g=2*o;return e[0]=s+u*g+2*p,e[1]=c+d*g+2*m,e[2]=l+f*g+2*h,e}function mye(e,t,n,r){let i=[],a=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e}function hye(e,t,n,r){let i=[],a=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e}function hG(e,t,n,r){let i=[],a=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e}function gG(e,t){cG(_G,e),cG(vG,t);let n=lG(_G,vG);return n>1?0:n<-1?Math.PI:Math.acos(n)}var _G=Dk(),vG=Dk();function gye(e){return`vec3(`+e[0]+`, `+e[1]+`, `+e[2]+`)`}function yG(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function bG(e,t){if(e===t)return!0;let n=e[0],r=e[1],i=e[2],a=t[0],o=t[1],s=t[2],c=vD();return Math.abs(n-a)<=c*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-o)<=c*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-s)<=c*Math.max(1,Math.abs(i),Math.abs(s))}function xG(e,t,n){let r=n[0]-t[0],i=n[1]-t[1],a=n[2]-t[2],o=r*r+i*i+a*a;return o>0?(o=1/Math.sqrt(o),e[0]=r*o,e[1]=i*o,e[2]=a*o,e):(e[0]=0,e[1]=0,e[2]=0,e)}var SG=JW,_ye=YW,vye=XW,CG=rG,wG=iG,TG=WW,EG=aG;Object.freeze(Object.defineProperty({__proto__:null,abs:ZW,add:qW,angle:gG,bezier:fye,ceil:oye,clamp:cye,copy:GW,cross:uG,crossAndNormalize:uye,direction:xG,dist:CG,distance:rG,div:vye,divide:XW,dot:lG,equals:bG,exactEquals:yG,floor:sye,hermite:dye,inverse:sG,len:TG,length:WW,lerp:dG,max:eG,min:$W,mul:_ye,multiply:YW,negate:oG,normalize:cG,random:pye,rotateX:mye,rotateY:hye,rotateZ:hG,round:lye,scale:tG,scaleAndAdd:nG,set:KW,sign:QW,sqrDist:wG,sqrLen:EG,squaredDistance:iG,squaredLength:aG,str:gye,sub:SG,subtract:JW,transformMat3:pG,transformMat4:fG,transformQuat:mG},Symbol.toStringTag,{value:`Module`}));function DG(e){let t=e*e;return e<0&&(t*=-1),t}function yye(e){return e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0,e}function bye(e,t,n){let r=n,i=e.state,a=e.device,o=t.tiltDirection===`forward-down`?1:-1;return a.deviceType===`standard`?(r.translation[0]=DG(i.axes[0]),r.translation[1]=DG(i.axes[1]),r.translation[2]=DG(i.buttons[7])-DG(i.buttons[6]),r.heading=DG(i.axes[2]),r.tilt=DG(i.axes[3])):a.deviceType===`spacemouse`&&(r.translation[0]=1.2*DG(i.axes[0]),r.translation[1]=1.2*DG(i.axes[1]),r.translation[2]=2*-DG(i.axes[2]),r.heading=1.2*DG(i.axes[5]),r.tilt=1.2*DG(i.axes[3])),r.tilt*=o,tG(r.translation,r.translation,1),r}function xye(e){return e.translation[0]===0&&e.translation[1]===0&&e.translation[2]===0&&e.heading===0&&e.tilt===0&&e.zoom===0}var Sye=class extends sP{constructor(e){super(!0),this._view=e,this._frameTask=null,this._watchHandles=new cm,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming(`gamepad`,e=>this._handleGamePadEvent(e)),this._handle.pause()}onInstall(e){super.onInstall(e),this._watchHandles.add([q(()=>this._view.navigation.gamepad?.enabled,e=>{e?(this._handle.resume(),this._frameTask||=mh({update:e=>this._frameUpdate(e.deltaTime)})):(this._handle.pause(),this._frameTask&&=(this._frameTask.remove(),null))},Yw)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&=(this._frameTask.remove(),null),super.onUninstall()}_handleGamePadEvent(e){let t=this._view.navigation.gamepad.device;t&&e.data.device!==t||this._currentDevice&&this._currentDevice!==e.data.device||(e.data.action===`end`?(this._currentDevice=null,yye(this._transformation)):(this._currentDevice=e.data.device,bye(e.data,this._view.navigation.gamepad,this._transformation)),this._frameTask?.resume())}_frameUpdate(e){let t=this._transformation;if(xye(t))return void this._frameTask?.pause();let n=this._view.viewpoint.clone(),r=this._view.navigation.gamepad.velocityFactor,i=wye*r*e;FU(n,n,[t.translation[0]*i,-t.translation[1]*i]);let a=1+t.translation[2]*Tye*e,o=this._view.constraints.rotationEnabled?-t.heading*Cye*e:0,s=this._view.size,c=[s[0]/2,s[1]];MU(n,n,a,o,c,s);let l=this._view.constraints.constrain(n,this._view.viewpoint);this._view.viewpoint=l}},Cye=.06,wye=.7,Tye=6e-4;function OG(e){let t=()=>e(document.visibilityState===`visible`);return document.addEventListener(`visibilitychange`,t),Ed(()=>document.removeEventListener(`visibilitychange`,t))}var Eye=class extends sP{constructor(e,t,n){super(!0),this.view=e,this.keys=t,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=e=>{let t=this._keyMap[e.data.key];if(e.modifiers.has(`Meta`)||e.modifiers.has(`Control`))return void this._stopMovement();if(t==null)return;e.stopPropagation(),e.preventDefault();let n=e.type===`key-down`;if(this._pressedKeys[n?`add`:`delete`](t),n){if(this._direction===t)return;this._direction=t,this._isSticky=!1,this._setTimeout(()=>{this._isSticky&&this._handlePopKey()})}else{let e=this._timeout===void 0,t=this._pressedKeys.size>0;e||t?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),this._direction??this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[t.left]:`left`,[t.right]:`right`,[t.up]:`up`,[t.down]:`down`},this.registerIncoming(`key-down`,n,this._handleKey),this.registerIncoming(`key-up`,n,this._handleKey),this.registerIncoming(`blur`,n,this._stopMovement),this._visibilityHandle=OG(e=>e?null:this._stopMovement())}onUninstall(){this._stopMovement(),this._visibilityHandle?.remove()}get _direction(){return this._currentDirection}set _direction(e){let t=this._currentDirection!=null;if(e!=null){if(t||this.view.mapViewNavigation.begin(),this._currentDirection!==e)switch(e){case`left`:this.view.mapViewNavigation.continuousPanLeft();break;case`right`:this.view.mapViewNavigation.continuousPanRight();break;case`up`:this.view.mapViewNavigation.continuousPanUp();break;case`down`:this.view.mapViewNavigation.continuousPanDown()}}else t&&this.view.mapViewNavigation.stop();this._currentDirection=e}_setTimeout(e){clearTimeout(this._timeout),this._timeout=e===void 0?void 0:setTimeout(()=>{this._timeout=void 0,e()},this._stickyKeyDuration)}},Dye=class extends sP{constructor(e,t,n){super(!0),this.view=e,this.keys=t,this._keyToDirection=new Map,this._pressed=!1,this._addKeysMapping(t),this.registerIncoming(`key-down`,n,e=>this._handleKeyDown(e)),this.registerIncoming(`key-up`,n,e=>this._handleKeyUp(e)),this.registerIncoming(`blur`,n,()=>this._handleStop()),this._visibilityHandle=OG(e=>e?null:this._handleStop())}onUninstall(){this._visibilityHandle?.remove(),this._handleStop()}_addKeysMapping(e){this._addKeyMapping(e.clockwise,`clockwise`),this._addKeyMapping(e.counterClockwise,`counterClockwise`),this._addKeyMapping(e.reset,`reset`)}_addKeyMapping(e,t){for(let n of e)this._keyToDirection.set(n,t)}_handleKeyDown(e){e.data.repeat||this._handleKey(e,!0)}_handleKeyUp(e){this._handleKey(e,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(e,t){let n=e.modifiers;if(n.size>0&&!n.has(`Shift`)||!this.view.constraints.rotationEnabled)return;let r=this._keyToDirection.get(e.data.key);if(this._pressed=r!=null,this._pressed){if(e.preventDefault(),t)switch(this.view.mapViewNavigation.begin(),r){case`clockwise`:this.view.mapViewNavigation.continuousRotateClockwise();break;case`counterClockwise`:this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case`reset`:this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();e.stopPropagation()}}},Oye=class extends sP{constructor(e,t,n){super(!0),this.view=e,this.keys=t,this._keysToZoomAction={},this.registerIncoming(`key-down`,n,e=>this._handleKeyDown(e)),t.zoomIn.forEach(e=>this._keysToZoomAction[e]=0),t.zoomOut.forEach(e=>this._keysToZoomAction[e]=1)}_handleKeyDown(e){this._handleKey(e)}_handleKey(e){let t=e.modifiers;if(t.size>0&&!t.has(`Shift`))return;let{key:n}=e.data;if(!(n in this._keysToZoomAction))return;let r=this._keysToZoomAction[n],{mapViewNavigation:i}=this.view,a=null;switch(r){case 0:a=i.zoomIn();break;case 1:a=i.zoomOut();break;default:return}i.begin(),a.then(()=>i.end()),e.stopPropagation()}},kye=.6,Aye=class extends sP{constructor(e,t){super(!0),this._view=e,this._canZoom=!0,this.registerIncoming(`mouse-wheel`,t,e=>this._handleMouseWheel(e))}_handleMouseWheel(e){if(this._view.navigation.actionMap.mouseWheel!==`zoom`||(e.preventDefault(),e.stopPropagation(),!this._canZoom))return;let t=this._view.mapViewNavigation,{x:n,y:r,deltaY:i}=e.data,a=1/kye**(1/60*i),o=t.zoom(a,[n,r]);this._canZoom=!1,o.catch(()=>{}).then(()=>{this._canZoom=!0,t.end()})}},jye=class extends sP{constructor(e){super(!0),this.view=e,this.registerIncoming(`drag`,e=>this._handleDrag(e)),this.registerIncoming(`pointer-down`,()=>this._stopMomentumNavigation());let t=this.view.mapViewNavigation;this._dragEventSeparator=new UW({start:(e,n)=>{t.pinch.begin(this.view,n.data),n.stopPropagation()},update:(e,n)=>{t.pinch.update(this.view,n.data),n.stopPropagation()},end:(e,n)=>{t.pinch.end(this.view),n.stopPropagation()},condition:e=>e>=2})}_handleDrag(e){this._dragEventSeparator.handle(e)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}};function kG(e){let t=e.native;return t?{buttons:t.buttons.map(e=>e.pressed?e.value||1:0),axes:t.axes.map(t=>Pye(t,e.axisThreshold))}:{buttons:[],axes:[]}}function Mye(e,t){if(e.axes.length!==t.axes.length||e.buttons.length!==t.buttons.length)return!1;for(let n=0;n<e.axes.length;n++)if(e.axes[n]!==t.axes[n])return!1;for(let n=0;n<e.buttons.length;n++)if(e.buttons[n]!==t.buttons[n])return!1;return!0}function Nye(e){for(let t=0;t<e.axes.length;t++)if(e.axes[t]!==0)return!1;for(let t=0;t<e.buttons.length;t++)if(e.buttons[t]!==0)return!1;return!0}function Pye(e,t){let n=Math.abs(e);return n<t?0:Math.sign(e)*(n-t)/(1-t)}var Fye=class{constructor(e,t){this._element=e,this._input=t,this._hasEventListeners=!1,this._onConnectGamepad=e=>{this._connectGamepad(e.gamepad)},this._onDisconnectGamepad=e=>{let t=e.gamepad,n=t.index,r=this._inputDevices[n];r&&(this._emitGamepadEvent(t,kG(r),!1),this._inputDevices.splice(n,1),this._latestUpdate.splice(n,1),this._input.gamepad.devices.remove(r),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=[],this._inputDevices=[],this._callback=null;let n=`getGamepads`in window.navigator,r=window.isSecureContext;this.supported=n&&r,this.supported&&(AG(e=>this._connectGamepad(e)),window.addEventListener(`gamepadconnected`,this._onConnectGamepad),window.addEventListener(`gamepaddisconnected`,this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener(`gamepadconnected`,this._onConnectGamepad),window.removeEventListener(`gamepaddisconnected`,this._onDisconnectGamepad))}set hasEventListeners(e){this._hasEventListeners!==e&&(this._hasEventListeners=e,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(e){this._callback=e}_connectGamepad(e){let t=new eH(e);t.deviceType!==`unknown`&&(this._inputDevices[e.index]=t,this._input.gamepad.devices.add(t)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this._frameTask??=mh({update:()=>this._readGamepadState()})}_stopPolling(){this._frameTask!=null&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=[])}_readGamepadState(){let e=document.hasFocus(),t=this._element.contains(document.activeElement),n=this._input.gamepad.enabledFocusMode===`document`&&!e||this._input.gamepad.enabledFocusMode===`view`&&!t;AG(e=>{let t=this._inputDevices[e.index];if(!t)return;let r=this._latestUpdate[e.index],i=kG(t),a=n||Nye(i);r&&(r.timestamp===e.timestamp||!r.active&&a||Mye(r.state,i))||this._emitGamepadEvent(e,i,!a)})}_emitGamepadEvent(e,t,n){let r=this._latestUpdate[e.index],i=r&&r.active;if(!i&&!n)return;let a=!i&&n?`start`:i&&n?`update`:`end`;this._latestUpdate[e.index]={timestamp:e.timestamp,state:t,active:n},this._callback&&this._callback({device:this._inputDevices[e.index],state:t,action:a})}};function Iye(e){if(!e||!e.connected)return!1;for(let t=0;t<e.axes.length;t++)if(isNaN(e.axes[t]))return!1;return!0}function AG(e){for(let t of navigator.getGamepads())Iye(t)&&e(t)}var jG=k(`edge`),Lye=k(`chrome`),Rye=k(`ff`),zye=k(`safari`),MG=`esri-view-surface`,NG={touchNone:`${MG}--touch-none`,touchPan:`${MG}--touch-pan`},Bye=class e{static{this.test={disableSubpixelCoordinates:!1}}constructor(e,t){this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=e,e.getAttribute(`tabindex`)||e.setAttribute(`tabindex`,`0`),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener(`keydown`,this._preventAltKeyDefault),this._gamepadSource=new Fye(e,t),this._gamepadSource.onEvent=e=>this._callback(`gamepad`,e)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(e=>this._releasePointerCaptureSafe(e)),this._activePointerCaptures.clear(),this._gamepadSource=Gd(this._gamepadSource),this._removeTouchAction(),this._element.removeEventListener(`keydown`,this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(e){this._browserTouchPanningEnabled=e,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(e){this._callback=e}set activeEvents(e){for(let t in this._active)if(!e||!e.has(t)){let e=this._active[t];this._element.removeEventListener(PG[t],e),delete this._active[t]}e&&e.forEach(e=>{if(!this._active[e]&&PG[e]){let t=(this._eventHandlers[e]||this._handleDefault).bind(this,e);this._element.addEventListener(PG[e],t),this._active[e]=t}}),this._gamepadSource&&(this._gamepadSource.hasEventListeners=e?.has(`gamepad`)??!1)}setPointerCapture(e,t){t?this._setPointerCaptureSafe(e.pointerId):(this._releasePointerCaptureSafe(e.pointerId),this._activePointerCaptures.delete(e.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?NG.touchNone:NG.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?NG.touchPan:NG.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener(`touchmove`,this._preventMultiTouchPanning):this._element.removeEventListener(`touchmove`,this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(NG.touchNone),this._element.classList.remove(NG.touchPan),this._element.removeEventListener(`touchmove`,this._preventMultiTouchPanning)}_setPointerCaptureSafe(e){try{this._element.setPointerCapture(e),this._activePointerCaptures.add(e)}catch{}}_releasePointerCaptureSafe(e){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(e))return;this._element.releasePointerCapture(e)}catch{}}_updateNormalizedPointerLikeEvent(t,n){let r=LV(this._element,t);return e.test.disableSubpixelCoordinates&&(r.x=Math.round(r.x),r.y=Math.round(r.y)),n.x=r.x,n.y=r.y,n}_handleKey(e,t){let{key:n}=t;n&&e===`key-up`&&this._keyDownState.delete(n);let r={native:t,key:n,repeat:!!n&&this._keyDownState.has(n)};n&&e===`key-down`&&this._keyDownState.add(r.key),this._callback(e,r)}_handlePointer(e,t){let n=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,pointerType:t.pointerType,button:t.button,buttons:t.buttons,eventId:this._eventId++});this._callback(e,n)}_handlePointerPreventDefault(e,t){let n=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,pointerType:t.pointerType,button:t.button,buttons:t.buttons,eventId:this._eventId++});t.preventDefault(),this._callback(e,n)}_getDeltaFromTrackpadOrMouseWheel(e){return e.shiftKey&&k(`mac`)&&e.deltaY===0?e.deltaX:e.deltaY}_handleMouseWheel(e,t){let n=this._getDeltaFromTrackpadOrMouseWheel(t);switch(t.deltaMode){case 0:jG&&(n=n/document.documentElement.clientHeight*600);break;case 1:n*=30;break;case 2:n*=900}jG?n*=.7:Lye||zye?n*=.6:Rye&&(n*=1.375);let r=Math.abs(n);r>100&&(n=n/r*200/(1+Math.exp(-.02*(r-100))));let i=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,deltaY:n});this._callback(e,i)}_handlePointerCaptureLost(e,t){this._activePointerCaptures.delete(t.pointerId),this._handleDefault(e,t)}_handleDefault(e,t){let n={native:t};t.preventDefault(),this._callback(e,n)}_preventAltKeyDefault(e){e.key===`Alt`&&e.preventDefault()}_preventMultiTouchPanning(e){e.touches.length>1&&e.preventDefault()}},PG={"key-down":`keydown`,"key-up":`keyup`,"pointer-down":`pointerdown`,"pointer-up":`pointerup`,"pointer-move":`pointermove`,"mouse-wheel":`wheel`,"pointer-capture-got":`gotpointercapture`,"pointer-capture-lost":`lostpointercapture`,"context-menu":`contextmenu`,"pointer-enter":`pointerenter`,"pointer-leave":`pointerleave`,"pointer-cancel":`pointercancel`,focus:`focus`,blur:`blur`},Vye=class extends sP{constructor(){super(!0),this.registerIncoming(`context-menu`,e=>e.data.native.preventDefault())}},FG=()=>({maximumClickDelay:300}),Hye=(e={})=>({...FG(),movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500,...e}),IG=(e={})=>({...FG(),maximumDoubleClickDistance:10,maximumDoubleTouchDistance:35,maximumDoubleClickDelay:250,maximumDoubleTouchDelay:350,...e});function LG(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function Uye(e,t){let n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}function Wye(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:pj()},e.length===0)return t;if(e.length===1)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(e.length===2){let[n,r]=e,[i,a]=[r.x-n.x,r.y-n.y];return t.radius=Math.sqrt(i*i+a*a)/2,t.center.x=(n.x+r.x)/2,t.center.y=(n.y+r.y)/2,t}let n=0,r=0;for(let t=0;t<e.length;t++)n+=e[t].x,r+=e[t].y;n/=e.length,r/=e.length;let i=e.map(e=>e.x-n),a=e.map(e=>e.y-r),o=0,s=0,c=0,l=0,u=0,d=0,f=0;for(let e=0;e<i.length;e++){let t=i[e],n=a[e],r=t*t,p=n*n;o+=r,s+=p,c+=t*n,l+=r*t,u+=p*n,d+=t*p,f+=n*r}let p=.5*(l+d),m=.5*(u+f),h=o*s-c*c,g=(p*s-m*c)/h,_=(o*m-c*p)/h,v=pj(g+n,_+r);return{radius:Math.sqrt(g*g+_*_+(o+s)/e.length),center:v}}function RG(e){let{native:t}=e,{pointerId:n,button:r,pointerType:i}=t;return i===`mouse`?`${n}:${r}`:`${i}`}var Gye=class extends sP{constructor(e={},t=Ld){super(!1),this._clock=t,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=pj(0,0),this._pointerState=new Map,this._parameters=IG(e),this._doubleTapDrag=this.registerOutgoing(`double-tap-drag`),this._dragEventSeparator=new UW({start:(e,t)=>this._dragStart(e,t),update:(e,t)=>this._dragUpdate(t),end:(e,t)=>this._dragEnd(t)}),this.registerIncoming(`drag`,e=>this._dragEventSeparator.handle(e)),this.registerIncoming(`pointer-down`,e=>this._handlePointerDown(e)),this.registerIncoming(`pointer-up`,()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(e=>{e.doubleTapTimeout=qd(e.doubleTapTimeout)})}get hasPendingInputs(){for(let e of this._pointerState.values())if(e.doubleTapTimeout!=null)return!0;return!1}_clearPointerDown(e){let t=this._pointerState.get(e);t&&(t.doubleTapTimeout=qd(t.doubleTapTimeout),this._pointerState.delete(e),this.refreshHasPendingInputs())}_dragStart(e,t){if(!this._doubleTapDragReady||e!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;let{data:n,modifiers:r}=t,{center:i}=n;this._dragStartCenter=i;let a=zG(`begin`,pj(0,0),n);this._doubleTapDrag.emit(a,void 0,r),t.stopPropagation()}_dragUpdate(e){if(!this._doubleTapDragActive)return;let{data:t,modifiers:n}=e,{center:r}=t,i=zG(`update`,pj(r.x-this._dragStartCenter.x,r.y-this._dragStartCenter.y),t);this._doubleTapDrag.emit(i,void 0,n),e.stopPropagation()}_dragEnd(e){if(!this._doubleTapDragActive)return;let{data:t,modifiers:n}=e,{center:r}=t,i=zG(`end`,pj(r.x-this._dragStartCenter.x,r.y-this._dragStartCenter.y),t);this._doubleTapDrag.emit(i,void 0,n),this._doubleTapDragActive=!1,e.stopPropagation()}_handlePointerDown(e){let{data:t}=e,n=RG(t),r=this._pointerState.get(n),{pointerType:i}=t.native;if(r){let a=i===`touch`?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;this._clearPointerDown(n),LG(r.event.data,t)>a?this._storePointerDown(e):this._doubleTapDragReady=!0}else this._storePointerDown(e)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(e){let{data:t}=e,{pointerType:n}=t.native,r=RG(t),i=n===`touch`?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay,a=this._clock.setTimeout(()=>this._clearPointerDown(r),i);this._pointerState.set(r,{event:e,doubleTapTimeout:a}),this.refreshHasPendingInputs()}};function zG(e,t,n){let{button:r,buttons:i,pointer:a,pointers:o,pointerType:s,timestamp:c}=n;return{action:e,delta:t,button:r,buttons:i,pointer:a,pointers:o,pointerType:s,timestamp:c}}var Kye=class extends sP{constructor(e){super(!1),this._navigationTouch=e,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing(`drag`),this.registerIncoming(`pointer-drag`,this._handlePointerDrag.bind(this)),this.registerIncoming(`pointer-up`,this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming(`pointer-capture-lost`,this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming(`pointer-cancel`,this._handlePointerUpAndPointerLost.bind(this))}_createPayload(e,t,n,r){return{action:e,pointerType:this._pointerType,button:this._mouseButton,buttons:t.buttons,timestamp:r,pointers:qye(this._activePointerMap),pointer:t,angle:n.angle,radius:n.radius,center:n.center}}_addPointer(e){let t=e.native.pointerId,n=VG(this._activePointerMap).angle,r={event:e,initialAngle:0,lastAngle:0};this._activePointerMap.set(t,r);let i=HG(r,BG(this._activePointerMap));r.initialAngle=i,r.lastAngle=i,this._updatePointerAngles(n)}_updatePointer(e){if(e&&e.x==null&&e.y==null)return;let t=e.native.pointerId,n=this._activePointerMap.get(t);n?n.event=e:this._addPointer(e)}_removePointer(e){let t=VG(this._activePointerMap).angle;this._activePointerMap.delete(e),this._updatePointerAngles(t)}_updatePointerAngles(e){let t=VG(this._activePointerMap);this._activePointerMap.forEach(n=>{n.initialAngle=HG(n,t)-e,n.lastAngle=HG(n,t)-e})}_emitEvent(e,t,n){let r=VG(this._activePointerMap);this._drag.emit(this._createPayload(e,t,r,n),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(e){let t=e.data.native.pointerId,n=nh(e.timestamp);this._activePointerMap.get(t)&&(this._activePointerMap.size===1?(this._updatePointer(e.data),!this._isCurrentDragSuppressed&&this._emitEvent(`end`,e.data,n),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(t)):(this._removePointer(t),this._emitEvent(`removed`,e.data,nh(e.timestamp))))}_handlePointerDrag(e){let t=e.data,n=t.currentEvent,r=nh(e.timestamp);switch(t.action){case`start`:case`update`:this._isDragging?this._activePointerMap.has(n.native.pointerId)?(this._updatePointer(n),!this._isCurrentDragSuppressed&&this._emitEvent(`update`,n,r)):(this._addPointer(n),this._emitEvent(`added`,n,r),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(n),this._pointerType=e.data.startEvent.pointerType,this._mouseButton=e.data.startEvent.button,this._startStateModifiers=e.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent(`start`,n,r))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&this._pointerType===`touch`&&this._activePointerMap.size===1}};function BG(e){let t=[];return e.forEach(e=>{t.push(pj(e.event.x,e.event.y))}),Wye(t)}function VG(e){let t=BG(e),n=0;return e.forEach(e=>{let r=HG(e,t),i=r-e.lastAngle;for(;i>Math.PI;)i-=2*Math.PI;for(;i<-Math.PI;)i+=2*Math.PI;r=e.lastAngle+i,e.lastAngle=r;let a=r-e.initialAngle;n+=a}),n/=e.size||1,{angle:n,radius:t.radius,center:t.center}}function qye(e){let t=new Map;return e.forEach((e,n)=>t.set(n,e.event)),t}function HG(e,t){let n=e.event,r=n.x-t.center.x,i=n.y-t.center.y;return Math.atan2(i,r)}var Jye=class extends sP{constructor(e={},t=Ld){super(!1),this._clock=t,this._pointerState=new Map,this._parameters=IG(e),this._immediateDoubleClick=this.registerOutgoing(`immediate-double-click`),this.registerIncoming(`pointer-down`,this._handlePointerDown.bind(this)),this.registerIncoming(`pointer-up`,this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(e=>{e.immediateDoubleClick&&e.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(e){let t=e.data,n=RG(t);if(!this._pointerState.has(n)){let e={downButton:t.native.button,x:t.x,y:t.y,immediateDoubleClick:null};this._pointerState.set(n,e),this.startCapturingPointer(t.native)}}_handlePointerUp(e){let t=e.data,n=RG(t),r=this._pointerState.get(n);if(r&&r.downButton===t.native.button){let n=r.immediateDoubleClick,i=e.data.native.pointerType===`touch`?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;n?(n.timeoutHandle.remove(),LG(n,e.data)>i?this._startImmediateDoubleClick(e,r):(this._immediateDoubleClick.emit(e.data,void 0,n.modifiers),this._removeState(t))):LG(r,e.data)>i?this._removeState(t):this._startImmediateDoubleClick(e,r)}}_startImmediateDoubleClick(e,t){let n=e.data.native.pointerType===`touch`?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay;t.immediateDoubleClick={x:e.data.x,y:e.data.y,modifiers:e.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(e.data),n)}}_removeState(e){let t=RG(e);this._pointerState.delete(t),this.stopCapturingPointer(e.native),this.refreshHasPendingInputs()}},Yye=class extends sP{constructor(e={},t=Ld){super(!1),this._clock=t,this._pointerState=new Map,this._parameters=Hye(e),this._pointerDrag=this.registerOutgoing(`pointer-drag`),this._immediateClick=this.registerOutgoing(`immediate-click`),this._pointerHold=this.registerOutgoing(`hold`),this.registerIncoming(`pointer-down`,e=>this._handlePointerDown(e)),this.registerIncoming(`pointer-up`,e=>this._handlePointerLoss(e,`pointer-up`)),this.registerIncoming(`pointer-capture-lost`,e=>this._handlePointerLoss(e,`pointer-capture-lost`)),this.registerIncoming(`pointer-cancel`,e=>this._handlePointerLoss(e,`pointer-cancel`)),this._moveHandle=this.registerIncoming(`pointer-move`,e=>this._handlePointerMove(e)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(e=>{e.holdTimeout=qd(e.holdTimeout)}),super.onUninstall()}_handlePointerDown(e){let t=e.data,n=t.native.pointerId,r=null;this._pointerState.size===0&&(r=this._clock.setTimeout(()=>{let t=this._pointerState.get(n);if(t){if(!t.isDragging){let n=t.previousEvent;this._pointerHold.emit(n,void 0,e.modifiers),t.holdEmitted=!0}t.holdTimeout=null}},this._parameters.holdDelay));let i={startEvent:t,previousEvent:t,startTimestamp:e.timestamp,isDragging:!1,downButton:t.native.button,holdTimeout:r,modifiers:new Set};this._pointerState.set(n,i),this.startCapturingPointer(t.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(e)}_handlePointerMove(e){let t=e.data,n=t.native.pointerId,r=this._pointerState.get(n);r&&(r.isDragging?this._pointerDrag.emit(UG(`update`,r,t),void 0,r.modifiers):Uye(t,r.startEvent)>this._getDragThreshold(t.native.pointerType)&&this._startDragging(e),r.previousEvent=t)}_getDragThreshold(e){switch(e){case`touch`:return this._parameters.movementUntilTouchDrag;case`pen`:return this._parameters.movementUntilPenDrag;default:return this._parameters.movementUntilMouseDrag}}_startDragging(e){let t=e.data,n=t.native.pointerId;this._pointerState.forEach(r=>{r.holdTimeout!=null&&(r.holdTimeout.remove(),r.holdTimeout=null),r.isDragging||(r.modifiers=e.modifiers,r.isDragging=!0,n===r.startEvent.native.pointerId?this._pointerDrag.emit(UG(`start`,r,t)):this._pointerDrag.emit(UG(`start`,r,r.previousEvent),e.timestamp))})}_handlePointerLoss(e,t){let n=e.data,r=n.native.pointerId,i=this._pointerState.get(r);i&&(i.holdTimeout!=null&&(i.holdTimeout.remove(),i.holdTimeout=null),i.isDragging?this._pointerDrag.emit(UG(`end`,i,t===`pointer-up`?n:i.previousEvent),void 0,i.modifiers):t===`pointer-up`&&i.downButton===n.native.button&&e.timestamp-i.startTimestamp<=this._parameters.maximumClickDelay&&!i.holdEmitted&&this._immediateClick.emit(n),this._pointerState.delete(r),this.stopCapturingPointer(n.native),this._pointerState.size===0&&this._moveHandle.pause())}};function UG(e,t,n){return{action:e,startEvent:t.startEvent,previousEvent:t.previousEvent,currentEvent:n}}var Xye=class extends sP{constructor(e={},t=Ld){super(!1),this._clock=t,this._pointerState=new Map,this._parameters=IG(e),this._click=this.registerOutgoing(`click`),this._doubleClick=this.registerOutgoing(`double-click`),this.registerIncoming(`immediate-click`,e=>this._handleImmediateClick(e)),this.registerIncoming(`pointer-down`,e=>this._handlePointerDown(e))}onUninstall(){this._pointerState.forEach(e=>e.doubleClickTimer=qd(e.doubleClickTimer))}get hasPendingInputs(){for(let e of this._pointerState.values())if(e.doubleClickTimer!=null)return!0;return!1}_clearDoubleClickTimer(e,t){let n=this._pointerState.get(e);n&&(n.doubleClickTimer=qd(n.doubleClickTimer),t&&this._click.emit(n.event.data,void 0,n.event.modifiers),this._pointerState.delete(e),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(e){let t=this._pointerState.get(e);t.pointerDownCount===1&&this._click.emit(t.event.data,void 0,t.event.modifiers),t.doubleClickTimer=null,this._pointerState.delete(e),this.refreshHasPendingInputs()}_handleImmediateClick(e){let t=e.data,{pointerType:n}=t.native,r=Zye(t);if(!this._pointerState.has(r))return void this._startClick(e);let i=this._pointerState.get(r),{data:a,modifiers:o}=i.event,s=n===`touch`?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;LG(a,t)>s?(this._clearDoubleClickTimer(r,!0),this._startClick(e)):(this._clearDoubleClickTimer(r,!1),i.pointerDownCount===2&&this._doubleClick.emit(a,void 0,o))}_handlePointerDown(e){let t=RG(e.data),n=this._pointerState.get(t);n&&(n.pointerDownCount+=1)}_startClick(e){let{data:t}=e,{native:{pointerType:n}}=t,r=RG(t),i=n===`touch`?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay,a=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(r),i);this._pointerState.set(r,{event:e,doubleClickTimer:a,pointerDownCount:1}),this.refreshHasPendingInputs()}};function Zye(e){let{pointerId:t,pointerType:n,button:r}=e.native;return n===`mouse`?`${t}:${r}`:`${n}`}var WG={counter:`Control`,pan:{left:`ArrowLeft`,right:`ArrowRight`,up:`ArrowUp`,down:`ArrowDown`},zoom:{zoomIn:[`=`,`+`],zoomOut:[`-`,`_`]},rotate:{clockwise:[`a`,`A`],counterClockwise:[`d`,`D`],reset:[`n`,`N`]}},GG=Symbol(`handles`),KG=class extends I{initialize(){let e=()=>this.view?.ready;this.addHandles([Hw(()=>!e(),()=>this._disconnect()),Hw(e,()=>this._connect())])}destroy(){this._disconnect()}get latestPointerInfo(){return this._inputManager?.latestPointerInfo}get multiTouchActive(){return this._inputManager?.multiTouchActive??!1}isModifierKeyDown(e){return this._inputManager?.isModifierKeyDown(e)??!1}_disconnect(){this.view.viewEvents.disconnect(),this.removeHandles(GG),this._inputManager=Gd(this._inputManager)}_connect(){let e=this.view.surface,t=new Bye(e,this.view.input),n=[new Jye,new Yye,new Xye,new Kye(this.view.navigation),new Gye],r=new uP({eventSource:t,recognizers:n}),i=new iye(this.view,[`primary`]),a=new aye(this.view,[`secondary`]);r.installHandlers(`prevent-context-menu`,[new Vye],dP.INTERNAL),r.installHandlers(`navigation`,[new jye(this.view),new Sye(this.view),new Aye(this.view),new HW(this.view),new HW(this.view,[WG.counter]),i,new Eye(this.view,WG.pan),new Oye(this.view,WG.zoom),new Dye(this.view,WG.rotate),a,new rye(this.view,`touch`)],dP.INTERNAL),this.view.viewEvents.connect(r),this._source=t,this._inputManager=r,this.addHandles([q(()=>this.view?.navigation?.browserTouchPanEnabled,e=>{this._source&&(this._source.browserTouchPanningEnabled=!e)},Yw),q(()=>{let{actionMap:e}=this.view.navigation;return{panActions:VW(`pan`,e),rotateActions:VW(`rotate`,e)}},({panActions:e,rotateActions:t})=>{i.pointerActions=e,a.pointerActions=t},Xw)],GG)}get test(){}};O([P()],KG.prototype,`view`,void 0),O([P()],KG.prototype,`latestPointerInfo`,null),O([P()],KG.prototype,`multiTouchActive`,null),KG=O([F(`esri.views.2d.input.MapViewInputManager`)],KG);var Qye=KG,$ye=e=>{let t=e,n=class extends t{constructor(...e){super(...e),this.goToManager=new RW({view:this}),this.animationsEnabled=!0,this.inputManager=new Qye({view:this}),this.addHandles([this.on(`resize`,e=>this.stateManager.resize(e.width,e.height))])}get interacting(){return this.navigating}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}on(e,t,n,r){return this.viewEvents.on(e,t,n,r)||super.on(e,t)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}goTo(e,t){return this.goToManager.goTo(e,t)}toMap(e){if(!this.ready)return null;let t=zV(e)?RV(this,e):e;return this.stateManager.toMap(t)}};return O([P()],n.prototype,`goToManager`,void 0),O([P({readOnly:!0})],n.prototype,`interacting`,null),O([P()],n.prototype,`stationary`,null),O([P()],n.prototype,`animationsEnabled`,void 0),O([P({readOnly:!0})],n.prototype,`inputManager`,void 0),n=O([F(`esri.views.Viewport2DMixin`)],n),n},qG=class{constructor(e){this._view=e,this.viewpoint=new $j({targetGeometry:new Vy,scale:0,rotation:0})}get view(){return this._view}get size(){let[e,t]=this._view.size;return Math.sqrt(e*e+t*t)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return wU(this.center.spatialReference)}pixelsPerPanAtZoom(e){return 1/(e*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(e){return 1/(e*this.scaleToResolutionFactor)}pixelsPerRotate(){return this.size/2}compareTo(e,t){t.pan=Fy(this.center,e.center);let n=Math.abs(e.rotation-this.rotation);n=n>=180?360-n:n,t.rotate=JT(n),t.sourceZoom=this.scale,t.targetZoom=e.scale}interpolate(e,t,n){let{pan:r,rotate:i,zoom:a,zoomOffset:o}=n,{center:s}=this;s.spatialReference=e.center.spatialReference,s.x=qT(e.center.x,t.center.x,r),s.y=qT(e.center.y,t.center.y,r),this.viewpoint.scale=qT(e.scale,t.scale+o,a);let c=e.rotation,l=t.rotation;Math.abs(l-c)>=180&&(c+=360*(c<l?1:-1)),this.viewpoint.rotation=qT(c,l,i)}copyFrom(e){bU(this.viewpoint,e.viewpoint),this._view=e.view}};function JG(e,t,n,r){let i=3*e,a=3*(n-e)-i,o=1-i-a,s=3*t,c=3*(r-t)-s,l=1-s-c;function u(e){return((o*e+a)*e+i)*e}function d(e){return((l*e+c)*e+s)*e}function f(e){return(3*o*e+2*a)*e+i}function p(e,t){let n,r,i,a,o,s;for(i=e,s=0;s<8;s++){if(a=u(i)-e,Math.abs(a)<t)return i;if(o=f(i),Math.abs(o)<1e-6)break;i-=a/o}if(n=0,r=1,i=e,i<n)return n;if(i>r)return r;for(;n<r;){if(a=u(i),Math.abs(a-e)<t)return i;e>a?n=i:r=i,i=.5*(r-n)+n}return i}return function(e,t=1e-6){return d(p(e,t))}}var YG={};YG.ease=JG(.25,.1,.25,1),YG.linear=JG(0,0,1,1),YG.easeIn=YG[`ease-in`]=JG(.42,0,1,1),YG.easeOut=YG[`ease-out`]=JG(0,0,.58,1),YG.easeInOut=YG[`ease-in-out`]=JG(.42,0,.58,1);var ebe=e=>e,XG=e=>e*e,ZG=e=>1-XG(1-e),QG=e=>e<.5?XG(2*e)/2:(ZG(2*(e-.5))+1)/2,$G=e=>e*e*e,eK=e=>1-$G(1-e),tK=e=>e<.5?$G(2*e)/2:(eK(2*(e-.5))+1)/2,nK=e=>e*e*e*e,rK=e=>1-nK(1-e),iK=e=>e<.5?nK(2*e)/2:(rK(2*(e-.5))+1)/2,aK=e=>e*e*e*e*e,oK=e=>1-aK(1-e),sK=e=>e<.5?aK(2*e)/2:(oK(2*(e-.5))+1)/2,cK=e=>1-Math.cos(e*Math.PI/2),lK=e=>1-cK(1-e),uK=e=>e<.5?cK(2*e)/2:(lK(2*(e-.5))+1)/2,dK=e=>2**(10*(e-1)),fK=e=>1-dK(1-e),pK=e=>e<.5?dK(2*e)/2:(fK(2*(e-.5))+1)/2,mK=e=>-(Math.sqrt(1-e*e)-1),hK=e=>1-mK(1-e),gK=e=>e<.5?mK(2*e)/2:(hK(2*(e-.5))+1)/2;function _K(e){let t=2*(e-Math.sqrt((e-1)*e)),n=t/2/e;return r=>r<n?e*r*r:t*r-t+1}function vK(e,t){return(n,r)=>n<t?t*e(n/t,r):1-e((1-n)/(1-t),r)*(1-t)}var yK=vK(_K(1),1),bK=vK(_K(1),0),xK=vK(_K(1),.5),SK=vK(_K(2),1),CK=vK(_K(2),0),wK=vK(_K(2),.5),TK=vK(_K(3),1),EK=vK(_K(3),0),DK=vK(_K(3),.5),OK=vK(_K(4),1),kK=vK(_K(4),0),AK=vK(_K(4),.5),jK={linear:ebe,"in-quad":XG,"out-quad":ZG,"in-out-quad":QG,"in-coast-quad":yK,"out-coast-quad":bK,"in-out-coast-quad":xK,"in-cubic":$G,"out-cubic":eK,"in-out-cubic":tK,"in-coast-cubic":SK,"out-coast-cubic":CK,"in-out-coast-cubic":wK,"in-quart":nK,"out-quart":rK,"in-out-quart":iK,"in-coast-quart":TK,"out-coast-quart":EK,"in-out-coast-quart":DK,"in-quint":aK,"out-quint":oK,"in-out-quint":sK,"in-coast-quint":OK,"out-coast-quint":kK,"in-out-coast-quint":AK,"in-sine":cK,"out-sine":lK,"in-out-sine":uK,"in-expo":dK,"out-expo":fK,"in-out-expo":pK,"in-circ":mK,"out-circ":hK,"in-out-circ":gK,"quad-in":XG,"quad-out":ZG,"quad-in-out":QG,"quad-in-coast":yK,"quad-out-coast":bK,"quad-in-out-coast":xK,"cubic-in":$G,"cubic-out":eK,"cubic-in-out":tK,"cubic-in-coast":SK,"cubic-out-coast":CK,"cubic-in-out-coast":wK,"quart-in":nK,"quart-out":rK,"quart-in-out":iK,"quart-in-coast":TK,"quart-out-coast":EK,"quart-in-out-coast":DK,"quint-in":aK,"quint-out":oK,"quint-in-out":sK,"quint-in-coast":OK,"quint-out-coast":kK,"quint-in-out-coast":AK,"sine-in":cK,"sine-out":lK,"sine-in-out":uK,"expo-in":dK,"expo-out":fK,"expo-in-out":pK,"circ-in":mK,"circ-out":hK,"circ-in-out":gK,ease:e=>YG.ease(e),"ease-in":e=>YG.easeIn(e),"ease-out":e=>YG.easeOut(e),"ease-in-out":e=>YG.easeInOut(e)},tbe=class{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}},MK={desiredScreenFlow:2,minDuration:nh(500),maxDuration:nh(8e3)},NK={...MK,maxDuration:nh(4e3)},nbe=class e{constructor(e){this._createCamera=e,this.compared=new tbe,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:MK.desiredScreenFlow},this.source=e(),this.target=e()}clone(){let t=new e(this._createCamera);return t.copyFrom(this),t}copyFrom(e){this.update(e.source,e.target,e.settings)}update(e,t,n){this.source!==e&&this.source.copyFrom(e),this.target!==t&&this.target.copyFrom(t),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=n.desiredScreenFlow??MK.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(e){let t=this.target.pixelsPerPanAtZoom(e);return this.halfWindowSize/t}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>vD()}get hasFov(){return Math.abs(this.compared.fov)>vD()}get hasRotate(){return this.compared.rotate>vD()}},rbe=class{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}},ibe=class{constructor(){this.segments=[]}get time(){return this.segments.reduce((e,t)=>ih(e+t.time),ih(0))}interpolateComponentsAt(e,t){e=Math.min(Math.max(e,0),1),e*=this.time;let n=0,r=0,i=this.definition,a=this.segments.reduce((e,t)=>e||t.definition.hasZoom,!1);for(let o=0;o<this.segments.length;o++){let s=this.segments[o],c=s.definition;if(e<=s.time||o===this.segments.length-1){if(this.segmentInterpolateComponentsAt(s,s.time===0?0:e/s.time,t),i.hasPan&&!isNaN(t.pan)&&isFinite(i.compared.pan)?t.pan=(n+c.compared.pan*t.pan)/i.compared.pan:t.pan=1,i.hasRotate&&!isNaN(t.rotate)&&isFinite(i.compared.rotate)?t.rotate=(r+c.compared.rotate*t.rotate)/i.compared.rotate:t.rotate=1,a&&!isNaN(t.zoom)&&isFinite(c.compared.targetZoom)){let{sourceZoom:e,targetZoom:n}=c.compared,r=t.zoom*(n-e)+e,i=this.segments[0].definition.compared.sourceZoom,a=this.segments[this.segments.length-1].definition.compared.targetZoom,o=Math.abs(n-i)>Math.abs(e-i)?n:e;t.zoomOffset=o-a,t.zoom=(r-i)/(o-i)}else t.zoom=1;return t}e-=s.time,n+=c.compared.pan,r+=c.compared.rotate}}segmentInterpolateComponentsAt(e,t,n){e.interpolateComponentsAt(t,n)}},PK=class{get time(){return this._time}constructor(e){e&&this.update(e)}update(e){e&&(this.definition?this.definition.copyFrom(e):this.definition=e.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){let e=this.definition,t=e.compared,n=t.sourceZoom,r=t.targetZoom;this._zoomSign=n>r?1:-1,this._panPixelsAtSource=t.pan*e.source.pixelsPerPanAtZoom(n);let i=(e.source.pixelsPerRotate()+e.target.pixelsPerRotate())/2;this._rotatePixels=t.rotate*i}_updatePixelFlow(){let e=this.definition.compared.sourceZoom,t=this.definition.compared.targetZoom,{hasZoom:n,hasPan:r,hasRotate:i}=this.definition,a=0,o=0;n&&(r&&(a=(t/e-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),i&&(o=this._zoomSign*(Math.log(e/t)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;let s=this.definition.desiredPixelFlow;if(n&&r&&i){let e=a+o+a*o;this._zoomPixelFlow=a*o/e*s,this._panPixelFlow=o/e*s,this._rotatePixelFlow=a/e*s}else if(n&&r){let e=1+a;this._zoomPixelFlow=a/e*s,this._panPixelFlow=1/e*s}else if(n&&i){let e=1+o;this._zoomPixelFlow=o/e*s,this._rotatePixelFlow=1/e*s}else if(r&&i){let e=this._panPixelsAtSource/this._rotatePixels,t=1+e;this._panPixelFlow=e/t*s,this._rotatePixelFlow=1/t*s}else r?this._panPixelFlow=s:n?this._zoomPixelFlow=s:i&&(this._rotatePixelFlow=s);if(this._time=ih(Math.max(this.rotateTime,this.zoomTime,this.panTime)),this.fovTime>this._time){let e=this.fovTime/this._time;this._time=this.fovTime,this._zoomPixelFlow/=e,this._panPixelFlow/=e,this._rotatePixelFlow/=e}}get rotateTime(){return this.definition.hasRotate?ih(this._rotatePixels/this._rotatePixelFlow):ih(0)}get zoomTime(){return this.definition.hasZoom?ih(this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow):ih(0)}get fovTime(){return this.definition.hasFov?ih(Math.abs(this.definition.compared.fov)/abe):ih(0)}get panTime(){if(!this.definition.hasPan)return ih(0);if(this.definition.hasZoom){let e=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,t=e*this._panPixelsAtSource;return ih(Math.log(t*(this._zoomPixelFlow/this._panPixelFlow)+1)/(e*this._zoomPixelFlow))}return ih(this._panPixelsAtSource/this._panPixelFlow)}_interpolateComponentsZoom(e){if(e===0||e===1)return e;if(this.definition.hasZoom){let t=this.definition.compared.sourceZoom,n=this.definition.compared.targetZoom;return(t*(t/n)**-e-t)/(n-t)}return e}_interpolateComponentsFov(e){if(e===0)return this.definition.segmentStart;if(e===1)return this.definition.segmentEnd;if(this.definition.hasFov){let{segmentStart:t,segmentEnd:n}=this.definition;return t+e*(n-t)}return this.definition.segmentStart}_interpolateComponentsPan(e){if(e===0||e===1)return e;if(this.definition.hasPan&&this.definition.hasZoom){let t=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(t*e*this._time)-1))/(t*Math.LN2)}return e}_interpolateComponentsRotate(e){return e}interpolateComponentsAt(e,t){e=Math.min(Math.max(e,0),1),t.zoom=this._interpolateComponentsZoom(e),t.pan=this._interpolateComponentsPan(e),t.rotate=this._interpolateComponentsRotate(e),t.zoomOffset=0,t.fov=this._interpolateComponentsFov(e)}},abe=JT(45);function obe(e,t,n){let r=t-e.compared.sourceZoom,i=e.halfWindowPanAtZoom(r);return-e.halfWindowSize*(n.ascensionFactor*Math.LN2*e.compared.pan+i)*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2*i)}function sbe(e,t,n){let r=1/t,i=Math.log(e.compared.sourceZoom*r),a=1/e.desiredPixelFlow,o=1/Math.LN2,s=t-e.compared.sourceZoom,c=1/s,l=(n.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(s))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*r*a*o*c*l-e.halfWindowSize*i*a*o*c+e.halfWindowSize*i*a*o*l/(s*s)}function cbe(e,t,n){let r=t-e.compared.sourceZoom,i=1/r,a=1/t,o=Math.log(e.compared.sourceZoom*a),s=(n.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(r))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*i*(-2*i*a*s+2*i*o+2*a-2*o*s/(r*r)-s/(t*t))/(e.desiredPixelFlow*Math.LN2)}function lbe(e,t){return-e.halfWindowSize*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2)}function ube(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function dbe(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function fbe(e,t,n){return-e.compared.pan*e.halfWindowSize*(n.ascensionFactor+n.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t))}function pbe(e,t,n){return e.compared.pan*e.halfWindowSize*(n.ascensionFactor+n.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t))}function mbe(e,t,n){return-2*e.compared.pan*e.halfWindowSize*(n.ascensionFactor+n.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t*t))}function hbe(e,t,n){return e.halfWindowSize*(-e.halfWindowPanAtZoom(t)-n.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*e.halfWindowPanAtZoom(-t+e.compared.targetZoom))}function gbe(e,t,n){let r=Math.log(t/e.compared.targetZoom),i=1/e.desiredPixelFlow,a=1/Math.LN2,o=-t+e.compared.targetZoom,s=1/o,c=(-e.halfWindowPanAtZoom(t)-n.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return-e.halfWindowSize*r*i*a*s+e.halfWindowSize*r*i*a*c/(o*o)+e.halfWindowSize*i*a*s*c/t}function _be(e,t,n){let r=t-e.compared.targetZoom,i=1/r,a=1/t,o=Math.log(t/e.compared.targetZoom),s=(e.halfWindowPanAtZoom(t)+n.descensionFactor*Math.LN2*e.compared.pan-e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*i*(-2*i*a*s-2*i*o+2*a+2*o*s/(r*r)-s/(t*t))/(e.desiredPixelFlow*Math.LN2)}function vbe(e,t){return e.halfWindowSize*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2)}function ybe(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function bbe(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function xbe(e){let t=e.compared.sourceZoom-e.compared.targetZoom;if(t===0)return e.compared.pan*e.halfWindowSize/(e.desiredPixelFlow*e.halfWindowPanAtZoom(e.compared.sourceZoom));let n=Math.LN2*e.compared.pan,r=t,i=e.halfWindowPanAtZoom(r),a=e.halfWindowSize*Math.log(e.compared.sourceZoom/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*i);return e.compared.sourceZoom<=e.compared.targetZoom?a*(n-i):a*(n+i)}function Sbe(e,t){let n=Cbe(e,t),r={ascensionFactor:t.ascensionFactor==null?.5:t.ascensionFactor,descensionFactor:t.descensionFactor==null?.5:t.descensionFactor},i=r.ascensionFactor===0,a=r.descensionFactor===0,o=i?lbe:obe,s=i?ube:sbe,c=i?dbe:cbe,l=a?vbe:hbe,u=a?ybe:gbe,d=a?bbe:_be,f=t=>o(e,t,r)+fbe(e,t,r)+l(e,t,r),p=t=>s(e,t,r)+pbe(e,t,r)+u(e,t,r),m=t=>c(e,t,r)+mbe(e,t,r)+d(e,t,r),h=f(n),g=xbe(e),_,v=t.maximumIterations||20,y=t.maximumDistance==null?1/0:t.maximumDistance;for(_=0;_<v;_++){let r=t.desiredSlope??1e-6,i=p(n);Math.abs(i)>r&&(i+=r);let a=i/m(n);if(isNaN(a)||n>=y&&a<0){if(!isFinite(y))return null;n=y,h=f(n);break}if(n-=a,n<=e.compared.sourceZoom||n<=e.compared.targetZoom)return null;let o=f(n);if(Math.abs(o-h)/h<=.005)break;h=o}return isNaN(h)||h>g*.7||n<=e.compared.sourceZoom||n<=e.compared.targetZoom?null:n}function Cbe(e,t){let n=Math.max(e.compared.sourceZoom,e.compared.targetZoom),r=e.source.zoomAtPixelsPerPan(e.desiredPixelFlow/e.compared.pan)/2;return r<n?t.maximumDistance==null?1.5*n:n+(t.maximumDistance-n)/2:t.maximumDistance?Math.min(t.maximumDistance,r):r}var wbe=class extends ibe{constructor(e,t){super(),this._preallocSegments=[new PK,new PK,new PK],this._ascensionSegment=null,this._descensionSegment=null,this.update(e,t)}update(e,t){if(!e)return;this.definition?this.definition.copyFrom(e):this.definition=e.clone();let n=t?.apex?Sbe(e,t.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,n?this._updateWithApex(n,t?.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(e,t,n){e.interpolateComponentsAt(t,n),e===this._ascensionSegment?n.zoom=ZG(n.zoom):e===this._descensionSegment&&(n.zoom=XG(n.zoom))}_updateWithApex(e,t){let[n,r,i]=this._preallocSegments,a=t?.ascensionFactor??.5,o=Math.min(1-a,t?.ascensionFactor!=null&&t.descensionFactor!=null?t.descensionFactor:.5),s=1-a-o;n.definition?n.definition.copyFrom(this.definition):n.definition=this.definition.clone(),n.definition.compared.targetZoom=e,n.definition.compared.pan=this.definition.compared.pan*a,n.definition.compared.rotate=this.definition.compared.rotate*a,n.definition.segmentEnd=a,n.update(),this._ascensionSegment=n,this.segments.push(n),s>0&&(r.definition?r.definition.copyFrom(this.definition):r.definition=this.definition.clone(),r.definition.copyFrom(this.definition),r.definition.compared.sourceZoom=e,r.definition.compared.targetZoom=e,r.definition.compared.pan=this.definition.compared.pan*s,r.definition.compared.rotate=this.definition.compared.rotate*s,r.definition.segmentStart=n.definition.segmentEnd,r.definition.segmentEnd=n.definition.segmentEnd+s,r.update(),this.segments.push(r)),i.definition?i.definition.copyFrom(this.definition):i.definition=this.definition.clone(),i.definition.compared.sourceZoom=e,i.definition.compared.pan=this.definition.compared.pan*o,i.definition.compared.rotate=this.definition.compared.rotate*o,i.definition.segmentStart=a+s,i.update(),this._descensionSegment=i,this.segments.push(i)}_updateWithoutApex(){let[e]=this._preallocSegments;e.update(this.definition),this.segments.push(e)}},Tbe=new rbe,Ebe=class{get time(){return this._time}get isLinear(){return this.path.segments.length===1}constructor(e){this._time=nh(0),this._easing=xK,this.definition=new nbe(e),this.path=new wbe}update(e,t,n){this.definition.update(e,t,n),this.path.update(this.definition,n),this._time=this._applyTimeSettings(rh(isFinite(this.path.time)?this.path.time:ih(0)),n),this._easing=n.easing??(this._time>=1e3?xK:fK)}cameraAt(e,t){e=Math.min(Math.max(0,e),1),e=this._normalizedEasing(e);let n=this.path.interpolateComponentsAt(e,Tbe);t.interpolate(this.definition.source,this.definition.target,n)}_normalizedEasing(e){let t=this._easing(0,this._time),n=this._easing(1,this._time);return(this._easing(e,this._time)-t)/(n-t)}_applyTimeSettings(e,t){let n=t.speedFactor==null?1:t.speedFactor,r=t.minDuration??MK.minDuration/n,i=t.maxDuration??MK.maxDuration/n;return e=t.duration==null?nh(Math.min(Math.max(e/n,r),i)):nh(t.duration)}},Dbe=2e3,Obe=64,kbe=class{constructor(e){this._view=e,this._animation=new Ebe(()=>new qG(this._view)),this._current=new qG(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(e,t,n={}){bU(this._current.viewpoint,e),bU(this._source.viewpoint,e),bU(this._target.viewpoint,t),this._animation.update(this._source,this._target,n)}applyRatio(e,t){this._animation.cameraAt(t,this._current),bU(e,this._current.viewpoint)}},FK=class extends I{constructor(e){super(e),this._animation=null,this._destinationViewState=new iW,this.updateFunction=null,this.easing=jK.ease,this.viewpoint=new $j({targetGeometry:new Vy,scale:0,rotation:0}),this._updateTask=mh({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new kbe(e.view)}destroy(){this._updateTask=qd(this._updateTask)}get animation(){return this._animation}set animation(e){this._animation=e,this.view.animation=e}animate(e,t,n){this.stop();let r=this.viewpoint;bU(r,t);let i=e.target;this._transition.update(this.viewpoint,i,{apex:{maximumDistance:Math.min(Math.min(t.scale,i.scale)*Obe,this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:n?.duration,maxDuration:n?.animationMode===`auto`?nh(1/0):n?.maxDuration??NK.maxDuration,speedFactor:n?.speedFactor,easing:(typeof n?.easing==`string`?jK[n.easing]:n?.easing)||this.easing}),n?.animationMode===`auto`&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=i,Abe(this._transition.animation,n,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,i,{duration:nh(0)}));let a=()=>{this.animation===e&&this._updateTask&&(e.state===`finished`&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return e.when(a,a),this._startTime=performance.now(),this._updateTask.resume(),this.animation=e,e}animateContinuous(e,t){this.stop(),this.updateFunction=t,this.viewpoint=e;let n=new LW({target:e.clone()}),r=()=>{this.animation===n&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return n.when(r,r),this._startTime=performance.now(),this._updateTask.resume(),this.animation=n,n}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(e){let t=this.animation;if(t&&t.state!==LW.state.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,e.deltaTime),this.animation?.update(this.viewpoint);else{let e=performance.now()-this._startTime,t=this._transition.duration,n=t>0?e/t:1,r=n>=1;this._transition.applyRatio(this.viewpoint,n),r&&this.animation?.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};function Abe(e,t,n,r){if(t?.duration!=null)return!0;let{time:i,isLinear:a}=e,o=t?.speedFactor||1;if(i>(t?.maxDuration??NK.maxDuration/o))return!1;if(a){let e=1.5,t=TH(),a=pj(...r.toScreen(t,...n.center)),s=pj(...n.toScreen(t,...r.center)),c=s!=null&&s.x>-1*n.size[0]&&s.x<(e+.5)*n.size[0]&&s.y>-1*n.size[1]&&s.y<(e+.5)*n.size[1],l=a!=null&&a.x>-1*r.size[0]&&a.x<(e+.5)*r.size[0]&&a.y>-1*r.size[1]&&a.y<(e+.5)*r.size[1];if(i>Dbe/o&&!c&&!l)return!1}return!0}O([P()],FK.prototype,`easing`,void 0),O([P()],FK.prototype,`view`,void 0),O([P()],FK.prototype,`viewpoint`,void 0),FK=O([F(`esri.views.2d.AnimationManager`)],FK);var jbe=FK;function IK(){return Promise.all([N(()=>import(`./webglDeps-DGwTBPOk.js`),__vite__mapDeps([279,3,228,280,281,282,283,63])),N(()=>import(`./mapViewDeps-3moYDkzu.js`),__vite__mapDeps([284,22,155,96,97,98,99,100,44,3,101,102,103,104,1,134,126,285,46,47,48,286,287,159,115,64,228,281,283,63,227,80,107,23,24,288,289,43,45,110,27,92,93,114,106,116,117,118,221,290,291,292,293,294,295,194,296,280,120,297,298,157,299,300,301,302,166,282,199,303,121,304,305,122,306,307,308]))])}var LK=()=>IK().then(()=>N(()=>import(`./TileLayerView2D-BasuIK3x.js`),__vite__mapDeps([309,155,96,97,98,99,100,44,3,101,102,103,104,1,134,126,285,46,47,48,286,287,159,115,64,228,281,283,63,227,80,107,288,43,45,110,27,92,93,310,114,106,116,117,118,311,312,313,314,291,292,294,295,194,296,280,120,297,298,157,299,300,301,315,316,317,304,305,122,318,258,319,166,320,321,322,199]))),RK=()=>IK().then(()=>N(()=>import(`./FeatureLayerView2D-DXcbIcI3.js`),__vite__mapDeps([323,324,325,97,96,98,99,100,44,3,101,102,103,104,285,155,126,46,47,48,286,287,159,115,64,228,281,283,63,227,288,111,326,232,57,119,95,1,327,310,328,83,81,82,80,84,329,45,52,293,294,118,116,295,194,117,296,280,300,301,318,258,330,122,320,321,314,322,331]))),zK={"base-dynamic":()=>IK().then(()=>N(()=>import(`./BaseDynamicLayerView2D-DUSMl__m.js`),__vite__mapDeps([332,155,126,285,3,44,46,47,48,286,287,159,115,103,64,228,281,283,63,227,315,295,194,316,333,318,258,334,320,321,280]))),"base-tile":LK,"bing-maps":LK,catalog:()=>IK().then(()=>N(()=>import(`./CatalogLayerView2D-BLxzv3Rf.js`),__vite__mapDeps([335,287,286,318,258,320]))),"catalog-dynamic-group":()=>IK().then(()=>N(()=>import(`./CatalogDynamicGroupLayerView2D-D4highGD.js`),__vite__mapDeps([336,287,286,318,258,320]))),"catalog-footprint":()=>IK().then(()=>N(()=>import(`./CatalogFootprintLayerView2D-fULRFWda.js`),__vite__mapDeps([337,324,325,97,96,98,99,100,44,3,101,102,103,104,285,155,126,46,47,48,286,287,159,115,64,228,281,283,63,227,288,111,326,232,57,119,95,1,327,310,328,83,81,82,80,84,329,45,52,293,294,118,116,295,194,117,296,280,300,301,318,258,330,122,320,321,314,322,331]))),csv:RK,"geo-rss":()=>IK().then(()=>N(()=>import(`./GeoRSSLayerView2D-B5VEkNIH.js`),__vite__mapDeps([338,155,96,97,98,99,100,44,3,101,102,103,1,134,126,285,46,47,48,286,287,159,115,64,228,281,283,63,227,288,43,45,110,27,92,93,114,106,116,117,118,291,292,294,295,194,296,280,300,301,304,305,122,318,258,308,320]))),feature:RK,geojson:RK,parquet:RK,graphics:()=>IK().then(()=>N(()=>import(`./GraphicsLayerView2D-DSmsUyci.js`),__vite__mapDeps([339,155,96,97,98,99,100,44,3,101,102,103,1,134,126,285,46,47,48,286,287,159,115,64,228,281,283,63,227,288,43,45,110,27,92,93,114,106,116,117,118,291,292,294,295,194,296,280,300,301,304,305,122,318,258,308,320,322]))),group:()=>IK().then(()=>N(()=>import(`./GroupLayerView2D-f5-gQutS.js`),__vite__mapDeps([340,287,286,318,258,320]))),imagery:()=>IK().then(()=>N(()=>import(`./ImageryLayerView2D-Cw9MsW3_.js`),__vite__mapDeps([341,155,96,97,98,99,100,44,3,101,102,103,1,134,126,285,46,47,48,286,287,159,115,64,228,281,283,63,227,288,43,45,110,27,92,93,135,136,114,106,116,117,275,137,140,118,328,331,291,292,294,295,194,296,280,300,301,315,316,333,342,142,304,305,122,318,258,319,334,230,320,321,314,322]))),"imagery-tile":()=>IK().then(()=>N(()=>import(`./ImageryTileLayerView2D-wi3IJNUO.js`),__vite__mapDeps([343,155,126,285,3,44,46,47,48,286,287,159,115,103,64,228,281,283,63,227,344,135,136,345,140,346,275,139,137,328,331,342,142,301,295,194,316,117,296,306,318,258,230,320,321,314,322,280,347]))),kml:()=>IK().then(()=>N(()=>import(`./KMLLayerView2D-D4fONZaf.js`),__vite__mapDeps([348,22,155,96,97,98,99,100,44,3,101,102,103,1,134,126,285,46,47,48,286,287,159,115,64,228,281,283,63,227,23,24,288,43,45,110,27,92,93,349,114,106,116,117,140,118,291,292,294,295,194,296,280,300,301,315,316,333,302,166,282,299,199,304,305,122,318,258,308,320,347]))),"knowledge-graph":()=>IK().then(()=>N(()=>import(`./KnowledgeGraphLayerView2D-CVDvMwhy.js`),__vite__mapDeps([350,287,286,318,258,320]))),"link-chart":()=>IK().then(()=>N(()=>import(`./KnowledgeGraphLayerView2D-CVDvMwhy.js`),__vite__mapDeps([350,287,286,318,258,320]))),"knowledge-graph-sublayer":RK,"map-image":()=>IK().then(()=>N(()=>import(`./MapImageLayerView2D-CZVXLDsG.js`),__vite__mapDeps([351,155,96,97,98,99,100,44,3,101,102,103,1,134,126,285,46,47,48,286,287,159,115,64,228,281,283,63,227,288,43,45,110,27,92,93,352,310,311,114,106,116,117,118,328,312,313,314,331,291,292,294,295,194,296,280,300,301,315,316,333,304,305,122,318,258,319,334,320,321,322]))),"map-notes":()=>IK().then(()=>N(()=>import(`./MapNotesLayerView2D-UBFDm3k7.js`),__vite__mapDeps([353,155,96,97,98,99,100,44,3,101,102,103,1,134,126,285,46,47,48,286,287,159,115,64,228,281,283,63,227,288,43,45,110,27,92,93,114,106,116,117,118,291,292,294,295,194,296,280,300,301,304,305,122,318,258,308,320,322]))),media:()=>IK().then(()=>N(()=>import(`./MediaLayerView2D-Kje8wRrk.js`),__vite__mapDeps([354,155,96,97,98,99,100,44,3,101,102,103,104,1,134,126,285,46,47,48,286,287,159,115,64,228,281,283,63,227,80,355,110,107,288,43,45,27,92,93,114,106,116,117,118,291,292,294,295,194,296,280,120,297,298,157,299,356,306,303,305,122,318,258,166,320,199]))),"ogc-feature":()=>IK().then(()=>N(()=>import(`./OGCFeatureLayerView2D-CUTBmpNe.js`),__vite__mapDeps([357,324,325,97,96,98,99,100,44,3,101,102,103,104,285,155,126,46,47,48,286,287,159,115,64,228,281,283,63,227,288,111,326,232,57,119,95,1,327,310,328,83,81,82,80,84,329,45,52,293,294,118,116,295,194,117,296,280,300,301,318,258,330,122,320,321,314,322,331]))),"open-street-map":LK,"oriented-imagery":RK,route:()=>IK().then(()=>N(()=>import(`./RouteLayerView2D-D7eUXbS_.js`),__vite__mapDeps([358,155,96,97,98,99,100,44,3,101,102,103,1,134,126,285,46,47,48,286,287,159,115,64,228,281,283,63,227,288,43,45,110,27,92,93,114,106,116,117,118,359,360,361,291,292,294,295,194,296,280,300,301,304,305,122,318,258,308,320,322]))),stream:()=>IK().then(()=>N(()=>import(`./StreamLayerView2D-_utHuxpm.js`),__vite__mapDeps([362,324,325,97,96,98,99,100,44,3,101,102,103,104,285,155,126,46,47,48,286,287,159,115,64,228,281,283,63,227,288,111,326,232,57,119,95,1,327,310,328,83,81,82,80,84,329,45,52,293,294,118,116,295,194,117,296,280,300,301,318,258,330,122,320,321,314,322,331]))),"subtype-group":()=>IK().then(()=>N(()=>import(`./SubtypeGroupLayerView2D-FJiWjTRF.js`),__vite__mapDeps([363,324,325,97,96,98,99,100,44,3,101,102,103,104,285,155,126,46,47,48,286,287,159,115,64,228,281,283,63,227,288,111,326,232,57,119,95,1,327,310,328,83,81,82,80,84,329,45,52,293,294,118,116,295,194,117,296,280,300,301,318,258,330,122,320,321,314,322,331]))),tile:LK,"vector-tile":()=>IK().then(()=>N(()=>import(`./VectorTileLayerView2D-BUOEORBz.js`),__vite__mapDeps([364,155,134,98,126,285,3,44,46,47,48,286,287,159,115,103,64,228,281,283,63,227,39,80,101,156,157,158,298,102,301,318,258,320,321]))),video:()=>IK().then(()=>N(()=>import(`./VideoLayerView2D-B0FzM42I.js`),__vite__mapDeps([365,155,96,97,98,99,100,44,3,101,102,103,1,134,126,285,46,47,48,286,287,159,115,64,228,281,283,63,227,288,43,45,110,27,366,92,93,367,368,245,244,246,114,106,116,117,118,291,292,294,295,194,296,280,300,301,356,306,304,305,122,318,258,308,320]))),wcs:()=>IK().then(()=>N(()=>import(`./ImageryTileLayerView2D-wi3IJNUO.js`),__vite__mapDeps([343,155,126,285,3,44,46,47,48,286,287,159,115,103,64,228,281,283,63,227,344,135,136,345,140,346,275,139,137,328,331,342,142,301,295,194,316,117,296,306,318,258,230,320,321,314,322,280,347]))),"web-tile":LK,wfs:RK,wms:()=>IK().then(()=>N(()=>import(`./WMSLayerView2D-B6jlw0Ak.js`),__vite__mapDeps([369,155,126,285,3,44,46,47,48,286,287,159,115,103,64,228,281,283,63,227,370,328,331,315,295,194,316,333,318,258,334,320,321,280]))),wmts:()=>IK().then(()=>N(()=>import(`./WMTSLayerView2D-CpYGl0dt.js`),__vite__mapDeps([371,155,126,285,3,44,46,47,48,286,287,159,115,103,64,228,281,283,63,227,315,295,194,316,317,301,318,258,320,321,280]))),"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"gaussian-splat":null,"integrated-mesh-3dtiles":null,"integrated-mesh":null,"line-of-sight":null,"point-cloud":null,scene:null,unknown:null,unsupported:null,viewshed:null,voxel:null};function Mbe(e){let t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(`.`)+1):`Unknown`,n=t.replaceAll(/([a-z])([A-Z])/g,`$1-$2`).toLowerCase();return new M(`${n}:view-not-supported`,`${t} is not supported in 2D`)}var BK={hasLayerViewModule:e=>zK[e.type]!=null,importLayerView:e=>{let t=zK[e.type];if(t==null)throw Mbe(e);return t(e)}},VK=class e{static{this.pool=new Gp(()=>new e(``),null,null,25,50)}static getId(e,t,n,r){return typeof e==`object`?`${e.level}/${e.row}/${e.col}/${e.world}`:`${e}/${t}/${n}/${r}`}constructor(e,t,n,r){this.set(e,t,n,r)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(e){this.set(e)}get hash(){let e=4095&this.row,t=4095&this.col,n=63&this.level;return(3&this.world)<<30|t<<22|e<<8|n}acquire(e,t,n,r){this.set(e,t,n,r)}contains(e){let t=e.level-this.level;return t>=0&&this.row===e.row>>t&&this.col===e.col>>t&&this.world===e.world}containsChild(e){let t=e.level-this.level;return t>0&&this.row===e.row>>t&&this.col===e.col>>t&&this.world===e.world}equals(e){return this.level===e.level&&this.row===e.row&&this.col===e.col&&this.world===e.world}clone(){return new e(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(e,t,n,r){if(e==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof e==`object`)this.level=e.level||0,this.row=e.row||0,this.col=e.col||0,this.world=e.world||0;else if(typeof e==`string`){let[t,n,r,i]=e.split(`/`);this.level=parseFloat(t),this.row=parseFloat(n),this.col=parseFloat(r),this.world=parseFloat(i)}else this.level=+e,this.row=+t,this.col=+n,this.world=+r||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new e(this.level-1,this.row>>1,this.col>>1,this.world)}getNormalizedNeighbor(e,t,n){let r=this.clone();return r.col+=e,r.row+=t,n.normalizeKey(r),r}getChildKeys(){let t=this.level+1,n=this.row<<1,r=this.col<<1,i=this.world;return[new e(t,n,r,i),new e(t,n,r+1,i),new e(t,n+1,r,i),new e(t,n+1,r+1,i)]}compareRowMajor(e){return this.row<e.row?-1:this.row>e.row?1:this.col<e.col?-1:this.col>e.col?1:0}};function HK(e,t){return[e,t]}function UK(e,t,n){return e[0]=t,e[1]=n,e}function Nbe(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}var WK=new VK(`0/0/0/0`),Pbe=class e{static create(t,n,r=null){let i=yv(t.spatialReference),a=n.origin||HK(t.origin.x,t.origin.y),o=HK(t.size[0]*n.resolution,t.size[1]*n.resolution),s=HK(-1/0,-1/0),c=HK(1/0,1/0),l=HK(1/0,1/0);r!=null&&(UK(s,Math.max(0,Math.floor((r.xmin-a[0])/o[0])),Math.max(0,Math.floor((a[1]-r.ymax)/o[1]))),UK(c,Math.max(0,Math.floor((r.xmax-a[0])/o[0])),Math.max(0,Math.floor((a[1]-r.ymin)/o[1]))),UK(l,c[0]-s[0]+1,c[1]-s[1]+1));let{cols:u,rows:d}=n,f,p,m,h;return!r&&u&&d&&(UK(s,u[0],d[0]),UK(c,u[1],d[1]),UK(l,u[1]-u[0]+1,d[1]-d[0]+1)),t.isWrappable?(f=HK(Math.ceil(Math.round((i.valid[1]-i.valid[0])/n.resolution)/t.size[0]),l[1]),p=!0,m=i.origin,h=i.valid):(f=l,p=!1),new e(n.level,n.resolution,n.scale,a,s,c,l,o,f,p,m,h)}constructor(e,t,n,r,i,a,o,s,c,l,u,d){this.level=e,this.resolution=t,this.scale=n,this.origin=r,this.first=i,this.last=a,this.size=o,this.norm=s,this.worldSize=c,this.wrap=l,this._spatialReferenceOrigin=u,this._spatialReferenceValid=d}normalizeCol(e){if(!this.wrap)return e;let t=this.worldSize[0];return e<0?t-1-Math.abs((e+1)%t):e%t}normalizeKey(e){if(!this.wrap)return;let t=this.worldSize[0],n=e.col;n<0?(e.col=n+t,--e.world):n>=t&&(e.col=n-t,e.world+=1)}denormalizeCol(e,t){return this.wrap?this.worldSize[0]*t+e:e}getWorldForColumn(e){return this.wrap?Math.floor(e/this.worldSize[0]):0}getFirstColumnForWorld(e){return e*this.worldSize[0]+this.first[0]}getLastColumnForWorld(e){return e*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(e){return(e-this.origin[0])/this.norm[0]}getXForColumn(e){let t=this.origin[0]+e*this.norm[0],n=this._spatialReferenceOrigin,r=this._spatialReferenceValid;return this.wrap&&n&&r?t===n[0]?r[0]:this.origin[0]===n[0]&&e===this.worldSize[0]?r[1]:t:t}getRowForY(e){return(this.origin[1]-e)/this.norm[1]}getYForRow(e){return this.origin[1]-e*this.norm[1]}getTileBounds(e,t,n=!1){WK.set(t);let r=n?WK.col:this.denormalizeCol(WK.col,WK.world),i=WK.row;return Nbe(e,this.getXForColumn(r),this.getYForRow(i+1),this.getXForColumn(r+1),this.getYForRow(i)),e}getTileCoords(e,t,n=!1){WK.set(t);let r=n?WK.col:this.denormalizeCol(WK.col,WK.world);return Array.isArray(e)?UK(e,this.getXForColumn(r),this.getYForRow(WK.row)):(e.x=this.getXForColumn(r),e.y=this.getYForRow(WK.row)),e}},GK=class e{constructor(){this.spans=[]}static{this.pool=new Gp(()=>new e)}acquire(e){this.lodInfo=e}release(){this.lodInfo=null,this.spans.length=0}*keys(){let e=this.lodInfo;for(let{row:t,colFrom:n,colTo:r}of this.spans)for(let i=n;i<=r;i++){let n=e.getWorldForColumn(i);yield new VK(e.level,t,e.normalizeCol(i),n)}}forEach(e,t){let{spans:n,lodInfo:r}=this,{level:i}=r;if(n.length!==0)for(let{row:a,colFrom:o,colTo:s}of n)for(let n=o;n<=s;n++)e.call(t,i,a,r.normalizeCol(n),r.getWorldForColumn(n))}},KK=class{constructor(e,t,n){this.row=e,this.colFrom=t,this.colTo=n}},qK=new VK(`0/0/0/0`),Fbe=class e{static create(t,n){t[1]>n[1]&&([t,n]=[n,t]);let[r,i]=t,[a,o]=n,s=a-r,c=o-i,l=c===0?0:s/c,u=(Math.ceil(i)-i)*l,d=(Math.floor(i)-i)*l;return new e(r,Math.floor(i),Math.ceil(o),l,s<0?u:d,s<0?d:u,s<0?a:r,s<0?r:a)}constructor(e,t,n,r,i,a,o,s){this.x=e,this.ymin=t,this.ymax=n,this.invM=r,this.leftAdjust=i,this.rightAdjust=a,this.leftBound=o,this.rightBound=s}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}},JK=[[0,0],[0,0],[0,0],[0,0]],Ibe=1e-6,YK=class{constructor(e,t=null,n=e.lods[0].level,r=e.lods[e.lods.length-1].level){this.tileInfo=e,this.fullExtent=t,this.scales=[],this._infoByScale={},this._infoByLevel={};let i=e.lods.filter(e=>e.level>=n&&e.level<=r);this.minScale=i[0].scale,this.maxScale=i[i.length-1].scale;let a=this._lodInfos=i.map(n=>Pbe.create(e,n,t));i.forEach((e,t)=>{this._infoByLevel[e.level]=a[t],this._infoByScale[e.scale]=a[t],this.scales[t]=e.scale},this),this._wrap=e.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(e){return this._infoByLevel[typeof e==`number`?e:e.level]}getTileBounds(e,t,n=!1){qK.set(t);let r=this._infoByLevel[qK.level];return r?r.getTileBounds(e,qK,n):e}getTileCoords(e,t,n=!1){qK.set(t);let r=this._infoByLevel[qK.level];return r?r.getTileCoords(e,qK,n):e}getTileCoverage(e,t=192,n=!0,r=`closest`){if(!n&&(e.scale>this.minScale||e.scale<this.maxScale))return null;let i=r===`closest`?this.getClosestInfoForScale(e.scale):this.getSmallestInfoForScale(e.scale),a=GK.pool.acquire(i),o=this._wrap,s,c,l,u=1/0,d=-1/0,f=a.spans;JK[0][0]=JK[0][1]=JK[1][1]=JK[3][0]=-t,JK[1][0]=JK[2][0]=e.size[0]+t,JK[2][1]=JK[3][1]=e.size[1]+t;for(let t of JK)e.toMap(t,t),t[0]=i.getColumnForX(t[0]),t[1]=i.getRowForY(t[1]);let p=[],m=3;for(let e=0;e<4;e++){if(JK[e][1]===JK[m][1]){m=e;continue}let t=Fbe.create(JK[e],JK[m]);u=Math.min(t.ymin,u),d=Math.max(t.ymax,d),p[t.ymin]===void 0&&(p[t.ymin]=[]),p[t.ymin].push(t),m=e}if(u==null||d==null||d-u>100)return null;let h=[];for(s=u;s<d;){p[s]!=null&&(h=h.concat(p[s])),c=1/0,l=-1/0;for(let e=h.length-1;e>=0;e--){let t=h[e];c=Math.min(c,t.getLeftCol()),l=Math.max(l,t.getRightCol())}if(c=Math.floor(c),l=Math.floor(l),s>=i.first[1]&&s<=i.last[1])if(o)if(i.size[0]<i.worldSize[0]){let e=Math.floor(l/i.worldSize[0]);for(let t=Math.floor(c/i.worldSize[0]);t<=e;t++)f.push(new KK(s,Math.max(i.getFirstColumnForWorld(t),c),Math.min(i.getLastColumnForWorld(t),l)))}else f.push(new KK(s,c,l));else c>i.last[0]||l<i.first[0]||(c=Math.max(c,i.first[0]),l=Math.min(l,i.last[0]),f.push(new KK(s,c,l)));s+=1;for(let e=h.length-1;e>=0;e--){let t=h[e];t.ymax>=s?t.incrRow():h.splice(e,1)}}return a}getTileParentId(e){qK.set(e);let t=this._infoByLevel[qK.level],n=this._lodInfos.indexOf(t)-1;return n<0?null:(this._getTileIdAtLOD(qK,this._lodInfos[n],qK),qK.id)}getTileResolution(e){let t=this._infoByLevel[typeof e==`object`?e.level:e];return t?t.resolution:-1}getTileScale(e){let t=this._infoByLevel[e.level];return t?t.scale:-1}intersects(e,t){qK.set(t);let n=this._infoByLevel[qK.level],r=e.lodInfo;if(r.resolution>n.resolution){this._getTileIdAtLOD(qK,r,qK);let t=r.denormalizeCol(qK.col,qK.world);for(let n of e.spans)if(n.row===qK.row&&n.colFrom<=t&&n.colTo>=t)return!0}if(r.resolution<n.resolution){let[t,i,a,o]=e.spans.reduce((e,t)=>(e[0]=Math.min(e[0],t.row),e[1]=Math.max(e[1],t.row),e[2]=Math.min(e[2],t.colFrom),e[3]=Math.max(e[3],t.colTo),e),[1/0,-1/0,1/0,-1/0]),s=n.denormalizeCol(qK.col,qK.world),c=r.getColumnForX(n.getXForColumn(s)),l=r.getRowForY(n.getYForRow(qK.row)),u=r.getColumnForX(n.getXForColumn(s+1))-1,d=r.getRowForY(n.getYForRow(qK.row+1))-1;return!(c>o||u<a||l>i||d<t)}let i=r.denormalizeCol(qK.col,qK.world);return e.spans.some(e=>e.row===qK.row&&e.colFrom<=i&&e.colTo>=i)}normalizeBounds(e,t,n){if(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],this._wrap){let t=yv(this.tileInfo.spatialReference),r=-n*(t.valid[1]-t.valid[0]);e[0]+=r,e[2]+=r}return e}getSmallestInfoForScale(e){let t=this.scales;if(this._infoByScale[e])return this._infoByScale[e];if(e>t[0])return this._infoByScale[t[0]];for(let n=1;n<t.length-1;n++)if(e>t[n]+Ibe)return this._infoByScale[t[n-1]];return this._infoByScale[t[t.length-1]]}getClosestInfoForScale(e){let t=this.scales;return this._infoByScale[e]||(e=t.reduce((t,n)=>Math.abs(n-e)<Math.abs(t-e)?n:t,t[0])),this._infoByScale[e]}scaleToLevel(e){let t=this.scales;if(this._infoByScale[e])return this._infoByScale[e].level;for(let n=t.length-1;n>=0;n--)if(e<t[n])return n===t.length-1?this._infoByScale[t[t.length-1]].level:this._infoByScale[t[n]].level+(t[n]-e)/(t[n]-t[n+1]);return this._infoByScale[t[0]].level}scaleToZoom(e){return this.tileInfo.scaleToZoom(e)}zoomToScale(e){return this.tileInfo.zoomToScale(e)}_getTileIdAtLOD(e,t,n){let r=this._infoByLevel[n.level];return e.set(n),t.resolution<r.resolution?null:(t.resolution===r.resolution||(e.level=t.level,e.col=Math.floor(n.col*r.resolution/t.resolution+.01),e.row=Math.floor(n.row*r.resolution/t.resolution+.01)),e)}},Lbe=class{constructor(e,t){this.item=e,this.controller=t,this.promise=null}},XK=class{constructor(e){this._schedule=null,this._task=null,this._deferreds=new jB,this._controllers=new jB,this._processingItems=new jB,this._pausedSignal=cP(!1),this.concurrency=1,e.concurrency&&(this.concurrency=e.concurrency),this._queue=new tM(e.peeker),this.process=e.process;let t=e.scheduler;e.priority&&t&&(this._task=t.registerTask(e.priority,this))}destroy(){this.clear(),this._schedule=qd(this._schedule),this._task=qd(this._task)}get updating(){return!!this._task?.updating||this.readyToRun}get length(){return this._processingItems.size+this._queue.length}abort(e){let t=this._controllers.get(e);t&&t.abort()}clear(){this._queue.clear();let e=[];this._controllers.forEach(t=>e.push(t)),this._controllers.clear(),e.forEach(e=>e.abort()),this._processingItems.clear(),this._cancelNext()}forEach(e){this._deferreds.forEach((t,n)=>e(n))}get(e){let t=this._deferreds.get(e);return t?t.promise:void 0}isOngoing(e){return this._processingItems.has(e)}has(e){return this._deferreds.has(e)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(e,t){let n=this.get(e);if(n)return n;let r=new AbortController,i=null;t&&(i=af(t,()=>r.abort()));let a=()=>{let t=this._processingItems.get(e);t&&t.controller.abort(),o(),c.reject(Qd())},o=()=>{s.remove(),i?.remove(),this._removeItem(e),this._queue.remove(e),this._scheduleNext()},s=sf(r.signal,a),c=yf();return this._deferreds.set(e,c),this._controllers.set(e,r),c.promise.then(o,o),this._queue.push(e),this._scheduleNext(),c.promise}last(){return this._queue.last()}lastPromise(){let e=this.last();return e?this.get(e):null}peek(){return this._queue.peek()}popLast(){let e=this._queue.popLast();return e&&(this._deferreds.get(e)?.reject(Qd()),this._removeItem(e)),e}reset(){let e=Array.from(this._processingItems.values());this._processingItems.clear();for(let t of e)this._queue.push(t.item),t.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){let e=[];for(;this._queue.length;)e.push(this._queue.pop());return this.clear(),e}get readyToRun(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(e){for(;!e.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),e.madeProgress()}_removeItem(e){this._deferreds.delete(e),this._controllers.delete(e),this._processingItems.delete(e)}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=ph(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&=(this._schedule.remove(),null)}_processResult(e,t){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(t))}_processError(e,t){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(t))}_canProcessFulfillment(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}_process(e){if(e==null)return;let t,n=new AbortController,r=new Lbe(e,n);this._processingItems.set(e,r);try{t=this.process(e,n.signal)}catch(e){this._processError(r,e)}gf(t)?(r.promise=t,t.then(e=>this._processResult(r,e),e=>this._processError(r,e))):this._processResult(r,t)}get test(){}},ZK=[0,0],QK=class extends I{constructor(e){super(e),this._keyToItem=new Map,this._tilesByScale=new Map,this.concurrency=6}initialize(){let{concurrency:e,process:t,scheduler:n,priority:r}=this;this._queue=new XK({concurrency:e,scheduler:n,priority:r,process:(e,n)=>{let r=this._keyToItem.get(e);return t(r,{signal:n})},peeker:e=>this._peek(e)})}destroy(){this.clear(),this._queue=Gd(this._queue)}get length(){return this._queue?this._queue.length:0}abort(e){let t=typeof e==`string`?e:e.id;this._queue.abort(t)}clear(){this._queue.clear(),this._keyToItem.clear(),this._tilesByScale.clear()}has(e){return typeof e==`string`?this._keyToItem.has(e):this._keyToItem.has(e.id)}pause(){this._queue.pause()}push(e){let t=e.key.id;if(this._queue.has(t))return this._queue.get(t);let n=this._queue.push(t),r=this.tileInfoView.getTileScale(e.key),i=Cd(this._tilesByScale,r,()=>new Set),a=()=>{i.delete(e.key),i.size===0&&this._tilesByScale.delete(r),this._keyToItem.delete(t)};return i.add(e.key),this._keyToItem.set(t,e),n.then(a,a),n}reset(){this._queue.reset()}resume(){this._queue.resume()}_peek(e){if(!this.state)return e.values().next().value;let t=new Set;for(let n of e)t.add(this._keyToItem.get(n).key);let n=this.state.scale,r,i=1/0;for(let[e,a]of this._tilesByScale)if(Ch(a,e=>t.has(e))){let t=Math.abs(e-n);t<i&&(r=a,i=t)}return this._getClosestTileKey(r,e).id}_getClosestTileKey(e,t){let n=this.tileInfoView,r=this.state.center,i,a=1/0;for(let o of e)if(t.has(o.id)){n.getTileCoords(ZK,o);let e=MD(ZK,r);e<a&&(a=e,i=o)}return i}};O([P({constructOnly:!0})],QK.prototype,`concurrency`,void 0),O([P({constructOnly:!0})],QK.prototype,`priority`,void 0),O([P({constructOnly:!0})],QK.prototype,`process`,void 0),O([P({constructOnly:!0})],QK.prototype,`scheduler`,void 0),O([P()],QK.prototype,`state`,void 0),O([P({constructOnly:!0})],QK.prototype,`tileInfoView`,void 0),QK=O([F(`esri.views.2d.tiling.TileQueue`)],QK);var Rbe=QK,zbe=class{constructor(e,t,n){this.maxSize=e,this._tileInfoView=t,this._removedFunc=n,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(e){return this._tilePerId.has(e)}get(e){return this._tilePerId.get(e)}pop(e){let t=this._tilePerId.get(e);if(!t)return;let n=t.key.level,r=this._tileKeysPerLevel[n];$K(this._tilePerId,e);for(let t=0;t<r.length;t++)if(r[t].id===e){r.splice(t,1);break}return t.visible=!0,t}add(e){e.visible=!1;let t=e.key,n=t.id;if(this._tilePerId.has(n))return;this._tilePerId.set(n,e);let r=t.level;this._tileKeysPerLevel[r]||(this._tileKeysPerLevel[r]=[]),this._tileKeysPerLevel[r].push(t)}prune(e,t,n){let r=this._tilePerId.size;if(r<=this.maxSize)return;let i=this._tileKeysPerLevel.length-1;for(;r>this.maxSize&&i>=0;)i!==e&&(r=this._pruneAroundCenterTile(r,t,n,i)),i--;r>this.maxSize&&(r=this._pruneAroundCenterTile(r,t,n,e))}_pruneAroundCenterTile(e,t,n,r){let i=this._tileKeysPerLevel[r];if(!i||i.length===0)return e;let{size:a,origin:o}=this._tileInfoView.tileInfo,s=n*a[0],c=n*a[1],l=[0,0],u=[0,0];for(i.sort((e,n)=>(l[0]=o.x+s*(e.col+.5),l[1]=o.y-c*(e.row+.5),u[0]=o.x+s*(n.col+.5),u[1]=o.y-c*(n.row+.5),ND(l,t)-ND(u,t)));i.length>0;){let t=i.pop();if(this._removeTile(t.id),--e===this.maxSize)break}return e}_removeTile(e){let t=this._tilePerId.get(e);this._removedFunc&&t&&this._removedFunc(t),$K(this._tilePerId,e)}};function $K(e,t){e.delete(t)}var eq=new VK(0,0,0,0),tq=new Map,nq=[],rq=[],Bbe=class{constructor(e){this._previousScale=1/0,this.cachePolicy=`keep`,this.coveragePolicy=`closest`,this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=e.acquireTile,this.releaseTile=e.releaseTile,this.tileInfoView=e.tileInfoView,e.resampling!=null&&(this.resampling=e.resampling),e.cachePolicy&&(this.cachePolicy=e.cachePolicy),e.coveragePolicy&&(this.coveragePolicy=e.coveragePolicy),e.buffer!=null&&(this.buffer=e.buffer),e.cacheSize&&(this._tileCache=new zbe(e.cacheSize,this.tileInfoView,e=>{this.releaseTile(e)}))}destroy(){this.tileIndex.clear()}update(e){let{resampling:t,tileIndex:n}=this,{scale:r,center:i,resolution:a}=e.state,{minScale:o,maxScale:s}=this.tileInfoView,c=!e.stationary&&r>this._previousScale;if(this._previousScale=r,!t&&(r>o||r<s))return this.tiles.length=0,void this.clear();let l=this.tileInfoView.getTileCoverage(e.state,this.buffer,this.resampling,this.coveragePolicy);if(!l)return this.tiles.length=0,void this.clear();let{spans:u,lodInfo:d}=l,{level:f}=d;this.tiles.length=0,n.forEach(e=>e.visible=!0);let p=0,m=0;if(u.length>0)for(let{row:e,colFrom:t,colTo:r}of u)for(let i=t;i<=r;i++){p++;let t=eq.set(f,e,d.normalizeCol(i),d.getWorldForColumn(i)).id,r=n.get(t);if(r)r.isReady?(tq.set(t,r),m++):c||this._addParentTile(t,tq);else{if(this._tileCache?.has(t)){if(r=this._tileCache.pop(t),this.tileIndex.set(t,r),r.isReady){tq.set(t,r),m++;continue}}else r=this.acquireTile(eq),this.tileIndex.set(t,r);c||this._addParentTile(t,tq)}}let h=m===p;for(let[e,t]of n){if(tq.has(e))continue;eq.set(e);let n=this.tileInfoView.intersects(l,eq),r=this.cachePolicy===`purge`?eq.level!==f:eq.level>f;!n||!c&&h?!r&&n||nq.push(t):t.isReady?r&&this.cachePolicy===`purge`&&this._hasReadyAncestor(eq,f)?nq.push(t):rq.push(t):r&&nq.push(t)}for(let e of rq)e.isReady&&tq.set(e.key.id,e);for(let e of nq)this._tileCache?this._tileCache.add(e):this.releaseTile(e),n.delete(e.key.id);for(let e of tq.values())this.tiles.push(e);for(let e of n.values())tq.has(e.key.id)||(e.visible=!1);this._tileCache?.prune(f,i,a),GK.pool.release(l),rq.length=0,nq.length=0,tq.clear()}clear(){let{tileIndex:e}=this;for(let t of e.values())this.releaseTile(t);e.clear()}refresh(e){for(let t of this.tileIndex.values())e(t);this._tileCache?.clear()}updateCacheSize(e){this._tileCache&&(this._tileCache.maxSize=e)}_addParentTile(e,t){let n=e,r=null;for(;n=this.tileInfoView.getTileParentId(n),n;)if(this.tileIndex.has(n)){if(r=this.tileIndex.get(n),r?.isReady){t.has(r.key.id)||t.set(r.key.id,r);break}}else if(this._tileCache?.has(n)&&(r=this._tileCache.pop(n),this.tileIndex.set(n,r),r?.isReady)){t.has(r.key.id)||t.set(r.key.id,r);break}}_hasReadyAncestor(e,t){let n=oD();this.tileInfoView.getTileBounds(n,e,!0);for(let r of this.tileIndex.values())if(r.isReady&&r.key.level>=t&&r.key.level<e.level){let e=oD();if(this.tileInfoView.getTileBounds(e,r.key,!0),mD(e,n))return!0}return!1}},Vbe={"area-measurement":null,dimension:null,"direct-line-measurement":null,"elevation-profile":()=>N(()=>import(`./ElevationProfileAnalysisView2D-DAS0TugW.js`),__vite__mapDeps([372,373,374,375,376,377,22,378,379,380,381,155,382,109,383,384,144,124,125,134,127,385,386,239,237,387,289,74,149,150,75,146,129,217,366,20,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408])),"line-of-sight":null,slice:null,viewshed:null,"volume-measurement":null};function Hbe(e){let t=Vbe[e.type];if(!t)throw new M(`analysis-view-module-import-utils:analysis-not-supported`,`Analysis "${e.type}" is not supported`);return t()}var iq=class{constructor(e,t={}){this.events=new Yg,this._hasMajorPerformanceCaveat=!1,this._lastRenderFrameCounter=0,e==null?t.canvas!=null&&(this._canvas=t.canvas):(this._canvas=document.createElement(`canvas`),this._canvas.setAttribute(`style`,`width: 100%; height:100%; display:block; willChange:transform`),e.contains(this._canvas)||e.appendChild(this._canvas));let n={failIfMajorPerformanceCaveat:!0,alpha:!0,antialias:!1,depth:!0,stencil:!0,powerPreference:`high-performance`},r=this._canvas.getContext(`webgl2`,n);r||(r=this._canvas.getContext(`webgl2`,{...n,failIfMajorPerformanceCaveat:!1}),this._hasMajorPerformanceCaveat=!0),this._gl=r,this._handles=kd([Vd(this._canvas,`webglcontextlost`,e=>this.events.emit(`webgl-context-lost`,e))])}destroy(){this._canvas.remove(),this._canvas=null,this._handles.remove(),this._gl=null}get gl(){return this._gl}get canvas(){return this._canvas}render(e,t){if(this._hasMajorPerformanceCaveat||k(`esri-force-performance-mode`)){if(++this._lastRenderFrameCounter>=k(`esri-performance-mode-frames-between-render`)&&(t(),this._lastRenderViewState=e.state.clone(),this._lastRenderFrameCounter=0),this._lastRenderViewState){let[t,n,r,i,a,o]=this._computeViewTransform(this._lastRenderViewState,e.state);this._canvas.style.transform=`matrix(${t}, ${n}, ${r}, ${i}, ${a}, ${o})`}}else t()}resize(e){let t=this._canvas,n=t.style,{state:{size:r},pixelRatio:i}=e,a=r[0],o=r[1],s=Math.round(a*i),c=Math.round(o*i);t.width===s&&t.height===c||(t.width=s,t.height=c),n.width=a+`px`,n.height=o+`px`}_computeViewTransform(e,t){let[n,r]=e.center,[i,a]=t.center,[o,s]=e.toScreen([0,0],i,a),[c,l]=e.toScreen([0,0],n,r),u=c-o,d=l-s,f=e.scale/t.scale,p=t.rotation-e.rotation,m=JH();return LH(m),HH(m,m,[f,f]),VH(m,m,JT(p)),UH(m,m,[u,d]),m}};function aq(e,t,n,r,i){oq(e,t,n||0,r||e.length-1,i||Ube)}function oq(e,t,n,r,i){for(;r>n;){if(r-n>600){var a=r-n+1,o=t-n+1,s=Math.log(a),c=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*c*(a-c)/a)*(o-a/2<0?-1:1);oq(e,t,Math.max(n,Math.floor(t-o*c/a+l)),Math.min(r,Math.floor(t+(a-o)*c/a+l)),i)}var u=e[t],d=n,f=r;for(sq(e,n,t),i(e[r],u)>0&&sq(e,n,r);d<f;){for(sq(e,d,f),d++,f--;i(e[d],u)<0;)d++;for(;i(e[f],u)>0;)f--}i(e[n],u)===0?sq(e,n,f):sq(e,++f,r),f<=t&&(n=f+1),t<=f&&(r=f-1)}}function sq(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Ube(e,t){return e<t?-1:e>t?1:0}function cq(e,t){if(!(this instanceof cq))return new cq(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&(typeof t==`function`?this.toBBox=t:this._initFormat(t)),this.clear()}function Wbe(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function lq(e,t){uq(e,0,e.children.length,t,e)}function uq(e,t,n,r,i){i||=vq(null),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var a,o=t;o<n;o++)a=e.children[o],dq(i,e.leaf?r(a):a);return i}function dq(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function fq(e,t){return e.minX-t.minX}function pq(e,t){return e.minY-t.minY}function mq(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function hq(e){return e.maxX-e.minX+(e.maxY-e.minY)}function Gbe(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function Kbe(e,t){var n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),a=Math.min(e.maxY,t.maxY);return Math.max(0,i-n)*Math.max(0,a-r)}function gq(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function _q(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function vq(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function yq(e,t,n,r,i){for(var a,o=[t,n];o.length;)(n=o.pop())-(t=o.pop())<=r||(a=t+Math.ceil((n-t)/r/2)*r,aq(e,a,t,n,i),o.push(t,a,a,n))}cq.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,n=[],r=this.toBBox;if(!_q(e,t))return n;for(var i,a,o,s,c=[];t;){for(i=0,a=t.children.length;i<a;i++)o=t.children[i],_q(e,s=t.leaf?r(o):o)&&(t.leaf?n.push(o):gq(e,s)?this._all(o,n):c.push(o));t=c.pop()}return n},collides:function(e){var t=this.data,n=this.toBBox;if(!_q(e,t))return!1;for(var r,i,a,o,s=[];t;){for(r=0,i=t.children.length;r<i;r++)if(a=t.children[r],_q(e,o=t.leaf?n(a):a)){if(t.leaf||gq(e,o))return!0;s.push(a)}t=s.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return e!=null&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=vq([]),this},remove:function(e,t){if(e==null)return this;for(var n,r,i,a,o=this.data,s=this.toBBox(e),c=[],l=[];o||c.length;){if(o||(o=c.pop(),r=c[c.length-1],n=l.pop(),a=!0),o.leaf&&(i=Wbe(e,o.children,t))!==-1)return o.children.splice(i,1),c.push(o),this._condense(c),this;a||o.leaf||!gq(o,s)?r?(n++,o=r.children[n],a=!1):o=null:(c.push(o),l.push(n),n=0,r=o,o=o.children[0])}return this},toBBox:function(e){return e},compareMinX:fq,compareMinY:pq,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},_build:function(e,t,n,r){var i,a=n-t+1,o=this._maxEntries;if(a<=o)return lq(i=vq(e.slice(t,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(a)/Math.log(o)),o=Math.ceil(a/o**(r-1))),(i=vq([])).leaf=!1,i.height=r;var s,c,l,u,d=Math.ceil(a/o),f=d*Math.ceil(Math.sqrt(o));for(yq(e,t,n,f,this.compareMinX),s=t;s<=n;s+=f)for(yq(e,s,l=Math.min(s+f-1,n),d,this.compareMinY),c=s;c<=l;c+=d)u=Math.min(c+d-1,l),i.children.push(this._build(e,c,u,r-1));return lq(i,this.toBBox),i},_chooseSubtree:function(e,t,n,r){for(var i,a,o,s,c,l,u,d;r.push(t),!t.leaf&&r.length-1!==n;){for(u=d=1/0,i=0,a=t.children.length;i<a;i++)c=mq(o=t.children[i]),(l=Gbe(e,o)-c)<d?(d=l,u=c<u?c:u,s=o):l===d&&c<u&&(u=c,s=o);t=s||t.children[0]}return t},_insert:function(e,t,n){var r=this.toBBox,i=n?e:r(e),a=[],o=this._chooseSubtree(i,this.data,t,a);for(o.children.push(e),dq(o,i);t>=0&&a[t].children.length>this._maxEntries;)this._split(a,t),t--;this._adjustParentBBoxes(i,a,t)},_split:function(e,t){var n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var a=this._chooseSplitIndex(n,i,r),o=vq(n.children.splice(a,n.children.length-a));o.height=n.height,o.leaf=n.leaf,lq(n,this.toBBox),lq(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(n,o)},_splitRoot:function(e,t){this.data=vq([e,t]),this.data.height=e.height+1,this.data.leaf=!1,lq(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,n){var r,i,a,o,s,c,l,u;for(c=l=1/0,r=t;r<=n-t;r++)o=Kbe(i=uq(e,0,r,this.toBBox),a=uq(e,r,n,this.toBBox)),s=mq(i)+mq(a),o<c?(c=o,u=r,l=s<l?s:l):o===c&&s<l&&(l=s,u=r);return u},_chooseSplitAxis:function(e,t,n){var r=e.leaf?this.compareMinX:fq,i=e.leaf?this.compareMinY:pq;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)},_allDistMargin:function(e,t,n,r){e.children.sort(r);var i,a,o=this.toBBox,s=uq(e,0,t,o),c=uq(e,n-t,n,o),l=hq(s)+hq(c);for(i=t;i<n-t;i++)a=e.children[i],dq(s,e.leaf?o(a):a),l+=hq(s);for(i=n-t-1;i>=t;i--)a=e.children[i],dq(c,e.leaf?o(a):a),l+=hq(c);return l},_adjustParentBBoxes:function(e,t,n){for(var r=n;r>=0;r--)dq(t[r],e)},_condense:function(e){for(var t,n=e.length-1;n>=0;n--)e[n].children.length===0?n>0?(t=e[n-1].children).splice(t.indexOf(e[n]),1):this.clear():lq(e[n],this.toBBox)},_initFormat:function(e){var t=[`return a`,` - b`,`;`];this.compareMinX=Function(`a`,`b`,t.join(e[0])),this.compareMinY=Function(`a`,`b`,t.join(e[1])),this.toBBox=Function(`a`,`return {minX: a`+e[0]+`, minY: a`+e[1]+`, maxX: a`+e[2]+`, maxY: a`+e[3]+`};`)}};function bq(e,{timeZone:t,timeExtent:n}){return{$view:{scale:e,timeZone:t,timeProperties:{currentStart:n?.start,currentEnd:n?.end}}}}var xq=class e{constructor(e,t){this.key=new VK(0,0,0,0),this.bounds=oD(),this.objectIds=new Set,this.key.set(t);let n=e.getLODInfoAt(this.key);this.tileInfoView=e,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=n.resolution,this.level=n.level,this.scale=n.scale,this.minScale=e.zoomToScale(n.level-1),this.maxScale=e.zoomToScale(n.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return lD(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:`upperLeft`,scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions(e){return bq(this.scale,e)}createChildTiles(){let t=this.key.getChildKeys(),n=qp.acquire();for(let r=0;r<t.length;r++)n[r]=new e(this.tileInfoView,t[r]);return n}getQuantizationParameters(){return dV.fromJSON({mode:`view`,originPosition:`upperLeft`,tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}},Sq={added:[],removed:[]},Cq=new Set,qbe=new VK(0,0,0,0);function Jbe(e,t){let n=yv(t);if(!n)return null;let[r,i]=n.valid;return e[2]>i?[oD([e[0],e[1],i,e[3]]),oD([r,e[1],r+e[2]-i,e[3]])]:e[0]<r?[oD([r,e[1],e[2],e[3]]),oD([i-(r-e[0]),e[1],i,e[3]])]:null}var Ybe=class extends Jg{constructor(e){super(),this._tiles=new Map,this._index=cq(9,k(`esri-csp-restrictions`)?e=>({minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]}):[`.bounds[0]`,`.bounds[1]`,`.bounds[2]`,`.bounds[3]`]),this.tiles=[],this.tileScheme=e}destroy(){super.destroy(),this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(e){return this._tiles.has(e)}get(e){return this._tiles.get(e)}getIntersectingTiles(e){if(!e||dD(e)===0||fD(e)===0)return[];let t=Jbe(e,this.tileScheme.spatialReference);return t==null?this.boundsIntersections(e):[...new Set([...this.boundsIntersections(t[0]),...this.boundsIntersections(t[1])])]}boundsIntersections(e){return this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})}updateTiles(e){let t={added:[],removed:[]};for(let n of e.added)if(!this.has(n)){let e=new xq(this.tileScheme,n);this._tiles.set(n,e),this._index.insert(e),t.added.push(e)}for(let n of e.removed)if(this.has(n)){let e=this.get(n);this._tiles.delete(n),this._index.remove(e),t.removed.push(e)}this.tiles.length=0,this._tiles.forEach(e=>this.tiles.push(e)),(t.added.length||t.removed.length)&&this.emit(`update`,t)}setViewState(e){let t=this.tileScheme.getTileCoverage(e,0);if(!t)return;let{spans:n,lodInfo:r}=t,{level:i}=r;if(n.length>0)for(let{row:e,colFrom:t,colTo:a}of n)for(let n=t;n<=a;n++){let t=qbe.set(i,e,r.normalizeCol(n),r.getWorldForColumn(n)).id;if(Cq.add(t),!this.has(t)){let e=new xq(this.tileScheme,t);this._tiles.set(t,e),this._index.insert(e),this.tiles.push(e),Sq.added.push(e)}}for(let e=this.tiles.length-1;e>=0;e--){let t=this.tiles[e];Cq.has(t.id)||(this._tiles.delete(t.id),this.tiles.splice(e,1),this._index.remove(t),Sq.removed.push(t))}(Sq.added.length||Sq.removed.length)&&this.emit(`update`,Sq),GK.pool.release(t),Cq.clear(),Sq.added.length=0,Sq.removed.length=0}},Xbe=1e-30,Zbe=512,wq=16777216,Qbe=8,$be=29,exe=24,txe=4,nxe=0,rxe=0,ixe=0,axe=1,oxe=2,sxe=3,cxe=4,lxe=5,uxe=6,dxe=12,fxe=13,pxe=5,mxe=6,hxe=5,gxe=6,_xe=6,vxe=64,yxe=128,bxe=1.05,xxe=3,Sxe=1,Cxe=3,wxe=3,Txe=5,Exe=6,Dxe=1.15,Oxe=4,kxe=128,Axe=248,jxe=2,Mxe=128,Nxe=1,Pxe=10,Fxe=1024,Ixe=128,Lxe=4,Rxe=1,zxe=1<<20,Bxe=.75,Vxe=10,Hxe=.75,Uxe=256,Wxe=32,Gxe=512,Kxe=0,qxe=1,Jxe=1,Yxe=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],Xxe=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Zxe=()=>j.getLogger(`esri.views.webgl.checkWebGLError`);function Tq(e){switch(e.getError()){case e.NO_ERROR:return null;case e.INVALID_ENUM:return`Invalid Enum. An unacceptable value has been specified for an enumerated argument.`;case e.INVALID_VALUE:return`Invalid Value. A numeric argument is out of range.`;case e.INVALID_OPERATION:return`Invalid Operation. The specified command is not allowed for the current state.`;case e.INVALID_FRAMEBUFFER_OPERATION:return`Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.`;case e.OUT_OF_MEMORY:return`Out of memory. Not enough memory is left to execute the command.`;case e.CONTEXT_LOST_WEBGL:return`WebGL context has been lost`;default:return`Unknown error`}}var Eq=!!k(`enable-feature:webgl-debug`);function Dq(){return Eq}function Qxe(){return Eq}function Oq(e,t=Dq()){if(t){let t=Tq(e);if(t){let e=Error().stack;Zxe().error(new M(`webgl-error`,`WebGL error occurred`,{message:t,stack:e}))}}}var $xe={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},kq={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,HALF_FLOAT:5131},Aq={RGBA4:32854,R16F:33325,RG16F:33327,RGB32F:34837,RGBA16F:34842,R32F:33326,RG32F:33328,RGBA32F:34836,R11F_G11F_B10F:35898,RGB8:32849,RGBA8:32856,RGB5_A1:32855,R8:33321,RG8:33323,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,RGB16F:34843,RGB9_E5:35901,SRGB8:35905,SRGB8_ALPHA8:35907,RGB565:36194,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,RGB10_A2:32857,RGB10_A2UI:36975},eSe=Object.values(Aq),jq={DEPTH24_STENCIL8:35056,DEPTH32F_STENCIL8:36013},Mq={DEPTH_COMPONENT16:33189,DEPTH_COMPONENT24:33190,DEPTH_COMPONENT32F:36012},Nq={FLOAT:kq.FLOAT,UNSIGNED_BYTE:kq.UNSIGNED_BYTE,UNSIGNED_INT_24_8:34042,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,BYTE:kq.BYTE,UNSIGNED_SHORT:kq.UNSIGNED_SHORT,SHORT:kq.SHORT,UNSIGNED_INT:kq.UNSIGNED_INT,INT:kq.INT,HALF_FLOAT:5131,UNSIGNED_INT_2_10_10_10_REV:33640,UNSIGNED_INT_10F_11F_11F_REV:35899,UNSIGNED_INT_5_9_9_9_REV:35902,FLOAT_32_UNSIGNED_INT_24_8_REV:36269},tSe=33984,Pq={Texture:0,TileTexture:1,BufferObject:2,VertexArrayObject:3,Shader:4,Program:5,FramebufferObject:6,Renderbuffer:7,TransformFeedback:8,Sync:9,UNCOUNTED:10,LinesOfCode:10,Uniform:11,COUNT:12},nSe=1029,rSe=0,iSe=36064,aSe=36065,oSe=36066,sSe=36067,cSe=33306,lSe=36096,uSe=36128,Fq={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_SRGB8_ETC2:37493,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37494,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37495,COMPRESSED_RGBA8_ETC2_EAC:37496,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37497};function dSe(e,t,n,r=0){let i=e.gl;e.bindBuffer(n);for(let a of n.layout){let n=t.get(a.name);if(n==null){console.warn(`There is no location for vertex attribute '${a.name}' defined.`);continue}let o=r*a.stride;if(a.count<=4)i.vertexAttribPointer(n,a.count,a.type,a.normalized,a.stride,a.offset+o),i.enableVertexAttribArray(n),a.divisor>0&&i.vertexAttribDivisor(n,a.divisor);else if(a.count===9)for(let e=0;e<3;e++)i.vertexAttribPointer(n+e,3,a.type,a.normalized,a.stride,a.offset+12*e+o),i.enableVertexAttribArray(n+e),a.divisor>0&&i.vertexAttribDivisor(n+e,a.divisor);else if(a.count===16)for(let e=0;e<4;e++)i.vertexAttribPointer(n+e,4,a.type,a.normalized,a.stride,a.offset+16*e+o),i.enableVertexAttribArray(n+e),a.divisor>0&&i.vertexAttribDivisor(n+e,a.divisor);else console.error(`Unsupported vertex attribute element count: `+a.count);if(Dq()){let t=Tq(e.gl);t&&console.error(`Unable to bind vertex attribute "${a.name}" with baseInstanceOffset ${o}:`,t,a)}}}function fSe(e){switch(e){case 6406:case 6409:case 6403:case 36244:case 6402:case 34041:return 1;case 6410:case 33319:case 33320:return 2;case 6407:case 36248:return 3;case 6408:case 36249:return 4}return 0}function Iq(e){switch(e){case 6406:case 6409:case 6403:case 36244:case Aq.R8:case Aq.R8I:case Aq.R8UI:case Aq.R8_SNORM:case 36168:return 1;case 6410:case 33319:case 33320:case Aq.RGBA4:case Aq.R16F:case Aq.R16I:case Aq.R16UI:case Aq.RG8:case Aq.RG8I:case Aq.RG8UI:case Aq.RG8_SNORM:case Aq.RGB565:case Aq.RGB5_A1:case Mq.DEPTH_COMPONENT16:return 2;case 6407:case 36248:case Aq.RGB8:case Aq.RGB8I:case Aq.RGB8UI:case Aq.RGB8_SNORM:case Aq.SRGB8:case Mq.DEPTH_COMPONENT24:return 3;case 6408:case 36249:case Aq.RGBA8:case Aq.R32F:case Aq.R11F_G11F_B10F:case Aq.RG16F:case Aq.R32I:case Aq.R32UI:case Aq.RG16I:case Aq.RG16UI:case Aq.RGBA8I:case Aq.RGBA8UI:case Aq.RGBA8_SNORM:case Aq.SRGB8_ALPHA8:case Aq.RGB9_E5:case Aq.RGB10_A2UI:case Aq.RGB10_A2:case Mq.DEPTH_COMPONENT32F:case jq.DEPTH24_STENCIL8:return 4;case jq.DEPTH32F_STENCIL8:return 5;case Aq.RGB16F:case Aq.RGB16I:case Aq.RGB16UI:return 6;case Aq.RG32F:case Aq.RG32I:case Aq.RG32UI:case Aq.RGBA16F:case Aq.RGBA16I:case Aq.RGBA16UI:return 8;case Aq.RGB32F:case Aq.RGB32I:case Aq.RGB32UI:return 12;case Aq.RGBA32F:case Aq.RGBA32I:case Aq.RGBA32UI:return 16;case Fq.COMPRESSED_RGB_S3TC_DXT1_EXT:case Fq.COMPRESSED_RGBA_S3TC_DXT1_EXT:return .5;case Fq.COMPRESSED_RGBA_S3TC_DXT3_EXT:case Fq.COMPRESSED_RGBA_S3TC_DXT5_EXT:return 1;case Fq.COMPRESSED_R11_EAC:case Fq.COMPRESSED_SIGNED_R11_EAC:case Fq.COMPRESSED_RGB8_ETC2:case Fq.COMPRESSED_SRGB8_ETC2:case Fq.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:case Fq.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:return .5;case Fq.COMPRESSED_RG11_EAC:case Fq.COMPRESSED_SIGNED_RG11_EAC:case Fq.COMPRESSED_RGBA8_ETC2_EAC:case Fq.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:return 1}return 0}var Lq=class{constructor(e=0,t=e){this.width=e,this.height=t,this.type=0,this.target=3553,this.pixelFormat=6408,this.dataType=Nq.UNSIGNED_BYTE,this.samplingMode=9729,this.wrapMode=10497,this.maxAnisotropy=1,this.flipped=!1,this.hasMipmap=!1,this.isOpaque=!1,this.unpackAlignment=4,this.preMultiplyAlpha=!1,this.compareEnabled=!1,this.linearFilterDepth=!1,this.depth=1,this.isImmutable=!1}};function pSe(e){return e.width<=0||e.height<=0||e.depth<=0?0:Math.round(e.width*e.height*e.depth*(e.hasMipmap?4/3:1)*(e.internalFormat==null?4:Iq(e.internalFormat))*(e.target===34067?6:1))}var Rq=()=>j.getLogger(`esri/views/webgl/textureUtils`);function zq(e){let{width:t,height:n,depth:r}=e;(t!=null&&t<0||n!=null&&n<0||r!=null&&r<0)&&Rq().error(`Negative dimension parameters are not allowed!`);let{internalFormat:i}=e;if(i&&(Bq(i)||Vq(i))){let{linearFilterDepth:t,compareEnabled:n,samplingMode:r,hasMipmap:i}=e;i&&Rq().error(`Depth textures cannot have mipmaps`),t?r!==9729&&r!==9728&&Rq().error(`Depth textures cannot sample mipmaps`):(r!==9728&&Rq().error(`Depth textures without filtering must use NEAREST filtering`),n&&Rq().error(`Depth textures without filtering cannot use compare function`))}}function mSe(e){return eSe.includes(e)}function Bq(e){return _l(Mq,e)}function Vq(e){return _l(jq,e)}function hSe(e){return e!=null&&_l(Fq,e)}function Hq(e){return e!=null&&`type`in e&&e.type===`compressed`}function gSe(e){return e!=null&&`byteLength`in e}function Uq(e){return e!=null&&!Hq(e)&&!gSe(e)}function Wq(e){return e===32879||e===35866}function Gq(e,t,n,r=1){let i=Math.max(t,n);return e===32879&&(i=Math.max(i,r)),Math.floor(Math.log2(i))+1}function Kq(e){if(e.internalFormat!=null)return e.internalFormat;switch(e.dataType){case Nq.FLOAT:switch(e.pixelFormat){case 6408:return Aq.RGBA32F;case 6407:return Aq.RGB32F;default:throw new M(`texture:unknown-format`,`Unable to derive format`)}case Nq.UNSIGNED_BYTE:switch(e.pixelFormat){case 6408:return Aq.RGBA8;case 6407:return Aq.RGB8}}let{pixelFormat:t}=e;return e.internalFormat=t===34041?jq.DEPTH24_STENCIL8:t===6402?Mq.DEPTH_COMPONENT24:t,e.internalFormat}function _Se(e){let t=`width`in e?e.width:e.codedWidth,n=`height`in e?e.height:e.codedHeight;return e instanceof HTMLVideoElement&&(t=e.videoWidth,n=e.videoHeight),{width:t,height:n,depth:1}}var qq=class e extends Lq{constructor(e,t){switch(super(),this.context=e,Object.assign(this,t),this.internalFormat){case Aq.R16F:case Aq.R32F:case Aq.R8_SNORM:case Aq.R8:this.pixelFormat=6403;break;case Aq.R8I:case Aq.R8UI:case Aq.R16I:case Aq.R16UI:case Aq.R32I:case Aq.R32UI:this.pixelFormat=36244}}static validate(t,n){return new e(t,n)}},vSe=!!k(`esri-tests-disable-gpu-memory-measurements`),Jq=()=>j.getLogger(`esri/views/webgl/Texture`),Yq=class e{static{this.TEXTURE_UNIT_FOR_UPDATES=0}static{this.compressionWorkerHandle=null}constructor(e,t=null,n=null){if(this.type=1,this._glName=null,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._shadowFilterDirty=!1,this._wasImmutablyAllocated=!1,`context`in e)this._descriptor=e,n=t;else{let n=qq.validate(e,t);if(!n)throw new M(`texture:invalid-descriptor`,`Texture descriptor invalid`);this._descriptor=n}this._descriptor.target===34067?this._setDataCubeMap(n):this.setData(n)}get glName(){return this._glName}get descriptor(){return this._descriptor}get usedMemory(){return vSe?0:pSe(this._descriptor)}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty||this._shadowFilterDirty}get hasWebGLTextureObject(){return!!this._glName}dispose(){this.abortCompression(),this.hasWebGLTextureObject&&this._descriptor.context?.gl&&(this._descriptor.context.instanceCounter.decrement(Pq.Texture,this),this._descriptor.context.unbindTexture(this),this._descriptor.context.gl.deleteTexture(this._glName),this._glName=null,this._descriptor=null)}release(){this.dispose()}[Symbol.dispose](){this.dispose()}resize(e,t){let n=this._descriptor;if(n.width!==e||n.height!==t){if(this._wasImmutablyAllocated)throw new M(`texture:immutable-resize`,`Immutable textures can't be resized!`);n.width=e,n.height=t,this._descriptor.target===34067?this._setDataCubeMap(null):this.setData(null)}}enableCompression(e){this._descriptor.compress=e}disableCompression(){this._descriptor.compress=void 0}setData(e){this.abortCompression(),!Hq(e)&&this._descriptor.internalFormat&&_l(Fq,this._descriptor.internalFormat)&&(this._descriptor.internalFormat=void 0),this._setData(e),!Hq(e)&&this._descriptor.compress&&this._compressOnWorker(e)}updateData(t,n,r,i,a,o,s=0){o||Jq().error(`An attempt to use uninitialized data!`),this.hasWebGLTextureObject||Jq().error(`An attempt to update uninitialized texture!`);let c=this._descriptor;c.internalFormat=Kq(c);let{context:l,pixelFormat:u,dataType:d,target:f,isImmutable:p}=c;if(p&&!this._wasImmutablyAllocated)throw new M(`texture:uninitialized`,`Cannot update immutable texture before allocation!`);let m=l.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES,!0);(n<0||r<0||n+i>c.width||r+a>c.height)&&Jq().error(`An attempt to update out of bounds of the texture!`),this._configurePixelStorage();let{gl:h}=l;s&&(i&&a||Jq().warn("Must pass width and height if `UNPACK_SKIP_ROWS` is used"),h.pixelStorei(h.UNPACK_SKIP_ROWS,s)),Uq(o)?h.texSubImage2D(f,t,n,r,i,a,u,d,o):Hq(o)?h.compressedTexSubImage2D(f,t,n,r,i,a,c.internalFormat,o.levels[t]):h.texSubImage2D(f,t,n,r,i,a,u,d,o),s&&h.pixelStorei(h.UNPACK_SKIP_ROWS,0),l.bindTexture(m,e.TEXTURE_UNIT_FOR_UPDATES)}updateData3D(t,n,r,i,a,o,s,c){c||Jq().error(`An attempt to use uninitialized data!`),this.hasWebGLTextureObject||Jq().error(`An attempt to update an uninitialized texture!`);let l=this._descriptor;l.internalFormat=Kq(l);let{context:u,pixelFormat:d,dataType:f,isImmutable:p,target:m}=l;if(p&&!this._wasImmutablyAllocated)throw new M(`texture:uninitialized`,`Cannot update immutable texture before allocation!`);Wq(m)||Jq().warn(`Attempting to set 3D texture data on a non-3D texture`);let h=u.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);u.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES),(n<0||r<0||i<0||n+a>l.width||r+o>l.height||i+s>l.depth)&&Jq().error(`An attempt to update out of bounds of the texture!`),this._configurePixelStorage();let{gl:g}=u;if(Hq(c))c=c.levels[t],g.compressedTexSubImage3D(m,t,n,r,i,a,o,s,l.internalFormat,c);else{let e=c;g.texSubImage3D(m,t,n,r,i,a,o,s,d,f,e)}u.bindTexture(h,e.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){let t=this._descriptor;if(t.width===0||t.height===0)return;if(!t.hasMipmap){if(this._wasImmutablyAllocated)throw new M(`texture:immutable-change`,`Cannot add mipmaps to immutable texture after allocation`);t.hasMipmap=!0,this._samplingModeDirty=!0,zq(t)}t.samplingMode===9729?(this._samplingModeDirty=!0,t.samplingMode=9985):t.samplingMode===9728&&(this._samplingModeDirty=!0,t.samplingMode=9984);let n=this._descriptor.context.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES),this._descriptor.context.gl.generateMipmap(t.target),this._descriptor.context.bindTexture(n,e.TEXTURE_UNIT_FOR_UPDATES)}clearMipmap(){let e=this._descriptor;if(e.hasMipmap){if(this._wasImmutablyAllocated)throw new M(`texture:immutable-change`,`Cannot delete mipmaps to immutable texture after allocation`);e.hasMipmap=!1,this._samplingModeDirty=!0,zq(e)}e.samplingMode===9985?(this._samplingModeDirty=!0,e.samplingMode=9729):e.samplingMode===9984&&(this._samplingModeDirty=!0,e.samplingMode=9728)}setSamplingMode(e){e!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=e,this._samplingModeDirty=!0)}setWrapMode(e){e!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=e,zq(this._descriptor),this._wrapModeDirty=!0)}setShadowFiltering(e){e!==this._descriptor.linearFilterDepth&&(this._descriptor.linearFilterDepth=this._descriptor.compareEnabled=e,this.setSamplingMode(e?9729:9728),zq(this._descriptor),this._shadowFilterDirty=!0)}applyChanges(){this._samplingModeDirty&&=(this._applySamplingMode(),!1),this._wrapModeDirty&&=(this._applyWrapMode(),!1),this._shadowFilterDirty&&=(this._applyShadowMode(),!1)}abortCompression(){this._compressionAbortController=Jd(this._compressionAbortController)}_setData(t,n){let r=this._descriptor,i=r.context?.gl;if(!i)return;Oq(i),this.hasWebGLTextureObject||(this._glName=i.createTexture(),r.context.instanceCounter.increment(Pq.Texture,this)),zq(r);let a=r.context.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);r.context.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES),this._configurePixelStorage(),Oq(i);let o=n??r.target,s=Wq(o);if(Uq(t))this._setDataFromTexImageSource(t,o);else{let{width:e,height:n,depth:a}=r;if(e==null||n==null)throw new M(`texture:missing-size`,`Width and height must be specified!`);if(s&&a==null)throw new M(`texture:missing-depth`,`Depth must be specified!`);if(r.internalFormat=Kq(r),r.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(o,r.internalFormat,r.hasMipmap,e,n,a),Hq(t)){if(!hSe(r.internalFormat))throw new M(`texture:format-mismatch`,`Attempting to use compressed data with an uncompressed format!`);this._setDataFromCompressedSource(t,r.internalFormat,o)}else this._texImage(o,0,r.internalFormat,e,n,a,t),Oq(i),r.hasMipmap&&this.generateMipmap()}this._applySamplingMode(),this._applyWrapMode(),this._applyAnisotropicFilteringParameters(),this._applyShadowMode(),Oq(i),r.context.bindTexture(a,e.TEXTURE_UNIT_FOR_UPDATES)}_setDataCubeMap(e=null){for(let t=34069;t<=34074;t++)this._setData(e,t)}_configurePixelStorage(){let e=this._descriptor.context.gl,{unpackAlignment:t,flipped:n,preMultiplyAlpha:r}=this._descriptor;e.pixelStorei(e.UNPACK_ALIGNMENT,t),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,n?1:0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r?1:0)}_setDataFromTexImageSource(e,t){let{gl:n}=this._descriptor.context,r=this._descriptor;r.internalFormat=Kq(r);let i=Wq(t),{width:a,height:o,depth:s}=_Se(e);r.width&&r.height,r.width||=a,r.height||=o,i&&r.depth,i&&(r.depth=s),r.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(t,r.internalFormat,r.hasMipmap,a,o,s),this._texImage(t,0,r.internalFormat,a,o,s,e),Oq(n),r.hasMipmap&&(this.generateMipmap(),Oq(n))}_setDataFromCompressedSource(e,t,n){let r=this._descriptor,{width:i,height:a,depth:o}=r,s=e.levels,c=Gq(n,i,a,o),l=Math.min(c,s.length)-1;this._descriptor.context.gl.texParameteri(r.target,33085,l),this._forEachMipmapLevel((e,r,i,a)=>{let o=s[Math.min(e,s.length-1)];this._compressedTexImage(n,e,t,r,i,a,o)},l)}_texStorage(e,t,n,r,i,a){let{gl:o}=this._descriptor.context;if(!mSe(t)&&!Bq(t)&&!Vq(t))throw new M(`texture:missing-format`,`Immutable textures must have a sized internal format`);if(!this._descriptor.isImmutable)return;let s=n?Gq(e,r,i,a):1;if(Wq(e)){if(a==null)throw new M(`texture:missing-depth`,`Missing depth dimension for 3D texture upload`);o.texStorage3D(e,s,t,r,i,a)}else o.texStorage2D(e,s,t,r,i);this._wasImmutablyAllocated=!0}_texImage(e,t,n,r,i,a,o){let s=this._descriptor.context.gl,c=Wq(e),{isImmutable:l,pixelFormat:u,dataType:d}=this._descriptor;if(l){if(o!=null){let n=o;if(c){if(a==null)throw new M(`texture:missing-depth`,`Missing depth dimension for 3D texture upload`);s.texSubImage3D(e,t,0,0,0,r,i,a,u,d,n)}else s.texSubImage2D(e,t,0,0,r,i,u,d,n)}}else{let l=o;if(c){if(a==null)throw new M(`texture:missing-depth`,`Missing depth dimension for 3D texture upload`);s.texImage3D(e,t,n,r,i,a,0,u,d,l)}else s.texImage2D(e,t,n,r,i,0,u,d,l)}}_compressedTexImage(e,t,n,r,i,a,o){let s=this._descriptor.context.gl,c=Wq(e);if(this._descriptor.isImmutable){if(o!=null)if(c){if(a==null)throw new M(`texture:missing-depth`,`Missing depth dimension for 3D texture upload`);s.compressedTexSubImage3D(e,t,0,0,0,r,i,a,n,o)}else s.compressedTexSubImage2D(e,t,0,0,r,i,n,o)}else if(c){if(a==null)throw new M(`texture:missing-depth`,`Missing depth dimension for 3D texture upload`);s.compressedTexImage3D(e,t,n,r,i,a,0,o)}else s.compressedTexImage2D(e,t,n,r,i,0,o)}async _compressOnWorker(t){let{width:n,height:r,context:i,flipped:a,preMultiplyAlpha:o,hasMipmap:s}=this._descriptor,c=this._descriptor.compress?.compressionTracker,l=this._descriptor.compress?.compressionCallback,{compressedTextureETC:u,compressedTextureS3TC:d}=i.capabilities;if(!e.compressionWorkerHandle?.isCompressible(t,this._descriptor)||!u&&!d)return;this.abortCompression();let f=new AbortController,p;this._compressionAbortController=f,c?.increment();try{t instanceof Uint8Array?p=t.buffer:(p=await createImageBitmap(t,{imageOrientation:a?`flipY`:`none`}),$d(f));let i={data:p,width:n,height:r,needsFlip:t instanceof Uint8Array&&this.descriptor.flipped,components:this._descriptor.pixelFormat===6408?4:3,preMultiplyAlpha:o,hasMipmap:s,hasETC:!!u,hasS3TC:!!d},c=await e.compressionWorkerHandle.invoke(i,f.signal,`low`);if($d(f),c.compressedTexture&&this.hasWebGLTextureObject){let e=this.usedMemory;this._descriptor.internalFormat=c.internalFormat,this._setData(c.compressedTexture),l?.(e-this.usedMemory)}}catch(e){lf(e)||Jq().error(`Texture compression failed!`)}finally{c?.decrement(),this._compressionAbortController?.signal.aborted&&(this._compressionAbortController=null),p instanceof ImageBitmap&&p.close()}}_forEachMipmapLevel(e,t=1/0){let{width:n,height:r,depth:i,hasMipmap:a,target:o}=this._descriptor,s=o===32879;if(n==null||r==null||s&&i==null)throw new M(`texture:missing-size`,`Missing texture dimensions for mipmap calculation`);for(let o=0;e(o,n,r,i),a&&(n!==1||r!==1||s&&i!==1)&&!(o>=t);++o)n=Math.max(1,n>>1),r=Math.max(1,r>>1),s&&(i=Math.max(1,i>>1))}_applySamplingMode(){let e=this._descriptor,t=e.context?.gl,n=e.samplingMode,r=e.samplingMode;n===9985||n===9987?(n=9729,e.hasMipmap||(r=9729)):n!==9984&&n!==9986||(n=9728,e.hasMipmap||(r=9728)),t.texParameteri(e.target,t.TEXTURE_MAG_FILTER,n),t.texParameteri(e.target,t.TEXTURE_MIN_FILTER,r)}_applyWrapMode(){let e=this._descriptor,t=e.context?.gl;typeof e.wrapMode==`number`?(t.texParameteri(e.target,t.TEXTURE_WRAP_S,e.wrapMode),t.texParameteri(e.target,t.TEXTURE_WRAP_T,e.wrapMode)):(t.texParameteri(e.target,t.TEXTURE_WRAP_S,e.wrapMode.s),t.texParameteri(e.target,t.TEXTURE_WRAP_T,e.wrapMode.t))}_applyShadowMode(){let e=this._descriptor,t=e.context?.gl,n=e.compareEnabled?t.COMPARE_REF_TO_TEXTURE:t.NONE;t.texParameteri(e.target,t.TEXTURE_COMPARE_MODE,n),e.compareEnabled&&t.texParameteri(e.target,t.TEXTURE_COMPARE_FUNC,t.GREATER),Oq(t)}_applyAnisotropicFilteringParameters(){let e=this._descriptor,t=e.context.capabilities.textureFilterAnisotropic;t&&e.context.gl.texParameterf(e.target,t.TEXTURE_MAX_ANISOTROPY,e.maxAnisotropy??1)}},Xq=()=>j.getLogger(`esri.views.2d.engine.webgl.painter.highlight.HighlightGradient`);function ySe(e,t){t.fillColor[0]=e.color.r/255,t.fillColor[1]=e.color.g/255,t.fillColor[2]=e.color.b/255,t.fillColor[3]=e.color.a,e.haloColor?(t.outlineColor[0]=e.haloColor.r/255,t.outlineColor[1]=e.haloColor.g/255,t.outlineColor[2]=e.haloColor.b/255,t.outlineColor[3]=e.haloColor.a):(t.outlineColor[0]=t.fillColor[0],t.outlineColor[1]=t.fillColor[1],t.outlineColor[2]=t.fillColor[2],t.outlineColor[3]=t.fillColor[3]),t.fillColor[3]*=e.fillOpacity,t.outlineColor[3]*=e.haloOpacity,t.fillColor[0]*=t.fillColor[3],t.fillColor[1]*=t.fillColor[3],t.fillColor[2]*=t.fillColor[3],t.outlineColor[0]*=t.outlineColor[3],t.outlineColor[1]*=t.outlineColor[3],t.outlineColor[2]*=t.outlineColor[3],t.outlineWidth=(1-e.haloBlur)*e.haloWidth,t.outerHaloWidth=e.haloBlur*e.haloWidth/2,t.innerHaloWidth=e.haloBlur*e.haloWidth/2,t.outlinePosition=0}var bSe=[0,0,0,0],Zq=class{constructor(){this.type=`single`,this._highlightOptions=new QV,this._convertedHighlightOptions={fillColor:[0,0,0,0],outlineColor:[0,0,0,0],outlinePosition:0,outlineWidth:0,innerHaloWidth:0,outerHaloWidth:0},this._optionsShadeTexKey=``,this._texelData=new Uint8Array(4*256),this._minMaxDistance=[0,0]}setHighlightOptions(e){this._highlightOptions=e}applyHighlightOptions(e,t){this._updateGradientTexture(e),e.bindTexture(this._shadeTex,6),t.setUniform2fv(`u_minMaxDistance`,this._minMaxDistance)}destroy(){this._shadeTex?.dispose(),this._shadeTex=null}getReasonsWithGradients(){return[{activeReasons:63,activeGradient:this}]}_updateGradientTexture(e){let t=xSe(this._highlightOptions);if(t===this._optionsShadeTexKey)return;this._optionsShadeTexKey=t,ySe(this._highlightOptions,this._convertedHighlightOptions);let n=this._convertedHighlightOptions,r=n.outlinePosition-n.outlineWidth/2-n.outerHaloWidth,i=n.outlinePosition-n.outlineWidth/2,a=n.outlinePosition+n.outlineWidth/2,o=n.outlinePosition+n.outlineWidth/2+n.innerHaloWidth,s=Math.sqrt(Math.PI/2)*1,c=Math.abs(r)>s?Math.round(10*(Math.abs(r)-s))/10:0,l=Math.abs(o)>s?Math.round(10*(Math.abs(o)-s))/10:0,u;c&&!l?Xq().error(`The outer rim of the highlight is `+c+`px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards).`):!c&&l?Xq().error(`The inner rim of the highlight is `+l+`px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards).`):c&&l&&Xq().error(`The highlight is `+Math.max(c,l)+`px away from the edge of the feature; consider reducing some width values.`);let d=[void 0,void 0,void 0,void 0];function f(e,t,n){d[0]=(1-n)*e[0]+n*t[0],d[1]=(1-n)*e[1]+n*t[1],d[2]=(1-n)*e[2]+n*t[2],d[3]=(1-n)*e[3]+n*t[3]}let{_texelData:p}=this;for(let e=0;e<256;++e)u=r+e/255*(o-r),u<r?(d[0]=0,d[1]=0,d[2]=0,d[3]=0):u<i?f(bSe,n.outlineColor,(u-r)/(i-r)):u<a?[d[0],d[1],d[2],d[3]]=n.outlineColor:u<o?f(n.outlineColor,n.fillColor,(u-a)/(o-a)):[d[0],d[1],d[2],d[3]]=n.fillColor,p[4*e]=255*d[0],p[4*e+1]=255*d[1],p[4*e+2]=255*d[2],p[4*e+3]=255*d[3];if(this._minMaxDistance[0]=r,this._minMaxDistance[1]=o,!this._shadeTex){let t=new Lq(256,1);t.wrapMode=33071,this._shadeTex=new Yq(e,t)}this._shadeTex.updateData(0,0,0,256,1,this._texelData)}};function xSe(e){return`${e.color};${e.haloColor};${e.haloOpacity};${e.fillOpacity};${e.haloWidth};${e.haloBlur}`}var SSe=class{constructor(){this.type=`multi`,this.gradients=[]}setHighlightOptions(e){for(let t=0;t<e.length;t++)this.gradients[t]||(this.gradients[t]=new Zq),this.gradients[t].setHighlightOptions(e[t]);for(let t=e.length+1;t<this.gradients.length;t++)this.gradients[t].destroy();this.gradients.length=e.length}destroy(){for(let e of this.gradients)e.destroy()}getReasonsWithGradients(){let e=1,t=[];for(let n=0;n<this.gradients.length;n++){let r=this.gradients[n];t.push({activeReasons:e,activeGradient:r}),e<<=1}return t}},Qq={color:{write:[!0,!0,!0,!0],blendMode:`composite`},depth:!1,stencil:{write:!1,test:{compare:514,mask:255,op:{fail:7680,zFail:7680,zPass:7681}}}},CSe={color:{write:[!0,!0,!0,!0],blendMode:`additive`},depth:!1,stencil:!1},wSe={...Qq,color:{write:[!0,!0,!0,!0],blendMode:`delete`}};function $q({pixelRatio:e,state:t,displayLevel:n,requiredLevel:r},i){let a=1/2**(n-i.key.level),o=1/2**(r-i.key.level);return{displayMat3:t.displayMat3,displayViewMat3:t.displayViewMat3,displayViewScreenMat3:i.transforms.displayViewScreenMat3,viewMat3:t.viewMat3,tileMat3:i.transforms.tileMat3,displayZoomFactor:a,requiredZoomFactor:o,tileOffset:[i.x,i.y],currentScale:t.scale,currentZoom:n,metersPerSRUnit:dy(t.spatialReference),rotation:t.rotation,pixelRatio:e}}function eJ(e){return e.passOptions?.type===`highlight`}function tJ(e){return e.passOptions?.type===`hittest`}function TSe(e){if(!tJ(e))return null;let{position:t,distance:n,smallSymbolDistance:r,smallSymbolSizeThreshold:i}=e.passOptions;return{position:t,distance:n,smallSymbolDistance:r,smallSymbolSizeThreshold:i}}function ESe(e){if(!eJ(e))return null;let{activeReasons:t,highlightAll:n}=e.passOptions;return{activeReasons:t,highlightAll:n?1:0}}function DSe(e,t,n){let r={};for(let i in n)typeof n[i]==`function`?r[i]=n[i](e,t):r[i]=n[i];return r}function OSe(e,t){let{attributeView:n,context:r}=e;return{storage:n.getUniforms(r),view:$q(e,t),hittestRequest:TSe(e),highlight:ESe(e)}}function kSe(e){return{inside:e.selection===2,outside:e.selection===3}}function nJ(e){return tJ(e)?CSe:eJ(e)&&e.passOptions.stepType===`clear`?wSe:Qq}function ASe(e){let{row:t,col:n}=e.key,r=n*512,i=t*512;return{tileOffsetFromLocalOrigin:[r%wq,i%wq],maxIntsToLocalOrigin:[Math.floor(r/wq),Math.floor(i/wq)]}}var jSe=new P_({esriGeometryPoint:`point`,esriGeometryMultipoint:`multipoint`,esriGeometryPolyline:`polyline`,esriGeometryPolygon:`polygon`,esriGeometryMultiPatch:`multipatch`,mesh:`mesh`});function MSe(e){return jSe.toJSON(e)}function NSe(e){let{bandCount:t,attributeTable:n,colormap:r,pixelType:i}=e.raster.rasterInfo;return t===1&&(n!=null||r!=null||i===`u8`||i===`s8`)}function rJ(e,t){return t==null?(e?.destroy(),null):(e?.type===`single`&&Array.isArray(t)&&(e.destroy(),e=null),e?.type!==`multi`||Array.isArray(t)||(e.destroy(),e=null),e||=Array.isArray(t)?new SSe:new Zq,Array.isArray(t)?e.type===`multi`&&e.setHighlightOptions(t):e.type===`single`&&e.setHighlightOptions(t),e)}function PSe(e,t,n,r){let{painter:i,highlightGradient:a}=e,{highlight:o}=i.effects;if(!a)return;let s=e.passOptions,c=a.getReasonsWithGradients();for(let a=0;a<c.length;a++){let s={...e,passOptions:{type:`highlight`,activeGradient:r==null?c[a].activeGradient:c[r].activeGradient,activeReasons:c[a].activeReasons,stepType:`burn`,highlightAll:t}};if(o.bind(s),n(s),a<c.length-1){let i=0;for(let e=a+1;e<c.length;e++)i|=c[e].activeReasons;n({...e,passOptions:{type:`highlight`,activeGradient:r==null?c[a].activeGradient:c[r].activeGradient,activeReasons:i,stepType:`clear`,highlightAll:t}})}let l={...e,passOptions:{type:`highlight`,activeGradient:r==null?c[a].activeGradient:c[r].activeGradient,activeReasons:c[a].activeReasons,stepType:`draw`,highlightAll:t}};i.setPipelineState(nJ(e)),i.updatePipelineState(e.context),o.draw(l),o.unbind()}e.passOptions=s}var iJ=e=>parseFloat(e)/100;function aJ(e,t,n){let r=typeof e.left==`string`?iJ(e.left)*t:e.left,i=typeof e.right==`string`?iJ(e.right)*t:e.right,a=typeof e.top==`string`?iJ(e.top)*n:e.top,o=typeof e.bottom==`string`?iJ(e.bottom)*n:e.bottom,s=a;return{xmin:r,xmax:Math.max(t-i,r),ymin:s,ymax:Math.max(n-o,a)}}function oJ(e,t,n,r){switch(t.type){case`rect`:{let{width:r,height:i}=e,{xmin:a,xmax:o,ymin:s,ymax:c}=aJ(t,r,i),{x:l,y:u}=n;return l>a&&l<o&&u>s&&u<c}case`path`:return t.path.length===0||!Array.isArray(t.path[0][0])||qy(t.path,[n.x,n.y]);case`geometry`:return t.geometry==null||(t.geometry.type===`polygon`?Ky(t.geometry,r):Uy(t.geometry,r))}}function sJ(e){if(!e.highlights)return null;let t=e.highlights.findIndex(e=>e.name===`default`);return t===-1?null:e.highlights.items[t]}function cJ(e,t){if(!e.highlights){if(!t)return;e.highlights=new L([new QV])}let n=e.highlights.findIndex(e=>e.name===`default`);t?e.highlights.items[n].assignFrom(t):(e.highlights.removeAt(n),e.highlights.length===0&&(e.highlights=null))}async function FSe(e,t,n){let r=zV(t)?RV(e,t):t;if(!e.ready||isNaN(r.x)||isNaN(r.y))return{screenPoint:r,results:[]};let i=new Set,a=new Set,o=!1,s=null,c=null;n?.include?uJ(n.include,lJ(e,e=>{i.add(e),fJ(e,e=>a.add(e))},(e,t)=>{a.add(e),i.add(t)},e=>{s||=new Set,s.add(e)},e=>i.add(e),()=>o=!0)):(o=!0,i=new Set(e.allLayerViews),i.forEach(e=>{fJ(e,e=>a.add(e))})),n?.exclude&&uJ(n.exclude,lJ(e,e=>{i.delete(e),fJ(e,e=>a.delete(e))},e=>a.delete(e),e=>{c||=new Set,c.add(e)}));let l=e.toMap(r),u=e.allLayerViews.filter(t=>!t.suspended&&i.has(t)&&t.clips.every(t=>oJ(e,t,r,l))).reverse(),d=[...o?e.graphicsView.hitTest(l).map(e=>({type:`graphic`,graphic:e,layer:null,mapPoint:l})):[],...await Promise.all(u.map(e=>e.hitTest(l,r)).toArray())].filter(Mc).flat().filter(Mc);return d=d.filter(e=>e.type!==`graphic`||e.layer?.type!==`subtype-group`||a.has(e.graphic.layer)),s&&(d=d.filter(e=>!(`graphic`in e)||!e.graphic||s?.has(dJ(e.graphic)))),c&&(d=d.filter(e=>!(`graphic`in e)||!e.graphic||!c?.has(dJ(e.graphic)))),{screenPoint:r,results:d}}function lJ(e,t,n,r,i,a){return o=>{if(o instanceof EB){if(o.layer===e)a?.();else{let t=e.allLayerViews.find(e=>e.layer===o.layer);t&&i?.(t)}r(dJ(o))}else if(!(`layer`in o&&`element`in o))if(o.type===`subtype-sublayer`){let t=e.allLayerViews.find(e=>e.layer===o.parent);t&&n(o,t)}else{let n=e.allLayerViews.find(e=>e.layer===o);n&&t(n)}}}function uJ(e,t){if(e)if(sm(e))for(let n of e)if(sm(n))for(let e of n)t(e);else t(n);else t(e)}function dJ(e){let t=e.getObjectId();return t?`${e.layer?.uid??e.sourceLayer?.uid??`MapView`}/${t}`:`"MapView/${e.uid}`}function fJ(e,t){let n=e.layer;n?.type===`subtype-group`&&n.sublayers.forEach(e=>{t(e)})}var pJ=null,mJ=!0;function ISe(e,t,n){if(!e||!t)throw Error(`Cannot construct image data without dimensions`);if(mJ)try{return new ImageData(e,t)}catch{mJ=!1}return hJ(e,t,n)}function LSe(e,t,n,r){if(!t||!n)throw Error(`Cannot construct image data without dimensions`);if(mJ)try{return new ImageData(e,t,n)}catch{mJ=!1}let i=hJ(t,n,r);return i.data.set(e,0),i}function RSe(){return pJ||(pJ=document.createElement(`canvas`),pJ.width=1,pJ.height=1),pJ}function hJ(e,t,n){return n||=RSe(),n.getContext(`2d`).createImageData(e,t)}async function zSe(e,t){let n=window.URL.createObjectURL(e);try{let{data:e}=await gp(n,{...t,responseType:`image`});return e}catch(e){throw lf(e)?e:new M(`invalid-image`,`Could not fetch requested image at ${n}`)}finally{window.URL.revokeObjectURL(n)}}async function BSe(e,t){let{arrayBuffer:n,mediaType:r}=await VSe(e,t),i=r===`image/png`;if(r===`image/gif`){let{isAnimatedGIF:e,parseGif:r}=await N(async()=>{let{isAnimatedGIF:e,parseGif:t}=await import(`./gif-BuNVw3I5.js`);return{isAnimatedGIF:e,parseGif:t}},[]);if(e(n))return r(n,t)}if(i){let{isAnimatedPNG:e,parseApng:r}=await N(async()=>{let{isAnimatedPNG:e,parseApng:t}=await import(`./apng-BQvKdOJQ.js`);return{isAnimatedPNG:e,parseApng:t}},__vite__mapDeps([409,34]));if(e(n))return r(n,t)}return zSe(new Blob([n],{type:r}),t)}async function VSe(e,t){let n=Nu(e);if(n?.isBase64)return{arrayBuffer:zl(n.data),mediaType:n.mediaType};let r=await gp(e,{responseType:`array-buffer`,...t});return{arrayBuffer:r.data,mediaType:r.getHeader?.(`Content-Type`)??``}}function gJ(e,t,n){let{ctx:r,canvas:i}=vJ(e,n),a=r.getImageData(0,0,e.width,e.height),o=xJ(i,t);return yJ(i),{dataUrl:o,data:a}}function _J(e,t){let{ctx:n,canvas:r}=vJ(e,t),i=n.getImageData(0,0,e.width,e.height);return yJ(r),i}function vJ(e,t){let n=HSe();t.premultipliedAlpha&&KSe(e),n.width=e.width,n.height=e.height;let r=n.getContext(`2d`,{willReadFrequently:!0});return r.putImageData(e,0,0),t.flipY&&GSe(r),{ctx:r,canvas:n}}function yJ(e){e.width=0,e.height=0}function HSe(){return bJ??=document.createElement(`canvas`),bJ}var bJ=null;function xJ(e,t){let n=qSe[t.format],r=t.quality/100;return e.toDataURL(n,r)}function SJ(e,t){let n=WSe(e),r=YSe[n];return{format:n,quality:KT(t??r,0,100)}}function CJ(e,t){return t/Math.max(e[0],e[1])}function USe(e,t,n,r=0,i=0,a=e.width-r,o=e.height-i,s=!1){let{data:c}=e,{width:l,height:u,data:d}=t,f=a/l,p=o/u,m=Math.ceil(f/2),h=Math.ceil(p/2),g=e.width;for(let e=0;e<u;e++)for(let t=0;t<l;t++){let a=4*(t+(s?u-e-1:e)*l),o=0,_=0,v=0,y=0,b=0,x=0,S=(e+.5)*p;for(let a=Math.floor(e*p);a<(e+1)*p;a++){let e=Math.abs(S-(a+.5))/h,s=(t+.5)*f,l=e*e;for(let e=Math.floor(t*f);e<(t+1)*f;e++){let t=Math.abs(s-(e+.5))/m,u=Math.sqrt(l+t*t);if(u>=1)continue;let d=2*u*u*u-3*u*u+1,f=4*(r+e+(i+a)*g);x+=d*c[f+3],_+=d,!n&&c[f+3]<255&&(d=d*c[f+3]/255),v+=d*c[f],y+=d*c[f+1],b+=d*c[f+2],o+=d}}d[a]=v/o,d[a+1]=y/o,d[a+2]=b/o,d[a+3]=x/_}return t}function WSe(e){switch(e){case`png`:case`jpg`:case`jpeg`:return e;default:return JSe}}function GSe(e){e.save(),e.globalCompositeOperation=`copy`,e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}function KSe(e){let t=e.data,n=t.length;for(let e=0;e<n;e+=4){let n=t[e+3];if(n!==255&&n>0){let r=255/n;t[e]=t[e]*r,t[e+1]=t[e+1]*r,t[e+2]=t[e+2]*r}}}var qSe={png:`image/png`,jpg:`image/jpeg`,jpeg:`image/jpeg`},wJ=98,JSe=`png`,YSe={png:100,jpg:wJ,jpeg:wJ},TJ={flipY:!0,premultipliedAlpha:!0};async function XSe(e,t){let n=await EJ(e,t),{format:r,quality:i}=SJ(t?.format,t?.quality);return gJ(n,{format:r,quality:i},TJ)}async function ZSe(e,t){let n=await EJ(e,t);return _J(n,TJ)}function EJ(e,t){let n=eCe(t||{},$Se(e.stage,e.size),e.size,e.padding),r=QSe(t,e.allLayerViews);return e.stage.takeScreenshot(n,r,e.backgroundColor,t?.rotation)}function QSe(e={},t){if(!e.layers)return;let n=[];return e.layers.forEach(e=>{let r=t.find(t=>t.layer.id===e.id);r?.container&&n.push(r.container)}),n}function $Se(e,t){return Math.min(4,CJ(t,Math.min(4096,e.context.parameters.maxTextureSize)))}function eCe(e,t,n,r){e.ignorePadding&&(r={left:0,right:0,top:0,bottom:0});let i=null;e.width!=null&&e.height!=null?i=[e.width,e.height]:e.width==null&&e.height!=null?i=[e.height,e.height]:e.width!=null&&e.height==null?i=[e.width,e.width]:e.width==null&&e.height==null&&(i=null);let a=n[0]-(r.left+r.right),o=n[1]-(r.top+r.bottom),s,c,l=e.area||{x:0,y:0,width:a,height:o};if(i){let e=a/o,t=i[0]/i[1];if(t>e){let e=l.width/t;l={x:l.x,y:Math.round(l.y+(l.height-e)/2),width:l.width,height:Math.round(e)}}else{let e=l.height*t;l={x:Math.round(l.x+(l.width-e)/2),y:l.y,width:Math.round(e),height:l.height}}}else i=[l.width,l.height];return i[0]>l.width?(s=Math.min(i[0]/l.width,t),c=i[0]/l.width/s):(s=1,c=i[0]/l.width),{cropArea:{x:Math.round((l.x+r.left)*s),y:Math.round((l.y+r.top)*s),width:Math.round(l.width*s),height:Math.round(l.height*s)},outputScale:c,resolutionScale:s}}var tCe=e=>e.includes(`Brush`),DJ=class{constructor(){this._names=new Map}begin(e){this._names.has(e)||(this._names.set(e,!1),tCe(e)&&this.record(`Esri.FirstDraw`),performance.mark(`Esri.${e}.Start`))}end(e){this._names.has(e)&&!this._names.get(e)&&(this._names.set(e,!0),performance.mark(`Esri.${e}.End`))}record(e){this._names.has(e)||(this._names.set(e,!0),performance.mark(`Esri.${e}`))}},OJ=Symbol(`analyses-owner-handles`),kJ=class extends I{constructor(e){super(e),this._allAnalysisViews=new L,this._creatingViewCount=0,this._attachedToViewResolver=AJ(),this._items=new Map,this._moduleMap=new Map,this._scheduledUpdateHandle=null,this._emitOnView=(e,t)=>this.view.emit(e,t)}destroy(){this._disconnectOwners(),this._attachedToViewResolver.reject(Qd(`AnalysisViewManager was destroyed`)),this._set(`view`,null)}attach(){this._connectOwners(),this._attachedToViewResolver.resolve()}detach(){this._disconnectOwners(),this._attachedToViewResolver.reject(Qd()),this._attachedToViewResolver=AJ()}get updating(){return!this.view.ready||this._creatingViewCount!==0||this._allAnalysisViews.some(e=>e.updating)}get testInfo(){}async whenAnalysisView(e){await this._attachedToViewResolver.promise;let t=this._items.get(e);if(t==null||t.state.list===1)throw new M(`AnalysisViewManager:no-analysis-view-for-analysis`,`The analysis does not exist in view.analyses`,{analysis:e});return t.createAnalysisViewTask.promise}_connectOwners(){this.addHandles(this._connectAnalysesCollection(this.view.analyses),OJ)}_disconnectOwners(){this.removeHandles(OJ),this._update(),this._creatingViewCount=0}_connectAnalysesCollection(e){for(let t of e)this._addAnalysis(t);let t=e.on(`after-add`,e=>this._addAnalysis(e.item)),n=e.on(`after-remove`,e=>this._removeAnalysis(e.item));return Ed(()=>{t.remove(),n.remove();for(let t of e)this._removeAnalysis(t)})}_addAnalysis(e){let t=this._items.get(e);if(t==null){let t={state:{view:0,list:0},analysis:e,view:null,createAnalysisViewTask:null};this._items.set(e,t),t.createAnalysisViewTask=A_(n=>this._createAnalysisViewPromise(t,n).then(t=>(this._emitOnView(`analysis-view-create`,{analysis:e,analysisView:t}),t),t=>{throw this._emitOnView(`analysis-view-create-error`,{analysis:e,error:t}),t}))}else t.state.list=0}_removeAnalysis(e){let t=this._items.get(e);t==null?j.getLogger(this).error(`Trying to remove analysis which was not added`):(t.state.list=1,this._scheduleUpdate())}_scheduleUpdate(){this._scheduledUpdateHandle??=ph(()=>this._update())}_update(){this._scheduledUpdateHandle=qd(this._scheduledUpdateHandle),this._items.forEach(e=>{if(e.state.list!==1)return;let{analysis:t,view:n}=e;switch(this._items.delete(t),e.state.view){case 0:e.createAnalysisViewTask=Jd(e.createAnalysisViewTask);break;case 1:n!=null&&(this._allAnalysisViews.remove(n),e.view=Gd(n),e.createAnalysisViewTask=null,this._emitOnView(`analysis-view-destroy`,{analysis:t,analysisView:n}))}})}async _createAnalysisViewPromise(e,t){let{analysis:n}=e;if(this._creatingViewCount+=1,!this._moduleMap.has(n.type))try{this._moduleMap.set(n.type,await this.importAnalysisViewModule(n))}catch{throw--this._creatingViewCount,new M(`AnalysisViewManager:no-analysis-view-for-analysis`,`Analysis of type "${n.type}" is not supported`)}if(tf(t))throw--this._creatingViewCount,Qd(`AnalysisView creation aborted`);let r=new(this._moduleMap.get(n.type)).default({analysis:n,view:this.view}),i=!0;af(t,()=>{i&&this._destroyAnalysisView(n,r)});try{await r.when()}catch(e){throw i=!1,this._destroyAnalysisView(n,r),e}if(tf(t))throw Qd();return i=!1,e.view=r,e.state.view=1,this._allAnalysisViews.add(r),--this._creatingViewCount,r}_destroyAnalysisView(e,t){t.destroyed||(--this._creatingViewCount,t.destroy(),this._emitOnView(`analysis-view-destroy`,{analysis:e,analysisView:t}))}};O([P()],kJ.prototype,`updating`,null),O([P({constructOnly:!0})],kJ.prototype,`importAnalysisViewModule`,void 0),O([P({constructOnly:!0})],kJ.prototype,`view`,void 0),O([P()],kJ.prototype,`_allAnalysisViews`,void 0),O([P()],kJ.prototype,`_creatingViewCount`,void 0),kJ=O([F(`esri.views.support.AnalysisViewManager`)],kJ);var nCe=kJ;function AJ(){let e=yf();return e.promise.catch(()=>{}),e}var rCe=class{constructor(e){this.getUnmaskedRenderer=e}};function jJ(e){let t=e.getExtension(`WEBGL_debug_renderer_info`);return t?new rCe(()=>e.getParameter(t.UNMASKED_RENDERER_WEBGL)):null}var MJ;function NJ(){return MJ??=oCe(),MJ}var iCe=class{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1,this.unmaskedRenderer=`unloaded`}};function aCe(e){if(typeof WebGL2RenderingContext>`u`)return null;let t=document.createElement(`canvas`);if(!t)return null;let n=t.getContext(`webgl2`,{failIfMajorPerformanceCaveat:!0});if(n??(n=t.getContext(`webgl2`),n!=null&&(e.majorPerformanceCaveat=!0,e.unmaskedRenderer=jJ(n)?.getUnmaskedRenderer()??`unknown`)),n==null)return n;e.available=!0,e.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE),e.supportsVertexShaderSamplers=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;let r=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);return r&&(e.supportsHighPrecisionFragment=r.precision>0),n}function oCe(){let e=new iCe,t=aCe(e);return t==null||(e.supportsColorBufferFloat=t.getExtension(`EXT_color_buffer_float`)!==null,e.supportsColorBufferFloatBlend=t.getExtension(`EXT_float_blend`)!==null,e.supportsColorBufferHalfFloat=e.supportsColorBufferFloat||t.getExtension(`EXT_color_buffer_half_float`)!==null),e}function sCe(e){let t=NJ();return t.available?e===`3d`&&t.majorPerformanceCaveat?new M(`webgl:major-performance-caveat-detected`,`Your WebGL implementation (${t.unmaskedRenderer}) doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.`):t.supportsHighPrecisionFragment?t.supportsVertexShaderSamplers?null:new M(`webgl:vertex-shader-samplers-required`,`WebGL support for vertex shader samplers is required but not supported.`):new M(`webgl:high-precision-fragment-required`,`WebGL support for high precision fragment shaders is required but not supported.`):new M(`webgl:required`,`WebGL2 is required but not supported.`,Error().stack)}function cCe(e){return e&&`nodeType`in e}function lCe(e){return e&&typeof e.render==`function`}var PJ={component:`esri-component`},FJ=class extends I{constructor(){super(...arguments),this.widget=null}destroy(){this.node=null,this.widget?.destroy()}get id(){return this._get(`id`)??this.widget?.id??this.node?.id}set id(e){this._set(`id`,e)}set node(e){let t=this._get(`node`);e!==t&&(e&&e.classList.add(PJ.component),t&&t.classList.remove(PJ.component),this._set(`node`,e))}castNode(e){return this.widget?.destroy(),e?typeof e==`string`||cCe(e)?(this._set(`widget`,null),RM(e)):(lCe(e)&&!e.domNode&&(e.domNode=document.createElement(`div`)),this._set(`widget`,e),e.domNode):(this._set(`widget`,null),null)}};O([P()],FJ.prototype,`id`,null),O([P()],FJ.prototype,`node`,null),O([Sy(`node`)],FJ.prototype,`castNode`,null),O([P({readOnly:!0})],FJ.prototype,`widget`,void 0),FJ=O([F(`esri.views.ui.Component`)],FJ);var IJ=FJ,uCe=(e,t)=>{let n=e;for(;n;){if(n===t)return!0;if(!n.parentNode)return!1;n=n.parentNode instanceof ShadowRoot?n.parentNode.host:n.parentNode}return!1},dCe=(e,t,n)=>{let r=fCe(t).subscribe;return r(t=>{t.some(t=>uCe(e,t.target))&&n()})},LJ={},fCe=e=>{let t=e.join(`,`),n=LJ[t];if(n!==void 0)return n;let r=new Set,i=new MutationObserver(e=>r.forEach(t=>t(e)));globalThis.document&&i.observe(document.documentElement,{attributes:!0,attributeFilter:e,subtree:!0});let a={subscribe:e=>(r.add(e),()=>{r.delete(e),r.size===0&&(i.disconnect(),LJ[t]=void 0)})};return LJ[t]=a,a},RJ=(e,t)=>{let n=e;for(;n;){let e=n.closest?.(t);if(e)return e;let r=n.getRootNode?.();if(r===globalThis.document)return;n=r.host}};function pCe(e){let t=RJ(e,`.calcite-mode-dark, .calcite-mode-light, .calcite-mode-auto`);return t?.classList.contains(`calcite-mode-dark`)||t?.classList.contains(`calcite-mode-auto`)&&window.matchMedia(`(prefers-color-scheme: dark)`).matches?`dark`:`light`}var mCe=(e,t,n)=>RJ(e,`[${t}]`)?.getAttribute(t)??n,hCe=`--esri-calcite-mode-name`;function gCe(){let e=getComputedStyle(document.body).getPropertyValue(hCe).replaceAll(/\W/g,``).toLowerCase();return e===`dark`||e===`light`?e:void 0}var zJ=`calcite-mode-`;function BJ(e){return gCe()??pCe(e??document.body)}function _Ce(e){return BJ(e)===`dark`}function VJ(e){return`${zJ}${BJ(e)}`}function HJ(e){let t=VJ(e);vCe(e),e.classList.add(t)}function vCe(e){Array.from(e.classList).forEach(t=>{t.startsWith(zJ)&&e.classList.remove(t)})}var UJ=new Map;function WJ(){UJ.clear()}function yCe(e){return UJ.get(e)}function bCe(e,t){UJ.set(e,t)}function GJ(e){UJ.delete(e)}function KJ(...e){let t=qp.acquire();for(let n=0;n<e.length;n++){let r=e[n],i=typeof r;if(i===`string`)t.push(r);else if(Array.isArray(r))t.push.apply(t,r);else if(i===`object`)for(let e in r)r[e]&&t.push(e)}let n=t.join(` `);return qp.release(t),n}(()=>{let e=new Map,t=new ResizeObserver(t=>{WJ();for(let n of t)e.get(n.target)?.(n)}),n=(n,r,i)=>(e.set(n,r),t.observe(n,i),Ed(()=>{t.unobserve(n),e.delete(n)}));return(e,t,r)=>{let i=null;return kd([q(()=>typeof e==`function`?e():e,e=>{i?.remove(),e&&(i=n(e,t,r))},Xw),Ed(()=>i?.remove())])}})();function qJ(e){let t=e?.closest(`[dir]`);return t!==null&&t instanceof HTMLElement&&t.dir===`rtl`||document.dir===`rtl`}function xCe(e){this[e.getAttribute(`data-node-ref`)]=null}function SCe(e){this[e.getAttribute(`data-node-ref`)]=e}function CCe(e){return e===`Enter`||e===` `}async function JJ(e,t){await Sh(ef(t));let n=typeof e==`function`?e():e;n&&(`setFocus`in n&&typeof n.setFocus==`function`?await n.setFocus():n instanceof HTMLElement&&n.focus())}var wCe={left:0,top:0,bottom:0,right:0},YJ={bottom:30,top:15,right:15,left:15},XJ=`esri-ui`,ZJ={ui:XJ,corner:`${XJ}-corner`,innerContainer:`${XJ}-inner-container`,manualContainer:`${XJ}-manual-container`,cornerContainer:`${XJ}-corner-container`,topLeft:`${XJ}-top-left`,topRight:`${XJ}-top-right`,bottomLeft:`${XJ}-bottom-left`,bottomRight:`${XJ}-bottom-right`};function TCe(e){return e&&!e._started&&typeof e.postMixInProperties==`function`&&typeof e.buildRendering==`function`&&typeof e.postCreate==`function`&&typeof e.startup==`function`}function QJ(e){return e===0?`0`:`${e}px`}function $J(e){let t=typeof e==`object`&&!!e&&Object.getPrototypeOf(e);return(t===null||t===Object.prototype)&&(`component`in e||`index`in e||`position`in e)?e:null}function eY(e,{top:t,bottom:n,left:r,right:i}){e.style.top=t,e.style.bottom=n,e.style.left=r,e.style.right=i}var tY=class extends Xg{constructor(e){super(e),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=[],this._componentMap=new Map,this._removeWidgetHandleKey=Symbol(`componentOnRemoveSymbol`),this._locale=pb(),this.view=null,this._applyViewPadding=()=>{let e=this.container;e&&eY(e,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{let e=this._innerContainer;e&&eY(e,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([q(()=>[this.view?.padding,this.container],this._applyViewPadding,Yw),q(()=>this.padding,this._applyUIPadding,Yw),q(()=>[this.container,this._locale],([e,t])=>{e&&e.setAttribute(`lang`,t)},Yw),gb(e=>{this._locale=e})])}destroy(){this.removeAllHandles(),this.container=null;for(let e of this._components)e.destroy();this._components.length=0,this._componentMap.clear(),this.view=null,this._set(`view`,null)}set container(e){let t=this._get(`container`);e!==t&&(e&&(e.classList.add(ZJ.ui),HJ(e),this._attachContainers(e)),t&&(t.classList.remove(ZJ.ui),eY(t,{top:``,bottom:``,left:``,right:``}),t.textContent=``),this._set(`container`,e))}get height(){let e=this.view?.height??0;if(e===0)return e;let{top:t,bottom:n}=this._getViewPadding();return Math.max(e-t-n,0)}get padding(){return this._get(`padding`)}set padding(e){this._overrideIfSome(`padding`,e)}castPadding(e){return typeof e==`number`?{bottom:e,top:e,right:e,left:e}:{...YJ,...e}}get width(){let e=this.view?.width??0;if(e===0)return e;let{left:t,right:n}=this._getViewPadding();return Math.max(e-t-n,0)}add(e,t){let n,r,i;if(Array.isArray(e))return void e.forEach(e=>this.add(e,t));let a=$J(e);a&&({index:n,position:t,component:e,key:r}=a),t&&typeof t==`object`&&({index:n,key:r,position:t,internal:i}=t),!e||t&&!this._isValidPosition(t)||this._add(e,t,n??this._getNumComponentsAtPosition(t),r,i)}remove(e,t){if(!e)return;if(Array.isArray(e))return e.map(e=>this.remove(e,t));let n=this._find(e);if(n){let e=this._componentMap.get(n);if(!e||e.key!==t)return;let r=this._components.indexOf(n);return n.node.parentNode?.removeChild(n.node),this._componentMap.delete(n),n.widget?.removeHandlesReference(this._removeWidgetHandleKey),this._components.forEach(t=>{let n=this._componentMap.get(t);n&&n.position===e.position&&n.index>e.index&&n.index--}),this._components.splice(r,1)[0]}}empty(e,t={removeInternal:!1}){if(Array.isArray(e)){for(let n of e)this.empty(n,t);return}let n=this._positionNameToContainerLookup[e??`manual`],r=Array.prototype.slice.call(n.children).map(e=>this._findByNode(e)).filter(e=>e==null?!1:!(this._componentMap.get(e)?.internal??!1)||t.removeInternal);for(let e of r)this.remove(e)}move(e,t){if(Array.isArray(e)&&e.forEach(e=>this.move(e,t)),!e)return;let n,r=$J(e)||$J(t);if(r&&(n=r.index,t=r.position,e=r.component||e),t&&!this._isValidPosition(t))return;let i=this.remove(e);i&&this.add(i,{position:t,index:n})}find(e){if(!e)return null;let t=this._findById(e);return t&&(t.widget||t.node)}getComponents(e,t={includeInternal:!1}){return e?Array.isArray(e)?e.flatMap(e=>this._getComponentsAtPosition(e,t)):this._getComponentsAtPosition(e,t):this._components.filter(e=>t.includeInternal||!this._componentMap.get(e)?.internal).map(({widget:e,node:t})=>e??t)}getPosition(e){for(let t in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[t].contains(e))return t;return null}_add(e,t,n,r,i){e instanceof IJ||(e=new IJ({node:e}));let{widget:a}=e;a!=null&&a instanceof I&&a.addHandles(Ed(()=>{queueMicrotask(()=>this.remove(e))}),this._removeWidgetHandleKey);let o=this._positionNameToContainerLookup[t];this._components.some(e=>{let t=this._componentMap.get(e)?.position,r=t?this._positionNameToContainerLookup[t]:null;return o===r&&this._componentMap.get(e)?.index===n})&&this._components.forEach(e=>{let t=this._componentMap.get(e),r=t?.position,i=r?this._positionNameToContainerLookup[r]:null;t&&i===o&&t.index>=n&&t.index++}),this._place({component:e,position:t,index:n}),this._components.push(e),this._componentMap.set(e,{key:r,position:t,internal:i,index:n})}_find(e){return e?e instanceof IJ?this._findByComponent(e):typeof e==`string`?this._findById(e):`domNode`in e?this._findByNode(e.domNode):this._findByNode(e):null}_getViewPadding(){return this.view?.padding??wCe}_attachContainers(e){e.appendChild(this._innerContainer),e.appendChild(this._manualContainer)}_initContainers(){let e=document.createElement(`div`);e.classList.add(ZJ.innerContainer,ZJ.cornerContainer);let t=document.createElement(`div`);t.classList.add(ZJ.innerContainer,ZJ.manualContainer);let n=document.createElement(`div`);n.classList.add(ZJ.topLeft,ZJ.corner),e.appendChild(n);let r=document.createElement(`div`);r.classList.add(ZJ.topRight,ZJ.corner),e.appendChild(r);let i=document.createElement(`div`);i.classList.add(ZJ.bottomLeft,ZJ.corner),e.appendChild(i);let a=document.createElement(`div`);a.classList.add(ZJ.bottomRight,ZJ.corner),e.appendChild(a),this._innerContainer=e,this._manualContainer=t;let o=qJ();this._cornerNameToContainerLookup={"top-left":n,"top-right":r,"bottom-left":i,"bottom-right":a,"top-leading":o?r:n,"top-trailing":o?n:r,"bottom-leading":o?a:i,"bottom-trailing":o?i:a},this._positionNameToContainerLookup={manual:t,...this._cornerNameToContainerLookup}}_isValidPosition(e){return!!this._positionNameToContainerLookup[e]}_place(e){let t=e.position??`manual`,{component:n,index:r}=e,i=this._positionNameToContainerLookup[t],a=r!=null&&r>-1;if(TCe(n.widget)&&n.widget.startup(),!a)return void i.appendChild(n.node);let o=Array.from(i.children);if(o.length!==0){for(let e of o){let t=this._findByNode(e);if(t&&r<(this._componentMap.get(t)?.index??0))return void e.parentNode?.insertBefore(n.node,e)}i.appendChild(n.node)}else i.appendChild(n.node)}_toPixelPosition(e){return{top:QJ(e.top),left:QJ(e.left),right:QJ(e.right),bottom:QJ(e.bottom)}}_findByComponent(e){return this._components.find(t=>t===e)??null}_findById(e){return this._components.find(({id:t})=>t===e)??null}_findByNode(e){return e?this._components.find(({node:t})=>t===e):null}_getComponentsAtPosition(e,t){let n=this._positionNameToContainerLookup[e];return Array.prototype.slice.call(n.children).map(e=>this._findByNode(e)).filter(Mc).filter(e=>t.includeInternal||!this._componentMap.get(e)?.internal).map(({widget:e,node:t})=>e??t)}_getNumComponentsAtPosition(e){return this._positionNameToContainerLookup[e]?.children.length??0}};O([P()],tY.prototype,`_locale`,void 0),O([P()],tY.prototype,`container`,null),O([P()],tY.prototype,`height`,null),O([P({value:YJ})],tY.prototype,`padding`,null),O([Sy(`padding`)],tY.prototype,`castPadding`,null),O([P()],tY.prototype,`view`,void 0),O([P()],tY.prototype,`width`,null),tY=O([F(`esri.views.ui.UI`)],tY);var ECe=tY,DCe={handleInterceptedEvent:(e,t,n,r)=>(e.scheduleRender(),t.properties[`on${r.type}`].apply(t.properties.bind||n,[r]))},OCe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,n)=>{t.startsWith(`-`)?e.style.setProperty(t,n):e.style[t]=n}},kCe=e=>({...OCe,...e}),ACe=(e,t)=>{let n=[];for(;e&&e!==t;)n.push(e),e=e.parentNode;return n},jCe=(e,t)=>e.find(t),nY=(e,t,n=!1)=>{let r=e;return t.forEach((e,i)=>{let a=r?.children?jCe(r.children,t=>t.domNode===e):void 0;n&&!a&&i!==t.length-1||(r=a)}),r},MCe=e=>{let t,n={...DCe,...e},r=kCe(n),i=r.performanceLogger,a,o=!0,s=!1,c=[],l=[],u=(e,a,o)=>{let s;r.eventHandlerInterceptor=(e,r,a,o)=>function(e){let r;i(`domEvent`,e);let a=ACe(e.currentTarget,s.domNode),o=a.some(e=>customElements.get(e?.tagName?.toLowerCase()));if(e.eventPhase===Event.CAPTURING_PHASE||!o)a.reverse(),r=nY(s.getLastRender(),a);else{let t=e.composedPath(),n=t.slice(t.indexOf(e.currentTarget),t.indexOf(s.domNode)).reverse();r=nY(s.getLastRender(),n,!0)}let c;return r&&(c=n.handleInterceptedEvent(t,r,this,e)),i(`domEventProcessed`,e),c},n.postProcessProjectionOptions?.(r);let u=o();s=e(a,u,r),r.eventHandlerInterceptor=void 0,c.push(s),l.push(o),n.afterFirstVNodeRendered&&n.afterFirstVNodeRendered(s,u)},d=()=>{if(a=void 0,o){o=!1,i(`renderStart`,void 0);for(let e=0;e<c.length;e++){let t=l[e]();i(`rendered`,void 0);try{c[e].update(t)}catch(e){console.error(e)}i(`patched`,void 0)}i(`renderDone`,void 0),o=!0}};return n.modifyDoRenderImplementation&&(d=n.modifyDoRenderImplementation(d,c,l)),t={renderNow:d,scheduleRender:()=>{a||s||(a=requestAnimationFrame(d))},stop:()=>{a&&=(cancelAnimationFrame(a),void 0),s=!0},resume:()=>{s=!1,o=!0,t.scheduleRender()},append:(e,t)=>{u(KN.append,e,t)},insertBefore:(e,t)=>{u(KN.insertBefore,e,t)},merge:(e,t)=>{u(KN.merge,e,t)},replace:(e,t)=>{u(KN.replace,e,t)},detach:e=>{for(let t=0;t<l.length;t++)if(l[t]===e)return l.splice(t,1),c.splice(t,1)[0];throw Error(`renderFunction was not found`)}},t},rY=(e,t,...n)=>{try{return e?.call(t,...n)}catch(t){console.error(t,e)}},iY=async(e,t,...n)=>{try{return await e?.call(t,...n)}catch(t){console.error(t,e)}},aY=Symbol.for(`controller`),NCe=e=>typeof e==`object`&&!!e&&(aY in e||`hostConnected`in e||`hostDisconnected`in e||`hostUpdate`in e||`hostUpdated`in e),PCe=e=>typeof e?.then==`function`,oY,sY=e=>{oY!==e&&(oY=e,queueMicrotask(()=>oY===e?oY=void 0:0))},cY=e=>oY,lY=[],uY=e=>{if(e===void 0){lY=[];return}let t=lY.indexOf(e);lY=t===-1?[...lY,e]:lY.slice(0,t+1),queueMicrotask(()=>lY=[])},dY=()=>lY,fY,FCe=e=>{fY!==e&&(fY=e,queueMicrotask(()=>fY===e?fY=void 0:0))},ICe=()=>{let e=fY;return fY=void 0,e},LCe=async(e,t)=>{let n=pY(e);if(n===void 0)return e;if(await n.ready,typeof t==`function`){let e=n.watchExports(n=>t(n,e))}return n.exports},RCe=async e=>{let t=pY(e);return await t.ready,t},pY=e=>{let t=cY().manager.X(e);if(t!==void 0)return t;if(NCe(e))return e;let n=ICe();if(n!==void 0)return n},mY=!1,zCe=e=>{mY=!0;try{return e()}finally{mY=!1}},hY=globalThis,gY=hY.ShadowRoot&&(hY.ShadyCSS===void 0||hY.ShadyCSS.nativeShadow)&&`adoptedStyleSheets`in Document.prototype&&`replace`in CSSStyleSheet.prototype,_Y=Symbol(),vY=new WeakMap,yY=class{constructor(e,t,n){if(this._$cssResult$=!0,n!==_Y)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(gY&&e===void 0){let n=t!==void 0&&t.length===1;n&&(e=vY.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&vY.set(t,e))}return e}toString(){return this.cssText}},BCe=e=>new yY(typeof e==`string`?e:e+``,void 0,_Y),VCe=(e,...t)=>{let n=e.length===1?e[0]:t.reduce(((t,n,r)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if(typeof e==`number`)return e;throw Error(`Value passed to 'css' function must be a 'css' function result: `+e+`. Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.`)})(n)+e[r+1]),e[0]);return new yY(n,e,_Y)},HCe=(e,t)=>{if(gY)e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet));else for(let n of t){let t=document.createElement(`style`),r=hY.litNonce;r!==void 0&&t.setAttribute(`nonce`,r),t.textContent=n.cssText,e.appendChild(t)}},bY=gY?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t=``;for(let n of e.cssRules)t+=n.cssText;return BCe(t)})(e):e,{is:UCe,defineProperty:WCe,getOwnPropertyDescriptor:GCe,getOwnPropertyNames:KCe,getOwnPropertySymbols:qCe,getPrototypeOf:JCe}=Object,xY=globalThis,SY=xY.trustedTypes,YCe=SY?SY.emptyScript:``,XCe=xY.reactiveElementPolyfillSupport,CY=(e,t)=>e,wY={toAttribute(e,t){switch(t){case Boolean:e=e?YCe:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},TY=(e,t)=>!UCe(e,t),EY={attribute:!0,type:String,converter:wY,reflect:!1,useDefault:!1,hasChanged:TY};Symbol.metadata??=Symbol(`metadata`),xY.litPropertyMetadata??=new WeakMap;var DY=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=EY){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){let n=Symbol(),r=this.getPropertyDescriptor(e,n,t);r!==void 0&&WCe(this.prototype,e,r)}}static getPropertyDescriptor(e,t,n){let{get:r,set:i}=GCe(this.prototype,e)??{get(){return this[t]},set(e){this[t]=e}};return{get:r,set(t){let a=r?.call(this);i?.call(this,t),this.requestUpdate(e,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??EY}static _$Ei(){if(this.hasOwnProperty(CY(`elementProperties`)))return;let e=JCe(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(CY(`finalized`)))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(CY(`properties`))){let e=this.properties,t=[...KCe(e),...qCe(e)];for(let n of t)this.createProperty(n,e[n])}let e=this[Symbol.metadata];if(e!==null){let t=litPropertyMetadata.get(e);if(t!==void 0)for(let[e,n]of t)this.elementProperties.set(e,n)}this._$Eh=new Map;for(let[e,t]of this.elementProperties){let n=this._$Eu(e,t);n!==void 0&&this._$Eh.set(n,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let n=new Set(e.flat(1/0).reverse());for(let e of n)t.unshift(bY(e))}else e!==void 0&&t.push(bY(e));return t}static _$Eu(e,t){let n=t.attribute;return!1===n?void 0:typeof n==`string`?n:typeof e==`string`?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){let e=new Map,t=this.constructor.elementProperties;for(let n of t.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){let e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return HCe(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$ET(e,t){let n=this.constructor.elementProperties.get(e),r=this.constructor._$Eu(e,n);if(r!==void 0&&!0===n.reflect){let i=(n.converter?.toAttribute===void 0?wY:n.converter).toAttribute(t,n.type);this._$Em=e,i==null?this.removeAttribute(r):this.setAttribute(r,i),this._$Em=null}}_$AK(e,t){let n=this.constructor,r=n._$Eh.get(e);if(r!==void 0&&this._$Em!==r){let e=n.getPropertyOptions(r),i=typeof e.converter==`function`?{fromAttribute:e.converter}:e.converter?.fromAttribute===void 0?wY:e.converter;this._$Em=r;let a=i.fromAttribute(t,e.type);this[r]=a??this._$Ej?.get(r)??a,this._$Em=null}}requestUpdate(e,t,n){if(e!==void 0){let r=this.constructor,i=this[e];if(n??=r.getPropertyOptions(e),!((n.hasChanged??TY)(i,t)||n.useDefault&&n.reflect&&i===this._$Ej?.get(e)&&!this.hasAttribute(r._$Eu(e,n))))return;this.C(e,t,n)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(e,t,{useDefault:n,reflect:r,wrapped:i},a){n&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,a??t??this[e]),!0!==i||a!==void 0)||(this._$AL.has(e)||(this.hasUpdated||n||(t=void 0),this._$AL.set(e,t)),!0===r&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}let e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(let[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}let e=this.constructor.elementProperties;if(e.size>0)for(let[t,n]of e){let{wrapped:e}=n,r=this[t];!0!==e||this._$AL.has(t)||r===void 0||this.C(t,void 0,n,r)}}let e=!1,t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach((e=>e.hostUpdate?.())),this.update(t)):this._$EM()}catch(t){throw e=!1,this._$EM(),t}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach((e=>e.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach((e=>this._$ET(e,this[e]))),this._$EM()}updated(e){}firstUpdated(e){}};DY.elementStyles=[],DY.shadowRootOptions={mode:`open`},DY[CY(`elementProperties`)]=new Map,DY[CY(`finalized`)]=new Map,XCe?.({ReactiveElement:DY}),(xY.reactiveElementVersions??=[]).push(`2.1.1`);
/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/
var OY=globalThis,kY=OY.trustedTypes,AY=kY?kY.createPolicy(`lit-html`,{createHTML:e=>e}):void 0,jY=`$lit$`,MY=`lit$${Math.random().toFixed(9).slice(2)}$`,NY=`?`+MY,ZCe=`<${NY}>`,PY=document,FY=()=>PY.createComment(``),IY=e=>e===null||typeof e!=`object`&&typeof e!=`function`,LY=Array.isArray,RY=e=>LY(e)||typeof e?.[Symbol.iterator]==`function`,zY=`[ 	
\f\r]`,BY=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,VY=/-->/g,HY=/>/g,UY=RegExp(`>|${zY}(?:([^\\s"'>=/]+)(${zY}*=${zY}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,`g`),WY=/'/g,GY=/"/g,KY=/^(?:script|style|textarea|title)$/i,qY=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),QCe=qY(1),$Ce=qY(2),ewe=qY(3),JY=Symbol.for(`lit-noChange`),YY=Symbol.for(`lit-nothing`),XY=new WeakMap,ZY=PY.createTreeWalker(PY,129);function QY(e,t){if(!LY(e)||!e.hasOwnProperty(`raw`))throw Error(`invalid template strings array`);return AY===void 0?t:AY.createHTML(t)}var $Y=(e,t)=>{let n=e.length-1,r=[],i,a=t===2?`<svg>`:t===3?`<math>`:``,o=BY;for(let t=0;t<n;t++){let n=e[t],s,c,l=-1,u=0;for(;u<n.length&&(o.lastIndex=u,c=o.exec(n),c!==null);)u=o.lastIndex,o===BY?c[1]===`!--`?o=VY:c[1]===void 0?c[2]===void 0?c[3]!==void 0&&(o=UY):(KY.test(c[2])&&(i=RegExp(`</`+c[2],`g`)),o=UY):o=HY:o===UY?c[0]===`>`?(o=i??BY,l=-1):c[1]===void 0?l=-2:(l=o.lastIndex-c[2].length,s=c[1],o=c[3]===void 0?UY:c[3]===`"`?GY:WY):o===GY||o===WY?o=UY:o===VY||o===HY?o=BY:(o=UY,i=void 0);let d=o===UY&&e[t+1].startsWith(`/>`)?` `:``;a+=o===BY?n+ZCe:l>=0?(r.push(s),n.slice(0,l)+jY+n.slice(l)+MY+d):n+MY+(l===-2?t:d)}return[QY(e,a+(e[n]||`<?>`)+(t===2?`</svg>`:t===3?`</math>`:``)),r]},eX=class e{constructor({strings:t,_$litType$:n},r){let i;this.parts=[];let a=0,o=0,s=t.length-1,c=this.parts,[l,u]=$Y(t,n);if(this.el=e.createElement(l,r),ZY.currentNode=this.el.content,n===2||n===3){let e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;(i=ZY.nextNode())!==null&&c.length<s;){if(i.nodeType===1){if(i.hasAttributes())for(let e of i.getAttributeNames())if(e.endsWith(jY)){let t=u[o++],n=i.getAttribute(e).split(MY),r=/([.?@])?(.*)/.exec(t);c.push({type:1,index:a,name:r[2],strings:n,ctor:r[1]===`.`?aX:r[1]===`?`?oX:r[1]===`@`?sX:iX}),i.removeAttribute(e)}else e.startsWith(MY)&&(c.push({type:6,index:a}),i.removeAttribute(e));if(KY.test(i.tagName)){let e=i.textContent.split(MY),t=e.length-1;if(t>0){i.textContent=kY?kY.emptyScript:``;for(let n=0;n<t;n++)i.append(e[n],FY()),ZY.nextNode(),c.push({type:2,index:++a});i.append(e[t],FY())}}}else if(i.nodeType===8)if(i.data===NY)c.push({type:2,index:a});else{let e=-1;for(;(e=i.data.indexOf(MY,e+1))!==-1;)c.push({type:7,index:a}),e+=MY.length-1}a++}}static createElement(e,t){let n=PY.createElement(`template`);return n.innerHTML=e,n}};function tX(e,t,n=e,r){if(t===JY)return t;let i=r===void 0?n._$Cl:n._$Co?.[r],a=IY(t)?void 0:t._$litDirective$;return i?.constructor!==a&&(i?._$AO?.(!1),a===void 0?i=void 0:(i=new a(e),i._$AT(e,n,r)),r===void 0?n._$Cl=i:(n._$Co??=[])[r]=i),i!==void 0&&(t=tX(e,i._$AS(e,t.values),i,r)),t}var nX=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){let{el:{content:t},parts:n}=this._$AD,r=(e?.creationScope??PY).importNode(t,!0);ZY.currentNode=r;let i=ZY.nextNode(),a=0,o=0,s=n[0];for(;s!==void 0;){if(a===s.index){let t;s.type===2?t=new rX(i,i.nextSibling,this,e):s.type===1?t=new s.ctor(i,s.name,s.strings,this,e):s.type===6&&(t=new cX(i,this,e)),this._$AV.push(t),s=n[++o]}a!==s?.index&&(i=ZY.nextNode(),a++)}return ZY.currentNode=PY,r}p(e){let t=0;for(let n of this._$AV)n!==void 0&&(n.strings===void 0?n._$AI(e[t]):(n._$AI(e,n,t),t+=n.strings.length-2)),t++}},rX=class e{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,n,r){this.type=2,this._$AH=YY,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=r,this._$Cv=r?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode,t=this._$AM;return t!==void 0&&e?.nodeType===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=tX(this,e,t),IY(e)?e===YY||e==null||e===``?(this._$AH!==YY&&this._$AR(),this._$AH=YY):e!==this._$AH&&e!==JY&&this._(e):e._$litType$===void 0?e.nodeType===void 0?RY(e)?this.k(e):this._(e):this.T(e):this.$(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==YY&&IY(this._$AH)?this._$AA.nextSibling.data=e:this.T(PY.createTextNode(e)),this._$AH=e}$(e){let{values:t,_$litType$:n}=e,r=typeof n==`number`?this._$AC(e):(n.el===void 0&&(n.el=eX.createElement(QY(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===r)this._$AH.p(t);else{let e=new nX(r,this),n=e.u(this.options);e.p(t),this.T(n),this._$AH=e}}_$AC(e){let t=XY.get(e.strings);return t===void 0&&XY.set(e.strings,t=new eX(e)),t}k(t){LY(this._$AH)||(this._$AH=[],this._$AR());let n=this._$AH,r,i=0;for(let a of t)i===n.length?n.push(r=new e(this.O(FY()),this.O(FY()),this,this.options)):r=n[i],r._$AI(a),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e!==this._$AB;){let t=e.nextSibling;e.remove(),e=t}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}},iX=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,n,r,i){this.type=1,this._$AH=YY,this._$AN=void 0,this.element=e,this.name=t,this._$AM=r,this.options=i,n.length>2||n[0]!==``||n[1]!==``?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=YY}_$AI(e,t=this,n,r){let i=this.strings,a=!1;if(i===void 0)e=tX(this,e,t,0),a=!IY(e)||e!==this._$AH&&e!==JY,a&&(this._$AH=e);else{let r=e,o,s;for(e=i[0],o=0;o<i.length-1;o++)s=tX(this,r[n+o],t,o),s===JY&&(s=this._$AH[o]),a||=!IY(s)||s!==this._$AH[o],s===YY?e=YY:e!==YY&&(e+=(s??``)+i[o+1]),this._$AH[o]=s}a&&!r&&this.j(e)}j(e){e===YY?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??``)}},aX=class extends iX{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===YY?void 0:e}},oX=class extends iX{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==YY)}},sX=class extends iX{constructor(e,t,n,r,i){super(e,t,n,r,i),this.type=5}_$AI(e,t=this){if((e=tX(this,e,t,0)??YY)===JY)return;let n=this._$AH,r=e===YY&&n!==YY||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,i=e!==YY&&(n===YY||r);r&&this.element.removeEventListener(this.name,this,n),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH==`function`?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}},cX=class{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){tX(this,e)}},twe={M:jY,P:MY,A:NY,C:1,L:$Y,R:nX,D:RY,V:tX,I:rX,H:iX,N:oX,U:sX,B:aX,F:cX},nwe=OY.litHtmlPolyfillSupport;nwe?.(eX,rX),(OY.litHtmlVersions??=[]).push(`3.3.1`);var rwe=(e,t,n)=>{let r=n?.renderBefore??t,i=r._$litPart$;if(i===void 0){let e=n?.renderBefore??null;r._$litPart$=i=new rX(t.insertBefore(FY(),e),e,void 0,n??{})}return i._$AI(e),i},lX=globalThis,uX=class extends DY{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){let e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=rwe(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return JY}};uX._$litElement$=!0,uX.finalized=!0,lX.litElementHydrateSupport?.({LitElement:uX});var iwe=lX.litElementPolyfillSupport;iwe?.({LitElement:uX}),(lX.litElementVersions??=[]).push(`4.2.1`);
/**
* @license
* Copyright 2022 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/
var awe=!1,dX=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}},owe=(e,t)=>{let n=t>swe?cwe:t/lwe,r=0,i=setInterval(()=>{r+=n,r>=t&&(clearInterval(i),e())},n);return i},swe=4e3,cwe=2e3,lwe=4,uwe=(e,t,n)=>{let r=Object.keys(e),i=r.length;fX===void 0&&queueMicrotask(pX),fX??=new Map;let a=fX.get(e);return a===void 0&&(a={callbacks:[],keyCount:i},fX.set(e,a)),a.keyCount!==i&&(a.callbacks.forEach(e=>e(r)),a.callbacks=[],a.keyCount=i),a.callbacks.push(r=>{let a=e=>rY(t,null,e),o=r[i];o===void 0?a(void 0):e[o]===n?a(o):a(void 0)}),n},fX=void 0,pX=()=>{fX?.forEach(({callbacks:e},t)=>{let n=Object.keys(t);e.forEach(e=>e(n))}),fX=void 0},dwe=(e,t,n)=>{let r=e.manager;return r.V!==YY&&r.V!==n&&r.S(void 0,void 0),r.T.length===0&&queueMicrotask(()=>r.S(void 0,void 0)),r.V=n,r.T.push((e,r)=>rY(t,void 0,n===r?e:void 0)),n},mX=(e=[cY(),...dY()],t,n)=>{let r=Array.isArray(e)?e:[e],i=r.length+1,a=e=>{--i,e!==void 0&&(i=Math.min(i,0)),i===0&&t(e)};r.forEach(e=>uwe(e,t=>a(t===void 0?void 0:{key:t,host:e,isReactive:!1}),n));for(let e of r)if(`manager`in e&&e.manager.component===e){dwe(e,t=>a(t===void 0?void 0:{key:t,host:e,isReactive:!0}),n);break}return n},fwe=((e=``,t={},n=cY())=>{let r={emit:r=>{e===``&&pX();let i=new CustomEvent(e,{detail:r,cancelable:!0,bubbles:!0,composed:!0,...t});return n.el.dispatchEvent(i),i}};return e===``&&mX(void 0,t=>e=t.key,r),r}).bind(null,``),pwe=aY,hX=class{constructor(e){this.#hostConnected=[],this.#hostDisconnected=[],this.#hostLoad=[],this.#hostLoaded=[],this.#hostUpdate=[],this.#hostUpdated=[],this.#hostDestroy=[],this.#hostLifecycle=[],this.#lifecycleCleanups=[],this.#loadCalled=!1,this.P=new dX,this.connectedCalled=!1,this.loadedCalled=!1,this[pwe]=!0,this.#exportWatchers=[];let t=this,n=e??cY(new.target.name);t.#component=n,t.ready=t.P.promise,t.#exports=_X(t),t.component=n,t.#component.addController(t),t.#component.manager!==void 0&&(uY(t),queueMicrotask(()=>t.catchUpLifecycle()))}#hostConnected;#hostDisconnected;#hostLoad;#hostLoaded;#hostUpdate;#hostUpdated;#hostDestroy;#hostLifecycle;#lifecycleCleanups;#loadCalled;#component;catchUpLifecycle(){let{manager:e}=this.#component;e.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),e.#loadCalled&&this.triggerLoad().then(()=>e.loadedCalled&&this.triggerLoaded()).catch(console.error)}#exports;get exports(){return this.#exports}set exports(e){let t=this.#exports;t!==e&&(this.#exports=e,this.#exportWatchers.forEach(rY),this.connectedCalled&&this.O!==!1&&this.#component.requestUpdate(this.O,t)),this.P.resolve(e)}setProvisionalExports(e,t=!0){this.#exports=t?_X(e):e,this.#exportWatchers.forEach(rY)}#exportWatchers;watchExports(e){let t=()=>e(this.#exports);return this.#exportWatchers.push(t),()=>void this.#exportWatchers.splice(this.#exportWatchers.indexOf(t),1)}get use(){return sY(this.#component),LCe}get useRef(){return sY(this.#component),RCe}get useRefSync(){return sY(this.#component),pY}controllerRemoved(){this.#component.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){this.#hostConnected.push(e)}onDisconnected(e){this.#hostDisconnected.push(e)}onLoad(e){this.#hostLoad.push(e)}onLoaded(e){this.#hostLoaded.push(e)}onUpdate(e){this.#hostUpdate.push(e)}onUpdated(e){this.#hostUpdated.push(e)}onDestroy(e){this.#hostDestroy.push(e)}onLifecycle(e){this.#hostLifecycle.push(e),this.connectedCalled&&this.#component.el.isConnected&&this.#callLifecycle(e)}triggerConnected(){let e=this;e.hostConnected&&rY(e.hostConnected,e),e.#hostConnected.forEach(rY),e.triggerLifecycle(),e.connectedCalled=!0}triggerDisconnected(){let e=this;e.hostDisconnected&&rY(e.hostDisconnected,e),e.#hostDisconnected.forEach(rY),e.#lifecycleCleanups.forEach(rY),e.#lifecycleCleanups=[]}async triggerLoad(){if(this.#loadCalled)return;this.#loadCalled=!0;let e=this;e.hostLoad&&await iY(e.hostLoad,e),this.#hostLoad.length>0&&await Promise.allSettled(this.#hostLoad.map(iY)),this.P.resolve(this.#exports)}triggerLoaded(){this.loadedCalled||=(this.hostLoaded&&rY(this.hostLoaded,this),this.#hostLoaded.forEach(rY),!0)}triggerUpdate(e){this.hostUpdate&&rY(this.hostUpdate,this,e),this.#hostUpdate.forEach(gX,e)}triggerUpdated(e){this.hostUpdated&&rY(this.hostUpdated,this,e),this.#hostUpdated.forEach(gX,e)}triggerDestroy(){this.hostDestroy&&rY(this.hostDestroy,this),this.#hostDestroy.forEach(rY)}triggerLifecycle(){this.hostLifecycle&&this.#callLifecycle(()=>this.hostLifecycle()),this.#hostLifecycle.forEach(this.#callLifecycle,this)}#callLifecycle(e){sY(this.#component);let t=rY(e);(Array.isArray(t)?t:[t]).forEach(e=>{typeof e==`function`?this.#lifecycleCleanups.push(e):typeof e==`object`&&typeof e.remove==`function`&&this.#lifecycleCleanups.push(e.remove)})}};function gX(e){rY(e,void 0,this)}var mwe=hX,_X=e=>{if(typeof e!=`object`&&typeof e!=`function`||e===null)return e;let t=new Proxy(e,{get(e,n,r){if(!((n===`exports`||n===`_exports`)&&n in e&&e[n]===t)&&(n in e||n in Promise.prototype||typeof n==`symbol`))return typeof e==`function`?e[n]:Reflect.get(e,n,r)}});return t},hwe=e=>e.replace(gwe,(e,t)=>`${t===0?``:`-`}${e.toLowerCase()}`),gwe=/[A-Z]+(?![a-z])|[A-Z]/gu;`randomUUID`in crypto;var vX=e=>{let t=e;for(;t=t.parentNode??t.host;)if(t?.constructor?.lumina){let n=t;return n.manager?.loadedCalled||(n.J??n._offspring).push(e),(n.I??n._postLoad).promise}return!1},yX={};function bX(){}var xX=Object.defineProperty,_we=globalThis.HTMLElement??bX;(class extends _we{constructor(){super(),this.#store={},this.#pendingAttributes=[],this.I=new dX,this.H=new dX,this.J=[];let e=this,t=e.constructor;e._offspring=e.J,e._postLoad=e.I,t.C?.forEach(t=>{Object.hasOwn(e,t)&&(e.#store[t]=e[t],delete e[t])}),t.A?e.#initializeComponent({a:t.A}):t.B.then(async n=>{await t.K.p,e.#initializeComponent(await(n.default?.then(e=>typeof e==`function`?{a:e}:e)??n))}).catch(t=>{e.H.reject(t),setTimeout(()=>{throw t})})}static{this.lumina=!0}static F(){for(let e of this.C??[])xX(this.prototype,e,{configurable:!0,enumerable:!0,get(){return this.#store[e]},set(t){this.#store[e]=t}});for(let e of this.E??[])xX(this.prototype,e,{async value(...t){return this.#litElement||await this.H.promise,await this.#litElement[e](...t)},configurable:!0});for(let e of this.D??[])xX(this.prototype,e,{value(...t){return this.#litElement[e](...t)},configurable:!0})}#litElement;#store;#pendingAttributes;get manager(){return this.#litElement?.manager}attributeChangedCallback(e,t,n){this.#litElement?.attributeChangedCallback(e,t,n),this.#litElement||this.#pendingAttributes.push(e)}connectedCallback(){this.#litElement?this.#litElement.connectedCallback?.():queueMicrotask(()=>this.G=vX(this))}disconnectedCallback(){this.#litElement?.disconnectedCallback?.()}async componentOnReady(){return await this.H.promise,this}#initializeComponent(e){let t=this.constructor,n=t.L,r=this.#store,i=Object.values(e).find(e=>e.L===n),a=`${n}--lazy`,o=i;for(;o&&!Object.hasOwn(o,`lumina`);)o=Object.getPrototypeOf(o);ywe(o),t.A||(t.A=i,customElements.define(a,i)),i.N=this;let s=document.createElement(a);i.N=void 0,this.#litElement=s,this.#store=s,this.#pendingAttributes.forEach(e=>s.attributeChangedCallback(e,null,this.getAttribute(e))),Object.entries(r).forEach(vwe,s);let c=this.isConnected;(c||this.G)&&(s.connectedCallback?.(),c||s.disconnectedCallback())}addController(){}requestUpdate(){this.#litElement?.requestUpdate()}});function vwe([e,t]){this[e]=t}var ywe=e=>{let t=e.prototype,n=Element.prototype;Object.hasOwn(t,`isConnected`)||(t.setAttribute=function(e,t){n.setAttribute.call(this.el,e,t)},t.removeAttribute=function(e){n.removeAttribute.call(this.el,e)},xX(t,`isConnected`,{get(){return Reflect.get(n,`isConnected`,this.el)}}))},SX={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},CX=e=>(...t)=>({_$litDirective$:e,values:t}),wX=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}},bwe=CX(class extends wX{constructor(e){if(super(e),e.type!==SX.ATTRIBUTE||e.name!==`class`||e.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return` `+Object.keys(e).filter((t=>e[t])).join(` `)+` `}update(e,[t]){if(this.st===void 0){for(let n in this.st=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(` `).split(/\s/).filter((e=>e!==``)))),t)t[n]&&!this.nt?.has(n)&&this.st.add(n);return this.render(t)}let n=e.element.classList;for(let e of this.st)e in t||(n.remove(e),this.st.delete(e));for(let e in t){let r=!!t[e];r===this.st.has(e)||this.nt?.has(e)||(r?(n.add(e),this.st.add(e)):(n.remove(e),this.st.delete(e)))}return JY}}),TX=`important`,xwe=` !`+TX,Swe=CX(class extends wX{constructor(e){if(super(e),e.type!==SX.ATTRIBUTE||e.name!==`style`||e.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce(((t,n)=>{let r=e[n];return r==null?t:t+`${n=n.includes(`-`)?n:n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,`-$&`).toLowerCase()}:${r};`}),``)}update(e,[t]){let{style:n}=e.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(t)),this.render(t);for(let e of this.ft)t[e]??(this.ft.delete(e),e.includes(`-`)?n.removeProperty(e):n[e]=null);for(let e in t){let r=t[e];if(r!=null){this.ft.add(e);let t=typeof r==`string`&&r.endsWith(xwe);e.includes(`-`)||t?n.setProperty(e,t?r.slice(0,-11):r,t?TX:``):n[e]=r}}return JY}}),{I:Cwe}=twe,EX=e=>e.strings===void 0,DX=()=>document.createComment(``),wwe=(e,t,n)=>{let r=e._$AA.parentNode,i=t===void 0?e._$AB:t._$AA;if(n===void 0){let t=r.insertBefore(DX(),i),a=r.insertBefore(DX(),i);n=new Cwe(t,a,e,e.options)}else{let t=n._$AB.nextSibling,a=n._$AM,o=a!==e;if(o){let t;n._$AQ?.(e),n._$AM=e,n._$AP!==void 0&&(t=e._$AU)!==a._$AU&&n._$AP(t)}if(t!==i||o){let e=n._$AA;for(;e!==t;){let t=e.nextSibling;r.insertBefore(e,i),e=t}}}return n},Twe=(e,t,n=e)=>(e._$AI(t,n),e),Ewe={},OX=(e,t=Ewe)=>e._$AH=t,Dwe=e=>e._$AH,Owe=e=>{e._$AR(),e._$AA.remove()},kwe=CX(class extends wX{constructor(e){if(super(e),e.type!==SX.PROPERTY&&e.type!==SX.ATTRIBUTE&&e.type!==SX.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!EX(e))throw Error("`live` bindings can only contain a single expression")}render(e){return e}update(e,[t]){if(t===JY||t===YY)return t;let n=e.element,r=e.name;if(e.type===SX.PROPERTY){if(t===n[r])return JY}else if(e.type===SX.BOOLEAN_ATTRIBUTE){if(!!t===n.hasAttribute(r))return JY}else if(e.type===SX.ATTRIBUTE&&n.getAttribute(r)===t+``)return JY;return OX(e),t}}),kX=(e,t)=>{let n=e._$AN;if(n===void 0)return!1;for(let e of n)e._$AO?.(t,!1),kX(e,t);return!0},AX=e=>{let t,n;do{if((t=e._$AM)===void 0)break;n=t._$AN,n.delete(e),e=t}while(n?.size===0)},jX=e=>{for(let t;t=e._$AM;e=t){let n=t._$AN;if(n===void 0)t._$AN=n=new Set;else if(n.has(e))break;n.add(e),Mwe(t)}};function Awe(e){this._$AN===void 0?this._$AM=e:(AX(this),this._$AM=e,jX(this))}function jwe(e,t=!1,n=0){let r=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(t)if(Array.isArray(r))for(let e=n;e<r.length;e++)kX(r[e],!1),AX(r[e]);else r!=null&&(kX(r,!1),AX(r));else kX(this,e)}var Mwe=e=>{e.type==SX.CHILD&&(e._$AP??=jwe,e._$AQ??=Awe)},Nwe=class extends wX{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,n){super._$AT(e,t,n),jX(this),this.isConnected=e._$AU}_$AO(e,t=!0){e!==this.isConnected&&(this.isConnected=e,e?this.reconnected?.():this.disconnected?.()),t&&(kX(this,e),AX(this))}setValue(e){if(EX(this._$Ct))this._$Ct._$AI(e,this);else{let t=[...this._$Ct._$AH];t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}},Pwe=()=>new Fwe,Fwe=class{},MX=new WeakMap,Iwe=CX(class extends Nwe{render(e){return YY}update(e,[t]){let n=t!==this.G;return n&&this.G!==void 0&&this.rt(void 0),(n||this.lt!==this.ct)&&(this.G=t,this.ht=e.options?.host,this.rt(this.ct=e.element)),YY}rt(e){if(this.isConnected||(e=void 0),typeof this.G==`function`){let t=this.ht??globalThis,n=MX.get(t);n===void 0&&(n=new WeakMap,MX.set(t,n)),n.get(this.G)!==void 0&&this.G.call(this.ht,void 0),n.set(this.G,e),e!==void 0&&this.G.call(this.ht,e)}else this.G.value=e}get lt(){return typeof this.G==`function`?MX.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}}),Lwe=class extends mwe{constructor(e){super(e),this.destroyed=!1,this.R=!1,this.V=YY,this.T=[],this.#exportsStore=new WeakMap,this.#component=e,this.exports=void 0,this.hasDestroy=NX in e&&typeof e.destroy==`function`,uX.prototype.addController.call(e,{hostConnected:()=>{if(this.destroyed){let t=e.el.localName;throw e.el.remove(),Error(`The ${t} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${NX} prop.`)}this.#autoDestroyTimeout!==void 0&&clearTimeout(this.#autoDestroyTimeout),pX();for(let t of e.M)`triggerConnected`in t?t.triggerConnected():rY(t.hostConnected,t)},hostDisconnected:()=>{for(let t of e.M)`triggerDisconnected`in t?t.triggerDisconnected():rY(t.hostDisconnected,t);this.hasDestroy&&!this.destroyed&&this.U()},hostUpdate:()=>{for(let t of e.M)`triggerUpdate`in t?t.triggerUpdate(this.Q):rY(t.hostUpdate,t,this.Q)},hostUpdated:()=>{for(let t of e.M)`triggerUpdated`in t?t.triggerUpdated(this.Q):rY(t.hostUpdated,t,this.Q);this.Q=void 0}}),queueMicrotask(()=>this.R=!0),sY(e)}#autoDestroyTimeout;#component;async destroy(){if(!this.destroyed){this.#component.el.isConnected&&(this.hasDestroy=!1,this.#component.el.remove()),this.#autoDestroyTimeout=void 0,this.destroyed=!0;for(let e of this.#component.M)`triggerDestroy`in e?e.triggerDestroy():rY(e.hostDestroy,e);this.#component.M.splice(0)}}U(){this.#autoDestroyTimeout!==void 0&&clearTimeout(this.#autoDestroyTimeout),!this.#component.el.isConnected&&!this.#component.autoDestroyDisabled&&(this.#autoDestroyTimeout=owe(()=>void this.#component.destroy(),Rwe))}S(e,t){let n=this.T;this.V=YY,this.T=[],n.forEach(n=>n(e,t))}#exportsStore;W(e,t){(typeof t==`object`&&t||typeof t==`function`)&&this.#exportsStore.set(t,e)}X(e){if(typeof e==`object`&&e||typeof e==`function`)return this.#exportsStore.get(e)}},Rwe=1e3,NX=`autoDestroyDisabled`,zwe=class e extends uX{constructor(){super(),this.M=[],this.manager=new Lwe(this);let t=this,n=t.constructor,r=n.N,i=n.K.o,a=e.prototype.shouldUpdate;t.#postLoadedDeferred=r?.H??new dX,t.I=r?.I??new dX,t.J=r?.J??[],t._offspring=t.J,t._postLoad=t.I,t.el=r??t,t.#enableUpdating=t.enableUpdating,t.enableUpdating=bX,t.shouldUpdate!==a&&(t.#originalShouldUpdate=t.shouldUpdate,t.shouldUpdate=a),i&&(t.#observables=new Map,n.elementProperties.forEach((e,n)=>t.#observables.set(n,i())))}static finalizeStyles(e){let t=super.finalizeStyles(e),n=this.shadowRootOptions===yX;return this.K?.commonStyles===void 0||n?t:[this.K.commonStyles,...t]}static createProperty(e,t){let n=typeof t==`number`?t:Array.isArray(t)?t[0]:0,r=Array.isArray(t)?t[1]:void 0,i=r?.hasChanged??TY,a={attribute:n&1&&typeof e==`string`?hwe(e):!1,reflect:!!(n&2),type:n&4?Boolean:n&8?Number:void 0,state:!!(n&16),readOnly:!!(n&32),noAccessor:!!(n&64),c:!1,...r,hasChanged(e,t){let n=i(e,t);return a.c=n,n}};super.createProperty(e,a)}static getPropertyDescriptor(e,t,n){let r=this.K,i=super.getPropertyDescriptor(e,t,n);return n.d=i,{...i,get(){return r.t?.(this.#observables.get(e)),i.get?.call(this)},set(t){let r=this.manager;if(n.readOnly&&!mY&&(r.R||r.connectedCalled))throw Error(`Cannot assign to read-only property "${e}" of ${this.el.localName}. Trying to assign "${t}"`);i.set.call(this,t??void 0),n.c&&this.#observables?.get(e)?.notify(),r.T.length>0&&(pX(),r?.S(e,t))}}}static{this.lumina=!0}#observables;#originalShouldUpdate;#enableUpdating;#postLoadedDeferred;#trackingTarget;connectedCallback(){if(this.el.hasAttribute(`defer-hydration`))return;let e=this.constructor.K.c?.(()=>this.requestUpdate());this.#trackingTarget=e;let t=!this.manager.connectedCalled;super.connectedCallback(),t?queueMicrotask(()=>this.#load().catch(e=>{this.#postLoadedDeferred.reject(e),setTimeout(()=>{throw e})})):e&&this.requestUpdate()}#doTrackedUpdate(e){try{this.#trackingTarget.clear(),this.constructor.K.r(this.#trackingTarget,()=>super.update(e))}catch(e){throw this.#trackingTarget.clear(),e}}disconnectedCallback(){super.disconnectedCallback(),this.#trackingTarget?.destroy(),this.#trackingTarget=void 0}createRenderRoot(){let e=this.el.shadowRoot,t=this.constructor,n=t.shadowRootOptions,r=e??(n===yX?this.el:this.el.attachShadow(n));if(this.isConnected){let e=r.getRootNode();e.adoptedStyleSheets=[...e.adoptedStyleSheets,...t.elementStyles.map(e=>`styleSheet`in e?e.styleSheet:e)]}return r}async#load(){let e=this.el.G??vX(this.el);e&&await e;let t=[];for(let e of this.M)`triggerLoad`in e?t.push(e.triggerLoad()):t.push(iY(e.hostLoad,e));await Promise.all(t),await this.load?.(),this.manager.hasDestroy&&this.manager.onUpdate(e=>e.has(NX)&&this.manager.U()),this.#enableUpdating(!0),this.performUpdate(),this.I.resolve(),await Promise.resolve();let n=this.J.filter(e=>!e.manager?.loadedCalled);n.length&&await Promise.allSettled(n.map(async e=>await e.componentOnReady())),this.J.length=0,this.el.setAttribute(this.constructor.K.hydratedAttribute,``);for(let e of this.M)`triggerLoaded`in e?e.triggerLoaded():rY(e.hostLoaded,e);this.loaded?.(),this.#postLoadedDeferred.resolve()}shouldUpdate(e){return this.manager.Q=e,this.#originalShouldUpdate?.(e)??!0}update(e){this.#trackingTarget?this.#doTrackedUpdate(e):super.update(e)}listen(e,t,n){let r=t?.bind(this)??t;this.manager.onLifecycle(()=>(this.el.addEventListener(e,r,n),()=>this.el.removeEventListener(e,r,n)))}listenOn(e,t,n,r){let i=n?.bind(this)??n;this.manager.onLifecycle(()=>(e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)))}async componentOnReady(){return await this.#postLoadedDeferred.promise,this}addController(e){this.M.push(e),!(aY in e)&&this.renderRoot&&this.el.isConnected&&e.hostConnected?.()}removeController(e){this.M.splice(this.M.indexOf(e),1),e.controllerRemoved?.()}},Bwe=e=>{let t,n=e=>{t=new URL(e,globalThis.location?.href||void 0).href},r={...e,getAssetPath(e){let n=new URL(e,t);return n.origin===globalThis.location?.origin?n.pathname:n.href},setAssetPath:n,customElement(e,t){t.K=r,t.L=e,customElements.get(e)||customElements.define(e,t)}};return n(e.defaultAssetPath),r},Vwe=e=>typeof e==`object`&&e?bwe(e):e,Hwe=e=>typeof e==`object`&&e?Swe(e):e,Uwe=YY;function Wwe(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}var Gwe={toAttribute:e=>e===!0?``:e===!1?null:e},PX=`calcite-mode-auto`,FX=`calcite-mode-dark`,Kwe={autoMode:PX,darkMode:FX,lightMode:`calcite-mode-light`,rtl:`calcite--rtl`,calciteAnimate:`calcite-animate`,calciteAnimateInUp:`calcite-animate__in-up`,calciteAnimateInDown:`calcite-animate__in-down`,calciteAnimateInRight:`calcite-animate__in-right`,calciteAnimateInLeft:`calcite-animate__in-left`},qwe={filter:250,nextTick:0,resize:150,reposition:100},Jwe=25;function IX(){let{classList:e}=document.body,t=window.matchMedia(`(prefers-color-scheme: dark)`).matches,n=()=>e.contains(FX)||e.contains(PX)&&t?`dark`:`light`,r=e=>document.body.dispatchEvent(new CustomEvent(`calciteModeChange`,{bubbles:!0,detail:{mode:e}})),i=e=>{a!==e&&r(e),a=e},a=n();r(a),window.matchMedia(`(prefers-color-scheme: dark)`).addEventListener(`change`,e=>i(e.matches?`dark`:`light`)),new MutationObserver(()=>i(n())).observe(document.body,{attributes:!0,attributeFilter:[`class`]})}var LX=globalThis.calciteConfig,Ywe=LX?.focusTrapStack||[],Xwe=LX?.logLevel||`info`,RX=`3.3.3`,Zwe=`2025-10-08`,Qwe=`7391af08e`;function $we(){if(LX&&LX.version)return;console.info(`Using Calcite Components ${RX} [Date: ${Zwe}, Revision: ${Qwe}]`);let e=LX||globalThis.calciteConfig||{};Object.defineProperty(e,`version`,{value:RX,writable:!1}),globalThis.calciteConfig=e}document.readyState===`interactive`?IX():document.addEventListener(`DOMContentLoaded`,IX,{once:!0}),queueMicrotask($we);var{customElement:eTe,getAssetPath:tTe,setAssetPath:nTe}=Bwe({defaultAssetPath:`https://js.arcgis.com/calcite-components/3.3.3/`,hydratedAttribute:`calcite-hydrated`}),zX=!1,rTe=e=>{zX=!0,nTe(e)},BX;function iTe(){zX||rTe(Su(V_(BX)))}function VX(e){let t=[];for(let n of Object.keys(e))customElements.get(`calcite-${n}`)||t.push(e[n]?.());return t.length>0?Promise.all(t):null}BX=`components/assets`;var HX=Symbol(`widget`),UX=Symbol(`widget-test-data`),aTe=[],oTe={},WX=new WeakMap;function GX(e,t){let n=t.children;if(n?.length)for(let t=0;t<n.length;++t)n[t]=GX(e,n[t]);else n=aTe;let r=t.vnodeSelector;if(qX(r)){let i=t.properties||oTe,a=i.key||r,o={key:a,afterCreate:sTe,afterUpdate:cTe,afterRemoved:KX,parentWidget:e,widgetConstructor:r,widgetProperties:{...i,key:a,children:n}};return{vnodeSelector:r.vnodeSelector,properties:o,children:void 0,text:void 0,domNode:null}}return t}function sTe(e,t,n,{parentWidget:r,widgetConstructor:i,widgetProperties:a}){let o=new i(a);o.container=e,WX.set(e,o),o.afterCreate?.(o,e),r.addHandles(Ed(()=>KX(e))),queueMicrotask(()=>{o[UX].projector?.renderNow()})}function cTe(e,t,n,{widgetProperties:r}){let i=WX.get(e);i&&(i.set(r),i.afterUpdate?.(i,e))}function KX(e){let t=WX.get(e);t&&(t.afterRemoved?.(t,e),t.destroy(),WX.delete(e))}function qX(e){return typeof e==`function`&&e[HX]}var JX=new Set;function lTe(e){JX.add(e),e.finally(()=>JX.delete(e))}function uTe(e){return Ed()}var YX,dTe=0;function XX(e,t){let n=Object.prototype.hasOwnProperty;for(let r in t)n.call(t,r)&&n.call(e,r)&&(e[r]!=null&&t[r]!=null&&typeof e[r]==`object`&&typeof t[r]==`object`?XX(e[r],t[r]):e[r]=t[r]);return e}var fTe=MCe({postProcessProjectionOptions(e){let t=e.eventHandlerInterceptor,n=/capture$/i;e.eventHandlerInterceptor=(e,r,i,a)=>{let o=t?.(e,r,i,a),s=n.test(e);if(!((e=e.replace(n,``)).toLowerCase()in i)||s){let t=e[2].toLowerCase()+e.slice(3),n=e=>o?.call(i,e);i.addEventListener(t,n,s);let r=()=>i.removeEventListener(t,n,s),c=a.afterRemoved;a.afterRemoved=e=>{c?.(e),r()}}return o}},handleInterceptedEvent(e,t,n,r){let{eventPhase:i,type:a}=r,o=i===Event.CAPTURING_PHASE,s=`on${a}${o?`capture`:``}`,c=t.properties;(c&&s in c||(s=`on${a[0].toUpperCase()}${a.slice(1)}${o?`Capture`:``}`,c&&s in c))&&(WJ(),e.scheduleRender(),c[s].call(c.bind||n,r))}}),ZX=!1,QX=class extends b_(Xg){static{this[YX]=!0}constructor(e,t){super(e,t),this._attached=!1,this._projector=fTe,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=vf(async()=>{if(this._messageBundleProps?.length){let e=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:e,propertyName:t})=>{if(this.destroyed)return;let n=await zb(e);this.destroyed||(this.uiStrings&&Object.keys(this.uiStrings)&&(n=XX(A(n),this.uiStrings)),this[t]=n)}));if(this.destroyed)return;for(let t of e)t.status===`rejected`&&j.getLogger(this).error(`widget-intl:locale-error`,this.declaredClass,t.reason)}await this.loadLocale()}),this.addHandles(uTe()),iTe();let n=`esri-widget-uid-`+SE(),r=this.render.bind(this);this._trackingTarget=new Ah(()=>{this.autoRenderingEnabled&&this.scheduleRender()});let i=()=>({vnodeSelector:`div`,properties:{key:`${n}-hidden`,class:``,styles:{display:`none`}},domNode:null,children:void 0,text:void 0}),a=()=>{if(!this._readyForTrueRender||this.destroyed)return null;let e=r()??i(),t=e.properties??={};if(t.key??=n,qX(e.vnodeSelector)){if(!this.visible)return i()}else this.visible?t.styles||={}:(t.class=``,t.styles={display:`none`}),t.styles.display??=``;let a=0;return e.children?.forEach(e=>{qX(e.vnodeSelector)||(e.properties??={},e.properties.key??=`${this.id}--${a++}`)}),GX(this,e)};this.render=()=>{if(ZX)return a();let e=yCe(this)??null;if(e)return e;this._trackingTarget.clear(),ZX=!0;try{e=Nm(this._trackingTarget,a)}catch(e){throw j.getLogger(this).error(e),e}finally{ZX=!1}return e&&bCe(this,e),e};let o=this.beforeFirstRender();o?this._resourcesFetch=o.then(()=>{this.destroyed||(this._readyForTrueRender=!0,this._postInitialize())}):(this._resourcesFetch=Promise.resolve().then(()=>{this.destroyed||this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),lTe(this._resourcesFetch)}normalizeCtorArgs(e,t){let n={...e};return t&&(n.container=t),n}postInitialize(){}beforeFirstRender(){let e=this.loadDependencies();return this._messageBundleProps?.length||e?Promise.all([e,this._loadLocale()]).then(()=>{}).catch(rf):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(Gd(this._trackingTarget),Gd(this.viewModel),this._detach(this.container),this._set(`container`,null),this.render=()=>null,this._projector=null,GJ(this))}set container(e){this._get(`container`)||this._set(`container`,e)}castContainer(e){return RM(e)}get destroyed(){return super.destroyed}get domNode(){return this.container}set domNode(e){this.container=e}get icon(){return null}set icon(e){this._overrideIfSome(`icon`,e)}get id(){return this._get(`id`)||this.container?.id||Date.now().toString(16)+`-widget-`+ dTe++}set id(e){e&&this._set(`id`,e)}get label(){return this.declaredClass.split(`.`).pop()}set label(e){this._overrideIfSome(`label`,e)}get renderable(){return this._resourcesFetch}get visible(){return this._get(`visible`)}set visible(e){this._set(`visible`,e)}get[(YX=HX,UX)](){return{projector:this._projector}}static{this.vnodeSelector=`div`}render(){throw Error(`not implemented`)}scheduleRender(){this.destroyed||(GJ(this),this._projector.scheduleRender())}classes(...e){return KJ.apply(this,e)}renderNow(){GJ(this),this._projector.renderNow()}_postInitialize(){if(this.destroyed)return;this.scheduleRender(),this._delegatedEventNames?.length&&this.addHandles(q(()=>this.viewModel,(e,t)=>{t&&this.removeHandles(`delegated-events`),e&&Rd(e)&&this.addHandles(this._delegatedEventNames.map(t=>Vd(e,t,e=>{this.emit(t,e)})),`delegated-events`)},Xw)),this.postInitialize();let e=async()=>{await this._loadLocale().catch(rf),this.scheduleRender()};this.addHandles([gb(e),q(()=>this.uiStrings,e)]),this.addHandles(Hw(()=>this.container,e=>{this.destroyed||this._attach(e)},{initial:!0,once:!0}))}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){this._attached&&=(this._projector.detach(this.render),!1),e?.parentNode?.removeChild(e)}};O([P()],QX.prototype,`_readyForTrueRender`,void 0),O([P({value:null})],QX.prototype,`container`,null),O([Sy(`container`)],QX.prototype,`castContainer`,null),O([P()],QX.prototype,`icon`,null),O([P()],QX.prototype,`id`,null),O([P()],QX.prototype,`label`,null),O([P()],QX.prototype,`renderable`,null),O([P()],QX.prototype,`uiStrings`,void 0),O([P()],QX.prototype,`viewModel`,void 0),O([P({value:!0})],QX.prototype,`visible`,null),O([P()],QX.prototype,`key`,void 0),O([P()],QX.prototype,`children`,void 0),O([P()],QX.prototype,`afterCreate`,void 0),O([P()],QX.prototype,`afterUpdate`,void 0),O([P()],QX.prototype,`afterRemoved`,void 0),QX=O([F(`esri.widgets.Widget`)],QX);var $X=QX,pTe=new Map;function mTe(e){return pTe.get(e)}function eZ(e,t){return e&&`copyright`in e&&(!t||typeof e.originOf==`function`&&e.originOf(`copyright`)===`user`)}function hTe(e,t){return e.length!==t.length||e.some((e,n)=>e.text!==t[n].text)}function tZ(e,t,n){!n||!t||e.find(e=>e.layerView===t&&e.text===n)||e.push({text:n,layerView:t})}function gTe(e){return e.type===`bing-maps`}var nZ=[],rZ=class extends I{constructor(e){super(e),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles(`suspension`),this.notifyChange(`state`)},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new L,this.view=null,this._allLayerViewsChange=e=>{this.removeHandles(`suspension`),this.removeHandles(`visible-geometry-changed`);let t=this.view?.allLayerViews;t&&(this.addHandles(t.map(e=>q(()=>[e.suspended,e.layer?.attributionVisible],()=>this._updateAttributionItems())).toArray(),`suspension`),t.forEach(e=>{e.declaredClass===`esri.views.3d.layers.IntegratedMesh3DTilesLayerView3D`&&this.addHandles(e.on(`visible-geometry-changed`,()=>this._updateAttributionItems()),`visible-geometry-changed`)})),e?.removed&&e.removed.forEach(e=>{this._pendingAttributions.delete(e),this._fetchedAttributionData.delete(e)}),this._updateAttributionItems()},this.addHandles([Ww(()=>this.view?.allLayerViews,`change`,e=>this._allLayerViewsChange(e),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),Hw(()=>!0===this.view?.stationary,()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.view?.ready?this._pendingAttributions.size>0?`loading`:`ready`:`disabled`}_updateAttributionItems(){let e=this.view,t=e?.allLayerViews;nZ.length=0;let n=!1,r=null;if(!e||!t)return void this._clear();t.forEach(t=>{if(t.suspended||!t.layer?.attributionVisible)return;let i=t.layer;if(eZ(i,`user`))return void tZ(nZ,t,i.copyright);if(i.type===`integrated-mesh-3dtiles`&&i.hasGoogleUrl&&(n=!0,r=t),i.hasAttributionData){if(this._fetchedAttributionData.has(t)){let n=this._fetchedAttributionData.get(t);n?tZ(nZ,t,this._getDynamicAttribution(n,e,i)):eZ(i)&&tZ(nZ,t,i.copyright);return}this._fetchAttributionData(t);return}let a=`portalItem`in i?i.portalItem?.accessInformation:void 0;tZ(nZ,t,a||i.copyright)});let i=t.find(e=>e.layer?.type===`integrated-mesh-3dtiles`);if(this.view&&i){let e=mTe(this.view);if(e){let t=e.getAttributionText();for(let e=t.length-1;e>-1;--e)nZ.unshift({text:t[e],layerView:i})}}n&&r&&nZ.unshift({text:`Google Maps`,layerView:r}),hTe(this.items,nZ)&&(this.items.removeAll(),this.items.addMany(nZ)),nZ.length=0,this.notifyChange(`state`)}async _fetchAttributionData(e){if(this._pendingAttributions.has(e))return;this._pendingAttributions.add(e);let t=await O_(e.layer.fetchAttributionData());if(this._pendingAttributions.has(e)){let n=t.ok?this._createContributionIndex(t.value,gTe(e.layer)):null;this._pendingAttributions.delete(e),this._fetchedAttributionData.set(e,n)}this._updateAttributionItems()}_createContributionIndex(e,t){let n=e.contributors,r={};if(!n)return r;for(let e=0;e<n.length;e++){let i=n[e],a=i.coverageAreas;if(!a)return;for(let n of a){let a=n.bbox,o=n.zoomMin-(t&&n.zoomMin?1:0),s=n.zoomMax-(t&&n.zoomMax?1:0),c=new cb({xmin:a[1],ymin:a[0],xmax:a[3],ymax:a[2],spatialReference:U.WGS84}),l={extent:Ny(c),attribution:i.attribution||``,score:n.score==null?100:n.score,id:e};for(let e=o;e<=s;e++)r[e]??=[],r[e].push(l)}}return r.maxKey=Math.max.apply(null,Object.keys(r)),r}_getDynamicAttribution(e,t,n){let{extent:r,scale:i}=t,a=n.tileInfo?.scaleToZoom(i)??0;if(a=Math.min(e.maxKey??0,Math.round(a)),!r||a==null||a<=-1)return``;let o=e[a],s=Ay(r.center.clone().normalize(),U.WebMercator),c=new Set;return o?o.filter(e=>{let t=e.id,n=!c.has(t)&&s&&e.extent&&Uy(e.extent,s);return n&&c.add(t),n}).sort((e,t)=>t.score-e.score||e.objectId-t.objectId).map(e=>e.attribution).join(`, `):``}};O([P({readOnly:!0,type:L})],rZ.prototype,`items`,void 0),O([P({readOnly:!0})],rZ.prototype,`state`,null),O([P()],rZ.prototype,`view`,void 0),rZ=O([F(`esri.widgets.Attribution.AttributionViewModel`)],rZ);var iZ=rZ,aZ={anchor:`esri-widget__anchor`,anchorDisabled:`esri-widget__anchor--disabled`,button:`esri-button`,buttonDisabled:`esri-button--disabled`,buttonHalf:`esri-button--half`,buttonSecondary:`esri-button--secondary`,buttonSmall:`esri-button--small`,buttonTertiary:`esri-button--tertiary`,buttonThird:`esri-button--third`,disabled:`esri-disabled`,empty:`esri-widget__content--empty`,emptyIllustration:`esri-widget__content-illustration--empty`,heading:`esri-widget__heading`,hidden:`esri-hidden`,input:`esri-input`,interactive:`esri-interactive`,loader:`esri-widget__loader`,loaderAnimation:`esri-widget__loader-animation`,loaderText:`esri-widget__loader-text`,menu:`esri-menu`,menuHeader:`esri-menu__header`,menuItem:`esri-menu__list-item`,menuItemActive:`esri-menu__list-item--active`,menuItemFocus:`esri-menu__list-item--focus`,menuList:`esri-menu__list`,panel:`esri-widget--panel`,panelHeightOnly:`esri-widget--panel-height-only`,primaryTick:`primary-tick`,primaryTickAmPm:`primary-tick__ampm`,primaryTickLabel:`primary-tick__label`,primaryTickLabelKeepAll:`primary-tick__label--keep-all`,rotating:`esri-rotating`,secondaryTick:`secondary-tick`,select:`esri-select`,table:`esri-widget__table`,widget:`esri-widget`,widgetButton:`esri-widget--button`,widgetButtonActive:`esri-widget--button-active`,widgetDisabled:`esri-widget--disabled`};function _Te(){return function(e,t){if(!e[t])throw TypeError(`Cannot auto bind undefined function '${String(t)}'`);return{value:yTe(e[t])}}}function vTe(e){let t=e?.type;return e instanceof KeyboardEvent||t===`keyup`||t===`keydown`||t===`keypress`}function yTe(e){return function(t,...n){vTe(t)?CCe(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...n)}}function oZ(e){return(t,n)=>{t.hasOwnProperty(`_messageBundleProps`)||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:n})}}var bTe=function(e){return{vnodeSelector:``,properties:void 0,children:void 0,text:e.toString(),domNode:null}},sZ=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];Array.isArray(i)?sZ(i,t):i!=null&&!1!==i&&(i.hasOwnProperty(`vnodeSelector`)||(i=bTe(i)),t.push(i))}},xTe=function(e,t){var n=[...arguments].slice(2);if(n.length===1&&typeof n[0]==`string`)return{vnodeSelector:e,properties:t||void 0,children:void 0,text:n[0],domNode:null};var r=[];return sZ(n,r),{vnodeSelector:e,properties:t||void 0,children:r,text:void 0,domNode:null}};function cZ(e,t,...n){return typeof e!=`function`||qX(e)?xTe(e,t??null,...n):e(t,...n)}function STe(...e){return e}var lZ=`esri-attribution`,uZ={base:lZ,poweredBy:`${lZ}__powered-by`,sources:`${lZ}__sources`,open:`${lZ}--open`,sourcesOpen:`${lZ}__sources--open`,link:`${lZ}__link`},dZ=class extends $X{constructor(e,t){super(e,t),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._sourcesNode=null,this._overflowRequestAnimationFrame=null,this._resizeObserver=new ResizeObserver(e=>{e.forEach(({target:e})=>{this._scheduleOverflowCheck(e)})}),this._mutationObserver=new MutationObserver(e=>{let t=!1;for(let n of e)if(n.type===`childList`||n.type===`characterData`||n.type===`attributes`){t=!0;break}t&&this._sourcesNode&&this._scheduleOverflowCheck(this._sourcesNode)}),this.itemDelimiter=` | `,this.messages=null,this.viewModel=new iZ}initialize(){this.addHandles(Ww(()=>this.viewModel?.items,`change`,()=>this.scheduleRender()))}destroy(){this._resizeObserver?.disconnect(),this._mutationObserver?.disconnect(),this._overflowRequestAnimationFrame!=null&&(cancelAnimationFrame(this._overflowRequestAnimationFrame),this._overflowRequestAnimationFrame=null)}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}_scheduleOverflowCheck(e){this._overflowRequestAnimationFrame??=requestAnimationFrame(()=>{this._overflowRequestAnimationFrame=null,this._checkSourceTextOverflow(e)})}get attributionText(){return this.viewModel.items.reduce((e,t)=>(e.includes(t.text)||e.push(t.text),e),[]).join(this.itemDelimiter)}get icon(){return`description`}set icon(e){this._overrideIfSome(`icon`,e)}get label(){return this.messages?.widgetLabel??``}set label(e){this._overrideIfSome(`label`,e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){let e={[uZ.open]:this._isOpen};return cZ(`div`,{bind:this,class:this.classes(uZ.base,aZ.widget,e),dir:`ltr`,onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return cZ(`div`,{class:uZ.poweredBy},`Powered by`,` `,cZ(`a`,{class:uZ.link,href:`https://www.esri.com/`,rel:`noreferrer`,target:`_blank`},`Esri`))}_renderSourcesNode(){let e=this._isOpen,t=this._isInteractive,n=t?0:void 0,{attributionText:r}=this,i={[uZ.sourcesOpen]:e,[aZ.interactive]:t};return cZ(`div`,{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(uZ.sources,i),innerHTML:r,tabIndex:n})}_afterSourcesNodeCreate(e){this._prevSourceNodeHeight=e.clientWidth,this._sourcesNode=e,this._resizeObserver.observe(e),this._mutationObserver.observe(e,{subtree:!0,childList:!0,characterData:!0,attributes:!0}),this._scheduleOverflowCheck(e)}_checkSourceTextOverflow(e){let t=!1,{clientHeight:n,clientWidth:r,scrollWidth:i}=e,a=i>r,o=this._attributionTextOverflowed!==a;if(this._attributionTextOverflowed=a,o&&(t=!0),this._isOpen){let e=n<this._prevSourceNodeHeight;this._prevSourceNodeHeight=n,e&&(this._isOpen=!1,t=!0)}t&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};O([P()],dZ.prototype,`_isOpen`,void 0),O([P()],dZ.prototype,`_isInteractive`,null),O([P()],dZ.prototype,`_attributionTextOverflowed`,void 0),O([P()],dZ.prototype,`_prevSourceNodeHeight`,void 0),O([P({readOnly:!0,dependsOn:[`viewModel.items.length`,`itemDelimiter`]})],dZ.prototype,`attributionText`,null),O([P()],dZ.prototype,`icon`,null),O([P()],dZ.prototype,`itemDelimiter`,void 0),O([P()],dZ.prototype,`label`,null),O([P(),oZ(`esri/widgets/Attribution/t9n/Attribution`)],dZ.prototype,`messages`,void 0),O([P()],dZ.prototype,`view`,null),O([P({type:iZ})],dZ.prototype,`viewModel`,void 0),O([_Te()],dZ.prototype,`_toggleState`,null),dZ=O([F(`esri.widgets.Attribution`)],dZ);var CTe=dZ;function wTe(){let e=k(`mapview-essential-goto-duration`);return e==null?e:nh(e)}function TTe(e){return e?.spatialReference?.isWebMercator||e?.spatialReference?.isGeographic||!1}function ETe(e,t,n){return e.goTo(t,n)}var fZ=e=>{let t=e,n=class extends t{constructor(...e){super(...e),this.goToOverride=null,this.view=null}callGoTo(e){let{view:t}=this;return Wd(t),this.goToOverride?this.goToOverride(t,e):ETe(t,e.target,e.options)}};return O([P()],n.prototype,`goToOverride`,void 0),O([P()],n.prototype,`view`,void 0),n=O([F(`esri.widgets.support.GoTo`)],n),n},pZ=class extends fZ(I){constructor(e){super(e),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._watchForView(Yw)}destroy(){this.view=null}get canShowNorth(){return TTe(this.view)}get state(){return!this.view?.ready||this.view.type===`2d`&&!this.view.constraints.rotationEnabled?`disabled`:this.canShowNorth?`compass`:`rotation`}reset(){this.view?.ready&&(this.view?.type===`2d`?this.callGoTo({target:{rotation:0},options:{animationMode:`always`,duration:wTe()}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(e){e!=null&&this._set(`orientation`,{z:e})}_updateForCamera(e){if(!e)return;let t=-e.heading;this._set(`orientation`,{x:0,y:0,z:t})}_updateRotationWatcher(e){this.removeAllHandles(),this._watchForView(),e&&this.addHandles(e.type===`2d`?q(()=>e?.rotation,this._updateForRotation,Yw):q(()=>e?.camera,this._updateForCamera,Yw))}_watchForView(e){this.addHandles(q(()=>this.view,this._updateRotationWatcher,e))}};O([P({readOnly:!0})],pZ.prototype,`canShowNorth`,null),O([P({readOnly:!0})],pZ.prototype,`orientation`,void 0),O([P({readOnly:!0})],pZ.prototype,`state`,null),O([P()],pZ.prototype,`view`,void 0),pZ=O([F(`esri.widgets.Compass.CompassViewModel`)],pZ);var mZ=pZ,hZ=`esri-compass`,gZ={base:hZ,iconContainer:`${hZ}__icon-container`},_Z=class extends $X{constructor(e,t){super(e,t),this.messages=null,this.viewModel=new mZ,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=e=>({transform:`rotateZ(${e.z}deg)`})}loadDependencies(){return VX({button:()=>N(()=>import(`./calcite-button-DeHTsYH-.js`),__vite__mapDeps([410,411,412,413,414,415,416,417,418,419,420,421,422,423])),icon:()=>N(()=>import(`./calcite-icon-D_iKcGa4.js`),__vite__mapDeps([424,413,415,418,419,421]))})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get icon(){return this.viewModel.state===`rotation`?`arrow-up`:`compass-needle`}set icon(e){this._overrideIfSome(`icon`,e)}get label(){return this.messages?.widgetLabel??``}set label(e){this._overrideIfSome(`label`,e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}reset(){return this.viewModel.reset()}render(){let{orientation:e,state:t}=this.viewModel,{messages:n}=this;return cZ(`div`,{class:this.classes(gZ.base,aZ.widget)},cZ(`calcite-button`,{class:aZ.widgetButton,disabled:t===`disabled`,kind:`neutral`,label:n.reset,onclick:this._reset,round:!0,scale:`s`,title:n.reset},cZ(`div`,{"aria-hidden":`true`,class:gZ.iconContainer,title:n.reset},cZ(`calcite-icon`,{icon:this.icon,styles:this._toRotationTransform(e)}))))}};O([P()],_Z.prototype,`goToOverride`,null),O([P()],_Z.prototype,`icon`,null),O([P()],_Z.prototype,`label`,null),O([P(),oZ(`esri/widgets/Compass/t9n/Compass`)],_Z.prototype,`messages`,void 0),O([P()],_Z.prototype,`view`,null),O([P({type:mZ})],_Z.prototype,`viewModel`,void 0),_Z=O([F(`esri.widgets.Compass`)],_Z);var DTe=_Z,vZ=`esri-navigation-toggle`,yZ={base:vZ,isLayoutHorizontal:`${vZ}--horizontal`},bZ=class extends I{constructor(e){super(e),this._navigationMode=`pan`,this.view=null,e?.isDefaultViewModel||$p(j.getLogger(this),`Navigation Toggle`,`arcgis-navigation-toggle`,{version:`4.33`})}normalizeCtorArgs(e={}){let{isDefaultViewModel:t,...n}=e;return n}initialize(){this.addHandles(Hw(()=>this.view?.navigation?.actionMap,()=>this._updateNavigationActionMap()))}destroy(){this.view=null}get state(){return this.view?.ready&&this.view?.type===`3d`?`ready`:`disabled`}get navigationMode(){return this._navigationMode}set navigationMode(e){this._navigationMode=e,this._updateNavigationActionMap()}toggle(){this.state!==`disabled`&&(this.navigationMode=this.navigationMode===`pan`?`rotate`:`pan`)}_updateNavigationActionMap(){let e=this.view?.navigation?.actionMap;if(!e)return;let t=this._navigationMode===`pan`;e.dragPrimary=t?`pan`:`rotate`,e.dragSecondary=t?`rotate`:`pan`}};O([P({readOnly:!0})],bZ.prototype,`state`,null),O([P()],bZ.prototype,`_navigationMode`,void 0),O([P()],bZ.prototype,`view`,void 0),bZ=O([F(`esri.widgets.NavigationToggle.NavigationToggleViewModel`)],bZ);var xZ=bZ,SZ=class extends $X{constructor(e,t){super(e,t),this.messages=null,this.viewModel=new xZ({isDefaultViewModel:!0}),this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{let e=this.viewModel?.navigationMode===`pan`?this._rotateButton:this._panButton;JJ(e),this.toggle()},e?.isDefaultUI||Qp(j.getLogger(this),`Navigation Toggle`,`arcgis-navigation-toggle`,{version:`4.32`})}normalizeCtorArgs(e={}){let{isDefaultUI:t,...n}=e;return n}loadDependencies(){return VX({button:()=>N(()=>import(`./calcite-button-DeHTsYH-.js`),__vite__mapDeps([410,411,412,413,414,415,416,417,418,419,420,421,422,423]))})}get icon(){return`move`}set icon(e){this._overrideIfSome(`icon`,e)}get label(){return this.messages?.widgetLabel??``}set label(e){this._overrideIfSome(`label`,e)}set layout(e){e!==`horizontal`&&(e=`vertical`),this._set(`layout`,e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){let e=this.viewModel?.state===`disabled`,t=this.viewModel?.navigationMode===`pan`,n=this.messages.toggle;return cZ(`div`,{class:this.classes(yZ.base,aZ.widget,{[yZ.isLayoutHorizontal]:this.layout===`horizontal`})},cZ(`calcite-button`,{afterCreate:e=>{this._panButton=e},appearance:t?`outline-fill`:`solid`,class:aZ.widgetButton,disabled:e,iconStart:`move`,kind:`neutral`,label:n,onclick:this._toggle,tabIndex:t?void 0:-1,title:n}),cZ(`calcite-button`,{afterCreate:e=>{this._rotateButton=e},appearance:t?`solid`:`outline-fill`,class:aZ.widgetButton,disabled:e,iconStart:`rotate`,kind:`neutral`,label:n,onclick:this._toggle,tabIndex:t?-1:void 0,title:n}))}};O([P()],SZ.prototype,`icon`,null),O([P()],SZ.prototype,`label`,null),O([P({value:`vertical`})],SZ.prototype,`layout`,null),O([P(),oZ(`esri/widgets/NavigationToggle/t9n/NavigationToggle`)],SZ.prototype,`messages`,void 0),O([P()],SZ.prototype,`view`,null),O([P({type:xZ})],SZ.prototype,`viewModel`,void 0),SZ=O([F(`esri.widgets.NavigationToggle`)],SZ);var OTe=SZ,CZ=class extends I{get canZoomIn(){if(!this.view?.ready)return!1;let e=this.view?.constraints?.effectiveMaxScale;return e===0||this._scale>e}get canZoomOut(){let{view:e}=this;if(!e?.ready)return!1;let t=e.constraints?.effectiveMinScale;return t===0||this._scale<t}get _scale(){let e=this.view?.animation?.target;return(e&&`then`in e?void 0:e?.scale)??this.view?.scale??0}};O([P({readOnly:!0})],CZ.prototype,`canZoomIn`,null),O([P({readOnly:!0})],CZ.prototype,`canZoomOut`,null),O([P()],CZ.prototype,`view`,void 0),O([P()],CZ.prototype,`_scale`,null),CZ=O([F(`esri.widgets.Zoom.ZoomConditions2D`)],CZ);var kTe=CZ,wZ=class extends I{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};O([P({readOnly:!0})],wZ.prototype,`canZoomIn`,null),O([P({readOnly:!0})],wZ.prototype,`canZoomOut`,null),O([P()],wZ.prototype,`view`,void 0),wZ=O([F(`esri.widgets.Zoom.ZoomConditions3D`)],wZ);var ATe=wZ,TZ=class extends I{constructor(e){super(e)}destroy(){this.view=null}get canZoomIn(){return this._zoomConditions!=null&&this._zoomConditions.canZoomIn}get canZoomOut(){return this._zoomConditions!=null&&this._zoomConditions?.canZoomOut}get state(){return this.view?.ready?`ready`:`disabled`}set view(e){e?e.type===`2d`?this._zoomConditions=new kTe({view:e}):e.type===`3d`&&(this._zoomConditions=new ATe({view:e})):this._zoomConditions=null,this._set(`view`,e)}zoomIn(){let e=this.view;this.canZoomIn&&e&&(e.type===`2d`?e.mapViewNavigation.zoomIn():uf(e.goTo({zoomFactor:2})))}zoomOut(){let e=this.view;this.canZoomOut&&e&&(e.type===`2d`?e.mapViewNavigation.zoomOut():uf(e.goTo({zoomFactor:.5})))}};O([P()],TZ.prototype,`_zoomConditions`,void 0),O([P()],TZ.prototype,`canZoomIn`,null),O([P()],TZ.prototype,`canZoomOut`,null),O([P({readOnly:!0})],TZ.prototype,`state`,null),O([P()],TZ.prototype,`view`,null),TZ=O([F(`esri.widgets.Zoom.ZoomViewModel`)],TZ);var EZ=TZ,DZ={base:`esri-zoom`,horizontalLayout:`esri-zoom--horizontal`},OZ=class extends $X{constructor(e,t){super(e,t),this.messages=null,this.viewModel=new EZ,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return VX({button:()=>N(()=>import(`./calcite-button-DeHTsYH-.js`),__vite__mapDeps([410,411,412,413,414,415,416,417,418,419,420,421,422,423]))})}get icon(){return`magnifying-glass-plus`}set icon(e){this._overrideIfSome(`icon`,e)}get label(){return this.messages?.widgetLabel??``}set label(e){this._overrideIfSome(`label`,e)}set layout(e){e!==`horizontal`&&(e=`vertical`),this._set(`layout`,e)}set view(e){this.viewModel.view=e}get view(){return this.viewModel.view}render(){let e={[DZ.horizontalLayout]:this.layout===`horizontal`},{canZoomIn:t,canZoomOut:n}=this.viewModel,{zoomIn:r,zoomOut:i}=this.messages;return cZ(`div`,{class:this.classes(DZ.base,aZ.widget,e)},cZ(`calcite-button`,{class:aZ.widgetButton,disabled:!t,iconStart:`plus`,kind:`neutral`,label:r,onclick:this.zoomIn,title:r}),cZ(`calcite-button`,{class:aZ.widgetButton,disabled:!n,iconStart:`minus`,kind:`neutral`,label:i,onclick:this.zoomOut,title:i}))}};O([P()],OZ.prototype,`icon`,null),O([P()],OZ.prototype,`label`,null),O([P({value:`vertical`})],OZ.prototype,`layout`,null),O([P(),oZ(`esri/widgets/Zoom/t9n/Zoom`)],OZ.prototype,`messages`,void 0),O([P()],OZ.prototype,`view`,null),O([P({type:EZ})],OZ.prototype,`viewModel`,void 0),OZ=O([F(`esri.widgets.Zoom`)],OZ);var jTe=OZ;function MTe(e){return e?.view!==void 0}var kZ=class extends ECe{constructor(e){super(e),this._defaultPositionLookup={attribution:`manual`,compass:`top-left`,"navigation-toggle":`top-left`,zoom:`top-left`},this.components=[],this._updateViewAwareWidgets=e=>{this.components.forEach(t=>{let n=this._find(t)?.widget;MTe(n)&&(n.view=e)})},this._componentsWatcher=(e,t)=>{this._removeComponents(t),this._addComponents(e),this._adjustPadding(e)}}initialize(){this.addHandles([q(()=>this.components,this._componentsWatcher,Yw),q(()=>this.view,this._updateViewAwareWidgets,Yw)])}_add(e,t,n,r,i){let a=e;if(typeof e==`string`&&this._defaultPositionLookup[e]){if(this._find(e))return;a=this._createComponent(e)}super._add(a,t,n,r,i)}_removeComponents(e){e.forEach(e=>{let t=this._find(e);t&&(this.remove(t),t.destroy())})}_adjustPadding(e){if(!e.includes(`attribution`)&&!this._isOverridden(`padding`)){let{top:e}=this.padding;this.padding=e}}_addComponents(e){this.constructed&&e.forEach(e=>this.add(this._createComponent(e),this._defaultPositionLookup[e]))}_createComponent(e){let t=this._createWidget(e);return new IJ({id:e,node:t})}_createWidget(e){let t=this.view;switch(e){case`attribution`:return new CTe({view:t});case`compass`:return new DTe({view:t});case`navigation-toggle`:return new OTe({view:t,isDefaultUI:!0});case`zoom`:return new jTe({view:t})}}};O([P()],kZ.prototype,`components`,void 0),kZ=O([F(`esri.views.ui.DefaultUI`)],kZ);var AZ=kZ,jZ=class extends AZ{constructor(e){super(e),this.components=[`attribution`,`zoom`]}};O([P()],jZ.prototype,`components`,void 0),jZ=O([F(`esri.views.ui.2d.DefaultUI2D`)],jZ);var MZ=jZ,NZ=class{constructor(e={},t={},n=8,r=1/0){this.disabledExtensions=e,this.debugWebGLExtensions=t,this.maxAnisotropy=n,this.maxPreferredTexturePixels=r}},PZ=class e{constructor(e,t,n=``){this.major=e,this.minor=t,this._context=n}lessThan(e,t){return this.major<e||e===this.major&&this.minor<t}greaterEqual(e,t){return!this.lessThan(e,t)}validate(e){if(this.major!==e.major){let t=this._context&&this._context+`:`,n=this._context&&this._context+` `;throw new M(t+`unsupported-version`,`Required major ${n}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:e})}}clone(){return new e(this.major,this.minor,this._context)}static parse(t,n=``){let[r,i]=t.split(`.`),a=/^\s*\d+\s*$/;if(!r?.match||!a.test(r))throw new M((n&&n+`:`)+`invalid-version`,"Expected major version to be a number, but got '${version}'",{version:t});if(!i?.match||!a.test(i))throw new M((n&&n+`:`)+`invalid-version`,"Expected minor version to be a number, but got '${version}'",{version:t});return new e(parseInt(r,10),parseInt(i,10),n)}},FZ=class extends PZ{constructor(e,t){super(e,t,`webmap`)}};function IZ(e){return typeof e==`object`&&!!e&&`declaredClass`in e&&e.declaredClass===`esri.WebMap`}var LZ=new FZ(2,35),RZ,zZ=RZ=class extends R{constructor(e){super(e),this.color=new lE([0,0,0,1])}clone(){return new RZ(A({color:this.color}))}};O([P({type:lE,json:{write:!0}})],zZ.prototype,`color`,void 0),zZ=RZ=O([F(`esri.webmap.background.ColorBackground`)],zZ);var BZ=zZ,VZ,HZ,UZ,WZ,GZ,KZ,qZ;async function NTe(){let[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:n,MapViewNavigation:r,MagnifierView2D:i,GridView2D:a,Stage:o}]=await Promise.all([N(()=>import(`./webglDeps-DGwTBPOk.js`),__vite__mapDeps([279,3,228,280,281,282,283,63])),N(()=>import(`./mapViewDeps-3moYDkzu.js`),__vite__mapDeps([284,22,155,96,97,98,99,100,44,3,101,102,103,104,1,134,126,285,46,47,48,286,287,159,115,64,228,281,283,63,227,80,107,23,24,288,289,43,45,110,27,92,93,114,106,116,117,118,221,290,291,292,293,294,295,194,296,280,120,297,298,157,299,300,301,302,166,282,199,303,121,304,305,122,306,307,308]))]);HZ=e,UZ=t,WZ=n,GZ=r,KZ=i,qZ=a,VZ=o}var JZ=class extends $ye(nye(vfe(Vpe(Epe(U_e))))){get timeZone(){return super.timeZone}set timeZone(e){super.timeZone=e}constructor(e){super(e),this._magnifierView=null,this._gridView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new uE({getCollections:()=>[this.basemapView?.baseLayerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.graphicsView=null,this.labelManager=null,this.navigation=new lH({actionMap:new aH({dragTertiary:`none`})}),this.renderingOptions={samplingMode:`dynamic`,edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.analyses=new PM,this.analysisViewManager=new nCe({importAnalysisViewModule:e=>Hbe(e),view:this}),this.floors=new L,this.grid=null,this.map=null,this.timeline=new DJ,this.type=`2d`,this.view2dType=null,this.ui=new MZ,this.animationsEnabled=!0,this.test={takeScreenshot:async e=>ZSe(this._getScreenshotView(e),e)},this.padding={top:0,right:0,bottom:0,left:0},gfe()}destroy(){this.layerViewManager.clear(),this._set(`preconditionsReady`,!1),this.frameTask=Gd(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set(`inputManager`,null)}get graphicsTileStore(){return new Ybe(this.featuresTilingScheme)}get constraintsInfo(){let e=this.defaultsFromMap?.tileInfo,t=this.spatialReference;return{lods:e?.spatialReference?.equals(t)?e.lods:null,spatialReference:t}}get initialExtentRequired(){if(!this.stateManager)return!1;let{scale:e,constraints:t,center:n,viewpoint:r,extent:i}=this,a=this.zoom;return!(this.map&&`initialViewProperties`in this.map&&this.map.initialViewProperties?.viewpoint)&&!i&&(t?.effectiveLODs||(a=-1),(!n||e===0&&a===-1)&&(r?.targetGeometry==null||r.targetGeometry.type!==`extent`&&!r.scale))}get defaultsFromMapSettings(){return{required:{extent:!1,heightModelInfo:!1,tileInfo:!0},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get scheduler(){return this.frameTask.scheduler}get typeSpecificPreconditionsReady(){let e=this._getDefaultViewpoint();if(!e)return!1;let t=e.targetGeometry,n=this.spatialReference;return LA(t.spatialReference,n)}get background(){return IZ(this.map)?this.map.initialViewProperties.background:null}set background(e){this._override(`background`,e)}get center(){return this.stateManager?.center??null}set center(e){this.stateManager.center=e}get constraints(){return super.constraints}set constraints(e){super.constraints=e}get highlightOptions(){return sJ(this)}set highlightOptions(e){cJ(this,e)}get padding(){return this.stateManager?.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e)}get rendering(){return this.stage?.renderRequested??!1}get resizeAlign(){return super.resizeAlign}set resizeAlign(e){super.resizeAlign=e}get resolution(){return this.stateManager.resolution??0}get rotation(){return super.rotation}set rotation(e){super.rotation=e}get scale(){return this.stateManager?.scale??0}set scale(e){this.stateManager&&(this.stateManager.scale=e)}get spatialReference(){return super.spatialReference}set spatialReference(e){super.spatialReference=e}get spatialReferenceLocked(){return this._get(`spatialReferenceLocked`)}set spatialReferenceLocked(e){this.stage&&j.getLogger(this).warn(`spatialReferenceLocked cannot be changed after the view has become ready`),this._set(`spatialReferenceLocked`,e)}get tileInfo(){return this.featuresTilingScheme?.tileInfo}get updating(){let e=!(!this.magnifier.visible||this.magnifier.position===null||!this._magnifierView?.updatingHandles.updating),t=!this.destroyed&&(!this.analysisViewManager||!this.layerViewManager||!this.labelManager||!this.graphicsView||!0===this.analysisViewManager.updating||!0===this.layerViewManager.updating||!0===this.labelManager.updating||!0===this.graphicsView.updating||this.allLayerViews.some(e=>!e.destroyed&&!(`layerViews`in e)&&!0===e.updating)||e);if(k(`esri-2d-log-updating`)){let n=this.allLayerViews.reduce((e,t)=>({...e,[`${t.layer.id}(${t.layer.type})`]:!t.destroyed&&!(`layerViews`in t)&&t.updating}),{});console.log(`Updating MapView: ${t}\n-> Null LayerViewManager: ${!this.layerViewManager}\n-> Null LabelManager: ${!this.labelManager}\n-> Null GraphicsView: ${!this.graphicsView}\n-> layerViewManager.updating: ${this.layerViewManager?.updating}\n-> labelManager.updating: ${this.labelManager?.updating}\n-> graphicsView.updating: ${this.graphicsView?.updating}\n-> allLayerViews: ${JSON.stringify(n)}\n-> updatingMagnifier: ${e}\n`)}return t}get viewpoint(){return super.viewpoint}set viewpoint(e){super.viewpoint=e}get visibleArea(){let e=this.stateManager.visibleArea;return e&&new Ek({rings:[e.map(e=>[e[0],e[1]])],spatialReference:this.spatialReference})}get zoom(){return this.stateManager.zoom??-1}set zoom(e){this.stateManager.zoom=e}get navigating(){return this.mapViewNavigation?.interacting??!1}async hitTest(e,t){return FSe(this,e,t)}async takeScreenshot(e){return XSe(this._getScreenshotView(e),e)}toScreen(e,t){return this.stateManager.toScreen(e,t)}async whenAnalysisView(e){if(e.parent==null)throw new M(`view:no-analysisview-for-analysis`,`The analysis does not exist in view.analyses`,{analysis:e});return this.analysisViewManager.whenAnalysisView(e)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return new Promise(e=>{this.ready?e(this):this._resolveWhenReady.push(e)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&`initialViewProperties`in this.map&&this.map.initialViewProperties.spatialReference||this.defaultsFromMap?.spatialReference||null}getDefaultTimeZone(){return IZ(this.map)?this.map.initialViewProperties.timeZone:null}getDefaultTimeExtent(){return IZ(this.map)?this.map.initialViewProperties.timeExtent:null}getSurface(){return this.surface}hasLayerViewModule(e){return BK.hasLayerViewModule(e)}importLayerView(e){return BK.importLayerView(e)}pixelSizeAt(){return this.ready?this.resolution:(j.getLogger(this).error(`#pixelSizeAt()`,`Map view cannot be used before it is ready`),null)}async popupHitTest(e){let t=this.toMap(e),n=await this.hitTest(e),r=this.allLayerViews.toArray().filter(n=>n.clips.every(n=>oJ(this,n,e,t))).reverse(),i=new globalThis.Map(r.map(e=>[e.layer.uid,e])),a=[],o=0,s=0;for(;o<n.results.length||s<r.length;){let e=n.results.at(o);if(e&&e.type!==`graphic`){++o;continue}let c=i.get((e?.layer??e?.graphic.layer)?.uid);if((!e||c)&&s<r.length&&r.at(s)!==c){let e=r.at(s);`fetchPopupFeaturesAtLocation`in e&&a.push({mapPoint:t,layerView:e}),++s}else e&&(a.push({graphic:e.graphic,layerView:c}),++o)}return{hits:a,location:t}}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}async validate(){let e=sCe(this.type);if(k(`safari`)&&k(`safari`)<9&&(e=new M(`mapview:browser-not-supported`,`This browser is not supported by MapView (Safari < 9)`,{type:`safari`,requiredVersion:9,detectedVersion:k(`safari`)})),e!=null)throw j.getLogger(this).warn(`#validate()`,e.message),e}loadAsyncDependencies(){return NTe()}_getDefaultViewpoint(){let{constraints:e,initialExtent:t,map:n,padding:r,size:i}=this;if(!e)return null;let a=n&&`initialViewProperties`in n?n.initialViewProperties:void 0,o=this.stateManager.getUserStartupOptions(this.size),s=a?.viewpoint,c=s?.targetGeometry?.extent??t,l=c?.center,u=s?.rotation??0,d=s?.scale||c&&_U(c,[i[0]-r.left-r.right,i[1]-r.top-r.bottom]),f=o.center??l,p=o.rotation??u,m=o.scale??d;return f&&m?new $j({targetGeometry:f,scale:m,rotation:p}):null}_startup(){this.timeline.begin(`MapView Startup`);let e=this._getDefaultViewpoint();this.stateManager.startup(e,this.size,this.spatialReference,this.defaultsFromMap.extent?.center),this.graphics.owner=this;let t=new iq(this.surface),n=new VZ(this.surface,{canvas:this.renderCanvas,contextOptions:new NZ(this.deactivatedWebGLExtensions,this.debugWebGLExtensions),renderingOptions:this.renderingOptions,timeline:this.timeline},t);this.stage=n,this._magnifierView=new KZ,this._magnifierView.magnifier=this.magnifier,this._gridView=new qZ;let r=new WZ({view:this});this._set(`labelManager`,r);let i=new jbe({view:this});this._set(`animationManager`,i);let a=new GZ({view:this,animationManager:i});this._set(`mapViewNavigation`,a),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on(`change`,()=>this._updateStageChildren()),n.on(`webgl-error`,e=>this.fatalError=e.error),q(()=>this.stationary,e=>n.stationary=e,Xw),q(()=>this.background,e=>{n.backgroundColor=e?.color,this._magnifierView.backgroundColor=e?.color},Xw),q(()=>this.magnifier,e=>this._magnifierView.magnifier=e,Xw),q(()=>this.grid,e=>this._gridView.grid=e,Xw),q(()=>this.renderingOptions,e=>n.renderingOptions=e,Xw),q(()=>this.highlights.items.map(e=>({name:e.name,options:{fillColor:e.color,haloColor:e.haloColor,fillOpacity:e.fillOpacity,haloOpacity:e.haloOpacity,haloWidth:e.haloWidth,haloBlur:e.haloBlur}})),()=>{n.highlightGradient=rJ(n.highlightGradient,this.highlights.items)},Xw),q(()=>this.state.id,()=>n.state=this.state,Xw),q(()=>this.animationsEnabled,e=>{this.stage.animationsEnabled=e},Xw)],`map-view`),this._updateStageChildren();let o=this._resolveWhenReady;this._resolveWhenReady=[],o.forEach(e=>e(this)),this.timeline.end(`MapView Startup`),this.frameTask.start(),this._set(`ready`,!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles(`map-view`),this.mapViewNavigation.destroy(),this._set(`mapViewNavigation`,null),this.animation=null,this.animationManager.destroy(),this._set(`animationManager`,null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._gridView.destroy(),this.stage.destroy(),this.stage=null,this._set(`graphicsView`,null),this._magnifierView=null,this._gridView=null,this._set(`labelManager`,null),this._set(`mapViewNavigation`,null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set(`ready`,!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(e=>{this.stage.addChild(e.container)});let e=this.graphicsView;this.stage.addChild(e.container),this.stage.addChild(this._magnifierView),this.stage.addChild(this._gridView)}_setupSpatialReferenceDependentProperties(){let e=new YK(NM.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set(`featuresTilingScheme`,e);let t=new HZ({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new UZ(e)});this._set(`graphicsView`,t)}_destroySpatialReferenceDependentProperties(){let e=this.graphicsView;this._set(`graphicsView`,null),e.destroy(),this._set(`featuresTilingScheme`,null)}_getScreenshotView(e){let{allLayerViews:t,padding:n,size:r,stage:i}=this;return{allLayerViews:t,backgroundColor:e?.ignoreBackground?null:this.background?.color,padding:n,size:r,stage:i}}_spatialReferenceChanged(e){if(this.ready){this.frameTask.stop();for(let e of this.allLayerViews)e.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(e),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(let e of this.allLayerViews)e.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}static{this.type=`2d`}};O([P({constructOnly:!0})],JZ.prototype,`deactivatedWebGLExtensions`,void 0),O([P({constructOnly:!0})],JZ.prototype,`debugWebGLExtensions`,void 0),O([P({readOnly:!0})],JZ.prototype,`featuresTilingScheme`,void 0),O([P({readOnly:!0})],JZ.prototype,`graphicsTileStore`,null),O([P()],JZ.prototype,`graphicsView`,void 0),O([P()],JZ.prototype,`constraintsInfo`,null),O([P()],JZ.prototype,`initialExtentRequired`,null),O([P()],JZ.prototype,`labelManager`,void 0),O([P({type:lH,nonNullable:!0})],JZ.prototype,`navigation`,void 0),O([P({constructOnly:!0})],JZ.prototype,`renderCanvas`,void 0),O([P()],JZ.prototype,`renderingOptions`,void 0),O([P({constructOnly:!0})],JZ.prototype,`supersampleScreenshotsEnabled`,void 0),O([P()],JZ.prototype,`defaultsFromMapSettings`,null),O([P({readOnly:!0})],JZ.prototype,`typeSpecificPreconditionsReady`,null),O([P(DM(PM,`analyses`))],JZ.prototype,`analyses`,void 0),O([P()],JZ.prototype,`analysisViewManager`,void 0),O([P({type:BZ})],JZ.prototype,`background`,null),O([P()],JZ.prototype,`center`,null),O([P({type:L})],JZ.prototype,`floors`,void 0),O([P()],JZ.prototype,`grid`,void 0),O([P({type:QV})],JZ.prototype,`highlightOptions`,null),O([P()],JZ.prototype,`map`,void 0),O([P()],JZ.prototype,`padding`,null),O([P({readOnly:!0})],JZ.prototype,`rendering`,null),O([P({readOnly:!0})],JZ.prototype,`resolution`,null),O([P()],JZ.prototype,`scale`,null),O([P({type:Boolean,value:!1})],JZ.prototype,`spatialReferenceLocked`,null),O([P({readOnly:!0})],JZ.prototype,`tileInfo`,null),O([P({type:DJ,readOnly:!0})],JZ.prototype,`timeline`,void 0),O([P({readOnly:!0})],JZ.prototype,`type`,void 0),O([P({readOnly:!0})],JZ.prototype,`updating`,null),O([P({readOnly:!0})],JZ.prototype,`view2dType`,void 0),O([P({readOnly:!0})],JZ.prototype,`visibleArea`,null),O([P()],JZ.prototype,`zoom`,null),O([P({readOnly:!0})],JZ.prototype,`navigating`,null),O([P(),Sy(e=>e instanceof AZ?e:rg(MZ,e))],JZ.prototype,`ui`,void 0),O([P()],JZ.prototype,`animationsEnabled`,void 0),JZ=O([F(`esri.views.View2D`)],JZ);var PTe=JZ,YZ=class extends PTe{constructor(e){super(e),this.view2dType=`map`}};O([P({readOnly:!0})],YZ.prototype,`view2dType`,void 0),YZ=O([F(`esri.views.MapView`)],YZ);var XZ=YZ;function FTe(e){let t=new Lj({basemap:`topo-vector`});new XZ({map:t,container:e,center:[14.4208,50.088],zoom:8})}function ITe(e){let t=new Lj({basemap:`satellite`});new XZ({map:t,container:e,center:[14.4208,50.088],zoom:8})}function LTe(e){let t=new Lj({basemap:`streets-vector`});new XZ({map:t,container:e,center:[14.4208,50.088],zoom:8})}var RTe=class e{constructor(){this._propertyOriginMap=new Map,this._originStores=Array(8),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){let n=new e,r=this._originStores[0];r&&r.forEach((e,t)=>{n.set(t,A(e),0)});for(let e=2;e<8;e++){let r=this._originStores[e];r&&r.forEach((r,i)=>{t&&t.has(i)||n.set(i,A(r),e)})}return n}get(e,t){let n=t===void 0?this._values:this._originStores[t];return n?n.get(e):void 0}keys(e){let t=e==null?this._values:this._originStores[e];return t?[...t.keys()]:[]}set(e,t,n=7){let r=this._originStores[n];if(r||(r=new Map,this._originStores[n]=r),r.set(e,t),!this._values.has(e)||this._propertyOriginMap.get(e)<=n){let r=this._values.get(e);return this._values.set(e,t),this._propertyOriginMap.set(e,n),r!==t}return!1}delete(e,t=7){let n=this._originStores[t];if(!n)return;let r=n.get(e);if(n.delete(e),this._values.has(e)&&this._propertyOriginMap.get(e)===t){this._values.delete(e);for(let n=t-1;n>=0;n--){let t=this._originStores[n];if(t&&t.has(e)){this._values.set(e,t.get(e)),this._propertyOriginMap.set(e,n);break}}}return r}has(e,t){let n=t===void 0?this._values:this._originStores[t];return!!n&&n.has(e)}revert(e,t){for(;t>0&&!this.has(e,t);)--t;let n=this._originStores[t]?.get(e),r=this._values.get(e);return this._values.set(e,n),this._propertyOriginMap.set(e,t),r!==n}originOf(e){return this._propertyOriginMap.get(e)||0}isAtOrigin(e,t){return this.has(e,t)&&this.originOf(e)===t}isBelowOrigin(e,t){return!this.has(e)||this.originOf(e)<t}forEach(e){this._values.forEach(e)}},ZZ=e=>{let t=e,n=class extends t{constructor(...e){super(...e);let t=pm(this),n=t.store,r=new RTe;t.store=r,f_(t,n,r)}read(e,t){m_(this,e,t)}getAtOrigin(e,t){let n=QZ(this),r=Vm(t);if(typeof e==`string`)return n.get(e,r);let i={};return e.forEach(e=>{i[e]=n.get(e,r)}),i}originOf(e){return Hm(this.originIdOf(e))}originIdOf(e){return QZ(this).originOf(e)}revert(e,t){let n=QZ(this),r=Vm(t),i=pm(this),a;a=typeof e==`string`?e===`*`?n.keys(r):[e]:e,a.forEach(e=>{i.invalidate(e),n.revert(e,r),i.commit(e)})}};return n=O([F(`esri.core.ReadOnlyMultiOriginJSONSupport`)],n),n};function QZ(e){return pm(e).store}ZZ(I);var zTe=e=>{let t=e,n=class extends t{constructor(...e){super(...e)}clear(e,t=`user`){pm(this).clearOrigin(e,Vm(t))}write(e,t){return v_(this,e||={},t),e}setAtOrigin(e,t,n){pm(this).setAtOrigin(e,t,Vm(n))}removeOrigin(e){let t=$Z(this),n=Vm(e),r=t.keys(n);for(let e of r)t.originOf(e)===n&&t.set(e,t.get(e,n),7)}updateOrigin(e,t){let n=$Z(this),r=Vm(t),i=bm(this,e);for(let t=r+1;t<8;++t)n.delete(e,t);n.set(e,i,r)}toJSON(e){return this.write({},e)}};return n=O([F(`esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport`)],n),n.prototype.toJSON.isDefaultToJSON=!0,n};function $Z(e){return pm(e).store}var eQ=e=>{let t=zTe(ZZ(e)),n=class extends t{};return n=O([F(`esri.core.MultiOriginJSONSupport`)],n),n},tQ=eQ(I);async function BTe(e){let t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return Py(e);let n=U.WGS84;return await KA(t,n),zA(e,n)}function nQ(e,t){if(!rQ(e,t)){let n=e.typeKeywords;n?n.push(t):e.typeKeywords=[t]}}function rQ(e,t){return!!e.typeKeywords?.includes(t)}function VTe(e){return rQ(e,aQ.HOSTED_SERVICE)}function iQ(e,t){let n=e.typeKeywords;if(n){let e=n.indexOf(t);e>-1&&n.splice(e,1)}}function HTe(e,t,n){n?nQ(e,t):iQ(e,t)}async function UTe(e){let t=e.clone().normalize(),n;if(t.length>1)for(let e of t)n?e.width>n.width&&(n=e):n=e;else n=t[0];return BTe(n)}var aQ={CHARTS:`Charts`,DYNAMIC:`Dynamic`,DEVELOPER_BASEMAP:`DeveloperBasemap`,GROUP_LAYER_MAP:`Map`,HOSTED_SERVICE:`Hosted Service`,JSAPI:`ArcGIS API for JavaScript`,LOCAL_SCENE:`ViewingMode-Local`,METADATA:`Metadata`,MULTI_LAYER:`Multilayer`,ORIENTED_IMAGERY_LAYER:`OrientedImageryLayer`,SINGLE_LAYER:`Singlelayer`,SUBTYPE_GROUP_LAYER:`SubtypeGroupLayer`,SUBTYPE_GROUP_TABLE:`SubtypeGroupTable`,TABLE:`Table`,TILED_IMAGERY:`Tiled Imagery`};function WTe(e){let{portal:t,isOrgItem:n,itemControl:r}=e,i=t.user?.privileges,a=!i||i.includes(`features:user:edit`),o=!!n&&!!i?.includes(`features:user:fullEdit`),s=r===`update`||r===`admin`;return s?o=a=!0:o&&(a=!0),{features:{edit:a,fullEdit:o},content:{updateItem:s}}}var oQ=class extends R{constructor(e){super(e),this.facilityIdField=null,this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};O([P({type:String,json:{write:{isRequired:!0}}})],oQ.prototype,`facilityIdField`,void 0),O([P({type:String,json:{write:{isRequired:!0}}})],oQ.prototype,`layerId`,void 0),O([P({type:String,json:{write:{isRequired:!0}}})],oQ.prototype,`nameField`,void 0),O([P({type:String,json:{write:!0}})],oQ.prototype,`siteIdField`,void 0),O([P({type:Number,json:{read:{source:`subLayerId`},write:{target:`subLayerId`},origins:{"web-scene":{read:!1,write:!1}}}})],oQ.prototype,`sublayerId`,void 0),oQ=O([F(`esri.layers.support.FacilityLayerInfo`)],oQ);var GTe=oQ,sQ=class extends R{constructor(e){super(e),this.facilityIdField=null,this.layerId=null,this.levelIdField=null,this.levelNumberField=null,this.longNameField=null,this.shortNameField=null,this.sublayerId=null,this.verticalOrderField=null}};O([P({type:String,json:{write:{isRequired:!0}}})],sQ.prototype,`facilityIdField`,void 0),O([P({type:String,json:{write:{isRequired:!0}}})],sQ.prototype,`layerId`,void 0),O([P({type:String,json:{write:{isRequired:!0}}})],sQ.prototype,`levelIdField`,void 0),O([P({type:String,json:{write:{isRequired:!0}}})],sQ.prototype,`levelNumberField`,void 0),O([P({type:String,json:{write:{isRequired:!0}}})],sQ.prototype,`longNameField`,void 0),O([P({type:String,json:{write:{isRequired:!0}}})],sQ.prototype,`shortNameField`,void 0),O([P({type:Number,json:{read:{source:`subLayerId`},write:{target:`subLayerId`},origins:{"web-scene":{read:!1,write:!1}}}})],sQ.prototype,`sublayerId`,void 0),O([P({type:String,json:{write:{isRequired:!0}}})],sQ.prototype,`verticalOrderField`,void 0),sQ=O([F(`esri.layers.support.LevelLayerInfo`)],sQ);var KTe=sQ,cQ=class extends R{constructor(e){super(e),this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};O([P({type:String,json:{write:{isRequired:!0}}})],cQ.prototype,`layerId`,void 0),O([P({type:String,json:{write:{isRequired:!0}}})],cQ.prototype,`nameField`,void 0),O([P({type:String,json:{write:{isRequired:!0}}})],cQ.prototype,`siteIdField`,void 0),O([P({type:Number,json:{read:{source:`subLayerId`},write:{target:`subLayerId`},origins:{"web-scene":{read:!1,write:!1}}}})],cQ.prototype,`sublayerId`,void 0),cQ=O([F(`esri.layers.support.SiteLayerInfo`)],cQ);var qTe=cQ,lQ=class extends R{constructor(e){super(e),this.levelLayer=null,this.facilityLayer=null,this.siteLayer=null}};O([P({type:KTe,json:{write:{isRequired:!0}}})],lQ.prototype,`levelLayer`,void 0),O([P({type:GTe,json:{write:{isRequired:!0}}})],lQ.prototype,`facilityLayer`,void 0),O([P({type:qTe,json:{write:!0}})],lQ.prototype,`siteLayer`,void 0),lQ=O([F(`esri.support.MapFloorInfo`)],lQ);var JTe=lQ,uQ,dQ=uQ=class extends R{constructor(e){super(e),this.activeRange=null,this.currentRangeExtent=null,this.fullRangeExtent=null}clone(){return new uQ(A({activeRange:this.activeRange,currentRangeExtent:this.currentRangeExtent,fullRangeExtent:this.fullRangeExtent}))}};O([P({type:String,nonNullable:!0,json:{read:{source:`activeRangeName`},write:{target:`activeRangeName`,isRequired:!0}}})],dQ.prototype,`activeRange`,void 0),O([P({type:[Number],json:{write:!0}})],dQ.prototype,`currentRangeExtent`,void 0),O([P({type:[Number],json:{write:!0}})],dQ.prototype,`fullRangeExtent`,void 0),dQ=uQ=O([F(`esri.webdoc.RangeInfo`)],dQ);var fQ=dQ,pQ,mQ=pQ=class extends R{constructor(e){super(e),this.enabled=!1,this.longNames=!1,this.minimized=!1,this.pinnedLevels=!1,this.site=null,this.facility=null,this.level=null}clone(){return new pQ(A({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))}};O([P({type:Boolean,json:{read:{source:`enabled`},write:{target:`enabled`}}})],mQ.prototype,`enabled`,void 0),O([P({type:Boolean,json:{read:{source:`longNames`},write:{target:`longNames`}}})],mQ.prototype,`longNames`,void 0),O([P({type:Boolean,json:{read:{source:`minimized`},write:{target:`minimized`}}})],mQ.prototype,`minimized`,void 0),O([P({type:Boolean,json:{read:{source:`pinnedLevels`},write:{target:`pinnedLevels`}}})],mQ.prototype,`pinnedLevels`,void 0),O([P({type:String,json:{read:{source:`site`},write:{target:`site`}}})],mQ.prototype,`site`,void 0),O([P({type:String,json:{read:{source:`facility`},write:{target:`facility`}}})],mQ.prototype,`facility`,void 0),O([P({type:String,json:{read:{source:`level`},write:{target:`level`}}})],mQ.prototype,`level`,void 0),mQ=pQ=O([F(`esri.webdoc.widgets.FloorFilter`)],mQ);var YTe=mQ,hQ,gQ=new P_({slider:`slider`,picker:`picker`}),_Q=hQ=class extends R{constructor(e){super(e),this.interactionMode=null,this.numStops=null,this.stopInterval=null}clone(){return new hQ({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}};O([P({type:gQ.apiValues,nonNullable:!0,json:{type:gQ.jsonValues,default:null,read:{reader:gQ.read},write:{isRequired:!0,writer:gQ.write}}})],_Q.prototype,`interactionMode`,void 0),O([P({type:dg,json:{read:{source:`numberOfStops`},write:{target:`numberOfStops`,overridePolicy(){let e=this.stopInterval!=null;return{enabled:!e,isRequired:!e}}}}})],_Q.prototype,`numStops`,void 0),O([P({type:Number,json:{write:{overridePolicy(){return{isRequired:this.numStops==null}}}}})],_Q.prototype,`stopInterval`,void 0),_Q=hQ=O([F(`esri.webdoc.widgets.Range`)],_Q);var XTe=_Q,vQ=I_()({esriTimeUnitsMilliseconds:`milliseconds`,esriTimeUnitsSeconds:`seconds`,esriTimeUnitsMinutes:`minutes`,esriTimeUnitsHours:`hours`,esriTimeUnitsDays:`days`,esriTimeUnitsWeeks:`weeks`,esriTimeUnitsMonths:`months`,esriTimeUnitsYears:`years`,esriTimeUnitsDecades:`decades`,esriTimeUnitsCenturies:`centuries`,esriTimeUnitsUnknown:void 0}),yQ=class extends Y(R){constructor(e){super(e),this.unit=`milliseconds`,this.value=0}toMilliseconds(){return rT(this.value,this.unit,`milliseconds`)}};O([J(vQ,{nonNullable:!0})],yQ.prototype,`unit`,void 0),O([P({type:Number,json:{write:!0},nonNullable:!0})],yQ.prototype,`value`,void 0),yQ=O([F(`esri.time.TimeInterval`)],yQ);var bQ,xQ=bQ=class extends R{constructor(e){super(e),this.currentTimeExtent=null,this.fullTimeExtent=null,this.loop=!1,this.numStops=null,this.numThumbs=null,this.stopDelay=null,this.stopInterval=null,this.stops=null}readCurrentTimeExtent(e){return e?oT.fromArray(e):void 0}writeCurrentTimeExtent(e,t,n){e&&fl(n,e.toArray(),t)}readFullTimeExtent(e,t){let n=t.properties;if(!n)return;let r=n.endTime==null?null:new Date(n.endTime),i=n.startTime==null?null:new Date(n.startTime);return new oT({start:i,end:r})}writeFullTimeExtent(e,t){if(!e)return;let n=t.properties=t.properties||{},r=e.end,i=e.start;r&&(n.endTime=r==null?null:r.getTime()),i&&(n.startTime=i==null?null:i.getTime())}readStopInterval(e,t,n){return e?yQ.fromJSON({value:e.interval,unit:e.units},n):null}writeStopInterval(e,t,n,r){if(!e)return;let i=e.toJSON(r);fl(`properties.timeStopInterval`,{interval:i.value,units:i.unit},t)}readStops(e){return e?.length?e.map(e=>new Date(e)):null}writeStops(e,t,n){e?.length&&fl(n,e.map(e=>e.getTime()),t)}clone(){return new bQ(A({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))}};O([P({type:oT,json:{type:[[dg,fg]],read:{source:`properties.currentTimeExtent`},write:{target:`properties.currentTimeExtent`}}})],xQ.prototype,`currentTimeExtent`,void 0),O([W(`currentTimeExtent`)],xQ.prototype,`readCurrentTimeExtent`,null),O([z(`currentTimeExtent`)],xQ.prototype,`writeCurrentTimeExtent`,null),O([P({type:oT,json:{read:{source:[`properties.endTime`,`properties.startTime`]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],xQ.prototype,`fullTimeExtent`,void 0),O([W(`fullTimeExtent`)],xQ.prototype,`readFullTimeExtent`,null),O([z(`fullTimeExtent`)],xQ.prototype,`writeFullTimeExtent`,null),O([P({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:`properties.loop`},write:{target:`properties.loop`}}})],xQ.prototype,`loop`,void 0),O([P({type:dg,json:{read:{source:`properties.numberOfStops`},write:{target:`properties.numberOfStops`,overridePolicy(){let e=!!this.stopInterval,t=!!this.stops?.length,n=!(e||t);return{enabled:n,isRequired:n}}}}})],xQ.prototype,`numStops`,void 0),O([P({type:[1,2],nonNullable:!0,json:{type:dg,read:{source:`properties.thumbCount`},write:{target:`properties.thumbCount`,isRequired:!0}}})],xQ.prototype,`numThumbs`,void 0),O([P({type:Number,nonNullable:!0,json:{read:{source:`properties.thumbMovingRate`},write:{target:`properties.thumbMovingRate`,isRequired:!0}}})],xQ.prototype,`stopDelay`,void 0),O([P({type:yQ,json:{read:{source:`properties.timeStopInterval`},write:{target:{"properties.timeStopInterval.interval":{type:Number},"properties.timeStopInterval.units":{type:vQ.jsonValues.filter(e=>e!==`esriTimeUnitsUnknown`)}},overridePolicy(){let e=this.numStops!=null,t=!!this.stops?.length;return{enabled:!t,isRequired:!(e||t)}}}}})],xQ.prototype,`stopInterval`,void 0),O([W(`stopInterval`)],xQ.prototype,`readStopInterval`,null),O([z(`stopInterval`)],xQ.prototype,`writeStopInterval`,null),O([P({type:[Date],json:{type:[dg],read:{source:`properties.stops`},write:{target:`properties.stops`,overridePolicy(){return{isRequired:this.numStops==null&&!this.stopInterval}}}}})],xQ.prototype,`stops`,void 0),O([W(`stops`)],xQ.prototype,`readStops`,null),O([z(`stops`)],xQ.prototype,`writeStops`,null),xQ=bQ=O([F(`esri.webdoc.widgets.TimeSlider`)],xQ);var ZTe=xQ,SQ,CQ=SQ=class extends R{constructor(e){super(e),this.range=null,this.timeSlider=null,this.floorFilter=null}clone(){return new SQ(A({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))}};O([P({type:XTe,json:{write:!0}})],CQ.prototype,`range`,void 0),O([P({type:ZTe,json:{write:!0}})],CQ.prototype,`timeSlider`,void 0),O([P({type:YTe,json:{write:!0}})],CQ.prototype,`floorFilter`,void 0),CQ=SQ=O([F(`esri.webdoc.Widgets`)],CQ);var QTe=CQ,$Te={width:600,height:400},wQ=1.5;function eEe(e,t){t||=$Te;let{width:n,height:r}=t,i=n/r;return i<wQ?r=n/wQ:i>wQ&&(n=r*wQ),n>e.width&&(r*=e.width/n,n=e.width),r>e.height&&(n*=e.height/r,r=e.height),{width:Math.round(n),height:Math.round(r)}}function TQ(e,t){return{...EQ(e,t),readResourcePaths:[]}}function tEe(e,t,n){let r=au(e.itemUrl);return{...EQ(e,t),messages:[],writtenProperties:[],blockedRelativeUrls:[],verifyItemRelativeUrls:r?{rootPath:r.path,writtenUrls:[]}:null,resources:n?{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}:null}}function EQ(e,t){return{origin:t,url:au(e.itemUrl),portal:e.portal||G.getDefault(),portalItem:e}}var DQ=class extends R{constructor(e){super(e),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){let e=this.geometries.map(e=>e.toJSON()),t=this.geometries[0],n={};return n.outSR=bv(this.outSpatialReference),n.inSR=bv(t.spatialReference),n.geometries=JSON.stringify({geometryType:Jj(t),geometries:e}),this.transformation&&(n.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(n.transformForward=this.transformForward),n}};O([P()],DQ.prototype,`geometries`,void 0),O([P({type:U,json:{read:{source:`outSR`}}})],DQ.prototype,`outSpatialReference`,void 0),O([P()],DQ.prototype,`transformation`,void 0),O([P()],DQ.prototype,`transformForward`,void 0),DQ=O([F(`esri.rest.support.ProjectParameters`)],DQ);var nEe=ag(DQ);async function OQ(e,t,n){t=nEe(t);let r=tU(e),i={...r.query,f:`json`,...t.toJSON()},a=t.outSpatialReference,o=Jj(t.geometries[0]),s=eU(i,n);return gp(r.path+`/project`,s).then(({data:{geometries:e}})=>rU(e,o,a))}function rEe(e,t){return t.resourceInfo?kQ(t,t.resourceInfo,{origin:e.origin}):t.portalItem?.id?iEe(e,t,t.portalItem):Promise.resolve()}function kQ(e,t,n){let r={context:{...n,layerContainerType:`operational-layers`}};return e.portalItem&&(r.context.portal=e.portalItem.portal||G.getDefault()),N(async()=>{let{populateOperationalLayers:e}=await import(`./layersCreator-B3hxuLBQ.js`);return{populateOperationalLayers:e}},__vite__mapDeps([17,11,12,13,18,14,15])).then(({populateOperationalLayers:n})=>{let i=[],a=t.operationalLayers;a?.length&&i.push(n(e.layers,a,r));let o={...r,context:{...r.context,layerContainerType:`tables`},defaultLayerType:`ArcGISFeatureLayer`},s=t.tables;return s?.length&&i.push(n(e.tables,s,o)),Promise.allSettled(i).then(()=>{})})}async function iEe(e,t,n){if(await n.load().catch(t=>{throw new M(`${e.name}:load-portal-item`,`Failed to load portal item`,{error:t})}),n.type!==e.itemType)throw new M(`${e.name}:invalid-portal-item`,`Invalid portal item type '${n.type}', expected '${e.itemType}'`,{type:n.type});let r=await n.fetchData();t.resourceInfo=r;let i=TQ(n,e.origin);await aEe(e,t,r,i),t.resourceReferences={portalItem:n,paths:i.readResourcePaths};let a=await sEe(t.initialViewProperties,n,j.getLogger(t));if(a){let n=t.initialViewProperties?.clone()??e.createInitialViewProperties();n.viewpoint=a,t.initialViewProperties=n}}function aEe(e,t,n,r){let i=oEe(e,n);return t.read(i,r),kQ(t,i,r)}function oEe(e,t){let n=e.parseVersion(t.version||``,e.name);return e.currentVersion.validate(n),t.version=`${n.major}.${n.minor}`,t}async function sEe(e,t,n){if(e?.viewpoint?.targetGeometry)return null;let r=await cEe(e,t,n);return r?new $j({targetGeometry:r}):null}async function cEe(e,t,n){let r=e?.spatialReference,i=t?.extent;if(!r||!i)return null;if(r.isWGS84)return i.clone();if(r.isWebMercator)return Ny(i);let{getGeometryServiceURL:a}=await N(async()=>{let{getGeometryServiceURL:e}=await import(`./geometryServiceUtils-_eVbGYIY.js`);return{getGeometryServiceURL:e}},[]);try{let e=await a(t),n=new DQ({geometries:[i],outSpatialReference:r});return(await OQ(e,n))[0]}catch(e){n.error(`Error projecting item's extent:`,e)}return null}function AQ(e){return{enabled:!!e?.length}}var jQ,MQ=jQ=class extends R{constructor(e){super(e),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new jQ({exactMatch:this.exactMatch,type:this.type,name:this.name})}};O([P({type:Boolean,json:{write:!0}})],MQ.prototype,`exactMatch`,void 0),O([P({type:String,json:{write:!0}})],MQ.prototype,`name`,void 0),O([J(UB)],MQ.prototype,`type`,void 0),MQ=jQ=O([F(`esri.webdoc.applicationProperties.SearchLayerField`)],MQ);var lEe=MQ,NQ,PQ=NQ=class extends R{constructor(e){super(e),this.field=null,this.id=null,this.subLayer=null}clone(){return new NQ(A({field:this.field,id:this.id,subLayer:this.subLayer}))}};O([P({type:lEe,json:{write:{isRequired:!0}}})],PQ.prototype,`field`,void 0),O([P({type:String,json:{write:{isRequired:!0}}})],PQ.prototype,`id`,void 0),O([P({type:dg,json:{write:!0}})],PQ.prototype,`subLayer`,void 0),PQ=NQ=O([F(`esri.webdoc.applicationProperties.SearchLayer`)],PQ);var uEe=PQ,FQ,IQ=FQ=class extends R{constructor(e){super(e),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new FQ({exactMatch:this.exactMatch,type:this.type,name:this.name})}};O([P({type:Boolean,json:{write:!0}})],IQ.prototype,`exactMatch`,void 0),O([P({type:String,json:{write:!0}})],IQ.prototype,`name`,void 0),O([J(UB)],IQ.prototype,`type`,void 0),IQ=FQ=O([F(`esri.webdoc.applicationProperties.SearchTableField`)],IQ);var dEe=IQ,LQ,RQ=LQ=class extends R{constructor(e){super(e),this.field=null,this.id=null}clone(){return new LQ(A({field:this.field,id:this.id}))}};O([P({type:dEe,json:{write:{isRequired:!0}}})],RQ.prototype,`field`,void 0),O([P({type:String,json:{write:{isRequired:!0}}})],RQ.prototype,`id`,void 0),RQ=LQ=O([F(`esri.webdoc.applicationProperties.SearchTable`)],RQ);var fEe=RQ,zQ,BQ=L.ofType(uEe),VQ=L.ofType(fEe),HQ=zQ=class extends R{constructor(e){super(e),this.addressSearchEnabled=!0,this.enabled=!0,this.hintText=null,this.layers=new BQ,this.tables=new VQ}readAddressSearchEnabled(e){return!e}writeAddressSearchEnabled(e,t,n){t[n]=!e}clone(){return new zQ(A({addressSearchEnabled:this.addressSearchEnabled,enabled:this.enabled,hintText:this.hintText,layers:this.layers,tables:this.tables}))}};O([P({type:Boolean,nonNullable:!0,json:{read:{source:`disablePlaceFinder`},write:{target:`disablePlaceFinder`,isRequired:!0},origins:{"web-scene":{read:!1,write:!1}}}})],HQ.prototype,`addressSearchEnabled`,void 0),O([W(`addressSearchEnabled`)],HQ.prototype,`readAddressSearchEnabled`,null),O([z(`addressSearchEnabled`)],HQ.prototype,`writeAddressSearchEnabled`,null),O([P({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-map":{write:{isRequired:!0}},"web-scene":{default:!0,write:!0}}}})],HQ.prototype,`enabled`,void 0),O([P({type:String,json:{write:!0}})],HQ.prototype,`hintText`,void 0),O([P({type:BQ,json:{write:{overridePolicy:AQ},origins:{"web-scene":{write:{isRequired:!0}}}}})],HQ.prototype,`layers`,void 0),O([P({type:VQ,json:{read:!0,write:{overridePolicy:AQ}}})],HQ.prototype,`tables`,void 0),HQ=zQ=O([F(`esri.webdoc.applicationProperties.Search`)],HQ);var pEe=HQ,UQ,WQ=UQ=class extends R{constructor(e){super(e),this.search=null}clone(){return new UQ(A({search:this.search}))}};O([P({type:pEe,json:{write:!0}})],WQ.prototype,`search`,void 0),WQ=UQ=O([F(`esri.webdoc.applicationProperties.Viewing`)],WQ);var mEe=WQ,GQ,KQ=GQ=class extends R{constructor(e){super(e),this.editing=null,this.offline=null,this.viewing=null}clone(){return new GQ(A({editing:this.editing,offline:this.offline,viewing:this.viewing}))}};O([P({json:{write:!0}})],KQ.prototype,`editing`,void 0),O([P({json:{write:!0}})],KQ.prototype,`offline`,void 0),O([P({type:mEe,json:{write:!0}})],KQ.prototype,`viewing`,void 0),KQ=GQ=O([F(`esri.webmap.ApplicationProperties`)],KQ);var hEe=KQ,qQ,JQ=qQ=class extends R{constructor(){super(...arguments),this.url=``}destroy(){this.url=``}get isSecureUrl(){return zu(this.url)}get isDataURI(){return ku(this.url)}clone(){return new qQ({url:this.url})}};O([P({type:String,json:{write:{isRequired:!0}}})],JQ.prototype,`url`,void 0),O([P()],JQ.prototype,`isSecureUrl`,null),O([P()],JQ.prototype,`isDataURI`,null),JQ=qQ=O([F(`esri.webdoc.support.SlideThumbnail`)],JQ);var gEe={type:oT,json:{read:{source:`timeExtent`,reader:e=>e?Array.isArray(e)?oT.fromArray(e):oT.fromJSON(e):null},write:{writer:(e,t,n,r)=>{e&&(e.isEmpty?r?.messages&&r.messages.push(new M(`invalid-timeExtent`,`TimeExtent cannot be empty`)):t[n]=e.toArray())},target:{timeExtent:{type:[[dg,fg]]}}}}},YQ,XQ=YQ=class extends Qw(R){constructor(e){super(e),this.name=null,this.thumbnail=new JQ,this.timeExtent=null}castThumbnail(e){return typeof e==`string`?new JQ({url:e}):ag(JQ,e)}set viewpoint(e){let{targetGeometry:t,scale:n}=e;t!=null&&t.type===`point`&&n==null&&j.getLogger(this).warn(`Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.`,e),this._set(`viewpoint`,e)}readViewpoint(e,t){let{extent:n,viewpoint:r}=t;return $j.fromJSON(r||{targetGeometry:n})}writeViewpoint(e,t,n,r){if(!e)return;let{targetGeometry:i}=e;if(i!=null&&i.type!==`extent`){let e=`Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.`;r?.messages?r.messages.push(new M(`property:unsupported`,e)):j.getLogger(this).error(e);return}i!=null&&(t.extent=i.toJSON()),t[n]=e.toJSON()}clone(){return new YQ(A({name:this.name,thumbnail:this.thumbnail,timeExtent:this.timeExtent,viewpoint:this.viewpoint}))}};O([P({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],XQ.prototype,`name`,void 0),O([P({type:JQ,json:{write:{overridePolicy:e=>({enabled:!(!e||!e.url)})}}})],XQ.prototype,`thumbnail`,void 0),O([Sy(`thumbnail`)],XQ.prototype,`castThumbnail`,null),O([P(gEe)],XQ.prototype,`timeExtent`,void 0),O([P({type:$j,nonNullable:!0,json:{write:!0}})],XQ.prototype,`viewpoint`,null),O([W(`viewpoint`,[`extent`,`viewpoint`])],XQ.prototype,`readViewpoint`,null),O([z(`viewpoint`)],XQ.prototype,`writeViewpoint`,null),XQ=YQ=O([F(`esri.webmap.Bookmark`)],XQ);var _Ee=XQ,ZQ=class extends Y(I){constructor(e){super(e),this.background=null,this.rangeInfo=null,this.spatialReference=null,this.timeExtent=null,this.timeZone=Ub,this.viewpoint=null}};O([P({type:BZ})],ZQ.prototype,`background`,void 0),O([P({type:fQ})],ZQ.prototype,`rangeInfo`,void 0),O([P({type:U})],ZQ.prototype,`spatialReference`,void 0),O([P({type:oT})],ZQ.prototype,`timeExtent`,void 0),O([P({nonNullable:!0})],ZQ.prototype,`timeZone`,void 0),O([P({type:$j})],ZQ.prototype,`viewpoint`,void 0),ZQ=O([F(`esri.webmap.InitialViewProperties`)],ZQ);var QQ=ZQ,$Q=L.ofType(_Ee),vEe=new Map([[`image/jpeg`,`jpeg`],[`image/jpg`,`jpg`],[`image/png`,`png`],[`image/gif`,`gif`]]),yEe=`ArcGIS Pro`,bEe=aQ.JSAPI,e$=class extends eQ(C_(b_(Lj))){constructor(e){super(e),this._isAuthoringAppSetByUser=!1,this._isAuthoringAppVersionSetByUser=!1,this._thumbnailFilename=null,this._updateFromPromise=null,this.resourceReferences={portalItem:null,paths:[]},this.applicationProperties=null,this.bookmarks=new $Q,this.floorInfo=null,this.initialViewProperties=new QQ,this.portalItem=null,this.sourceVersion=null,this.widgets=null,this._debouncedSaveOperations=vf(async(e,t,n)=>{let{save:r,saveAs:i}=await N(async()=>{let{save:e,saveAs:t}=await import(`./webdocSaveUtils-DEpneqKp.js`);return{save:e,saveAs:t}},__vite__mapDeps([425,426,9,427,428]));switch(e){case 0:return r(this.context,this,t);case 1:return i(this.context,this,n,t)}}),this.authoringApp=this.authoringAppVersion=null,this._isAuthoringAppSetByUser=this._isAuthoringAppVersionSetByUser=!1}destroy(){this.portalItem=Gd(this.portalItem)}initialize(){if(this.when().catch(e=>{j.getLogger(this).error(`#load()`,`Failed to load web map`,e)}),this.resourceInfo){let e;try{e=this._validateJSON(this.resourceInfo)}catch(e){this.addResolvingPromise(Promise.reject(e));return}this.read(e)}}set authoringApp(e){this._isAuthoringAppSetByUser=!0,this._set(`authoringApp`,e)}writeAuthoringApp(e,t){e&&this._isAuthoringAppSetByUser?t.authoringApp=e:t.authoringApp=bEe}set authoringAppVersion(e){this._isAuthoringAppVersionSetByUser=!0,this._set(`authoringAppVersion`,e)}writeAuthoringAppVersion(e,t){e&&this._isAuthoringAppVersionSetByUser?t.authoringAppVersion=e:t.authoringAppVersion=hd}readInitialViewProperties(e,t){let n=new QQ;t.background&&(n.background=BZ.fromJSON(t.background));let r=t.initialState?.timeExtent;r&&(n.timeExtent=oT.fromArray(r));let i=t.initialState?.viewpoint;return i&&(i.rotation&&FZ.parse(t.version||``,`webmap`).lessThan(2,20)&&t.authoringApp===yEe&&(i.rotation*=-1),n.viewpoint=$j.fromJSON(i)),t.mapRangeInfo&&(n.rangeInfo=fQ.fromJSON(t.mapRangeInfo)),t.spatialReference&&(n.spatialReference=U.fromJSON(t.spatialReference)),t.timeZone&&(n.timeZone=t.timeZone),n}writeInitialViewProperties(e,t,n,r){if(!e)return;e.background?.color&&(t.background=e.background.write({},r));let{timeExtent:i,viewpoint:a}=e;if(a||i){let e={};a&&(e.viewpoint=a.write({},r)),i&&(e.timeExtent=i.toArray()),t.initialState=e}e.rangeInfo&&(t.mapRangeInfo=e.rangeInfo.toJSON(r)),e.spatialReference&&(t.spatialReference=e.spatialReference.write({},r)),t.timeZone=e.timeZone}writeLayers(e,t,n,r){t[n]=this._writeLayers(e,r,`operational-layers`)}get loaded(){return super.loaded}readSourceVersion(e,t){let[n,r]=t.version.split(`.`);return new FZ(parseInt(n,10),parseInt(r,10))}writeSourceVersion(e,t,n){t[n]=`${this.context.currentVersion.major}.${this.context.currentVersion.minor}`}writeTables(e,t,n,r){let i=this._writeLayers(e,r,`tables`);i.length&&(t[n]=i)}get thumbnailUrl(){return this.portalItem?.thumbnailUrl||null}set thumbnailUrl(e){e?(this._override(`thumbnailUrl`,e),this._thumbnailFilename=this._generateCustomThumbnailFilename(e)):this._clearThumbnailOverride()}get updatingFromView(){return!!this._updateFromPromise}load(e){return this.addResolvingPromise(rEe(this.context,this)),Promise.resolve(this)}loadAll(){return M_(this,e=>{e(this.ground,this.basemap,this.layers,this.tables)})}read(e,t){t={...t,origin:this.context.origin};let n=this._getAuthoringPropsState();h_(this,e,t=>super.read(e,t),t),this._restoreAuthoringPropsFromState(n)}write(e,t){if(this.loadStatus!==`loaded`){let e=new M(`webmap:not-loaded`,`Web map must be loaded before it can be serialized`);throw j.getLogger(this).error(`#toJSON()`,`Web map must be loaded before it can be serialized`,this.loadError||this.loadStatus),e}return this._removeDanglingLayerRefs(),t={...t,origin:this.context.origin,restrictedWebMapWriting:!0,webmap:this},super.write(e,t)}async save(e){return this._debouncedSaveOperations(0,e)}async saveAs(e,t){return this._debouncedSaveOperations(1,t,e)}async updateFrom(e,t){let n=this._updateFromInternal(e,t);this._updateFromPromise=n,await n,n===this._updateFromPromise&&(this._updateFromPromise=null)}getLayerJSONFromResourceInfo(e){let t=this.resourceInfo;return this._collectAllLayersJSON([...t?.baseMap?.baseMapLayers||[],...t?.operationalLayers||[],...this.basemap?.resourceInfo?.data?.baseMapLayers||[]]).find(t=>t.id===e.id)}async updateItemThumbnail(){this.thumbnailUrl&&this._isOverridden(`thumbnailUrl`)&&(await this.portalItem?.updateThumbnail({thumbnail:this.thumbnailUrl,filename:this._thumbnailFilename}),this._clearThumbnailOverride())}getThumbnailState(){let e=this.thumbnailUrl;return e&&=this._isOverridden(`thumbnailUrl`)?e:od(e,`w`,`8192`),{thumbnailUrl:e,filename:this._thumbnailFilename}}restoreThumbnailFromState(e){this.thumbnailUrl=e.thumbnailUrl,this._thumbnailFilename=e.filename}_collectAllLayersJSON(e){return e.reduce((e,t)=>(e.push(t),t.layerType===`GroupLayer`&&(e=e.concat(this._collectAllLayersJSON(t.layers||[]))),e),[])}_writeLayers(e,t,n){return t={...t,layerContainerType:n},e.map(e=>DT(e,n===`tables`?null:this.getLayerJSONFromResourceInfo(e),t)).filter(Mc).toArray()}_validateJSON(e){let t=FZ.parse(e.version||``,`webmap`);return this.context.currentVersion.validate(t),e.version=`${t.major}.${t.minor}`,e}_removeDanglingLayerRefs(){let e=this.applicationProperties,t=e?.viewing?.search,n=e=>this.allLayers.some(t=>t.id===e);if(t?.layers&&(t.layers=t.layers.filter(e=>n(e.id))),t?.tables&&(t.tables=t.tables.filter(e=>this.tables.some(t=>t.id===e.id))),e){let t=e.editing?.locationTracking;t?.info&&!n(t.info.layerId)&&(e.editing=null)}let r=(`presentation`in this?this.presentation:null)?.slides;r&&r.forEach(e=>{e.visibleLayers&&=e.visibleLayers.filter(e=>n(e.id))})}async _updateFromInternal(e,t){if(t??={},await Gw(()=>e.ready),this._updateInitialViewProperties(e,t),e.map===this)for(let t of e.allLayerViews)`visible`in t&&`visible`in t.layer&&t._isOverridden(`visible`)&&(t.layer.visible=t.visible),`featureEffect`in t&&`featureEffect`in t.layer&&t._isOverridden(`featureEffect`)&&(t.layer.featureEffect=t.featureEffect);await this._updateThumbnailUrl(e,t)}_updateInitialViewProperties(e,t){if(t.backgroundExcluded||(this.initialViewProperties.background=e.background?.clone()),this.initialViewProperties.spatialReference=e.spatialReference?.clone(),this.initialViewProperties.timeZone=e.timeZone,t.viewpointExcluded||(this.initialViewProperties.viewpoint=new $j({rotation:e.rotation,scale:t.scalePreserved?e.scale:null,targetGeometry:this._getViewExtent(e)})),!t.widgetsExcluded)for(let t of e.persistableViewModels)t.updateWebDocument(this)}_getViewExtent(e){let t=e.center.clone().normalize(),n=e.extent.clone(),r=n.width/2;return n.xmin=t.x-r,n.xmax=t.x+r,n}async _updateThumbnailUrl(e,t){if(t.thumbnailExcluded)return;let n=eEe(e,t.thumbnailSize),r=await e.takeScreenshot({format:`png`,width:n.width,height:n.height});this._setAutoGeneratedThumbnail(r.dataUrl)}_setAutoGeneratedThumbnail(e){this.thumbnailUrl=e,this._thumbnailFilename=null}_clearThumbnailOverride(){this._clearOverride(`thumbnailUrl`),this.clear(`thumbnailUrl`,`user`),this._thumbnailFilename=null}_generateCustomThumbnailFilename(e){if(ku(e)){let t=Nu(e)?.mediaType,n=t&&vEe.get(t.toLowerCase())||null,r=`thumbnail${Date.now()}`;return n?`${r}.${n}`:r}return null}_getAuthoringPropsState(){return{authoringApp:this.authoringApp,authoringAppVersion:this.authoringAppVersion,isAuthoringAppSetByUser:this._isAuthoringAppSetByUser,isAuthoringAppVersionSetByUser:this._isAuthoringAppVersionSetByUser}}_restoreAuthoringPropsFromState(e){e.isAuthoringAppSetByUser?this.authoringApp=e.authoringApp:this._isAuthoringAppSetByUser=!1,e.isAuthoringAppVersionSetByUser?this.authoringAppVersion=e.authoringAppVersion:this._isAuthoringAppVersionSetByUser=!1}};O([P()],e$.prototype,`_updateFromPromise`,void 0),O([P({type:hEe,json:{write:!0}})],e$.prototype,`applicationProperties`,void 0),O([P({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],e$.prototype,`authoringApp`,null),O([z(`authoringApp`)],e$.prototype,`writeAuthoringApp`,null),O([P({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],e$.prototype,`authoringAppVersion`,null),O([z(`authoringAppVersion`)],e$.prototype,`writeAuthoringAppVersion`,null),O([P({type:$Q,json:{write:{overridePolicy:e=>({enabled:!!(e&&e.length>0),ignoreOrigin:!0})}}})],e$.prototype,`bookmarks`,void 0),O([P({type:JTe,json:{name:`mapFloorInfo`,write:!0}})],e$.prototype,`floorInfo`,void 0),O([P({type:QQ,nonNullable:!0,json:{read:{source:[`background`,`initialState.timeExtent`,`initialState.viewpoint`,`mapRangeInfo`,`spatialReference`,`timeZone`]},write:{ignoreOrigin:!0,target:{background:{type:BZ},"initialState.timeExtent":{type:oT},"initialState.viewpoint":{type:$j},mapRangeInfo:{type:fQ},spatialReference:{type:U},"timeZone:":{type:String}}}}})],e$.prototype,`initialViewProperties`,void 0),O([W(`initialViewProperties`)],e$.prototype,`readInitialViewProperties`,null),O([z(`initialViewProperties`)],e$.prototype,`writeInitialViewProperties`,null),O([P({json:{read:!1,write:{target:`operationalLayers`,ignoreOrigin:!0}}})],e$.prototype,`layers`,void 0),O([z(`layers`)],e$.prototype,`writeLayers`,null),O([P({type:Nb})],e$.prototype,`portalItem`,void 0),O([P()],e$.prototype,`resourceInfo`,void 0),O([P({readOnly:!0,type:FZ,json:{read:{source:`version`},write:{allowNull:!0,ignoreOrigin:!0,target:`version`,isRequired:!0}}})],e$.prototype,`sourceVersion`,void 0),O([W(`sourceVersion`)],e$.prototype,`readSourceVersion`,null),O([z(`sourceVersion`)],e$.prototype,`writeSourceVersion`,null),O([P({json:{read:!1,write:{ignoreOrigin:!0}}})],e$.prototype,`tables`,void 0),O([z(`tables`)],e$.prototype,`writeTables`,null),O([P()],e$.prototype,`thumbnailUrl`,null),O([P()],e$.prototype,`updatingFromView`,null),O([P({type:QTe,json:{write:!0}})],e$.prototype,`widgets`,void 0),e$=O([F(`esri.WebDocument2D`)],e$);var xEe=e$,t$=(e=>e)([`operational-layers`,`basemap-base-layers`,`basemap-ground-layers`,`ground`]),n$,r$=n$=class extends R{constructor(e){super(e),this.expression=null,this.name=null,this.returnType=`boolean`,this.title=null}clone(){return new n$({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};O([P({type:String,json:{write:!0}})],r$.prototype,`expression`,void 0),O([P({type:String,json:{write:!0}})],r$.prototype,`name`,void 0),O([P({type:[`boolean`,`date`,`number`,`string`],json:{write:!0}})],r$.prototype,`returnType`,void 0),O([P({type:String,json:{write:!0}})],r$.prototype,`title`,void 0),r$=n$=O([F(`esri.form.ExpressionInfo`)],r$);var SEe=r$,i$=class extends R{constructor(e){super(e),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};O([P({type:String,json:{write:!0}})],i$.prototype,`description`,void 0),O([P({type:String,json:{write:!0}})],i$.prototype,`label`,void 0),O([P()],i$.prototype,`type`,void 0),O([P({type:String,json:{write:!0}})],i$.prototype,`visibilityExpression`,void 0),i$=O([F(`esri.form.elements.Element`)],i$);var a$=class extends Y(R){constructor(e){super(e),this.type=null}};O([P()],a$.prototype,`type`,void 0),a$=O([F(`esri.form.elements.inputs.attachments.Input`)],a$);var o$=a$,s$=[`any`,`capture`,`upload`],c$=class extends o${constructor(e){super(e),this.type=`audio`,this.inputMethod=`any`,this.maxDuration=null}};O([P({type:[`audio`],readOnly:!0,json:{write:!0}})],c$.prototype,`type`,void 0),O([P({type:s$,json:{write:!0}})],c$.prototype,`inputMethod`,void 0),O([P({type:Number,json:{write:!0}})],c$.prototype,`maxDuration`,void 0),c$=O([F(`esri.form.elements.inputs.attachments.AudioInput`)],c$);var l$=c$,u$=class extends o${constructor(e){super(e),this.type=`document`,this.maxFileSize=null}};O([P({type:[`document`],readOnly:!0,json:{write:!0}})],u$.prototype,`type`,void 0),O([P({type:Number,json:{write:!0}})],u$.prototype,`maxFileSize`,void 0),u$=O([F(`esri.form.elements.inputs.attachments.DocumentInput`)],u$);var d$=u$,f$=class extends o${constructor(e){super(e),this.type=`image`,this.inputMethod=`any`,this.maxImageSize=null}};O([P({type:[`image`],readOnly:!0,json:{write:!0}})],f$.prototype,`type`,void 0),O([P({type:s$,json:{write:!0}})],f$.prototype,`inputMethod`,void 0),O([P({type:Number,json:{write:!0}})],f$.prototype,`maxImageSize`,void 0),f$=O([F(`esri.form.elements.inputs.attachments.ImageInput`)],f$);var p$=f$,m$=class extends o${constructor(e){super(e),this.type=`signature`,this.inputMethod=`any`}};O([P({type:[`signature`],readOnly:!0,json:{write:!0}})],m$.prototype,`type`,void 0),O([P({type:s$,json:{write:!0}})],m$.prototype,`inputMethod`,void 0),m$=O([F(`esri.form.elements.inputs.attachments.SignatureInput`)],m$);var h$=m$,g$=class extends o${constructor(e){super(e),this.type=`video`,this.inputMethod=`any`,this.maxDuration=null}};O([P({type:[`video`],readOnly:!0,json:{write:!0}})],g$.prototype,`type`,void 0),O([P({type:s$,json:{write:!0}})],g$.prototype,`inputMethod`,void 0),O([P({type:Number,json:{write:!0}})],g$.prototype,`maxDuration`,void 0),g$=O([F(`esri.form.elements.inputs.attachments.VideoInput`)],g$);var _$=g$;function v$(e){return{nestableTypes:{base:o$,key:`type`,typeMap:{audio:l$,document:d$,image:p$,signature:h$,video:_$}},allTypes:{base:o$,key:`type`,typeMap:{attachment:e,audio:l$,document:d$,image:p$,signature:h$,video:_$}}}}function CEe(e,t,n){return e?e.map(e=>ug(n?t.nestableTypes:t.allTypes,e)):null}function wEe(e,t,n){if(!e)return null;let r=n?t.nestableTypes.typeMap:t.allTypes.typeMap;return e.filter(e=>r[e.type]).map(e=>r[e.type].fromJSON(e))}function TEe(e,t,n){if(!e)return null;let r=n?t.nestableTypes.typeMap:t.allTypes.typeMap;return e.filter(e=>r[e.type]).map(e=>e.toJSON())}var y$=class extends o${constructor(e){super(e),this.type=`attachment`,this.attachmentAssociationType=`exact`,this.inputTypes=null}castInputs(e){return CEe(e,b$,!0)}readInputs(e,t){return wEe(t.inputTypes,b$,!0)}writeInputs(e,t){t.inputTypes=TEe(e,b$,!0)}};O([P({type:[`attachment`],readOnly:!0,json:{write:!0}})],y$.prototype,`type`,void 0),O([P({type:[`any`,`exact`,`exactOrNone`],json:{write:!0}})],y$.prototype,`attachmentAssociationType`,void 0),O([P({json:{write:{isRequired:!0}}})],y$.prototype,`inputTypes`,void 0),O([Sy(`inputTypes`)],y$.prototype,`castInputs`,null),O([W(`inputTypes`)],y$.prototype,`readInputs`,null),O([z(`inputTypes`)],y$.prototype,`writeInputs`,null),y$=O([F(`esri.form.elements.inputs.attachments.AttachmentInput`)],y$);var b$=v$(y$),EEe=y$,x$,DEe=v$(EEe),S$=x$=class extends i${constructor(e){super(e),this.allowUserRename=!0,this.attachmentKeyword=null,this.displayFilename=!1,this.editableExpression=null,this.filenameExpression=`{attachmentKeyword}_{now}`,this.input=null,this.maxAttachmentCount=null,this.minAttachmentCount=null,this.type=`attachment`,this.useOriginalFilename=!0}clone(){return new x$({allowUserRename:this.allowUserRename,attachmentKeyword:this.attachmentKeyword,description:this.description,displayFilename:this.displayFilename,editableExpression:this.editableExpression,filenameExpression:this.filenameExpression,input:this.input?.clone(),label:this.label,maxAttachmentCount:this.maxAttachmentCount,minAttachmentCount:this.minAttachmentCount,useOriginalFilename:this.useOriginalFilename,visibilityExpression:this.visibilityExpression})}};O([P({type:Boolean,json:{write:!0}})],S$.prototype,`allowUserRename`,void 0),O([P({type:String,json:{write:{isRequired:!0}}})],S$.prototype,`attachmentKeyword`,void 0),O([P({type:Boolean,json:{write:!0}})],S$.prototype,`displayFilename`,void 0),O([P({type:String,json:{write:!0}})],S$.prototype,`editableExpression`,void 0),O([P({type:String,json:{write:!0}})],S$.prototype,`filenameExpression`,void 0),O([P({types:DEe.allTypes,json:{read:{source:`inputType`},write:{target:`inputType`,isRequired:!0}}})],S$.prototype,`input`,void 0),O([P({type:Number,json:{write:!0}})],S$.prototype,`maxAttachmentCount`,void 0),O([P({type:Number,json:{write:!0}})],S$.prototype,`minAttachmentCount`,void 0),O([P({type:[`attachment`],readOnly:!0,json:{read:!1,write:!0}})],S$.prototype,`type`,void 0),O([P({type:Boolean,json:{write:!0}})],S$.prototype,`useOriginalFilename`,void 0),S$=x$=O([F(`esri.form.elements.AttachmentElement`)],S$);var C$=S$,w$=class extends R{constructor(e){super(e),this.type=null}};O([P()],w$.prototype,`type`,void 0),w$=O([F(`esri.form.elements.inputs.Input`)],w$);var T$=w$,E$=class extends T${constructor(e){super(e),this.maxLength=null,this.minLength=0}};O([P({type:Number,json:{write:!0}})],E$.prototype,`maxLength`,void 0),O([P({type:Number,json:{write:!0}})],E$.prototype,`minLength`,void 0),E$=O([F(`esri.form.elements.inputs.TextInput`)],E$);var D$=E$,O$,k$=O$=class extends D${constructor(e){super(e),this.type=`barcode-scanner`}clone(){return new O$({maxLength:this.maxLength,minLength:this.minLength})}};O([P({type:[`barcode-scanner`],json:{read:!1,write:!0}})],k$.prototype,`type`,void 0),k$=O$=O([F(`esri.form.elements.inputs.BarcodeScannerInput`)],k$);var OEe=k$,A$,j$=A$=class extends T${constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type=`combo-box`}clone(){return new A$({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};O([P({type:String,json:{write:!0}})],j$.prototype,`noValueOptionLabel`,void 0),O([P({type:Boolean,json:{write:!0}})],j$.prototype,`showNoValueOption`,void 0),O([P({type:[`combo-box`],json:{read:!1,write:!0}})],j$.prototype,`type`,void 0),j$=A$=O([F(`esri.form.elements.inputs.ComboBoxInput`)],j$);var kEe=j$,M$;function N$(e){return e??null}function P$(e){return e??null}var F$=M$=class extends T${constructor(e){super(e),this.max=null,this.min=null,this.type=`date-picker`}readMax(e,t){return N$(t.max)}writeMax(e,t){t.max=P$(e)}readMin(e,t){return N$(t.min)}writeMin(e,t){t.min=P$(e)}clone(){return new M$({max:this.max,min:this.min})}};O([P({type:String,json:{type:String,write:!0}})],F$.prototype,`max`,void 0),O([W(`max`)],F$.prototype,`readMax`,null),O([z(`max`)],F$.prototype,`writeMax`,null),O([P({type:String,json:{type:String,write:!0}})],F$.prototype,`min`,void 0),O([W(`min`)],F$.prototype,`readMin`,null),O([z(`min`)],F$.prototype,`writeMin`,null),O([P({type:[`date-picker`],json:{read:!1,write:!0}})],F$.prototype,`type`,void 0),F$=M$=O([F(`esri.form.elements.inputs.DatePickerInput`)],F$);var AEe=F$,I$;function L$(e){return e??null}function R$(e){return e??null}var z$=I$=class extends T${constructor(e){super(e),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution=`minutes`,this.type=`datetimeoffset-picker`}readMax(e,t){return L$(t.max)}writeMax(e,t){t.max=R$(e)}readMin(e,t){return L$(t.min)}writeMin(e,t){t.min=R$(e)}readTimeResolution(e,t){return L$(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=R$(e)}clone(){return new I$({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};O([P({type:Boolean,json:{write:!0}})],z$.prototype,`includeTimeOffset`,void 0),O([P({type:String,json:{type:String,write:!0}})],z$.prototype,`max`,void 0),O([W(`max`)],z$.prototype,`readMax`,null),O([z(`max`)],z$.prototype,`writeMax`,null),O([P({type:String,json:{type:String,write:!0}})],z$.prototype,`min`,void 0),O([W(`min`)],z$.prototype,`readMin`,null),O([z(`min`)],z$.prototype,`writeMin`,null),O([P({type:String,json:{type:String,write:!0}})],z$.prototype,`timeResolution`,void 0),O([W(`timeResolution`)],z$.prototype,`readTimeResolution`,null),O([z(`timeResolution`)],z$.prototype,`writeTimeResolution`,null),O([P({type:[`datetimeoffset-picker`],json:{read:!1,write:!0}})],z$.prototype,`type`,void 0),z$=I$=O([F(`esri.form.elements.inputs.DateTimeOffsetPickerInput`)],z$);var jEe=z$,B$;function V$(e){return e==null?null:new Date(e)}function H$(e){return e?e.getTime():null}var U$=B$=class extends T${constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type=`datetime-picker`}readMax(e,t){return V$(t.max)}writeMax(e,t){t.max=H$(e)}readMin(e,t){return V$(t.min)}writeMin(e,t){t.min=H$(e)}clone(){return new B$({includeTime:this.includeTime,max:this.max,min:this.min})}};O([P({type:Boolean,json:{write:!0}})],U$.prototype,`includeTime`,void 0),O([P({type:Date,json:{type:Number,write:!0}})],U$.prototype,`max`,void 0),O([W(`max`)],U$.prototype,`readMax`,null),O([z(`max`)],U$.prototype,`writeMax`,null),O([P({type:Date,json:{type:Number,write:!0}})],U$.prototype,`min`,void 0),O([W(`min`)],U$.prototype,`readMin`,null),O([z(`min`)],U$.prototype,`writeMin`,null),O([P({type:[`datetime-picker`],json:{read:!1,write:!0}})],U$.prototype,`type`,void 0),U$=B$=O([F(`esri.form.elements.inputs.DateTimePickerInput`)],U$);var MEe=U$,W$,G$=W$=class extends T${constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type=`radio-buttons`}clone(){return new W$({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};O([P({type:String,json:{write:!0}})],G$.prototype,`noValueOptionLabel`,void 0),O([P({type:Boolean,json:{write:!0}})],G$.prototype,`showNoValueOption`,void 0),O([P({type:[`radio-buttons`],json:{read:!1,write:!0}})],G$.prototype,`type`,void 0),G$=W$=O([F(`esri.form.elements.inputs.RadioButtonsInput`)],G$);var NEe=G$,K$,q$=K$=class extends T${constructor(e){super(e),this.offValue=null,this.onValue=null,this.type=`switch`}clone(){return new K$({offValue:this.offValue,onValue:this.onValue})}};O([P({type:[String,Number],json:{write:!0}})],q$.prototype,`offValue`,void 0),O([P({type:[String,Number],json:{write:!0}})],q$.prototype,`onValue`,void 0),O([P({type:[`switch`],json:{read:!1,write:!0}})],q$.prototype,`type`,void 0),q$=K$=O([F(`esri.form.elements.inputs.SwitchInput`)],q$);var PEe=q$,J$,Y$=J$=class extends D${constructor(e){super(e),this.type=`text-area`}clone(){return new J$({maxLength:this.maxLength,minLength:this.minLength})}};O([P({type:[`text-area`],json:{read:!1,write:!0}})],Y$.prototype,`type`,void 0),Y$=J$=O([F(`esri.form.elements.inputs.TextAreaInput`)],Y$);var FEe=Y$,X$,Z$=X$=class extends D${constructor(e){super(e),this.type=`text-box`}clone(){return new X$({maxLength:this.maxLength,minLength:this.minLength})}};O([P({type:[`text-box`],json:{read:!1,write:!0}})],Z$.prototype,`type`,void 0),Z$=X$=O([F(`esri.form.elements.inputs.TextBoxInput`)],Z$);var IEe=Z$,Q$;function $$(e){return e??null}function e1(e){return e??null}var t1=Q$=class extends T${constructor(e){super(e),this.max=null,this.min=null,this.timeResolution=`minutes`,this.type=`time-picker`}readMax(e,t){return $$(t.max)}writeMax(e,t){t.max=e1(e)}readMin(e,t){return $$(t.min)}writeMin(e,t){t.min=e1(e)}readTimeResolution(e,t){return $$(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=e1(e)}clone(){return new Q$({max:this.max,min:this.min,timeResolution:this.timeResolution})}};O([P({type:String,json:{type:String,write:!0}})],t1.prototype,`max`,void 0),O([W(`max`)],t1.prototype,`readMax`,null),O([z(`max`)],t1.prototype,`writeMax`,null),O([P({type:String,json:{type:String,write:!0}})],t1.prototype,`min`,void 0),O([W(`min`)],t1.prototype,`readMin`,null),O([z(`min`)],t1.prototype,`writeMin`,null),O([P({type:String,json:{type:String,write:!0}})],t1.prototype,`timeResolution`,void 0),O([W(`timeResolution`)],t1.prototype,`readTimeResolution`,null),O([z(`timeResolution`)],t1.prototype,`writeTimeResolution`,null),O([P({type:[`time-picker`],json:{read:!1,write:!0}})],t1.prototype,`type`,void 0),t1=Q$=O([F(`esri.form.elements.inputs.TimePickerInput`)],t1);var LEe=t1,REe=OEe,zEe=kEe,BEe=AEe,VEe=jEe,HEe=MEe,UEe=NEe,WEe=PEe,GEe=FEe,KEe=IEe,qEe=LEe,JEe={base:T$,key:`type`,typeMap:{"barcode-scanner":REe,"combo-box":zEe,"date-picker":BEe,"datetime-picker":HEe,"datetimeoffset-picker":VEe,"radio-buttons":UEe,switch:WEe,"text-area":GEe,"text-box":KEe,"time-picker":qEe}},n1,r1=n1=class extends i${constructor(e){super(e),this.domain=null,this.editable=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type=`field`,this.valueExpression=null}clone(){return new n1({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};O([P({types:VB,json:{read:{reader:HB},write:!0}})],r1.prototype,`domain`,void 0),O([P({type:Boolean,json:{write:!0}})],r1.prototype,`editable`,void 0),O([P({type:String,json:{write:!0}})],r1.prototype,`editableExpression`,void 0),O([P({type:String,json:{write:!0}})],r1.prototype,`fieldName`,void 0),O([P({type:String,json:{write:!0}})],r1.prototype,`hint`,void 0),O([P({types:JEe,json:{read:{source:`inputType`},write:{target:`inputType`}}})],r1.prototype,`input`,void 0),O([P({type:String,json:{write:!0}})],r1.prototype,`requiredExpression`,void 0),O([P({type:String,json:{read:!1,write:!0}})],r1.prototype,`type`,void 0),O([P({type:String,json:{write:!0}})],r1.prototype,`valueExpression`,void 0),r1=n1=O([F(`esri.form.elements.FieldElement`)],r1);var i1,a1=i1=class extends i${constructor(e){super(e),this.displayCount=null,this.displayType=`list`,this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type=`relationship`}clone(){return new i1({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:A(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};O([P({type:Number,json:{write:!0}})],a1.prototype,`displayCount`,void 0),O([P({type:[`list`],json:{write:!0}})],a1.prototype,`displayType`,void 0),O([P({type:String,json:{write:!0}})],a1.prototype,`editableExpression`,void 0),O([P({type:[ZI],json:{write:!0}})],a1.prototype,`orderByFields`,void 0),O([P({type:Number,json:{write:!0}})],a1.prototype,`relationshipId`,void 0),O([P({type:[`relationship`],json:{read:!1,write:!0}})],a1.prototype,`type`,void 0),a1=i1=O([F(`esri.form.elements.RelationshipElement`)],a1);var o1=a1,s1,c1=s1=class extends i${constructor(e){super(e),this.text=null,this.textFormat=`plain-text`,this.type=`text`}clone(){return new s1({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};O([P({type:String,json:{write:!0}})],c1.prototype,`text`,void 0),O([P({type:String,json:{write:!0}})],c1.prototype,`textFormat`,void 0),O([P({type:[`text`],readOnly:!0,json:{read:!1,write:!0}})],c1.prototype,`type`,void 0),c1=s1=O([F(`esri.form.elements.TextElement`)],c1);var l1=c1,u1=class extends Y(i$){constructor(e){super(e),this.associationTypes=null,this.editableExpression=null,this.type=`utilityNetworkAssociations`}};O([P({type:[iL],json:{write:{isRequired:!0}}})],u1.prototype,`associationTypes`,void 0),O([P({type:String,json:{write:!0}})],u1.prototype,`editableExpression`,void 0),O([P({type:[`utilityNetworkAssociations`],json:{read:!1,write:!0}})],u1.prototype,`type`,void 0),u1=O([F(`esri.form.elements.UtilityNetworkAssociationsElement`)],u1);var d1=u1,YEe=e=>e.type===`field`,XEe=e=>e.type===`group`,ZEe=e=>e.type===`text`;function f1(e){return{typesWithGroup:{base:i$,key:`type`,typeMap:{attachment:C$,field:r1,group:e,relationship:o1,text:l1,utilityNetworkAssociations:d1}},typesWithoutGroup:{base:i$,key:`type`,typeMap:{attachment:C$,field:r1,relationship:o1,text:l1,utilityNetworkAssociations:d1}}}}function p1(e,t,n=!0){if(!e)return null;let r=n?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(e=>r[e.type]).map(e=>r[e.type].fromJSON(e))}function m1(e,t,n=!0){if(!e)return null;let r=n?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(e=>r[e.type]).map(e=>e.toJSON())}function h1(e,t,n=!0){return e?e.map(e=>ug(n?t.typesWithGroup:t.typesWithoutGroup,e)):null}var g1,_1=g1=class extends i${constructor(e){super(e),this.elements=null,this.initialState=`expanded`,this.type=`group`}castElements(e){return h1(e,v1,!1)}readElements(e,t){return p1(t.formElements,v1,!1)}writeElements(e,t){t.formElements=m1(e,v1,!1)}clone(){return new g1({description:this.description,elements:A(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};O([P({json:{write:!0}})],_1.prototype,`elements`,void 0),O([Sy(`elements`)],_1.prototype,`castElements`,null),O([W(`elements`,[`formElements`])],_1.prototype,`readElements`,null),O([z(`elements`)],_1.prototype,`writeElements`,null),O([P({type:[`collapsed`,`expanded`],json:{write:!0}})],_1.prototype,`initialState`,void 0),O([P({type:String,json:{read:!1,write:!0}})],_1.prototype,`type`,void 0),_1=g1=O([F(`esri.form.elements.GroupElement`)],_1);var v1=f1(_1),y1=_1,b1,x1=f1(y1),S1=b1=class extends R{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(e){return h1(e,x1)}readElements(e,t){return p1(t.formElements,x1)}writeElements(e,t){t.formElements=m1(e,x1)}clone(){return new b1({description:this.description,expressionInfos:A(this.expressionInfos),elements:A(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}async getFieldsUsed(e,t){let n=new Set,{description:r,elements:i,expressionInfos:a,title:o}=this;if(T1(n,e,r),T1(n,e,o),!i)return[];let s=QEe(i,a).map(t=>WP(n,e,null,t));await Promise.all(s);for(let r of i)C1(n,{fieldsIndex:e,relationships:t},r);return Array.from(n).sort()}};function C1(e,t,n){let{fieldsIndex:r}=t;if(!r||r.fields.length!==e.size)switch(T1(e,r,n.label),T1(e,r,n.description),n.type){case`field`:UP(e,r,n.fieldName);break;case`group`:n.elements.forEach(n=>C1(e,t,n));break;case`relationship`:if(t.relationships){let i=t.relationships.find(e=>e.id===n.relationshipId);i&&UP(e,r,i.keyField)}HP(e,r,n.orderByFields?.map(e=>e.field));break;case`text`:T1(e,r,n.text)}}function QEe(e,t){if(!t||t.length===0)return[];let n=w1(e),r=[];for(let e of t)n.has(e.name)&&r.push(e.expression);return r}function w1(e){let t=new Set;for(let n of e)if(Th(t,n.visibilityExpression),!ZEe(n)){if(XEe(n))wh(t,w1(n.elements));else if(Th(t,n.editableExpression),YEe(n)){let{requiredExpression:e,valueExpression:r}=n;wh(t,[e,r])}}return t}function T1(e,t,n){HP(e,t,_F(n))}O([P({type:String,json:{write:!0}})],S1.prototype,`description`,void 0),O([P({json:{write:!0}})],S1.prototype,`elements`,void 0),O([Sy(`elements`)],S1.prototype,`castElements`,null),O([W(`elements`,[`formElements`])],S1.prototype,`readElements`,null),O([z(`elements`)],S1.prototype,`writeElements`,null),O([P({type:[SEe],json:{write:!0}})],S1.prototype,`expressionInfos`,void 0),O([P({type:Boolean,json:{default:!1,write:!0}})],S1.prototype,`preserveFieldValuesWhenHidden`,void 0),O([P({type:String,json:{write:!0}})],S1.prototype,`title`,void 0),S1=b1=O([F(`esri.form.FormTemplate`)],S1);var E1=Symbol(`getSliceableSymbol`),D1=class{};D1=O([F(`esri.graphic.GraphicOrigin`)],D1);var $Ee=Symbol(`isFeatureGraphicOrigin`),O1,eDe=class extends D1{get[(O1=$Ee,jL)](){return this.layer}get[kL](){return this.layer}get[E1](){return this.layer}constructor(e){super(),this[O1]=!0,this.type=`feature`,this.layer=e}get id(){return this.layer.id}};function k1(e,t,n){if(e.hasM==null||e.hasZ)for(let e of t)for(let t of e)t.length>2&&(t[2]*=n)}function A1(e,t,n){if(!e&&!t||!n)return;let r=ly(n);j1(e,n,r),j1(t,n,r)}function j1(e,t,n){if(e)for(let r of e)tDe(r.geometry,t,n)}function tDe(e,t,n){if(!e?.spatialReference||vv(e.spatialReference,t))return;let r=ly(e.spatialReference)/n;if(r!==1){if(`x`in e)e.z!=null&&(e.z*=r);else if(`rings`in e)k1(e,e.rings,r);else if(`paths`in e)k1(e,e.paths,r);else if(`points`in e&&(e.hasM==null||e.hasZ))for(let t of e.points)t.length>2&&(t[2]*=r)}}function M1(e,t,n){if(!n?.features||!n.hasZ)return;let r=OA(n.geometryType,t,e.outSpatialReference);if(r!=null)for(let e of n.features)r(e.geometry)}var N1,P1=new P_({esriGeometryPoint:`point`,esriGeometryMultipoint:`multipoint`,esriGeometryPolyline:`polyline`,esriGeometryPolygon:`polygon`,esriGeometryEnvelope:`extent`,mesh:`mesh`,"":null}),F1=N1=class extends R{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){return this.readFeaturesWithClass(e,t,EB)}writeGeometryType(e,t,n,r){if(e)return void P1.write(e,t,n,r);let{features:i}=this;if(i){for(let e of i)if(e?.geometry!=null)return void P1.write(e.geometry.type,t,n,r)}}readQueryGeometry(e,t){if(!e)return null;let n=!!e.spatialReference,r=qj(e);return r&&!n&&t.spatialReference&&(r.spatialReference=U.fromJSON(t.spatialReference)),r}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());let{features:n}=this;if(n){for(let e of n)if(e&&e.geometry!=null&&e.geometry.spatialReference)return void(t.spatialReference=e.geometry.spatialReference.toJSON())}}clone(){return new N1(this.cloneProperties())}cloneProperties(){return A({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){let t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let n=0;n<t.features.length;n++){let r=t.features[n];r.geometry&&=(e?.[n])?.toJSON()||r.geometry}return t}quantize(e){let{scale:[t,n],translate:[r,i]}=e,a=e=>Math.round((e-r)/t),o=e=>Math.round((i-e)/n),s=this.features,c=this._getQuantizationFunction(this.geometryType,a,o);for(let e=0,t=s.length;e<t;e++)c?.(s[e].geometry)||(s.splice(e,1),e--,t--);return this.transform=e,this}unquantize(){let{geometryType:e,features:t,transform:n}=this;if(!n)return this;let{translate:[r,i],scale:[a,o]}=n,s=e=>e*a+r,c=e=>i-e*o,l=null,u=null;if(this.hasZ&&n?.scale?.[2]!=null){let{translate:[,,e],scale:[,,t]}=n;l=n=>n*t+e}if(this.hasM&&n?.scale?.[3]!=null){let{translate:[,,,e],scale:[,,,t]}=n;u=n=>n==null?n:n*t+e}let d=this._getHydrationFunction(e,s,c,l,u);for(let{geometry:e}of t)e!=null&&d&&d(e);return this.transform=null,this}readFeaturesWithClass(e,t,n){let r=U.fromJSON(t.spatialReference),i=[];for(let t=0;t<e.length;t++){let a=e[t],o=n.fromJSON(a),s=a.geometry?.spatialReference;o.geometry==null||s||(o.geometry.spatialReference=r);let c=a.aggregateGeometries,l=o.aggregateGeometries;if(c&&l!=null)for(let e in l){let t=l[e],n=c[e]?.spatialReference;t==null||n||(t.spatialReference=r)}i.push(o)}return i}_quantizePoints(e,t,n){let r,i,a=[];for(let o=0,s=e.length;o<s;o++){let s=e[o];if(o>0){let e=t(s[0]),o=n(s[1]);e===r&&o===i||(a.push([e-r,o-i]),r=e,i=o)}else r=t(s[0]),i=n(s[1]),a.push([r,i])}return a.length>0?a:null}_getQuantizationFunction(e,t,n){return e===`point`?e=>(e.x=t(e.x),e.y=n(e.y),e):e===`polyline`||e===`polygon`?e=>{let r=Kj(e)?e.rings:e.paths,i=[];for(let e=0,a=r.length;e<a;e++){let a=r[e],o=this._quantizePoints(a,t,n);o&&i.push(o)}return i.length>0?(Kj(e)?e.rings=i:e.paths=i,e):null}:e===`multipoint`?e=>{let r=this._quantizePoints(e.points,t,n);return r&&r.length>0?(e.points=r,e):null}:e===`extent`?e=>e:null}_getHydrationFunction(e,t,n,r,i){return e===`point`?e=>{e.x=t(e.x),e.y=n(e.y),r&&(e.z=r(e.z))}:e===`polyline`||e===`polygon`?e=>{let a=Kj(e)?e.rings:e.paths,o,s;for(let e=0,r=a.length;e<r;e++){let r=a[e];for(let e=0,i=r.length;e<i;e++){let i=r[e];e>0?(o+=i[0],s+=i[1]):(o=i[0],s=i[1]),i[0]=t(o),i[1]=n(s)}}if(r&&i)for(let e=0,t=a.length;e<t;e++){let t=a[e];for(let e=0,n=t.length;e<n;e++){let n=t[e];n[2]=r(n[2]),n[3]=i(n[3])}}else if(r)for(let e=0,t=a.length;e<t;e++){let t=a[e];for(let e=0,n=t.length;e<n;e++){let n=t[e];n[2]=r(n[2])}}else if(i)for(let e=0,t=a.length;e<t;e++){let t=a[e];for(let e=0,n=t.length;e<n;e++){let n=t[e];n[2]=i(n[2])}}}:e===`extent`?e=>{e.xmin=t(e.xmin),e.ymin=n(e.ymin),e.xmax=t(e.xmax),e.ymax=n(e.ymax),r&&e.zmax!=null&&e.zmin!=null&&(e.zmax=r(e.zmax),e.zmin=r(e.zmin)),i&&e.mmax!=null&&e.mmin!=null&&(e.mmax=i(e.mmax),e.mmin=i(e.mmin))}:e===`multipoint`?e=>{let a=e.points,o,s;for(let e=0,r=a.length;e<r;e++){let r=a[e];e>0?(o+=r[0],s+=r[1]):(o=r[0],s=r[1]),r[0]=t(o),r[1]=n(s)}if(r&&i)for(let e=0,t=a.length;e<t;e++){let t=a[e];t[2]=r(t[2]),t[3]=i(t[3])}else if(r)for(let e=0,t=a.length;e<t;e++){let t=a[e];t[2]=r(t[2])}else if(i)for(let e=0,t=a.length;e<t;e++){let t=a[e];t[2]=i(t[2])}}:null}};O([P({type:String,json:{write:!0}})],F1.prototype,`displayFieldName`,void 0),O([P({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],F1.prototype,`exceededTransferLimit`,void 0),O([P({type:[EB],json:{write:!0}})],F1.prototype,`features`,void 0),O([W(`features`)],F1.prototype,`readFeatures`,null),O([P({type:[GB],json:{write:!0}})],F1.prototype,`fields`,void 0),O([P({type:[`point`,`multipoint`,`polyline`,`polygon`,`extent`,`mesh`],json:{read:{reader:P1.read}}})],F1.prototype,`geometryType`,void 0),O([z(`geometryType`)],F1.prototype,`writeGeometryType`,null),O([P({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],F1.prototype,`hasM`,void 0),O([P({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],F1.prototype,`hasZ`,void 0),O([P({types:Xj,json:{write:!0}})],F1.prototype,`queryGeometry`,void 0),O([W(`queryGeometry`)],F1.prototype,`readQueryGeometry`,null),O([P({type:U,json:{write:!0}})],F1.prototype,`spatialReference`,void 0),O([z(`spatialReference`)],F1.prototype,`writeSpatialReference`,null),O([P({json:{write:!0}})],F1.prototype,`transform`,void 0),F1=N1=O([F(`esri.rest.support.FeatureSet`)],F1),F1.prototype.toJSON.isDefaultToJSON=!0;var nDe=0,I1=class extends C_(b_(L)){constructor(e){super(e),this._idToClientGeometry=null,this.type=`memory`}load(e){let t=e==null?null:e.signal;return this.addResolvingPromise(this._startWorker(t)),Promise.resolve(this)}destroy(){this._connection?.close(),this._connection=null}get _workerGeometryType(){let e=this.layer?.geometryType;return e?this._geometryTypeRequiresClientGraphicMapping(e)?`polygon`:e:null}applyEdits(e){return this.load().then(()=>this._applyEdits(e))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(e,t={}){await this.load(t);let n=await this._connection.invoke(`queryFeatures`,e?e.toJSON():null,t);M1(e,this.layer.spatialReference,n);let r=F1.fromJSON(n);if(!this._requiresClientGraphicMapping()||!this._idToClientGeometry)return r;let i=this.layer.objectIdField;for(let e of r.features){let t=e.attributes[i],n=this._idToClientGeometry.get(t);n!==void 0&&(e.geometry=n)}return r.geometryType=this.layer.geometryType,r}async queryFeaturesJSON(e,t={}){if(this._requiresClientGraphicMapping())throw new M(`query-features-json:unsupported`,`Cannot query in JSON format for client only geometry types (mesh and extent)`);await this.load(t);let n=await this._connection.invoke(`queryFeatures`,e?e.toJSON():null,t);return M1(e,this.layer.spatialReference,n),n}queryFeatureCount(e,t={}){return this.load(t).then(()=>this._connection.invoke(`queryFeatureCount`,e?e.toJSON():null,t))}queryObjectIds(e,t={}){return this.load(t).then(()=>this._connection.invoke(`queryObjectIds`,e?e.toJSON():null,t))}queryExtent(e,t={}){return this.load(t).then(()=>this._connection.invoke(`queryExtent`,e?e.toJSON():null,t)).then(e=>({count:e.count,extent:cb.fromJSON(e.extent)}))}querySnapping(e,t={}){return this.load(t).then(()=>this._connection.invoke(`querySnapping`,e,t))}async queryAttributeBins(e,t={}){return await this.load(),this._connection.invoke(`queryAttributeBins`,e?.toJSON(),t)}async _applyEdits(e){if(!this._connection)throw new M(`feature-layer-source:edit-failure`,`Memory source not loaded`);let t=this.layer.objectIdField,n=null,r=[],i=[];await Promise.all([this._prepareClientMapping(e.addFeatures,null),this._prepareClientMapping(e.updateFeatures,null)]);let a=e=>`objectId`in e&&e.objectId!=null?e.objectId:`attributes`in e&&e.attributes[t]!=null?e.attributes[t]:null;if(e.addFeatures&&(n=this._prepareAddFeatures(e.addFeatures)),e.deleteFeatures)for(let t of e.deleteFeatures){let e=a(t);e!=null&&r.push(e)}let o=e.updateFeatures&&this._idToClientGeometry?new Map:null;if(e.updateFeatures){for(let t of e.updateFeatures)if(i.push(this._serializeFeature(t)),o&&t.geometry!=null){let e=a(t);e!=null&&o.set(e,t)}}A1(n?n.features:null,i,this.layer.spatialReference);let{fullExtent:s,featureEditResults:c}=await this._connection.invoke(`applyEdits`,{adds:n?n.features:[],updates:i,deletes:r});return this.fullExtent=s,n&&n.finish(c.uidToObjectId),this._updateIdToClientGeometries(o,c),this._createEditsResult(c)}async _prepareClientMapping(e,t){if(this._layerOrSourceGeometryType!==`mesh`||e==null)return;let n=[];for(let{geometry:r}of e)r==null||r.type!==`mesh`||r.hasExtent||r.loaded||n.push(r.load({signal:t}));n.length&&await Promise.all(n)}_updateIdToClientGeometries(e,t){if(this._idToClientGeometry){if(e)for(let n of t.updateResults){if(!n.success)continue;let t=e.get(n.objectId);t!=null&&this._addIdToClientGeometry(t)}for(let e of t.deleteResults)e.success&&this._idToClientGeometry.delete(e.objectId)}}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){let t=!0===e.success?null:e.error||{code:void 0,description:``};return{objectId:e.objectId,globalId:e.globalId,error:t?new M(`feature-layer-source:edit-failure`,t.description,{code:t.code}):null}}_prepareAddFeatures(e){let t=new Map,n=Array(e.length),r=null;for(let i=0;i<e.length;i++){let a=e[i],o=this._serializeFeature(a);r||a.geometry==null||(r=a.geometry.type),n[i]=o,t.set(`${o.uid}`,a)}let i=this;return{features:n,inferredGeometryType:r,finish(e){let n=i.sourceJSON.objectIdField;for(let r in e){let a=e[r],o=t.get(r);o&&(o.attributes||={},a===-1?delete o.attributes[n]:o.attributes[n]=a,i._addIdToClientGeometry(o))}}}}_addIdToClientGeometry(e){if(!this._idToClientGeometry)return;let t=this.sourceJSON.objectIdField,n=e.attributes?.[t];n!=null&&this._idToClientGeometry.set(n,e.geometry??null)}get _layerOrSourceGeometryType(){return this.layer?.geometryType??this.sourceJSON?.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(e){return this._geometryTypeRequiresClientGraphicMapping(e.type)}_geometryTypeRequiresClientGraphicMapping(e){return e===`mesh`||e===`multipatch`||e===`extent`}_serializeFeature(e){let{attributes:t}=e,n=this._geometryForSerialization(e),r=(nDe++).toString();return n?{uid:r,geometry:n.toJSON(),attributes:t}:{uid:r,attributes:t}}_geometryForSerialization(e){let{geometry:t}=e;return t==null?null:this._geometryRequiresClientGraphicMapping(t)?t.extent?Ek.fromExtent(t.extent):null:t}async _startWorker(e){this._connection=await CM(`MemorySourceWorker`,{strategy:k(`feature-layers-workers`)?`dedicated`:`local`,signal:e,registryTarget:this});let{fields:t,spatialReference:n,objectIdField:r,hasM:i,hasZ:a,timeInfo:o,dateFieldsTimeZone:s}=this.layer,c=this.layer.originOf(`spatialReference`)===`defaults`;await this._prepareClientMapping(this.items,e);let l=this._prepareAddFeatures(this.items);this.addHandles(this.on(`before-changes`,e=>{j.getLogger(this).error(`Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead`),e.preventDefault()}));let u={features:l.features,fields:t?.map(e=>e.toJSON()),geometryType:Yj.toJSON(this._workerGeometryType),hasM:this._layerOrSourceGeometryType!==`mesh`&&i,hasZ:this._layerOrSourceGeometryType===`mesh`||a,objectIdField:r,spatialReference:c?null:n&&n.toJSON(),timeInfo:o?.toJSON()??null,dateFieldsTimeZone:s},d=await this._connection.invoke(`load`,u,{signal:e});for(let e of d.warnings)j.getLogger(this.layer).warn(`#load()`,`${e.message} (title: '${this.layer.title||`no title`}', id: '${this.layer.id??`no id`}')`,{warning:e});d.featureErrors.length&&j.getLogger(this.layer).warn(`#load()`,`Encountered ${d.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||`no title`}', id: '${this.layer.id??`no id`}')`,{errors:d.featureErrors});let f=d.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(l.inferredGeometryType)&&(f.geometryType=Yj.toJSON(l.inferredGeometryType)),this.sourceJSON=f,this._requiresClientGraphicMapping()&&(this._idToClientGeometry=new Map),l.finish(d.assignedObjectIds)}};O([Zg({Type:EB,ensureType:ag(EB)})],I1.prototype,`itemType`,void 0),O([P()],I1.prototype,`type`,void 0),O([P({constructOnly:!0})],I1.prototype,`layer`,void 0),O([P({readOnly:!0})],I1.prototype,`_workerGeometryType`,null),O([P()],I1.prototype,`sourceJSON`,void 0),I1=O([F(`esri.layers.graphics.sources.MemorySource`)],I1);function rDe(e){return`portalItem`in e}var L1=e=>{let t=e,n=class extends t{get apiKey(){return this._isOverridden(`apiKey`)?this._get(`apiKey`):rDe(this)?this.portalItem?.apiKey:null}set apiKey(e){e==null?(this._clearOverride(`apiKey`),this.clear(`apiKey`,`user`)):this._override(`apiKey`,e)}};return O([P({type:String})],n.prototype,`apiKey`,null),n=O([F(`esri.layers.mixins.APIKeyMixin`)],n),n},R1=e=>{let t=e,n=class extends t{get title(){if(this._get(`title`)&&this.originOf(`title`)!==`defaults`)return this._get(`title`);if(this.url){let e=Vf(this.url);if(e?.title)return e.title}return this._get(`title`)||``}set title(e){this._set(`title`,e)}set url(e){this._set(`url`,Kf(e,j.getLogger(this)))}};return O([P()],n.prototype,`title`,null),O([P({type:String})],n.prototype,`url`,null),n=O([F(`esri.layers.mixins.ArcGISService`)],n),n},z1=class extends SyntaxError{constructor(e,t,n,r){super(e),this.expected=t,this.found=n,this.location=r,this.name=`SyntaxError`}format(e){let t=`Error: `+this.message;if(this.location){let n=null,r=e.find(e=>e.source===this.location.source);r&&(n=r.text.split(/\r\n|\n|\r/g));let i=this.location.start,a=this.location.source&&typeof this.location.source.offset==`function`?this.location.source.offset(i):i,o=this.location.source+`:`+a.line+`:`+a.column;if(n){let e=this.location.end,r=``.padEnd(a.line.toString().length,` `),s=n[i.line-1],c=(i.line===e.line?e.column:s.length+1)-i.column||1;t+=`
 --> `+o+`
`+r+` |
`+a.line+` | `+s+`
`+r+` | `+``.padEnd(i.column-1,` `)+``.padEnd(c,`^`)}else t+=`
 at `+o}return t}static buildMessage(e,t){function n(e){return e.codePointAt(0).toString(16).toUpperCase()}let r=Object.prototype.hasOwnProperty.call(RegExp.prototype,`unicode`)?RegExp(`[\\p{C}\\p{Mn}\\p{Mc}]`,`gu`):null;function i(e){return r?e.replace(r,e=>`\\u{`+n(e)+`}`):e}function a(e){return i(e.replace(/\\/g,`\\\\`).replace(/"/g,`\\"`).replace(/\0/g,`\\0`).replace(/\t/g,`\\t`).replace(/\n/g,`\\n`).replace(/\r/g,`\\r`).replace(/[\x00-\x0F]/g,e=>`\\x0`+n(e)).replace(/[\x10-\x1F\x7F-\x9F]/g,e=>`\\x`+n(e)))}function o(e){return i(e.replace(/\\/g,`\\\\`).replace(/\]/g,`\\]`).replace(/\^/g,`\\^`).replace(/-/g,`\\-`).replace(/\0/g,`\\0`).replace(/\t/g,`\\t`).replace(/\n/g,`\\n`).replace(/\r/g,`\\r`).replace(/[\x00-\x0F]/g,e=>`\\x0`+n(e)).replace(/[\x10-\x1F\x7F-\x9F]/g,e=>`\\x`+n(e)))}let s={literal:e=>`"`+a(e.text)+`"`,class(e){let t=e.parts.map(e=>Array.isArray(e)?o(e[0])+`-`+o(e[1]):o(e));return`[`+(e.inverted?`^`:``)+t.join(``)+`]`+(e.unicode?`u`:``)},any:()=>`any character`,end:()=>`end of input`,other:e=>e.description};function c(e){return s[e.type](e)}function l(e){let t=e.map(c);if(t.sort(),t.length>0){let e=1;for(let n=1;n<t.length;n++)t[n-1]!==t[n]&&(t[e]=t[n],e++);t.length=e}switch(t.length){case 1:return t[0];case 2:return t[0]+` or `+t[1];default:return t.slice(0,-1).join(`, `)+`, or `+t[t.length-1]}}function u(e){return e?`"`+a(e)+`"`:`end of input`}return`Expected `+l(e)+` but `+u(t)+` found.`}};function iDe(e,t){let n={},r=(t=t===void 0?{}:t).grammarSource,i={start:rt},a=rt,o=`none`,s=`grad`,c=`turn`,l=/^[ \t\n\r]/,u=/^[a-z\-]/,d=/^[0-9a-fA-F]/,f=/^[+\-]/,p=/^[0-9]/,m=Qe(`none`),h=Ye(`none`,!1),g=Ye(`)`,!1),_=Ye(`,`,!1),v=Xe([` `,`	`,`
`,`\r`],!1,!1,!1),y=Qe(`function`),b=Ye(`(`,!1),x=Qe(`identifier`),S=Xe([[`a`,`z`],`-`],!1,!1,!1),ee=Qe(`percentage`),C=Ye(`%`,!1),te=Qe(`length`),ne=Ye(`px`,!1),re=Ye(`cm`,!1),ie=Ye(`mm`,!1),ae=Ye(`in`,!1),oe=Ye(`pt`,!1),se=Ye(`pc`,!1),ce=Qe(`angle`),le=Ye(`deg`,!1),w=Ye(`rad`,!1),ue=Ye(`grad`,!1),T=Ye(`turn`,!1),de=Qe(`number`),fe=Qe(`color`),pe=Ye(`#`,!1),me=Xe([[`0`,`9`],[`a`,`f`],[`A`,`F`]],!1,!1,!1),he=Xe([`+`,`-`],!1,!1,!1),ge=Xe([[`0`,`9`]],!1,!1,!1),_e=Ye(`.`,!1),ve=Ye(`e`,!1);function ye(){return[]}function be(e,t){return{type:`function`,name:e,parameters:t||[]}}function xe(e,t){return t.length>0?yt(e,t,3):[e]}function Se(e){return{type:`quantity`,value:e.value,unit:e.unit}}function Ce(e){return{type:`color`,colorType:e.type,value:e.value}}function we(e){return e}function Te(){return qe()}function Ee(e){return{value:e,unit:`%`}}function De(e){return{value:e,unit:`px`}}function Oe(e){return{value:e,unit:`cm`}}function ke(e){return{value:e,unit:`mm`}}function Ae(e){return{value:e,unit:`in`}}function je(e){return{value:e,unit:`pt`}}function Me(e){return{value:e,unit:`pc`}}function Ne(e){return{value:e,unit:`deg`}}function Pe(e){return{value:e,unit:`rad`}}function Fe(e){return{value:e,unit:`grad`}}function Ie(e){return{value:e,unit:`turn`}}function Le(e){return{value:e,unit:null}}function Re(){return{type:`hex`,value:qe()}}function ze(e){return{type:`function`,value:e}}function Be(){return{type:`named`,value:qe()}}function Ve(){return parseFloat(qe())}let E=0|t.peg$currPos,He=E,Ue=[{line:1,column:1}],We,Ge=E,Ke=t.peg$maxFailExpected||[],D=0|t.peg$silentFails;if(t.startRule){if(!(t.startRule in i))throw Error(`Can't start parsing from rule "`+t.startRule+`".`);a=i[t.startRule]}function qe(){return e.substring(He,E)}function Je(t=E){let n=e.codePointAt(t);return n===void 0?``:String.fromCodePoint(n)}function Ye(e,t){return{type:`literal`,text:e,ignoreCase:t}}function Xe(e,t,n,r){return{type:`class`,parts:e,inverted:t,ignoreCase:n,unicode:r}}function Ze(){return{type:`end`}}function Qe(e){return{type:`other`,description:e}}function $e(t){let n,r=Ue[t];if(r)return r;if(t>=Ue.length)n=Ue.length-1;else for(n=t;!Ue[--n];);for(r=Ue[n],r={line:r.line,column:r.column};n<t;)e.charCodeAt(n)===10?(r.line++,r.column=1):r.column++,n++;return Ue[t]=r,r}function et(e,t,n){let i=$e(e),a=$e(t);return{source:r,start:{offset:e,line:i.line,column:i.column},end:{offset:t,line:a.line,column:a.column}}}function tt(e){E<Ge||(E>Ge&&(Ge=E,Ke=[]),Ke.push(e))}function nt(e,t,n){return new z1(z1.buildMessage(e,t),e,t,n)}function rt(){let e;return e=it(),e===n&&(e=at()),e}function it(){let t,r;return D++,t=E,lt(),e.substr(E,4)===o?(r=o,E+=4):(r=n,D===0&&tt(h)),r===n?(E=t,t=n):(lt(),He=t,t=ye()),D--,t===n&&D===0&&tt(m),t}function at(){let e,t;if(e=[],t=ot(),t!==n)for(;t!==n;)e.push(t),t=ot();else e=n;return e}function ot(){let t,r,i,a;return t=E,lt(),r=ut(),r===n?(E=t,t=n):(lt(),i=st(),i===n&&(i=null),lt(),e.charCodeAt(E)===41?(a=`)`,E++):(a=n,D===0&&tt(g)),a===n?(E=t,t=n):(lt(),He=t,t=be(r,i))),t}function st(){let t,r,i,a,o,s,c,l;if(t=E,r=ct(),r!==n){for(i=[],a=E,o=lt(),e.charCodeAt(E)===44?(s=`,`,E++):(s=n,D===0&&tt(_)),s===n&&(s=null),c=lt(),l=ct(),l===n?(E=a,a=n):(o=[o,s,c,l],a=o);a!==n;)i.push(a),a=E,o=lt(),e.charCodeAt(E)===44?(s=`,`,E++):(s=n,D===0&&tt(_)),s===n&&(s=null),c=lt(),l=ct(),l===n?(E=a,a=n):(o=[o,s,c,l],a=o);He=t,t=xe(r,i)}else E=t,t=n;return t}function ct(){let e,t;return e=E,t=ft(),t===n&&(t=pt(),t===n&&(t=mt(),t===n&&(t=ht()))),t!==n&&(He=e,t=Se(t)),e=t,e===n&&(e=E,t=gt(),t!==n&&(He=e,t=Ce(t)),e=t),e}function lt(){let t,r;for(D++,t=[],r=e.charAt(E),l.test(r)?E++:(r=n,D===0&&tt(v));r!==n;)t.push(r),r=e.charAt(E),l.test(r)?E++:(r=n,D===0&&tt(v));return D--,t}function ut(){let t,r,i;return D++,t=E,r=dt(),r===n?(E=t,t=n):(e.charCodeAt(E)===40?(i=`(`,E++):(i=n,D===0&&tt(b)),i===n?(E=t,t=n):(He=t,t=we(r))),D--,t===n&&(r=n,D===0&&tt(y)),t}function dt(){let t,r,i;if(D++,t=E,r=[],i=e.charAt(E),u.test(i)?E++:(i=n,D===0&&tt(S)),i!==n)for(;i!==n;)r.push(i),i=e.charAt(E),u.test(i)?E++:(i=n,D===0&&tt(S));else r=n;return r!==n&&(He=t,r=Te()),t=r,D--,t===n&&(r=n,D===0&&tt(x)),t}function ft(){let t,r,i;return D++,t=E,lt(),r=_t(),r===n?(E=t,t=n):(e.charCodeAt(E)===37?(i=`%`,E++):(i=n,D===0&&tt(C)),i===n?(E=t,t=n):(He=t,t=Ee(r))),D--,t===n&&D===0&&tt(ee),t}function pt(){let t,r,i;return D++,t=E,lt(),r=_t(),r===n?(E=t,t=n):(e.substr(E,2)===`px`?(i=`px`,E+=2):(i=n,D===0&&tt(ne)),i===n?(E=t,t=n):(He=t,t=De(r))),t===n&&(t=E,lt(),r=_t(),r===n?(E=t,t=n):(e.substr(E,2)===`cm`?(i=`cm`,E+=2):(i=n,D===0&&tt(re)),i===n?(E=t,t=n):(He=t,t=Oe(r))),t===n&&(t=E,lt(),r=_t(),r===n?(E=t,t=n):(e.substr(E,2)===`mm`?(i=`mm`,E+=2):(i=n,D===0&&tt(ie)),i===n?(E=t,t=n):(He=t,t=ke(r))),t===n&&(t=E,lt(),r=_t(),r===n?(E=t,t=n):(e.substr(E,2)===`in`?(i=`in`,E+=2):(i=n,D===0&&tt(ae)),i===n?(E=t,t=n):(He=t,t=Ae(r))),t===n&&(t=E,lt(),r=_t(),r===n?(E=t,t=n):(e.substr(E,2)===`pt`?(i=`pt`,E+=2):(i=n,D===0&&tt(oe)),i===n?(E=t,t=n):(He=t,t=je(r))),t===n&&(t=E,lt(),r=_t(),r===n?(E=t,t=n):(e.substr(E,2)===`pc`?(i=`pc`,E+=2):(i=n,D===0&&tt(se)),i===n?(E=t,t=n):(He=t,t=Me(r)))))))),D--,t===n&&D===0&&tt(te),t}function mt(){let t,r,i;return D++,t=E,r=_t(),r===n?(E=t,t=n):(e.substr(E,3)===`deg`?(i=`deg`,E+=3):(i=n,D===0&&tt(le)),i===n?(E=t,t=n):(He=t,t=Ne(r))),t===n&&(t=E,r=_t(),r===n?(E=t,t=n):(e.substr(E,3)===`rad`?(i=`rad`,E+=3):(i=n,D===0&&tt(w)),i===n?(E=t,t=n):(He=t,t=Pe(r))),t===n&&(t=E,r=_t(),r===n?(E=t,t=n):(e.substr(E,4)===s?(i=s,E+=4):(i=n,D===0&&tt(ue)),i===n?(E=t,t=n):(He=t,t=Fe(r))),t===n&&(t=E,r=_t(),r===n?(E=t,t=n):(e.substr(E,4)===c?(i=c,E+=4):(i=n,D===0&&tt(T)),i===n?(E=t,t=n):(He=t,t=Ie(r)))))),D--,t===n&&(r=n,D===0&&tt(ce)),t}function ht(){let e,t;return D++,e=E,lt(),t=_t(),t===n?(E=e,e=n):(He=e,e=Le(t)),D--,e===n&&D===0&&tt(de),e}function gt(){let t,r,i,a;if(D++,t=E,e.charCodeAt(E)===35?(r=`#`,E++):(r=n,D===0&&tt(pe)),r!==n){if(i=[],a=e.charAt(E),d.test(a)?E++:(a=n,D===0&&tt(me)),a!==n)for(;a!==n;)i.push(a),a=e.charAt(E),d.test(a)?E++:(a=n,D===0&&tt(me));else i=n;i===n?(E=t,t=n):(He=t,t=Re())}else E=t,t=n;return t===n&&(t=E,r=ot(),r!==n&&(He=t,r=ze(r)),t=r,t===n&&(t=E,r=dt(),r!==n&&(He=t,r=Be()),t=r)),D--,t===n&&(r=n,D===0&&tt(fe)),t}function _t(){let t,r,i,a,o,s,c,l;for(t=E,r=e.charAt(E),f.test(r)?E++:(r=n,D===0&&tt(he)),r===n&&(r=null),i=E,a=[],o=e.charAt(E),p.test(o)?E++:(o=n,D===0&&tt(ge));o!==n;)a.push(o),o=e.charAt(E),p.test(o)?E++:(o=n,D===0&&tt(ge));if(e.charCodeAt(E)===46?(o=`.`,E++):(o=n,D===0&&tt(_e)),o!==n){if(s=[],c=e.charAt(E),p.test(c)?E++:(c=n,D===0&&tt(ge)),c!==n)for(;c!==n;)s.push(c),c=e.charAt(E),p.test(c)?E++:(c=n,D===0&&tt(ge));else s=n;s===n?(E=i,i=n):(a=[a,o,s],i=a)}else E=i,i=n;if(i===n)if(i=[],a=e.charAt(E),p.test(a)?E++:(a=n,D===0&&tt(ge)),a!==n)for(;a!==n;)i.push(a),a=e.charAt(E),p.test(a)?E++:(a=n,D===0&&tt(ge));else i=n;if(i!==n){if(a=E,e.charCodeAt(E)===101?(o=`e`,E++):(o=n,D===0&&tt(ve)),o!==n){if(s=e.charAt(E),f.test(s)?E++:(s=n,D===0&&tt(he)),s===n&&(s=null),c=[],l=e.charAt(E),p.test(l)?E++:(l=n,D===0&&tt(ge)),l!==n)for(;l!==n;)c.push(l),l=e.charAt(E),p.test(l)?E++:(l=n,D===0&&tt(ge));else c=n;c===n?(E=a,a=n):(o=[o,s,c],a=o)}else E=a,a=n;a===n&&(a=null),He=t,t=Ve()}else E=t,t=n;return t}function vt(e,t){return e.map(function(e){return e[t]})}function yt(e,t,n){return[e].concat(vt(t,n))}We=a();let bt=We!==n&&E===e.length;function xt(){throw We!==n&&E<e.length&&tt(Ze()),nt(Ke,Ge<e.length?Je(Ge):null,Ge<e.length?et(Ge,Ge+1):et(Ge,Ge))}return t.peg$library?{peg$result:We,peg$currPos:E,peg$FAILED:n,peg$maxFailExpected:Ke,peg$maxFailPos:Ge,peg$success:bt,peg$throw:bt?void 0:xt}:bt?We:void xt()}function B1(e){if(!e||e.length===0)return null;if(typeof e==`string`){let t=V1(e);return t&&t.length!==0?t:null}let t=e.map(e=>{if(!Number.isFinite(e.scale)||e.scale<=0)throw new M(`effect:invalid-scale`,`scale must be finite and greater than 0`,{stop:e});return{scale:e.scale,effects:V1(e.value)}});t.sort((e,t)=>t.effects.length-e.effects.length);for(let e=0;e<t.length-1;e++){if(!sde(t[e].effects,t[e+1].effects))throw new M(`effect:interpolation-impossible`,`Cannot interpolate by scale between 2 lists of mixed effects`,{a:t[e].effects,b:t[e+1].effects});cde(t[e].effects,t[e+1].effects)}return t.sort((e,t)=>t.scale-e.scale),t}function V1(e){let t;if(!e)return[];try{t=iDe(e)}catch(t){throw new M(`effect:invalid-syntax`,`Invalid effect syntax`,{value:e,error:t})}return t.map(e=>aDe(e))}function aDe(e){try{switch(e.name){case`grayscale`:case`sepia`:case`saturate`:case`invert`:case`brightness`:case`contrast`:return oDe(e);case`opacity`:return sDe(e);case`hue-rotate`:return cDe(e);case`blur`:return lDe(e);case`drop-shadow`:return uDe(e);case`bloom`:return dDe(e)}}catch(t){throw t.details.filter=e,t}throw new M(`effect:unknown-effect`,`Effect '${e.name}' is not supported`,{effect:e})}function oDe(e){let t=1;return H1(e.parameters,1),e.parameters.length===1&&(t=q1(e.parameters[0])),new kj(e.name,t)}function sDe(e){let t=1;return H1(e.parameters,1),e.parameters.length===1&&(t=q1(e.parameters[0])),new ade(t)}function cDe(e){let t=0;return H1(e.parameters,1),e.parameters.length===1&&(t=_De(e.parameters[0])),new ide(t)}function lDe(e){let t=0;return H1(e.parameters,1),e.parameters.length===1&&(t=J1(e.parameters[0]),W1(t,e.parameters[0])),new nde(t)}function uDe(e){let t=[],n=null;for(let r of e.parameters)if(r.type===`color`){if(t.length&&Object.freeze(t),n)throw new M(`effect:type-error`,`Accepts only one color`,{});n=vDe(r)}else{let e=J1(r);if(Object.isFrozen(t))throw new M(`effect:type-error`,`<length> parameters not consecutive`,{lengths:t});t.push(e),t.length===3&&W1(e,r)}if(t.length<2||t.length>3)throw new M(`effect:type-error`,`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new rde(t[0],t[1],t[2]||0,n||Y1(`black`))}function dDe(e){let t=1,n=0,r=0;return H1(e.parameters,3),e.parameters[0]&&(t=q1(e.parameters[0])),e.parameters[1]&&(n=J1(e.parameters[1]),W1(n,e.parameters[1])),e.parameters[2]&&(r=q1(e.parameters[2])),new tde(t,n,r)}function H1(e,t){if(e.length>t)throw new M(`effect:type-error`,`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function U1(e){if(e.type===`color`)return`<color>`;if(e.unit){if(e.unit in K1)return`<length>`;if(e.unit in G1)return`<angle>`;if(e.unit===`%`)return`<percentage>`}return`<double>`}function W1(e,t){if(e<0)throw new M(`effect:type-error`,`Negative values are not allowed, Actual: ${e}`,{term:t})}function fDe(e){if(e.type!==`quantity`||e.unit!==null)throw new M(`effect:type-error`,`Expected <double>, Actual: ${U1(e)}`,{term:e})}function pDe(e){if(e.type!==`quantity`||e.unit!==null&&e.unit!==`%`)throw new M(`effect:type-error`,`Expected <double> or <percentage>, Actual: ${U1(e)}`,{term:e})}var G1={deg:1,grad:.9,rad:180/Math.PI,turn:360};function mDe(e){if(e.type!==`quantity`||!(e.value===0&&e.unit===null||e.unit&&G1[e.unit]!=null))throw new M(`effect:type-error`,`Expected <angle>, Actual: ${U1(e)}`,{term:e})}var K1={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function hDe(e){if(e.type!==`quantity`||!(e.value===0&&e.unit===null||e.unit&&K1[e.unit]!=null))throw new M(`effect:type-error`,`Expected <length>, Actual: ${U1(e)}`,{term:e})}function q1(e){pDe(e);let t=e.value;return W1(t,e),e.unit===`%`?.01*t:t}function gDe(e){return fDe(e),W1(e.value,e),e.value}function _De(e){return mDe(e),e.value*G1[e.unit]||0}function J1(e){return hDe(e),e.value*K1[e.unit]||0}function vDe(e){switch(e.colorType){case`hex`:return zoe(e.value);case`named`:return Y1(e.value);case`function`:return xDe(e.value)}}function Y1(e){if(!NT(e))throw new M(`effect:unknown-color`,`color '${e}' isn't valid`,{namedColor:e});return Roe(e)}var yDe=/^rgba?/i,bDe=/^hsla?/i;function xDe(e){if(H1(e.parameters,4),yDe.test(e.name))return[q1(e.parameters[0]),q1(e.parameters[1]),q1(e.parameters[2]),e.parameters[3]?q1(e.parameters[3]):1];if(bDe.test(e.name))return IT(gDe(e.parameters[0]),q1(e.parameters[1]),q1(e.parameters[2]),e.parameters[3]?q1(e.parameters[3]):1);throw new M(`effect:syntax-error`,`Invalid color function '${e.name}'`,{colorFunction:e})}function X1(e,t,n){try{return CDe(e)}catch(e){n?.messages?.push(e)}return null}function Z1(e,t,n,r){try{let r=SDe(e);fl(n,r,t)}catch(e){r.messages&&r.messages.push(e)}}function SDe(e){let t=B1(e);return t?lde(t)?t.map(e=>e.toJSON()):t.map(({scale:e,effects:t})=>({scale:e,value:t.map(e=>e.toJSON())})):null}function CDe(e){if(!e||e.length===0)return null;if(wDe(e)){let t=[];for(let n of e)t.push({scale:n.scale,value:Q1(n.value)});return t}return Q1(e)}function wDe(e){let t=e[0];return!!t&&`scale`in t}function Q1(e){if(!e?.length)return``;let t=[];for(let n of e){let e=[];switch(n.type){case`grayscale`:case`sepia`:case`saturate`:case`invert`:case`brightness`:case`contrast`:case`opacity`:e=[$1(n,`amount`)];break;case`blur`:e=[$1(n,`radius`,`pt`)];break;case`hue-rotate`:e=[$1(n,`angle`,`deg`)];break;case`drop-shadow`:e=[$1(n,`xoffset`,`pt`),$1(n,`yoffset`,`pt`),$1(n,`blurRadius`,`pt`),TDe(n,`color`)];break;case`bloom`:e=[$1(n,`strength`),$1(n,`radius`,`pt`),$1(n,`threshold`)]}let r=`${n.type}(${e.filter(Boolean).join(` `)})`;B1(r),t.push(r)}return t.join(` `)}function $1(e,t,n){if(e[t]==null)throw new M(`effect:missing-parameter`,`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return n?e[t]+n:``+e[t]}function TDe(e,t){if(e[t]==null)throw new M(`effect:missing-parameter`,`Missing parameter '${t}' in ${e.type} effect`,{effect:e});let n=e[t];return`rgba(${n[0]||0}, ${n[1]||0}, ${n[2]||0}, ${n[3]/255||0})`}var e0={type:`average.color-burn.color-dodge.color.darken.destination-atop.destination-in.destination-out.destination-over.difference.exclusion.hard-light.hue.invert.lighten.lighter.luminosity.minus.multiply.normal.overlay.plus.reflect.saturation.screen.soft-light.source-atop.source-in.source-out.vivid-light.xor`.split(`.`),nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:{layerContainerTypes:t$}},"portal-item":{read:!0,write:{layerContainerTypes:t$}}}}},t0={read:{reader:X1},write:{allowNull:!0,writer:Z1,layerContainerTypes:t$}},n0={json:{read:!1,write:!1,origins:{"web-map":t0,"portal-item":t0}}},r0=e=>{let t=e,n=class extends t{constructor(){super(...arguments),this.blendMode=`normal`,this.effect=null}};return O([P(e0)],n.prototype,`blendMode`,void 0),O([P(n0)],n.prototype,`effect`,void 0),n=O([F(`esri.layers.mixins.BlendLayer`)],n),n},i0=e=>{let t=e,n=class extends t{constructor(){super(...arguments),this.customParameters=null}};return O([P({type:Object,json:{write:{overridePolicy:e=>({enabled:!!(e&&Object.keys(e).length>0)})}}})],n.prototype,`customParameters`,void 0),n=O([F(`esri.layers.mixins.CustomParametersMixin`)],n),n},a0=96;function EDe(e,t){let n=t||e.extent,r=e.width,i=dy(n?.spatialReference);return n&&r?n.width/r*i*Uv*a0:0}function DDe(e,t){return e/(dy(t)*Uv*a0)}function ODe(e,t,n){return kDe(e,t)&&ADe(e,n)}function kDe(e,t){return t===0||ZT(e,t)||e<t}function ADe(e,t){return t===0||ZT(e,t)||e>t}function jDe(e,t){return ZT(e,t)?0:(e||1/0)>(t||1/0)?1:-1}var o0={write:{overridePolicy:(e,t,n)=>({enabled:!n||n.filterMode===`scale`})}},s0=class extends Y(R){constructor(e){super(e),this.id=SE(),this.maxScale=0,this.minScale=0,this.title=``,this.where=null}};O([P({type:String,json:{write:!0}})],s0.prototype,`id`,void 0),O([P({type:Number,json:o0})],s0.prototype,`maxScale`,void 0),O([P({type:Number,json:o0})],s0.prototype,`minScale`,void 0),O([P({type:String,json:{write:!0}})],s0.prototype,`title`,void 0),O([P({type:String,json:{write:!0}})],s0.prototype,`where`,void 0),s0=O([F(`esri.layers.support.DisplayFilter`)],s0);function MDe(e,t){return{...t,filterMode:e.mode}}function NDe(e,t){return c0(e,t).next().value??null}function PDe(e,t,n){let r=FDe(e);if(r&&(QT(t,r[0])||$T(n,r[1])))return``;let i=Array.from(c0(e,t,n)),a=IDe(i,t,n)?`1=1`:i.map(e=>e.where||`1=1`).reduce((e,t)=>xP(e,t),``);return a&&a!==`1=1`?a:``}function FDe(e){if(l0(e)===`manual`)return null;let t=[-1/0,1/0];for(let{minScale:n,maxScale:r}of e.filters)t[0]=Math.max(t[0],u0(n)),t[1]=Math.min(t[1],d0(r));return t}function*c0(e,t,n){if(l0(e)===`manual`){let t=e.filters.find(t=>t.id===e.activeFilterId);t&&(yield t)}else{typeof t==`object`&&(t=t.scale);for(let r of e.filters)LDe(r.minScale,r.maxScale,t,n)&&(yield r)}}function IDe(e,t,n){if(e.length===0)return!0;let r=u0(e.at(0)?.minScale),i=d0(e.at(-1)?.maxScale);if($T(r,t)||QT(i,n))return!0;for(let t=0;t<e.length-1;t++){let n=e[t],r=e[t+1];if($T(u0(r.minScale),d0(n.maxScale)))return!0}return!1}function LDe(e,t,n,r){return e=u0(e),n=u0(n),t=d0(t),!(!ZT(n,e)&&(r??n)>e)&&!Xoe(t,n)&&(r===void 0||!ZT(r,e))}function l0(e){return`mode`in e?e.mode:e.filterMode}function u0(e){return e||1/0}function d0(e){return e||0}var f0=class extends Y(R){constructor(e){super(e),this.activeFilterId=null,this.filters=new(L.ofType(s0)),this.mode=`manual`}writeFilters(e,t,n,r){let i=e.toArray();this.mode===`scale`&&i.sort((e,t)=>{let n=jDe(t.minScale,e.minScale),r=e.maxScale-t.maxScale;return n===0?r:n}),t[n]=i.map(e=>e.toJSON(r))}write(e,t){return super.write(e,MDe(this,t))}};O([P({type:String,json:{write:{overridePolicy:(e,t,n)=>({enabled:n.filterMode===`manual`,isRequired:!0})}}})],f0.prototype,`activeFilterId`,void 0),O([P({type:L.ofType(s0),nonNullable:!0,json:{write:!0}})],f0.prototype,`filters`,void 0),O([z(`filters`)],f0.prototype,`writeFilters`,null),O([P({type:[`manual`,`scale`],nonNullable:!0,json:{name:`filterMode`,write:!0}})],f0.prototype,`mode`,void 0),f0=O([F(`esri.layers.support.DisplayFilterInfo`)],f0);var p0=e=>{let t=e,n=class extends t{constructor(){super(...arguments),this.displayFilterEnabled=!0,this.displayFilterInfo=null}};return O([P(m0)],n.prototype,`displayFilterEnabled`,void 0),O([P(h0)],n.prototype,`displayFilterInfo`,void 0),n=O([F(`esri.layers.mixins.DisplayFilteredLayer`)],n),n},m0={type:Boolean,json:{name:`layerDefinition.disableDisplayFilter`,read:{reader:e=>!e},write:{layerContainerTypes:t$,writer(e,t,n){fl(n,!e,t)}},origins:{"web-scene":{write:!1,read:!1}}}},h0={type:f0,json:{name:`layerDefinition.displayFilterInfo`,write:{enabled:!0,allowNull:!0,layerContainerTypes:t$},origins:{"web-scene":{write:!1,read:!1}}}},g0=cse(),_0=new Map,v0=new Map;async function RDe(e,t,n){if(!e||!n)return!1;if(!t)return!0;let r=new URL(e).host,i=_0.get(r);if(!i){let t=e.replace(/\/FeatureServer/i,`/VersionManagementServer`).replace(/\/\d*$/,``);i=(await gp(t,{responseType:`json`,query:{f:`json`}})).data.defaultVersionName}return i===t}async function y0(e,t,n=!1){if(!e||!t)return!0;let r=e.replace(/\/FeatureServer/i,`/VersionManagementServer`).replace(/\/\d*$/,``),i=v0.get(r)?.entries();if(i){for(let[e,a]of i)if(a.name===t){let t=!a.stack?.hasForwardEdits();if(!t&&n){let[{deleteForwardEdits:t},{default:n}]=await Promise.all([N(()=>import(`./deleteForwardEdits-D-ss_a5_.js`),[]),N(()=>import(`./DeleteForwardEditsParameters-ZT6kG1vq.js`),[])]),i=await t(r,e,new n({sessionId:g0,moment:a.moment}));return i.success&&a.stack?.clearForwardEdits(),i.success}return t}}return!0}function b0(e,t){if(!e)return!1;let n=e.replace(/\/FeatureServer/i,`/VersionManagementServer`).replace(/\/\d*$/,``),r=v0.get(n)?.entries();if(r){for(let[e,n]of r)if(n.name===t)return n.lockType===`edit`}return!1}var x0=new Yg;function S0(e){return x0.on(`apply-edits`,new WeakRef(e))}function C0(e){return x0.on(`update-moment`,new WeakRef(e))}function w0(e,t,n=null,r=!1){let i=yf();return r=t==null||r,x0.emit(`apply-edits`,{serviceUrl:e,layerId:t,gdbVersion:n,mayReceiveServiceEdits:r,result:i.promise}),i}var T0=Symbol();function zDe(e){return typeof e==`object`&&!!e&&T0 in e}function E0(e){return typeof e==`object`&&!!e&&`gdbVersion`in e}function D0(e,t,n){let r=new URL(e).host,i=_0.get(r),a=e=>!e||e===i;return a(t)&&a(n)||t===n}var O0=e=>{var t;let n=e,r=class extends n{static{t=T0}constructor(...e){super(...e),this[t]=!0,this._applyEditsHandler=e=>{let{serviceUrl:t,layerId:n,gdbVersion:r,mayReceiveServiceEdits:i,result:a}=e,o=t===this.url,s=n!=null&&this.layerId!=null&&n===this.layerId,c=E0(this),l=E0(this)&&D0(t,r,this.gdbVersion);if(!o||c&&!l||!s&&!i)return;let u=a.then(e=>{if(this.lastEditsEventDate=new Date,s&&(e.addedFeatures.length||e.updatedFeatures.length||e.deletedFeatures.length||e.addedAttachments.length||e.updatedAttachments.length||e.deletedAttachments.length))return this.emit(`edits`,A(e)),e;let n=e.editedFeatures?.find(({layerId:e})=>e===this.layerId);if(n){let{adds:t,updates:r,deletes:i}=n.editedFeatures,a={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:t?t.map(({attributes:e})=>({objectId:this.objectIdField&&e[this.objectIdField],globalId:this.globalIdField&&e[this.globalIdField]})):[],deletedFeatures:i?i.map(({attributes:e})=>({objectId:this.objectIdField&&e[this.objectIdField],globalId:this.globalIdField&&e[this.globalIdField]})):[],updatedFeatures:r?r.map(({current:{attributes:e}})=>({objectId:this.objectIdField&&e[this.objectIdField],globalId:this.globalIdField&&e[this.globalIdField]})):[],editedFeatures:A(e.editedFeatures),exceededTransferLimit:!1,historicMoment:A(e.historicMoment)};return this.emit(`edits`,a),a}let i={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:A(e.editedFeatures),exceededTransferLimit:!1,historicMoment:A(e.historicMoment)};return`historicMoment`in this&&this._shouldUpdateHistoricMoment(t,r,i.historicMoment)&&this.emit(`edits`,i),i}).then(e=>(`historicMoment`in this&&this._shouldUpdateHistoricMoment(t,r,e.historicMoment)&&(this.historicMoment=e.historicMoment),e));this.emit(`apply-edits`,{result:u})},this._updateMomentHandler=e=>{let{serviceUrl:t,gdbVersion:n,moment:r}=e,i=t===this.url,a=E0(this),o=E0(this)&&D0(t,n,this.gdbVersion),s=E0(this)&&!D0(t,this.gdbVersion,null);i&&a&&o&&s&&`historicMoment`in this&&this.historicMoment!==r&&(this.historicMoment=r)},this.when().then(()=>{this.addHandles(S0(this._applyEditsHandler)),`historicMoment`in this&&this.addHandles(C0(this._updateMomentHandler))},()=>{})}_shouldUpdateHistoricMoment(e,t,n){return`historicMoment`in this&&this.historicMoment!==n&&b0(e,t)}};return O([P()],r.prototype,`lastEditsEventDate`,void 0),r=O([F(`esri.layers.mixins.EditBusLayer`)],r),r},k0,A0=new P_({esriSpatialRelIntersects:`intersects`,esriSpatialRelContains:`contains`,esriSpatialRelCrosses:`crosses`,esriSpatialRelDisjoint:`disjoint`,esriSpatialRelEnvelopeIntersects:`envelope-intersects`,esriSpatialRelIndexIntersects:`index-intersects`,esriSpatialRelOverlaps:`overlaps`,esriSpatialRelTouches:`touches`,esriSpatialRelWithin:`within`,esriSpatialRelRelation:`relation`}),j0=new P_({esriSRUnit_Meter:`meters`,esriSRUnit_Kilometer:`kilometers`,esriSRUnit_Foot:`feet`,esriSRUnit_StatuteMile:`miles`,esriSRUnit_NauticalMile:`nautical-miles`,esriSRUnit_USNauticalMile:`us-nautical-miles`}),M0=k0=class extends R{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship=`intersects`,this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){let{where:t,geometry:n,spatialRelationship:r,timeExtent:i,objectIds:a,units:o,distance:s}=this;return new X({geometry:A(n),objectIds:A(a),spatialRelationship:r,timeExtent:A(i),where:t,units:o,distance:s,...e})}clone(){let{where:e,geometry:t,spatialRelationship:n,timeExtent:r,objectIds:i,units:a,distance:o}=this;return new k0({geometry:A(t),objectIds:A(i),spatialRelationship:n,timeExtent:A(r),where:e,units:a,distance:o})}};O([P({type:String,json:{write:!0}})],M0.prototype,`where`,void 0),O([P({types:Xj,json:{write:!0}})],M0.prototype,`geometry`,void 0),O([P({type:A0.apiValues,json:{name:`spatialRel`,read:{reader:A0.read},write:{allowNull:!1,writer:A0.write,overridePolicy(){return{enabled:this.geometry!=null}}}}})],M0.prototype,`spatialRelationship`,void 0),O([P({type:Number,json:{write:{overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],M0.prototype,`distance`,void 0),O([P({type:[Number],json:{write:!0}})],M0.prototype,`objectIds`,void 0),O([P({type:j0.apiValues,json:{read:j0.read,write:{writer:j0.write,overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],M0.prototype,`units`,void 0),O([P({type:oT,json:{write:!0}})],M0.prototype,`timeExtent`,void 0),M0=k0=O([F(`esri.layers.support.FeatureFilter`)],M0);var N0=M0,P0,F0={read:{reader:X1},write:{writer:Z1,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}},I0={read:{reader:X1},write:{writer:Z1,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}},L0={name:`showExcludedLabels`,default:!0},R0=P0=class extends R{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){let n=super.write(e,t);if(t?.origin){if(n.filter){let e=Object.keys(n.filter);if(e.length>1||e[0]!==`where`)return t.messages?.push(new M(`web-document-write:unsupported-feature-effect`,`Invalid feature effect 'filter'. A filter can only contain a 'where' property`,{layer:t.layer,effect:this})),null}if(`showExcludedLabels`in n)return t.messages?.push(new M(`web-document-write:unsupported-feature-effect`,`Invalid value for property 'excludedLabelsVisible' which should always be 'true'`,{layer:t.layer,effect:this})),null}return n}clone(){return new P0({filter:this.filter==null?null:this.filter.clone(),includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};O([P({type:N0,json:{write:{allowNull:!0,writer(e,t,n,r){let i=e?.write({},r);i&&Object.keys(i).length!==0?fl(n,i,t):fl(n,null,t)}}}})],R0.prototype,`filter`,void 0),O([P({json:{read:X1,write:{writer:Z1,allowNull:!0},origins:{"web-map":F0,"portal-item":F0}}})],R0.prototype,`includedEffect`,void 0),O([P({json:{read:X1,write:{writer:Z1,allowNull:!0},origins:{"web-map":I0,"portal-item":I0}}})],R0.prototype,`excludedEffect`,void 0),O([P({type:Boolean,json:{write:!0,name:`showExcludedLabels`,origins:{"web-map":L0,"portal-item":L0}}})],R0.prototype,`excludedLabelsVisible`,void 0),R0=P0=O([F(`esri.layers.support.FeatureEffect`)],R0);var z0={write:{allowNull:!0}},B0={type:R0,json:{origins:{"web-map":z0,"portal-item":z0}}},V0=e=>{let t=e,n=class extends t{constructor(){super(...arguments),this.featureEffect=null}};return O([P(B0)],n.prototype,`featureEffect`,void 0),n=O([F(`esri.layers.mixins.FeatureEffectLayer`)],n),n},H0,U0=H0=class extends R{constructor(e){super(e),this.expression=void 0,this.title=void 0}async collectRequiredFields(e,t){return WP(e,t,null,this.expression)}clone(){return new H0({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}};O([P({type:String,json:{write:{isRequired:!0}}})],U0.prototype,`expression`,void 0),O([P({type:String,json:{write:!0}})],U0.prototype,`title`,void 0),U0=H0=O([F(`esri.symbols.support.FeatureExpressionInfo`)],U0);var W0=U0,G0={unknown:1,inches:ty(1,`meters`,`inches`),feet:ty(1,`meters`,`feet`),"us-feet":ty(1,`meters`,`us-feet`),yards:ty(1,`meters`,`yards`),miles:ty(1,`meters`,`miles`),"nautical-miles":ty(1,`meters`,`nautical-miles`),millimeters:ty(1,`meters`,`millimeters`),centimeters:ty(1,`meters`,`centimeters`),decimeters:ty(1,`meters`,`decimeters`),meters:ty(1,`meters`,`meters`),kilometers:ty(1,`meters`,`kilometers`),"decimal-degrees":1/sy(1,`meters`,R_.radius)};function BDe(e){return!!e&&G0[e]!=null}function VDe(e){return 1/(G0[e]||1)}function HDe(){let e=Object.keys(G0);return jc(e,`decimal-degrees`),e.sort(),e}var UDe=HDe(),K0=I_()({onTheGround:`on-the-ground`,relativeToGround:`relative-to-ground`,relativeToScene:`relative-to-scene`,absoluteHeight:`absolute-height`}),q0=new P_({foot:`feet`,kilometer:`kilometers`,meter:`meters`,mile:`miles`,"us-foot":`us-feet`,yard:`yards`}),J0=class extends Y(R){constructor(e){super(e),this.featureExpressionInfo=void 0,this.offset=null}readFeatureExpressionInfo(e,t){return e==null?t.featureExpression&&t.featureExpression.value===0?{expression:`0`}:void 0:e.expression?e:void 0}writeFeatureExpressionInfo(e,t,n,r){t[n]=e.write({},r),e.expression===`0`&&(t.featureExpression={value:0})}get mode(){let{offset:e,featureExpressionInfo:t}=this;return this._isOverridden(`mode`)?this._get(`mode`):e!=null||t?`relative-to-ground`:`on-the-ground`}set mode(e){this._override(`mode`,e)}set unit(e){this._set(`unit`,e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&Xd(this.featureExpressionInfo,e.featureExpressionInfo)}};O([P({type:W0,json:{write:!0}})],J0.prototype,`featureExpressionInfo`,void 0),O([W(`featureExpressionInfo`,[`featureExpressionInfo`,`featureExpression`])],J0.prototype,`readFeatureExpressionInfo`,null),O([z(`featureExpressionInfo`,{featureExpressionInfo:{type:W0},"featureExpression.value":{type:[0]}})],J0.prototype,`writeFeatureExpressionInfo`,null),O([P({type:K0.apiValues,nonNullable:!0,json:{type:K0.jsonValues,read:K0.read,write:{writer:K0.write,isRequired:!0}}})],J0.prototype,`mode`,null),O([P({type:Number,json:{write:!0}})],J0.prototype,`offset`,void 0),O([P({type:UDe,json:{type:String,read:q0.read,write:q0.write}})],J0.prototype,`unit`,null),J0=O([F(`esri.symbols.support.ElevationInfo`)],J0);var Y0=class extends R{constructor(e){super(e),this.description=null,this.label=null,this.type=null}};O([P({type:String,json:{write:!0}})],Y0.prototype,`description`,void 0),O([P({type:String,json:{write:!0}})],Y0.prototype,`label`,void 0),O([P()],Y0.prototype,`type`,void 0),Y0=O([F(`esri.tables.elements.AttributeTableElement`)],Y0);var X0=Y0,Z0=class extends Y(X0){constructor(e){super(e),this.displayType=`auto`,this.type=`attachment`}clone(){return super.clone()}};O([P({type:[`auto`],json:{write:!0}})],Z0.prototype,`displayType`,void 0),O([P({type:[`attachment`],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],Z0.prototype,`type`,void 0),Z0=O([F(`esri.tables.elements.AttributeTableAttachmentElement`)],Z0);var Q0=Z0,$0=class extends Y(X0){constructor(e){super(e),this.description=null,this.fieldName=null,this.label=null,this.type=`field`}clone(){return super.clone()}};O([P({type:String,json:{read:!1,write:!1}})],$0.prototype,`description`,void 0),O([P({type:String,json:{write:{enabled:!0,isRequired:!0}}})],$0.prototype,`fieldName`,void 0),O([P({type:String,json:{read:!1,write:!1}})],$0.prototype,`label`,void 0),O([P({type:[`field`],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],$0.prototype,`type`,void 0),$0=O([F(`esri.tables.elements.AttributeTableFieldElement`)],$0);var e2=$0,t2=class extends Y(X0){constructor(e){super(e),this.relationshipId=null,this.type=`relationship`}clone(){return super.clone()}};O([P({type:Number,json:{type:dg,write:{enabled:!0,isRequired:!0}}})],t2.prototype,`relationshipId`,void 0),O([P({type:[`relationship`],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],t2.prototype,`type`,void 0),t2=O([F(`esri.tables.elements.AttributeTableRelationshipElement`)],t2);var n2=t2,r2={base:X0,key:`type`,typeMap:{attachment:Q0,field:e2,relationship:n2}};function WDe(e){return{typesWithGroup:{base:X0,key:`type`,typeMap:{attachment:Q0,field:e2,group:e,relationship:n2}},typesWithoutGroup:r2}}var i2=class extends Y(X0){constructor(e){super(e),this.elements=null,this.type=`group`}clone(){return super.clone()}};O([P({types:[r2],json:{name:`attributeTableElements`,write:!0}})],i2.prototype,`elements`,void 0),O([P({type:[`group`],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],i2.prototype,`type`,void 0),i2=O([F(`esri.tables.elements.AttributeTableGroupElement`)],i2);var GDe=i2,a2=class extends Y(R){constructor(e){super(e),this.field=null,this.order=null}};O([P({type:String,json:{write:!0}})],a2.prototype,`field`,void 0),O([P({type:[`asc`,`desc`],json:{write:!0}})],a2.prototype,`order`,void 0),a2=O([F(`esri.tables.support.FieldOrder`)],a2);var KDe=a2,o2,qDe=WDe(GDe),s2=o2=class extends R{constructor(e){super(e),this.elements=null,this.orderByFields=null}clone(){return new o2({elements:A(this.elements),orderByFields:A(this.orderByFields)})}};O([P({types:[qDe.typesWithGroup],json:{name:`attributeTableElements`,write:!0}})],s2.prototype,`elements`,void 0),O([P({type:[KDe],json:{write:!0}})],s2.prototype,`orderByFields`,void 0),s2=o2=O([F(`esri.tables.AttributeTableTemplate`)],s2);var c2=s2,l2={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:`screenSizePerspective`,write:{enabled:!0,layerContainerTypes:t$}}},u2={type:Boolean,value:!0,json:{name:`disablePopup`,read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,n){t[n]=!e}}}},d2={type:Boolean,value:!0,nonNullable:!0,json:{name:`showLabels`,write:{enabled:!0,layerContainerTypes:t$}}},f2={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:Tf}}},p2={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:`showLegend`,write:{enabled:!0,layerContainerTypes:t$}}},m2={value:null,type:J0,json:{origins:{service:{name:`elevationInfo`,write:!0}},name:`layerDefinition.elevationInfo`,write:{enabled:!0,layerContainerTypes:t$}}};function JDe(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}var h2={write:{enabled:!0,layerContainerTypes:t$},read:!0},g2={type:Number,json:{origins:{"web-document":h2,"portal-item":{write:{layerContainerTypes:t$}}}}},_2={...g2,json:{...g2.json,origins:{"web-document":{...h2,write:{enabled:!0,layerContainerTypes:t$,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:[`layerDefinition.drawingInfo.transparency`,`drawingInfo.transparency`],reader:(e,t,n)=>n&&n.origin!==`service`||!t.drawingInfo||t.drawingInfo.transparency===void 0?t.layerDefinition?.drawingInfo&&t.layerDefinition.drawingInfo.transparency!==void 0?hE(t.layerDefinition.drawingInfo.transparency):void 0:hE(t.drawingInfo.transparency)}}},YDe={type:cb,readOnly:!0,json:{origins:{service:{read:{source:[`fullExtent`,`spatialReference`],reader:(e,t)=>{let n=cb.fromJSON(e);return t.spatialReference!=null&&typeof t.spatialReference==`object`&&(n.spatialReference=U.fromJSON(t.spatialReference)),n}}}},read:!1}},v2={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},y2={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:`layerDefinition.minScale`,write:{layerContainerTypes:t$}}},b2={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:`layerDefinition.maxScale`,write:{layerContainerTypes:t$}}},x2={json:{write:{ignoreOrigin:!0,layerContainerTypes:t$},origins:{"web-map":{read:!1,write:!1}}}},S2={type:c2,json:{name:`attributeTableInfo`,write:!0}},C2=class extends Y(R){constructor(e){super(e),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};O([P()],C2.prototype,`creatorField`,void 0),O([P()],C2.prototype,`creationDateField`,void 0),O([P()],C2.prototype,`editorField`,void 0),O([P()],C2.prototype,`editDateField`,void 0),O([P()],C2.prototype,`realm`,void 0),O([P(uw(`dateFieldsTimeReference`,!0))],C2.prototype,`timeZone`,void 0),C2=O([F(`esri.layers.support.EditFieldsInfo`)],C2);var w2=class extends Y(R){constructor(e){super(e)}};O([P({constructOnly:!0,json:{write:!0}})],w2.prototype,`name`,void 0),O([P({constructOnly:!0,json:{write:!0}})],w2.prototype,`fields`,void 0),O([P({constructOnly:!0,json:{write:!0}})],w2.prototype,`isAscending`,void 0),O([P({constructOnly:!0,json:{write:!0}})],w2.prototype,`indexType`,void 0),O([P({constructOnly:!0,json:{write:!0}})],w2.prototype,`isUnique`,void 0),O([P({constructOnly:!0,json:{write:!0}})],w2.prototype,`description`,void 0),w2=O([F(`esri.layers.support.FeatureIndex`)],w2);async function T2(e,t,n){t=t.clone(),e.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=E2(e));let r=XDe(e),i=e.capabilities.query.supportsPagination;t.start=0,t.num=r;let a=null;for(;;){let o=await e.source.queryFeaturesJSON(t,n);if(a==null?a=o:a.features=a.features.concat(o.features),a.exceededTransferLimit=o.exceededTransferLimit,!i||!o.exceededTransferLimit)break;t.start+=r}return a}function XDe(e){return E2(e)*ZDe(e)}function ZDe(e){return e.capabilities.query.maxRecordCount||2e3}function E2(e){return e.capabilities.query.supportsMaxRecordCountFactor?X.MAX_MAX_RECORD_COUNT_FACTOR:1}var D2,O2=D2=class extends R{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new D2({minValue:this.minValue,maxValue:this.maxValue})}};O([P({type:Number,json:{write:!0}})],O2.prototype,`minValue`,void 0),O([P({type:Number,json:{write:!0}})],O2.prototype,`maxValue`,void 0),O2=D2=O([F(`esri.renderers.support.AuthoringInfoClassBreakInfo`)],O2);var k2,A2=k2=class extends R{constructor(e){super(e),this.field=``,this.normalizationField=``,this.label=``,this.classBreakInfos=[]}clone(){return new k2({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:A(this.classBreakInfos)})}};O([P({type:String,json:{write:!0}})],A2.prototype,`field`,void 0),O([P({type:String,json:{write:!0}})],A2.prototype,`normalizationField`,void 0),O([P({type:String,json:{write:!0}})],A2.prototype,`label`,void 0),O([P({type:[O2],json:{write:!0}})],A2.prototype,`classBreakInfos`,void 0),A2=k2=O([F(`esri.renderers.support.AuthoringInfoFieldInfo`)],A2);var j2,M2=j2=class extends R{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new j2({label:this.label,value:this.value,size:this.size})}};O([P({type:String,json:{write:!0}})],M2.prototype,`label`,void 0),O([P({type:Number,json:{write:!0}})],M2.prototype,`size`,void 0),O([P({type:Number,json:{write:!0}})],M2.prototype,`value`,void 0),M2=j2=O([F(`esri.renderers.support.AuthoringInfoSizeStop`)],M2);var QDe=M2,N2,P2=new P_({percentTotal:`percent-of-total`,ratio:`ratio`,percent:`percent`}),F2=new P_({sizeInfo:`size`,colorInfo:`color`,transparencyInfo:`opacity`,rotationInfo:`rotation`}),I2={key:e=>typeof e==`number`?`number`:`string`,typeMap:{number:Number,string:String},base:null},L2=[`high-to-low`,`above-and-below`,`centered-on`,`extremes`],R2=[...new Set([...[`high-to-low`,`above-and-below`,`centered-on`,`extremes`,`above`,`below`],...[`high-to-low`,`above-and-below`,`above`,`below`,`reference-size`,`spike`]])],z2=[`seconds`,`minutes`,`hours`,`days`,`months`,`years`],$De=[`circle`,`diamond`,`hexagon-flat`,`hexagon-pointy`,`square`],eOe=[`triangle-closed-outline`,`triangle-gradient-fill-closed`,`triangle-gradient-fill-closed-outline`,`triangle-gradient-fill-open`,`triangle-gradient-fill-open-outline`,`triangle-open-outline`,`triangle-solid-fill-closed`,`triangle-solid-fill-closed-outline`,`triangle-solid-fill-open`,`triangle-solid-fill-open-outline`],B2=N2=class extends R{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return typeof e==`string`||typeof e==`number`?e:null}get normalizationField(){return this.theme===`reference-size`||this.theme===`spike`?this._get(`normalizationField`):null}set normalizationField(e){this._set(`normalizationField`,e)}get referenceSizeScale(){return this.theme===`reference-size`?this._get(`referenceSizeScale`):null}set referenceSizeScale(e){this._set(`referenceSizeScale`,e)}get referenceSizeSymbolStyle(){return this.theme===`reference-size`?this._get(`referenceSizeSymbolStyle`):null}set referenceSizeSymbolStyle(e){this._set(`referenceSizeSymbolStyle`,e)}get spikeSymbolStyle(){return this.theme===`spike`?this._get(`spikeSymbolStyle`):null}set spikeSymbolStyle(e){this._set(`spikeSymbolStyle`,e)}castStartTime(e){return typeof e==`string`||typeof e==`number`?e:null}get sizeStops(){return this.theme===`reference-size`||this.theme===`spike`?this._get(`sizeStops`):null}set sizeStops(e){this._set(`sizeStops`,e)}get style(){return this.type===`color`?this._get(`style`):null}set style(e){this._set(`style`,e)}get theme(){return this.type===`color`||this.type===`size`?this._get(`theme`)||`high-to-low`:null}set theme(e){this._set(`theme`,e)}clone(){return new N2({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,normalizationField:this.normalizationField,referenceSizeScale:this.referenceSizeScale,referenceSizeSymbolStyle:this.referenceSizeSymbolStyle,spikeSymbolStyle:this.spikeSymbolStyle,sizeStops:A(this.sizeStops),startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};O([P({types:I2,json:{write:!0}})],B2.prototype,`endTime`,void 0),O([Sy(`endTime`)],B2.prototype,`castEndTime`,null),O([P({type:String,json:{write:!0}})],B2.prototype,`field`,void 0),O([P({type:Number,json:{write:!0}})],B2.prototype,`maxSliderValue`,void 0),O([P({type:Number,json:{write:!0}})],B2.prototype,`minSliderValue`,void 0),O([P({type:String,json:{origins:{"web-scene":{write:!1}},write:!0}})],B2.prototype,`normalizationField`,null),O([P({type:Number,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],B2.prototype,`referenceSizeScale`,null),O([P({type:$De,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],B2.prototype,`referenceSizeSymbolStyle`,null),O([P({type:eOe,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],B2.prototype,`spikeSymbolStyle`,null),O([P({types:I2,json:{write:!0}})],B2.prototype,`startTime`,void 0),O([Sy(`startTime`)],B2.prototype,`castStartTime`,null),O([P({type:[QDe],json:{origins:{"web-scene":{write:!1}},write:!0}})],B2.prototype,`sizeStops`,null),O([P({type:P2.apiValues,value:null,json:{type:P2.jsonValues,read:P2.read,write:P2.write}})],B2.prototype,`style`,null),O([P({type:R2,value:null,json:{type:R2,origins:{"web-scene":{type:L2,write:{writer:(e,t)=>{L2.includes(e)&&(t.theme=e)}}}},write:!0}})],B2.prototype,`theme`,null),O([P({type:F2.apiValues,json:{type:F2.jsonValues,read:F2.read,write:F2.write}})],B2.prototype,`type`,void 0),O([P({type:z2,json:{type:z2,write:!0}})],B2.prototype,`units`,void 0),B2=N2=O([F(`esri.renderers.support.AuthoringInfoVisualVariable`)],B2);var tOe=B2,V2=class extends R{constructor(e){super(e),this.type=null}};O([P({readOnly:!0,json:{read:!1,write:!0}})],V2.prototype,`type`,void 0),V2=O([F(`esri.rest.support.ColorRamp`)],V2);var H2,U2=H2=class extends V2{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type=`algorithmic`}clone(){return new H2({fromColor:A(this.fromColor),toColor:A(this.toColor),algorithm:this.algorithm})}};O([J({esriCIELabAlgorithm:`cie-lab`,esriHSVAlgorithm:`hsv`,esriLabLChAlgorithm:`lab-lch`})],U2.prototype,`algorithm`,void 0),O([P({type:lE,json:{type:[dg],write:{isRequired:!0}}})],U2.prototype,`fromColor`,void 0),O([P({type:lE,json:{type:[dg],write:{isRequired:!0}}})],U2.prototype,`toColor`,void 0),O([P({type:[`algorithmic`],json:{write:{isRequired:!0}}})],U2.prototype,`type`,void 0),U2=H2=O([F(`esri.rest.support.AlgorithmicColorRamp`)],U2);var W2,G2=W2=class extends V2{constructor(e){super(e),this.colorRamps=null,this.type=`multipart`,this.weights=void 0}writeColorRamps(e,t,n,r){let i=e?.map(e=>e.toJSON(r)),{weights:a}=this;if(i&&a?.length&&i.length===a?.length){let e=100/a.reduce((e,t)=>e+t),t=0;i.forEach((n,r)=>{n.start=t,t+=a[r]*e,n.stop=t})}t.colorRamps=i}readWeights(e,t){let n=t.colorRamps?.map(({start:e,stop:t})=>e==null||t==null?-1:t-e);if(!n?.some(e=>e<0))return n}clone(){return new W2({colorRamps:A(this.colorRamps)})}};O([P({type:[U2],json:{write:{isRequired:!0}}})],G2.prototype,`colorRamps`,void 0),O([z(`colorRamps`)],G2.prototype,`writeColorRamps`,null),O([P({type:[`multipart`],json:{write:{isRequired:!0}}})],G2.prototype,`type`,void 0),O([P({type:[Number]})],G2.prototype,`weights`,void 0),O([W(`weights`,[`colorRamps`])],G2.prototype,`readWeights`,null),G2=W2=O([F(`esri.rest.support.MultipartColorRamp`)],G2);var K2={key:`type`,base:V2,typeMap:{algorithmic:U2,multipart:G2}};function q2(e){return e?.type?e.type===`algorithmic`?U2.fromJSON(e):e.type===`multipart`?G2.fromJSON(e):null:null}var J2,Y2=new P_({esriClassifyDefinedInterval:`defined-interval`,esriClassifyEqualInterval:`equal-interval`,esriClassifyManual:`manual`,esriClassifyNaturalBreaks:`natural-breaks`,esriClassifyQuantile:`quantile`,esriClassifyStandardDeviation:`standard-deviation`}),X2=new P_({classedSize:`class-breaks-size`,classedColor:`class-breaks-color`,univariateColorSize:`univariate-color-size`,relationship:`relationship`,predominance:`predominance`,dotDensity:`dot-density`,flow:`flow`}),Z2=[`inches`,`feet`,`yards`,`miles`,`nautical-miles`,`millimeters`,`centimeters`,`decimeters`,`meters`,`kilometers`],nOe=[`high-to-low`,`above-and-below`,`above`,`below`],rOe=[`flow-line`,`wave-front`],iOe=[`caret`,`circle-caret`,`arrow`,`circle-arrow`,`plus-minus`,`circle-plus-minus`,`square`,`circle`,`triangle`,`happy-sad`,`thumb`,`custom`],Q2=J2=class extends R{constructor(e){super(e),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){let e=this._get(`classificationMethod`),t=this.type;return t&&t!==`relationship`?t===`class-breaks-size`||t===`class-breaks-color`?e||`manual`:null:e}set classificationMethod(e){this._set(`classificationMethod`,e)}readColorRamp(e){return e?q2(e):void 0}get fields(){return this.type&&this.type!==`predominance`?null:this._get(`fields`)}set fields(e){this._set(`fields`,e)}get field1(){return this.type&&this.type!==`relationship`?null:this._get(`field1`)}set field1(e){this._set(`field1`,e)}get field2(){return this.type&&this.type!==`relationship`?null:this._get(`field2`)}set field2(e){this._set(`field2`,e)}get flowTheme(){return this.type===`flow`?this._get(`flowTheme`):null}set flowTheme(e){this._set(`flowTheme`,e)}get focus(){return this.type&&this.type!==`relationship`?null:this._get(`focus`)}set focus(e){this._set(`focus`,e)}get numClasses(){return this.type&&this.type!==`relationship`?null:this._get(`numClasses`)}set numClasses(e){this._set(`numClasses`,e)}get statistics(){return this.type===`univariate-color-size`&&this.univariateTheme===`above-and-below`?this._get(`statistics`):null}set statistics(e){this._set(`statistics`,e)}get standardDeviationInterval(){let e=this.type;return e&&e!==`relationship`&&e!==`class-breaks-size`&&e!==`class-breaks-color`||this.classificationMethod&&this.classificationMethod!==`standard-deviation`?null:this._get(`standardDeviationInterval`)}set standardDeviationInterval(e){this._set(`standardDeviationInterval`,e)}get type(){return this._get(`type`)}set type(e){let t=e;e===`classed-size`?t=`class-breaks-size`:e===`classed-color`&&(t=`class-breaks-color`),this._set(`type`,t)}get univariateSymbolStyle(){return this.type===`univariate-color-size`&&this.univariateTheme===`above-and-below`?this._get(`univariateSymbolStyle`):null}set univariateSymbolStyle(e){this._set(`univariateSymbolStyle`,e)}get univariateTheme(){return this.type===`univariate-color-size`?this._get(`univariateTheme`):null}set univariateTheme(e){this._set(`univariateTheme`,e)}clone(){return new J2({classificationMethod:this.classificationMethod,colorRamp:A(this.colorRamp),fadeRatio:A(this.fadeRatio),fields:this.fields?.slice(),field1:A(this.field1),field2:A(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(e=>e.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};O([P({type:Y2.apiValues,value:null,json:{type:Y2.jsonValues,read:Y2.read,write:Y2.write,origins:{"web-document":{default:`manual`,type:Y2.jsonValues,read:Y2.read,write:Y2.write}}}})],Q2.prototype,`classificationMethod`,null),O([P({types:K2,json:{write:!0}})],Q2.prototype,`colorRamp`,void 0),O([W(`colorRamp`)],Q2.prototype,`readColorRamp`,null),O([P({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Q2.prototype,`fadeRatio`,void 0),O([P({type:[String],value:null,json:{write:!0}})],Q2.prototype,`fields`,null),O([P({type:A2,value:null,json:{write:!0}})],Q2.prototype,`field1`,null),O([P({type:A2,value:null,json:{write:!0}})],Q2.prototype,`field2`,null),O([P({type:rOe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Q2.prototype,`flowTheme`,null),O([P({type:[`HH`,`HL`,`LH`,`LL`],value:null,json:{write:!0}})],Q2.prototype,`focus`,null),O([P({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],Q2.prototype,`isAutoGenerated`,void 0),O([P({type:Number,value:null,json:{type:dg,write:!0}})],Q2.prototype,`numClasses`,null),O([P({type:Z2,json:{type:Z2,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],Q2.prototype,`lengthUnit`,void 0),O([P({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Q2.prototype,`maxSliderValue`,void 0),O([P({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Q2.prototype,`minSliderValue`,void 0),O([P({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Q2.prototype,`statistics`,null),O([P({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],Q2.prototype,`standardDeviationInterval`,null),O([P({type:X2.apiValues,value:null,json:{type:X2.jsonValues,read:X2.read,write:X2.write}})],Q2.prototype,`type`,null),O([P({type:[tOe],json:{write:!0}})],Q2.prototype,`visualVariables`,void 0),O([P({type:iOe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Q2.prototype,`univariateSymbolStyle`,null),O([P({type:nOe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Q2.prototype,`univariateTheme`,null),Q2=J2=O([F(`esri.renderers.support.AuthoringInfo`)],Q2);var $2=new P_({simple:`simple`,uniqueValue:`unique-value`,classBreaks:`class-breaks`,heatmap:`heatmap`,dotDensity:`dot-density`,dictionary:`dictionary`,pieChart:`pie-chart`},{ignoreUnknown:!0}),e4=class extends R{constructor(e){super(e),this.authoringInfo=null,this.type=null}async getRequiredFields(e){if(!this.collectRequiredFields)return[];let t=new Set;return await this.collectRequiredFields(t,e),Array.from(t).sort()}getSymbol(e,t){}async getSymbolAsync(e,t){}get symbols(){return[]}get arcadeRequired(){return!1}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};O([P({type:Q2,json:{write:!0}})],e4.prototype,`authoringInfo`,void 0),O([P({type:$2.apiValues,readOnly:!0,json:{type:$2.jsonValues,read:!1,write:{writer:$2.write,ignoreOrigin:!0,isRequired:!0}}})],e4.prototype,`type`,void 0),e4=O([F(`esri.renderers.Renderer`)],e4);var t4=class extends Y(R){constructor(){super(...arguments),this.showLegend=null,this.title=null}};O([P({type:Boolean,json:{write:!0}})],t4.prototype,`showLegend`,void 0),O([P({type:String,json:{write:!0}})],t4.prototype,`title`,void 0),t4=O([F(`esri.renderers.visualVariables.support.VisualVariableLegendOptions`)],t4);var n4=t4,r4=new P_({colorInfo:`color`,transparencyInfo:`opacity`,rotationInfo:`rotation`,sizeInfo:`size`}),i4=class extends R{constructor(e){super(e),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(e){return e==null?e:typeof e==`function`?(j.getLogger(this).error(`.field: field must be a string value`),null):Jh(e)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};O([P()],i4.prototype,`index`,void 0),O([P({type:r4.apiValues,readOnly:!0,json:{read:r4.read,write:{writer:r4.write,isRequired:!0}}})],i4.prototype,`type`,void 0),O([P({type:String,json:{write:!0}})],i4.prototype,`field`,void 0),O([Sy(`field`)],i4.prototype,`castField`,null),O([P({type:String,json:{write:!0}})],i4.prototype,`valueExpression`,void 0),O([P({type:String,json:{write:!0}})],i4.prototype,`valueExpressionTitle`,void 0),O([P({readOnly:!0})],i4.prototype,`arcadeRequired`,null),O([P({type:n4,json:{write:!0}})],i4.prototype,`legendOptions`,void 0),i4=O([F(`esri.renderers.visualVariables.VisualVariable`)],i4);var a4,o4=a4=class extends R{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,n){t[n]=e??0}clone(){return new a4({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};O([P({type:lE,json:{type:[dg],write:{isRequired:!0}}})],o4.prototype,`color`,void 0),O([P({type:String,json:{write:!0}})],o4.prototype,`label`,void 0),O([P({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],o4.prototype,`value`,void 0),O([z(`value`)],o4.prototype,`writeValue`,null),o4=a4=O([F(`esri.renderers.visualVariables.support.ColorStop`)],o4);var s4=o4,c4,l4=c4=class extends i4{constructor(e){super(e),this.type=`color`,this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(e=>!!e)).sort((e,t)=>e.value-t.value),this._set(`stops`,e)}clone(){return new c4({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};O([P({readOnly:!0})],l4.prototype,`cache`,null),O([P({type:[`color`],json:{type:[`colorInfo`]}})],l4.prototype,`type`,void 0),O([P({type:String,json:{write:!0}})],l4.prototype,`normalizationField`,void 0),O([P({type:[s4],json:{write:!0}})],l4.prototype,`stops`,null),l4=c4=O([F(`esri.renderers.visualVariables.ColorVariable`)],l4);var u4,d4=u4=class extends R{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return hE(t.transparency)}writeOpacity(e,t,n){t[n]=mE(e)}clone(){return new u4({label:this.label,opacity:this.opacity,value:this.value})}};O([P({type:String,json:{write:!0}})],d4.prototype,`label`,void 0),O([P({type:Number,json:{type:dg,write:{target:`transparency`,isRequired:!0}}})],d4.prototype,`opacity`,void 0),O([W(`opacity`,[`transparency`])],d4.prototype,`readOpacity`,null),O([z(`opacity`)],d4.prototype,`writeOpacity`,null),O([P({type:Number,json:{write:{isRequired:!0}}})],d4.prototype,`value`,void 0),d4=u4=O([F(`esri.renderers.visualVariables.support.OpacityStop`)],d4);var aOe=d4,f4,p4=f4=class extends i4{constructor(e){super(e),this.type=`opacity`,this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(e=>!!e)).sort((e,t)=>e.value-t.value),this._set(`stops`,e)}clone(){return new f4({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};O([P({readOnly:!0})],p4.prototype,`cache`,null),O([P({type:[`opacity`],json:{type:[`transparencyInfo`]}})],p4.prototype,`type`,void 0),O([P({type:String,json:{write:!0}})],p4.prototype,`normalizationField`,void 0),O([P({type:[aOe],json:{write:!0}})],p4.prototype,`stops`,null),p4=f4=O([F(`esri.renderers.visualVariables.OpacityVariable`)],p4);var m4,h4=m4=class extends i4{constructor(e){super(e),this.axis=null,this.type=`rotation`,this.rotationType=`geographic`}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}clone(){return new m4({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions?.clone()})}};O([P({readOnly:!0})],h4.prototype,`cache`,null),O([P({type:[`heading`,`tilt`,`roll`],json:{origins:{"web-scene":{default:`heading`,write:!0}}}})],h4.prototype,`axis`,void 0),O([P({type:[`rotation`],json:{type:[`rotationInfo`]}})],h4.prototype,`type`,void 0),O([P({type:[`geographic`,`arithmetic`],json:{write:!0,origins:{"web-document":{write:!0,default:`geographic`}}}})],h4.prototype,`rotationType`,void 0),h4=m4=O([F(`esri.renderers.visualVariables.RotationVariable`)],h4);function oOe(e){return fj(e)}var g4,_4=g4=class extends R{constructor(e){super(e),this.label=null,this.size=null,this.value=null,this.useMinValue=null,this.useMaxValue=null}clone(){return new g4({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};O([P({type:String,json:{write:!0}})],_4.prototype,`label`,void 0),O([P({type:Number,cast:fj,json:{write:{isRequired:!0}}})],_4.prototype,`size`,void 0),O([P({type:Number,json:{write:{isRequired:!0}}})],_4.prototype,`value`,void 0),O([P({type:Boolean,json:{write:!1}})],_4.prototype,`useMinValue`,void 0),O([P({type:Boolean,json:{write:!1}})],_4.prototype,`useMaxValue`,void 0),_4=g4=O([F(`esri.renderers.visualVariables.support.SizeStop`)],_4);var v4=class extends n4{constructor(){super(...arguments),this.customValues=null}};O([P({type:[Number],json:{write:!0}})],v4.prototype,`customValues`,void 0),v4=O([F(`esri.renderers.visualVariables.support.SizeVariableLegendOptions`)],v4);var y4=v4;function b4(e){return e&&e.declaredClass===`esri.renderers.visualVariables.SizeVariable`}function x4(e){return e!=null&&!isNaN(e)&&isFinite(e)}function S4(e){return e.valueExpression?`expression`:e.field&&typeof e.field==`string`?`field`:`unknown`}function sOe(e,t){let n=t||S4(e),r=e.valueUnit||`unknown`;return n===`unknown`?`constant`:e.stops?`stops`:e.minSize!=null&&e.maxSize!=null&&e.minDataValue!=null&&e.maxDataValue!=null?`clamped-linear`:r===`unknown`?e.minSize!=null&&e.minDataValue!=null?e.minSize&&e.minDataValue?`proportional`:`additive`:`identity`:`real-world-size`}var C4=()=>j.getLogger(`esri.renderers.visualVariables.support.visualVariableUtils`),w4=e=>C4().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${e}`),T4=()=>C4().error(`Use of arcade expressions requires an arcade context`),E4=new EB,D4=Math.PI,O4=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function k4(e,t,n){let r=`visualVariables`in e?e.visualVariables?.find(e=>e.type===`color`):e;if(!r)return;if(r.declaredClass!==`esri.renderers.visualVariables.ColorVariable`)return void w4(`ColorVariable`);let i=typeof t==`number`,a=i?null:t,o=a?.attributes,s=i?t:null,c=r.field,{ipData:l,hasExpression:u}=r.cache,d=r.cache.compiledFunc;if(!c&&!u){let e=r.stops;return e&&e[0]&&e[0].color}if(typeof s!=`number`)if(u){if(n?.arcade==null)return void T4();let e={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},t=n.arcade.arcadeUtils,i=t.getViewInfo(e),o=t.createExecContext(a,i,n.timeZone);if(!d){let e=t.createSyntaxTree(r.valueExpression);d=t.createFunction(e),r.cache.compiledFunc=d}s=t.executeFunction(d,o)}else o&&(s=o[c]);let f=r.normalizationField,p=o!=null&&f!=null?parseFloat(o[f]):void 0;if(s!=null&&(!f||i||!isNaN(p)&&p!==0)){x4(p)&&!i&&(s/=p);let e=I4(s,l);if(e){let t=e[0],i=e[1],a=t===i?r.stops[t].color:lE.blendColors(r.stops[t].color,r.stops[i].color,e[2],n?.color);return new lE(a)}}}function A4(e,t,n){let r=`visualVariables`in e?e.visualVariables?.find(e=>e.type===`opacity`):e;if(!r)return;if(r.declaredClass!==`esri.renderers.visualVariables.OpacityVariable`)return void w4(`OpacityVariable`);let i=typeof t==`number`,a=i?null:t,o=a?.attributes,s=i?t:null,c=r.field,{ipData:l,hasExpression:u}=r.cache,d=r.cache.compiledFunc;if(!c&&!u){let e=r.stops;return e&&e[0]&&e[0].opacity}if(typeof s!=`number`)if(u){if(n?.arcade==null)return void T4();let e={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},t=n.arcade.arcadeUtils,i=t.getViewInfo(e),o=t.createExecContext(a,i,n.timeZone);if(!d){let e=t.createSyntaxTree(r.valueExpression);d=t.createFunction(e),r.cache.compiledFunc=d}s=t.executeFunction(d,o)}else o&&(s=o[c]);let f=r.normalizationField,p=o!=null&&f!=null?parseFloat(o[f]):void 0;if(s!=null&&(!f||i||!isNaN(p)&&p!==0)){x4(p)&&!i&&(s/=p);let e=I4(s,l);if(e){let t=e[0],n=e[1];if(t===n)return r.stops[t].opacity;{let i=r.stops[t].opacity;return i+(r.stops[n].opacity-i)*e[2]}}}}function j4(e,t,n){let r=`visualVariables`in e?e.visualVariables?.find(e=>e.type===`rotation`):e;if(!r)return;if(r.declaredClass!==`esri.renderers.visualVariables.RotationVariable`)return void w4(`RotationVariable`);let i=r.axis||`heading`,a=i===`heading`&&r.rotationType===`arithmetic`?90:0,o=i===`heading`&&r.rotationType===`arithmetic`?-1:1,s=typeof t==`number`?null:t,c=s?.attributes,l=r.field,{hasExpression:u}=r.cache,d=r.cache.compiledFunc,f=null;if(!l&&!u)return f;if(u){if(n?.arcade==null)return void T4();let e={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},t=n.arcade.arcadeUtils,i=t.getViewInfo(e),a=t.createExecContext(s,i,n.timeZone);if(!d){let e=t.createSyntaxTree(r.valueExpression);d=t.createFunction(e),r.cache.compiledFunc=d}f=t.executeFunction(d,a)}else c&&(f=c[l]);return f=typeof f!=`number`||isNaN(f)?null:a+o*f,f}function cOe(e,t,n){let r=typeof t==`number`,i=r?null:t,a=i?.attributes,o=r?t:null,{isScaleDriven:s}=e.cache,c=e.cache.compiledFunc;if(s){let t=n?.scale,r=n?.view;o=t==null||r===`3d`?lOe(e):t}else if(!r)switch(e.inputValueType){case`expression`:{if(n?.arcade==null)return void T4();let t={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},r=n.arcade.arcadeUtils,a=r.getViewInfo(t),s=r.createExecContext(i,a,n.timeZone);if(!c){let t=r.createSyntaxTree(e.valueExpression);c=r.createFunction(t),e.cache.compiledFunc=c}o=r.executeFunction(c,s);break}case`field`:a&&(o=a[e.field]);break;case`unknown`:o=null}if(!x4(o))return null;if(r||!e.normalizationField)return o;let l=a?parseFloat(a[e.normalizationField]):null;return x4(l)&&l!==0?o/l:null}function lOe(e){let t=null,n=null,r=e.stops;return r?(t=r[0].value,n=r[r.length-1].value):(t=e.minDataValue||0,n=e.maxDataValue||0),(t+n)/2}function M4(e,t,n){let r=`visualVariables`in e?e.visualVariables?.find(e=>e.type===`size`):e;if(!r)return;if(r.declaredClass!==`esri.renderers.visualVariables.SizeVariable`)return void w4(`SizeVariable`);let i=F4(cOe(r,t,n),r,t,n,r.cache.ipData);return i==null||isNaN(i)?void 0:i}function N4(e,t,n){return e==null?null:b4(e)?M4(e,t,n):x4(e)?e:null}function P4(e,t,n){return x4(n)&&e>n?n:x4(t)&&e<t?t:e}function uOe(e,t,n,r){let i=N4(t.minSize,n,r)||t.minDataValue;return e==null&&i==null?null:(e??0)+(i??0)}function dOe(e,t,n){let r=e.stops,i=r?.length&&r[0].size;return i??=e.minSize,N4(i,t,n)}function fOe(e,t,n,r){let i=N4(t.minSize,n,r);if(e==null)return i;let{minDataValue:a,maxDataValue:o}=t;if(a==null||o==null)return null;let s=(e-a)/(o-a),c=N4(t.maxSize,n,r),l=r?.shape;if(e<=a)return i;if(e>=o)return c;if(i==null||c==null)return null;if(t.scaleBy===`area`&&l){let e=l===`circle`,t=e?D4*(i/2)**2:i*i,n=t+s*((e?D4*(c/2)**2:c*c)-t);return e?2*Math.sqrt(n/D4):Math.sqrt(n)}return i+s*(c-i)}function pOe(e,t,n,r){let i=N4(t.minSize,n,r);if(e==null||i==null)return i;let a=r?.shape,{minDataValue:o}=t;if(o==null)return null;let s=e/o,c=N4(t.maxSize,n,r),l=null;return l=a===`circle`?2*Math.sqrt(s*(i/2)**2):a===`square`||a===`diamond`||a===`image`?Math.sqrt(s*i**2):s*i,P4(l,i,c)}function mOe(e,t,n,r,i){if(e==null)return null;let[a,o,s]=I4(e,i);if(a===o)return N4(t.stops?.[a].size,n,r);{let e=N4(t.stops?.[a].size,n,r),i=N4(t.stops?.[o].size,n,r);return e==null||i==null?null:e+(i-e)*s}}function hOe(e,t,n,r){let i=(r?.resolution??1)*G0[t.valueUnit],a=N4(t.minSize,n,r),o=N4(t.maxSize,n,r),{valueRepresentation:s}=t;if(e==null)return a;let c=null;return c=s===`area`?2*Math.sqrt(e/D4)/i:s===`radius`||s===`distance`?2*e/i:e/i,P4(c,a,o)}function gOe(e){return e}function F4(e,t,n,r,i){switch(t.transformationType){case`additive`:return uOe(e,t,n,r);case`constant`:return dOe(t,n,r);case`clamped-linear`:return fOe(e,t,n,r);case`proportional`:return pOe(e,t,n,r);case`stops`:return mOe(e,t,n,r,i);case`real-world-size`:return hOe(e,t,n,r);case`identity`:return gOe(e);case`unknown`:return null}}function _Oe(e,t,n){let{isScaleDriven:r}=e.cache;if(!(r&&n===`3d`||t))return null;let i={scale:t,view:n},a=N4(e.minSize,E4,i),o=N4(e.maxSize,E4,i);if(a!=null||o!=null){if(a>o){let e=o;o=a,a=e}return{minSize:a,maxSize:o}}}function vOe(e,t,n){if(!e.visualVariables)return;let r=[],i=[],a=[],o=[],s=[];for(let t of e.visualVariables)switch(t.type){case`color`:i.push(t);break;case`opacity`:a.push(t);break;case`rotation`:s.push(t);break;case`size`:o.push(t)}return i.forEach(e=>{let i=k4(e,t,n);r.push({variable:e,value:i})}),a.forEach(e=>{let i=A4(e,t,n);r.push({variable:e,value:i})}),s.forEach(e=>{let i=j4(e,t,n);r.push({variable:e,value:i})}),o.forEach(e=>{let i=M4(e,t,n);r.push({variable:e,value:i})}),r}function I4(e,t){if(!t)return;let n=0,r=t.length-1;return t.some((t,i)=>e<t?(r=i,!0):(n=i,!1)),[n,r,(e-t[n])/(t[r]-t[n])]}function yOe(e,t,n){let r=[`proportional`,`proportional`,`proportional`];for(let i of e){let e=i.useSymbolValue?`symbol-value`:M4(i,t,n)??`proportional`;switch(i.axis){case`width`:r[0]=e;break;case`depth`:r[1]=e;break;case`height`:r[2]=e;break;case`width-and-depth`:r[0]=e,r[1]=e;break;case`all`:case void 0:case null:r[0]=e,r[1]=e,r[2]=e;break;default:i.axis}}return r}var L4,R4=new P_({width:`width`,depth:`depth`,height:`height`,widthAndDepth:`width-and-depth`,all:`all`}),z4=new P_({unknown:`unknown`,inch:`inches`,foot:`feet`,yard:`yards`,mile:`miles`,"nautical-mile":`nautical-miles`,millimeter:`millimeters`,centimeter:`centimeters`,decimeter:`decimeters`,meter:`meters`,kilometer:`kilometers`});function B4(e){if(e!=null)return typeof e==`string`||typeof e==`number`?oOe(e):e.type===`size`?b4(e)?e:(delete(e={...e}).type,new H4(e)):void 0}function V4(e,t,n){if(typeof e!=`object`)return e;let r=new H4;return r.read(e,n),r}var H4=L4=class extends i4{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type=`size`,this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:this.valueExpression!=null&&O4.test(this.valueExpression)}}set index(e){b4(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),b4(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set(`index`,e)}get inputValueType(){return S4(this)}set maxDataValue(e){e&&this.stops&&(j.getLogger(this).warn(`cannot set maxDataValue when stops is not null.`),e=null),this._set(`maxDataValue`,e)}set maxSize(e){e&&this.stops&&(j.getLogger(this).warn(`cannot set maxSize when stops is not null.`),e=null),this._set(`maxSize`,e)}castMaxSize(e){return B4(e)}readMaxSize(e,t,n){return V4(e,t,n)}set minDataValue(e){e&&this.stops&&(j.getLogger(this).warn(`cannot set minDataValue when stops is not null.`),e=null),this._set(`minDataValue`,e)}set minSize(e){e&&this.stops&&(j.getLogger(this).warn(`cannot set minSize when stops is not null.`),e=null),this._set(`minSize`,e)}castMinSize(e){return B4(e)}readMinSize(e,t,n){return V4(e,t,n)}get arcadeRequired(){return!!this.valueExpression||this.minSize!=null&&typeof this.minSize==`object`&&this.minSize.arcadeRequired||this.maxSize!=null&&typeof this.maxSize==`object`&&this.maxSize.arcadeRequired}set stops(e){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?e&&Array.isArray(e)&&(e=e.filter(e=>!!e)).sort((e,t)=>e.value-t.value):e&&=(j.getLogger(this).warn(`cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null.`),null),this._set(`stops`,e)}get transformationType(){return sOe(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&`$view.scale`}writeValueExpressionWebScene(e,t,n,r){if(e===`$view.scale`){if(r?.messages){let e=this.index,t=typeof e==`string`?e:`visualVariables[${e}]`;r.messages.push(new M(`property:unsupported`,this.type+`VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.`,{instance:this,propertyName:t+`.valueExpression`,context:r}))}}else t[n]=e}readValueUnit(e){return e?z4.read(e):null}clone(){return new L4({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:b4(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:b4(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops?.map(e=>e.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions?.clone()})}flipSizes(){if(this.transformationType===`clamped-linear`){let{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===`stops`){let e=this.stops;if(!e)return this;let t=e.map(e=>e.size).reverse(),n=e.length;for(let r=0;r<n;r++)e[r].size=t[r];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops?.map(e=>e.value||0)}};O([P({readOnly:!0})],H4.prototype,`cache`,null),O([P({type:R4.apiValues,json:{type:R4.jsonValues,origins:{"web-map":{read:!1}},read:R4.read,write:R4.write}})],H4.prototype,`axis`,void 0),O([P()],H4.prototype,`index`,null),O([P({type:String,readOnly:!0})],H4.prototype,`inputValueType`,null),O([P({type:y4,json:{write:!0}})],H4.prototype,`legendOptions`,void 0),O([P({type:Number,value:null,json:{write:!0}})],H4.prototype,`maxDataValue`,null),O([P({type:Number,value:null,json:{write:!0}})],H4.prototype,`maxSize`,null),O([Sy(`maxSize`)],H4.prototype,`castMaxSize`,null),O([W(`maxSize`)],H4.prototype,`readMaxSize`,null),O([P({type:Number,value:null,json:{write:!0}})],H4.prototype,`minDataValue`,null),O([P({type:Number,value:null,json:{write:!0}})],H4.prototype,`minSize`,null),O([Sy(`minSize`)],H4.prototype,`castMinSize`,null),O([W(`minSize`)],H4.prototype,`readMinSize`,null),O([P({type:String,json:{write:!0}})],H4.prototype,`normalizationField`,void 0),O([P({readOnly:!0})],H4.prototype,`arcadeRequired`,null),O([P({type:String})],H4.prototype,`scaleBy`,void 0),O([P({type:[_4],value:null,json:{write:!0}})],H4.prototype,`stops`,null),O([P({type:[`outline`],json:{write:!0}})],H4.prototype,`target`,void 0),O([P({type:String,readOnly:!0})],H4.prototype,`transformationType`,null),O([P({type:[`size`],json:{type:[`sizeInfo`]}})],H4.prototype,`type`,void 0),O([P({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],H4.prototype,`useSymbolValue`,void 0),O([P({type:String,json:{write:!0}})],H4.prototype,`valueExpression`,void 0),O([W(`valueExpression`,[`valueExpression`,`expression`])],H4.prototype,`readValueExpression`,null),O([z(`web-scene`,`valueExpression`)],H4.prototype,`writeValueExpressionWebScene`,null),O([P({type:[`radius`,`diameter`,`area`,`width`,`distance`],json:{write:!0}})],H4.prototype,`valueRepresentation`,void 0),O([P({type:z4.apiValues,json:{write:z4.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],H4.prototype,`valueUnit`,void 0),O([W(`valueUnit`)],H4.prototype,`readValueUnit`,null),H4=L4=O([F(`esri.renderers.visualVariables.SizeVariable`)],H4);var bOe={color:l4,size:H4,opacity:p4,rotation:h4},xOe=new P_({colorInfo:`color`,transparencyInfo:`opacity`,rotationInfo:`rotation`,sizeInfo:`size`}),SOe=/^\[([^\]]+)\]$/i,U4=class extends I{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(e){if(this._resetVariables(),e=e?.filter(e=>!!e),e?.length){for(let t of e)switch(t.type){case`color`:this.colorVariables.push(t);break;case`opacity`:this.opacityVariables.push(t);break;case`rotation`:this.rotationVariables.push(t);break;case`size`:this.sizeVariables.push(t)}this.sizeVariables.length&&this.sizeVariables.some(e=>!!e.target)&&e.sort((e,t)=>{let n=null;return n=e.target===t.target?0:e.target?1:-1,n});for(let t=0;t<e.length;t++)e[t].index=t;this._set(`visualVariables`,e)}else this._set(`visualVariables`,e)}readVariables(e,t,n){let{rotationExpression:r,rotationType:i}=t,a=r?.match(SOe)?.[1];if(a&&(e||=[],e.push({type:`rotationInfo`,rotationType:i,field:a})),e)return e.map(e=>{let t=xOe.read(e.type),r=bOe[t];r||(j.getLogger(this).warn(`Unknown variable type: ${t}`),n?.messages&&n.messages.push(new gg(`visual-variable:unsupported`,`visualVariable of type '${t}' is not supported`,{definition:e,context:n})));let i=new r;return i.read(e,n),i})}writeVariables(e,t){let n=[];for(let r of e){let e=r.toJSON(t);e&&n.push(e)}return n}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};O([P()],U4.prototype,`visualVariables`,null),U4=O([F(`esri.renderers.visualVariables.VisualVariableFactory`)],U4);var COe={base:i4,key:`type`,typeMap:{opacity:p4,color:l4,rotation:h4,size:H4}},W4=e=>{let t=e,n=class extends t{constructor(){super(...arguments),this._vvFactory=new U4}set visualVariables(e){this._vvFactory.visualVariables=e,this._set(`visualVariables`,this._vvFactory.visualVariables)}readVisualVariables(e,t,n){return this._vvFactory.readVariables(e,t,n)}writeVisualVariables(e,t,n,r){t[n]=this._vvFactory.writeVariables(e,r)}get arcadeRequiredForVisualVariables(){return this.visualVariables?.some(({arcadeRequired:e})=>e)??!1}hasVisualVariables(e,t){return e?this.getVisualVariablesForType(e,t).length>0:this.getVisualVariablesForType(`size`,t).length>0||this.getVisualVariablesForType(`color`,t).length>0||this.getVisualVariablesForType(`opacity`,t).length>0||this.getVisualVariablesForType(`rotation`,t).length>0}getVisualVariablesForType(e,t){return this.visualVariables?.filter(n=>n.type===e&&(typeof t==`string`?n.target===t:!1!==t||!n.target))??[]}async collectVVRequiredFields(e,t){let n=[];this.visualVariables&&(n=n.concat(this.visualVariables));for(let r of n)r&&(r.field&&UP(e,t,r.field),r.normalizationField&&UP(e,t,r.normalizationField),r.valueExpression&&(wOe(r.valueExpression,e,t)||await WP(e,t,null,r.valueExpression)))}};return O([P({types:[COe],value:null,json:{write:!0}})],n.prototype,`visualVariables`,null),O([W(`visualVariables`,[`visualVariables`,`rotationType`,`rotationExpression`])],n.prototype,`readVisualVariables`,null),O([z(`visualVariables`)],n.prototype,`writeVisualVariables`,null),n=O([F(`esri.renderers.mixins.VisualVariablesMixin`)],n),n};function wOe(e,t,n){let r=ame(e);return r!=null&&(UP(t,n,r),!0)}var G4=[252,146,31,255],TOe=[153,153,153,255],K4={type:`esriSMS`,style:`esriSMSCircle`,size:6,color:G4,outline:{type:`esriSLS`,style:`esriSLSSolid`,width:.75,color:[153,153,153,255]}},q4={type:`esriSLS`,style:`esriSLSSolid`,width:.75,color:G4},J4={type:`esriSFS`,style:`esriSFSSolid`,color:[252,146,31,196],outline:{type:`esriSLS`,style:`esriSLSSolid`,width:.75,color:[255,255,255,191]}},EOe={type:`esriTS`,color:[255,255,255,255],font:{family:`arial-unicode-ms`,size:10,weight:`bold`},horizontalAlignment:`center`,kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:``,xoffset:0,yoffset:0,angle:0},DOe={type:`esriSMS`,style:`esriSMSCircle`,color:[0,0,0,255],outline:null,size:10.5},OOe={type:`esriSLS`,style:`esriSLSSolid`,color:[0,0,0,255],width:1.5},kOe={type:`esriSFS`,style:`esriSFSSolid`,color:[0,0,0,255],outline:null},Y4=hB.fromJSON(K4),X4=Jz.fromJSON(q4),Z4=fB.fromJSON(J4),AOe=_B.fromJSON(EOe);function jOe(e){if(e==null)return null;switch(e.type){case`mesh`:return null;case`point`:case`multipoint`:return Y4;case`polyline`:return X4;case`polygon`:case`extent`:return Z4}return null}var MOe=hB.fromJSON(DOe),NOe=Jz.fromJSON(OOe),POe=fB.fromJSON(kOe),FOe=oB.fromSimpleMarkerSymbol(Y4),IOe=zz.fromSimpleLineSymbol(X4),LOe=lB.fromSimpleFillSymbol(Z4),ROe=new Hz({symbolLayers:new L([new NR({material:{color:G4},edges:new qL({size:dj(1),color:new lE(TOe)})})])}),zOe=new zz({symbolLayers:new L([new YR({material:{color:new lE([0,0,0])},size:dj(1)})])}),BOe=new lB({symbolLayers:new L([new NR({outline:{color:new lE([0,0,0]),size:dj(1)}})])});function VOe(e){if(e==null)return null;switch(e.type){case`mesh`:return ROe;case`point`:case`multipoint`:return FOe;case`polyline`:return IOe;case`polygon`:case`extent`:return LOe}return null}var Q4=`#useCIMFallbackSymbology()`,$4={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function e3(e,t=$4){if(!e)return{symbol:null};let{retainId:n=$4.retainId,ignoreDrivers:r=$4.ignoreDrivers,hasLabelingContext:i=$4.hasLabelingContext,retainCIM:a=$4.retainCIM,cimFallbackEnabled:o=$4.cimFallbackEnabled}=t,s=null;if(bB(e))s=e.clone();else if(e.type===`web-style`)s=e.clone();else if(e.type===`cim`){let n=e.data?.symbol?.type;switch(n){case`CIMPointSymbol`:s=a?e.clone():oB.fromCIMSymbol(e);break;case`CIMLineSymbol`:o&&(s=zOe.clone(),t?.logWarning?.(Q4,`Unsupported CIM line symbology converted to fallback 3D line symbology`));break;case`CIMPolygonSymbol`:o&&(s=BOe.clone(),t?.logWarning?.(Q4,`Unsupported CIM polygon symbology converted to fallback 3D polygon symbology`))}if(!s)return{error:new M(`symbol-conversion:unsupported-cim-symbol`,`CIM symbol of type '${n||`unknown`}' is unsupported in 3D`,{symbol:e})}}else if(e instanceof Jz)s=zz.fromSimpleLineSymbol(e);else if(e instanceof hB)s=oB.fromSimpleMarkerSymbol(e);else if(e instanceof rB)s=oB.fromPictureMarkerSymbol(e);else if(e instanceof fB)s=t.geometryType&&t.geometryType===`mesh`?Hz.fromSimpleFillSymbol(e):lB.fromSimpleFillSymbol(e);else{if(!(e instanceof _B))return{error:new M(`symbol-conversion:unsupported-2d-symbol`,`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};s=i?Iz.fromTextSymbol(e):oB.fromTextSymbol(e)}return n&&s&&s.type!==`cim`&&(s.id=e.id),!r||s.type===`cim`||s instanceof yB||s.symbolLayers.forEach(e=>e.ignoreDrivers=!0),{symbol:s}}function t3(e,t,n,r){let i=i3(e,{},{context:r,isLabelSymbol:!1});i!=null&&fl(n,i,t)}function n3(e,t,n,r){let i=i3(e,{},{context:r,isLabelSymbol:!0});i!=null&&(t[n]=i)}function r3(e){return bB(e)||e instanceof yB}function HOe(e){return e?.type===`polygon-3d`||e?.type===`line-3d`}function i3(e,t,n){if(e==null)return null;let{context:r,isLabelSymbol:i}=n,a=r?.origin,o=r?.messages;if(a===`web-scene`&&!r3(e)){let n=e3(e,{retainCIM:!0,hasLabelingContext:i});return n.symbol==null?(o?.push(new M(`symbol:unsupported`,`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:r,error:n.error})),null):n.symbol.write(t,r)}return hT(r?.layer)&&HOe(e)?(o?.push(new M(`symbol:unsupported`,`Symbols of type '${e.declaredClass}' are not supported on layers of type '${r?.layer?.declaredClass}'.`,{symbol:e,context:r})),null):(a===`web-map`||a===`portal-item`&&!hT(r?.layer))&&r3(e)?(o?.push(new M(`symbol:unsupported`,`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:r})),null):e.write(t,r)}function UOe(e,t){return Nge(e,null,t)}var a3={types:SB,json:{write:{writer:t3},origins:{"web-scene":{types:CB,write:{writer:t3},read:{reader:Sg({types:CB})}}}}},o3=ul({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},a3),s3={types:{base:FL,key:`type`,typeMap:{"simple-fill":xB.typeMap[`simple-fill`],"picture-fill":xB.typeMap[`picture-fill`],"polygon-3d":xB.typeMap[`polygon-3d`],cim:xB.typeMap.cim}},json:{write:{writer:t3},origins:{"web-scene":{type:lB,write:{writer:t3}}}}},c3={cast:e=>e==null||typeof e==`string`||typeof e==`number`?e:`${e}`,json:{type:String,write:{writer:(e,t)=>{t.value=e?.toString()}}}},l3,u3=l3=class extends W4(e4){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type=`simple`}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.symbols.map(n=>n.collectRequiredFields(e,t)))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}get symbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables?.reduce((e,t)=>e+t.getAttributeHash(),``)??``}getMeshHash(){return this.symbols.reduce((e,t)=>e+JSON.stringify(t),``)}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new l3({description:this.description,label:this.label,symbol:A(this.symbol),visualVariables:A(this.visualVariables),authoringInfo:A(this.authoringInfo)})}};O([P({type:String,json:{write:!0}})],u3.prototype,`description`,void 0),O([P({type:String,json:{write:!0}})],u3.prototype,`label`,void 0),O([P(o3)],u3.prototype,`symbol`,void 0),O([J({simple:`simple`})],u3.prototype,`type`,void 0),u3=l3=O([F(`esri.renderers.SimpleRenderer`)],u3);var WOe=new Set([`esri.Color`,`esri.portal.Portal`,`esri.symbols.support.Symbol3DAnchorPosition2D`,`esri.symbols.support.Symbol3DAnchorPosition3D`]);function d3(e){return e instanceof I}function f3(e){return e instanceof L?Object.keys(e.items):d3(e)?pm(e).keys():e?Object.keys(e):[]}function p3(e,t){return e instanceof L?e.items[t]:e[t]}function GOe(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function m3(e){return e?e.declaredClass:null}function h3(e,t){let n=e.diff;if(n&&typeof n==`function`)return n(e,t);let r=f3(e),i=f3(t);if(r.length===0&&i.length===0)return;if(!r.length||!i.length||GOe(e,t))return{type:`complete`,oldValue:e,newValue:t};let a=i.filter(e=>!r.includes(e)),o=r.filter(e=>!i.includes(e)),s=r.filter(n=>i.includes(n)&&p3(e,n)!==p3(t,n)).concat(a,o).sort(),c=m3(e);if(c&&WOe.has(c)&&s.length)return{type:`complete`,oldValue:e,newValue:t};let l,u=d3(e)&&d3(t);for(let r of s){let i=p3(e,r),a=p3(t,r),o;if((u||typeof i!=`function`&&typeof a!=`function`)&&i!==a&&(i!=null||a!=null)){if(n&&n[r]&&typeof n[r]==`function`)o=n[r]?.(i,a);else if(i instanceof Date&&a instanceof Date){if(i.getTime()===a.getTime())continue;o={type:`complete`,oldValue:i,newValue:a}}else o=typeof i==`object`&&typeof a==`object`&&m3(i)===m3(a)?h3(i,a):{type:`complete`,oldValue:i,newValue:a};o!=null&&(l==null?l={type:`partial`,diff:{[r]:o}}:l.diff[r]=o)}}return l}function KOe(e,t){if(e==null)return!1;let n=t.split(`.`),r=e;for(let e of n){if(r.type===`complete`)return!0;if(r.type!==`partial`)return!1;{let t=r.diff[e];if(!t)return!1;r=t}}return!0}function g3(e,t){if(typeof e!=`function`&&typeof t!=`function`&&(e!=null||t!=null))return e==null||t==null||typeof e==`object`&&typeof t==`object`&&m3(e)!==m3(t)?{type:`complete`,oldValue:e,newValue:t}:h3(e,t)}function _3(e){if(e==null)return!0;switch(e.type){case`complete`:return!1;case`collection`:{let t=e;for(let e of t.added)if(!_3(e))return!1;for(let e of t.removed)if(!_3(e))return!1;for(let e of t.changed)if(!_3(e))return!1;return!0}case`partial`:for(let t in e.diff)if(!_3(e.diff[t]))return!1;return!0}}var v3,qOe=I_()({ascendingValues:`ascending-values`,descendingValues:`descending-values`}),y3=v3=class extends Y(R){static from(e){return rg(v3,e)}constructor(e){super(e),this.title=null,this.order=null}};O([P({type:String,json:{write:!0}})],y3.prototype,`title`,void 0),O([J(qOe)],y3.prototype,`order`,void 0),y3=v3=O([F(`esri.renderers.support.RendererLegendOptions`)],y3);var b3=y3,x3=class extends Y(R){constructor(e){super(e),this.value=null,this.value2=null,this.value3=null}};O([P(c3)],x3.prototype,`value`,void 0),O([P(c3)],x3.prototype,`value2`,void 0),O([P(c3)],x3.prototype,`value3`,void 0),x3=O([F(`esri.renderers.support.UniqueValue`)],x3);var S3=class extends Y(R){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(e){if(e==null)return null;let t=typeof(e=Array.isArray(e)?e:[e])[0];return t===`string`||t===`number`?e.map(e=>new x3({value:e})):t===`object`?e[0]instanceof x3?e:e.map(e=>new x3(e)):null}};O([P({type:String,json:{write:!0}})],S3.prototype,`description`,void 0),O([P({type:String,json:{write:!0}})],S3.prototype,`label`,void 0),O([P(a3)],S3.prototype,`symbol`,void 0),O([P({type:[x3],json:{type:[[String]],read:{reader:e=>e?e.map(e=>new x3({value:e[0],value2:e[1],value3:e[2]})):null},write:{writer:(e,t)=>{let n=[];for(let t of e){let e=[t.value,t.value2,t.value3].filter(Mc).map(e=>e.toString());n.push(e)}t.values=n}}}})],S3.prototype,`values`,void 0),O([Sy(`values`)],S3.prototype,`castValues`,null),S3=O([F(`esri.renderers.support.UniqueValueClass`)],S3);var C3=class extends Y(R){constructor(e){super(e),this.heading=null,this.classes=null}};O([P({type:String,json:{write:!0}})],C3.prototype,`heading`,void 0),O([P({type:[S3],json:{write:{isRequired:!0}}})],C3.prototype,`classes`,void 0),C3=O([F(`esri.renderers.support.UniqueValueGroup`)],C3);var w3,T3=w3=class extends R{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new w3({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){let e=JSON.stringify(this.symbol?.toJSON());return`${this.value}.${e}`}};O([P({type:String,json:{write:!0}})],T3.prototype,`description`,void 0),O([P({type:String,json:{write:!0}})],T3.prototype,`label`,void 0),O([P(o3)],T3.prototype,`symbol`,void 0),O([P(c3)],T3.prototype,`value`,void 0),T3=w3=O([F(`esri.renderers.support.UniqueValueInfo`)],T3);var E3=new Map;async function JOe(e,t){try{return{data:(await k3(e,t)).data,baseUrl:qu(e),styleUrl:e}}catch(e){return nf(e),null}}function YOe(e,t,n){let r=t.portal==null?G.getDefault():t.portal,i,a=`${r.url} - ${r.user?.username} - ${e}`,o=E3.get(a);if(o)return o;let s=XOe(e,r,n).then(e=>(i=e,e.fetchData())).then(t=>({data:t,baseUrl:i.itemUrl??``,styleName:e}));return E3.set(a,s),s}function XOe(e,t,n){return t.load(n).then(()=>{let r=new xb({disableExtraQuery:!0,query:`owner:${A3} AND type:${j3} AND typekeywords:"${e}"`});return t.queryItems(r,n)}).then(({results:t})=>{let r=null,i=e.toLowerCase();if(t&&Array.isArray(t)){for(let e of t)if(e.typeKeywords?.some(e=>e.toLowerCase()===i)&&e.type===j3&&e.owner===A3){r=e;break}}if(!r)throw new M(`symbolstyleutils:style-not-found`,`The style '${e}' could not be found`,{styleName:e});return r.load(n)})}function D3(e,t,n){return e?.styleUrl==null?e?.styleName==null?Promise.reject(new M(`symbolstyleutils:style-url-and-name-missing`,`Either styleUrl or styleName is required to resolve a style`)):YOe(e.styleName,t,n):JOe(e.styleUrl,n)}function ZOe(e){return e===null||e.type===`CIMSymbolReference`?e:{type:`CIMSymbolReference`,symbol:e}}function QOe(e,t){for(let n of t)switch(n){case`cim`:if(e.cimRef)return{format:n,url:encodeURI(e.cimRef)};break;case`web-gltf-basisu`:{let t=O3(e,`gltf_basisu`);if(t)return{format:n,url:t};break}case`web-gltf`:{let t=O3(e,`gltf`);if(t)return{format:n,url:t};break}case`web`:{let t=O3(e,`gltf`);if(t)return{format:`web-gltf`,url:t};if(e.webRef)return{format:n,url:encodeURI(e.webRef)};break}}}function O3(e,t){if(!k(`enable-feature:force-wosr`))return e.formatInfos?.find(e=>e.type===t)?.href}function k3(e,t){let n={responseType:`json`,query:{f:`json`},...t};return gp(wu(e),n)}var A3=`esri_en`,j3=`Style`,$Oe=`https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json`,M3,N3=`uvInfos-watcher`,P3=`uvGroups-watcher`,eke=`,`,tke=ag(T3);function nke(e){let{field1:t,field2:n,field3:r,fieldDelimiter:i,uniqueValueInfos:a,valueExpression:o}=e,s=!(!t||!n);return[{classes:(a??[]).map(e=>{let{symbol:a,label:c,value:l,description:u}=e,[d,f,p]=s?l?.toString()?.split(i||``)||[]:[l],m=[];return(t||o)&&m.push(d),n&&m.push(f),r&&m.push(p),{symbol:a,label:c,values:[m],description:u}})}]}function F3(e){return e!=null&&e!==``&&(typeof e!=`string`||e.trim()!==``&&e.toLowerCase()!==`<null>`)||(e=null),e+``}var I3=M3=class extends W4(e4){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type=`unique-value`,this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(e,t){if(!e&&!t)return;if(!e||!t)return{type:`complete`,oldValue:e,newValue:t};let n=!1,r={type:`collection`,added:[],removed:[],changed:[],unchanged:[]};for(let i=0;i<t.length;i++){let a=e.find(e=>e.value===t[i].value);a?g3(a,t[i])?(r.changed.push({type:`complete`,oldValue:a,newValue:t[i]}),n=!0):r.unchanged.push({oldValue:a,newValue:t[i]}):(r.added.push(t[i]),n=!0)}for(let i=0;i<e.length;i++)t.find(t=>t.value===e[i].value)||(r.removed.push(e[i]),n=!0);return n?r:void 0}},this._set(`uniqueValueInfos`,[]),this._set(`uniqueValueGroups`,[])}get _cache(){return{compiledFunc:null}}set field(e){this._set(`field`,e),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(e){return e==null||typeof e==`function`?e:Jh(e)}writeField(e,t,n,r){typeof e==`string`?t[n]=e:r?.messages?r.messages.push(new M(`property:unsupported`,`UniqueValueRenderer.field set to a function cannot be written to JSON`)):j.getLogger(this).error(`.field: cannot write field to JSON since it's not a string value`)}set field2(e){this._set(`field2`,e),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(e){this._set(`field3`,e),this._updateUniqueValues()}set valueExpression(e){this._set(`valueExpression`,e),this._updateUniqueValues()}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set(`defaultSymbol`,e)}set fieldDelimiter(e){this._set(`fieldDelimiter`,e),this._updateUniqueValues()}readPortal(e,t,n){return n.portal||G.getDefault()}readStyleOrigin(e,t,n){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){let e=Sf(t.styleUrl,n);return Object.freeze({styleUrl:e})}}writeStyleOrigin(e,t,n,r){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=Cf(e.styleUrl,r))}set uniqueValueGroups(e){this.styleOrigin?j.getLogger(this).error(`#uniqueValueGroups=`,`Cannot modify unique value groups of a UniqueValueRenderer created from a web style`):(this._set(`uniqueValueGroups`,e),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(e){this.styleOrigin?j.getLogger(this).error(`#uniqueValueInfos=`,`Cannot modify unique value infos of a UniqueValueRenderer created from a web style`):(this._set(`uniqueValueInfos`,e),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(e,t){if(this.styleOrigin)return void j.getLogger(this).error(`#addUniqueValueInfo()`,`Cannot modify unique value infos of a UniqueValueRenderer created from a web style`);let n;n=typeof e==`object`?tke(e):new T3({value:e,symbol:wB(t)}),this.uniqueValueInfos?.push(n),this._valueInfoMap[F3(n.value)]=n,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(e){if(this.styleOrigin)return void j.getLogger(this).error(`#removeUniqueValueInfo()`,`Cannot modify unique value infos of a UniqueValueRenderer created from a web style`);let t=this.uniqueValueInfos;if(t)for(let n=0;n<t.length;n++){let r=t[n];if(String(r.value)===String(e)){delete this._valueInfoMap[F3(e)],t.splice(n,1);break}}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(e,t){let n=t;return this.valueExpression&&t?.arcade==null&&(n={...n,arcade:await FP()}),this._getUniqueValueInfo(e,n)}getSymbol(e,t){return this.valueExpression&&t?.arcade==null?void j.getLogger(this).error(`#getSymbol()`,`Please use getSymbolAsync if valueExpression is used`):this._getUniqueValueInfo(e,t)?.symbol||this.defaultSymbol}async getSymbolAsync(e,t){let n=t;if(this.valueExpression&&n?.arcade==null){let e=await FP(),{arcadeUtils:t}=e;t.hasGeometryOperations(this.valueExpression)&&await t.enableGeometryOperations(),n={...n,arcade:e}}return this._getUniqueValueInfo(e,n)?.symbol||this.defaultSymbol}get symbols(){let e=[];if(this._isInfosSource)for(let t of this.uniqueValueInfos??[])t.symbol&&e.push(t.symbol);else for(let t of this.uniqueValueGroups??[])for(let n of t.classes??[])n.symbol&&e.push(n.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables?.reduce((e,t)=>e+t.getAttributeHash(),``)??``}getMeshHash(){let e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),n=this.uniqueValueInfos?.reduce((e,t)=>e+t.getMeshHash(),``);return`${e}.${t}.${n}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){let e=new M3({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:A(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:A(this.visualVariables),legendOptions:A(this.legendOptions),authoringInfo:A(this.authoringInfo),backgroundFillSymbol:A(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set(`portal`,this.portal);let t=A(this.uniqueValueInfos),n=A(this.uniqueValueGroups);return this.styleOrigin&&(e._set(`styleOrigin`,Object.freeze(A(this.styleOrigin))),Object.freeze(t),Object.freeze(n)),e._set(`uniqueValueInfos`,t),e._updateValueInfoMap(),e._set(`uniqueValueGroups`,n),e._isInfosSource=this._isInfosSource,e._watchUniqueValueInfosAndGroups(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){let n=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(n)}async collectSymbolFields(e,t){let n=[...this.symbols.map(n=>n.collectRequiredFields(e,t)),WP(e,t,null,this.valueExpression)];UP(e,t,this.field),UP(e,t,this.field2),UP(e,t,this.field3),await Promise.all(n)}populateFromStyle(){return D3(this.styleOrigin,{portal:this.portal}).then(e=>{let t=[];return this._valueInfoMap={},e?.data&&Array.isArray(e.data.items)&&e.data.items.forEach(n=>{let r=new yB({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:n.name});this.defaultSymbol||n.name!==e.data.defaultItem||(this.defaultSymbol=r,this._isDefaultSymbolDerived=!0);let i=new T3({value:n.name,symbol:r});t.push(i),this._valueInfoMap[F3(n.name)]=i}),this._set(`uniqueValueInfos`,Object.freeze(t)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set(`fieldDelimiter`,eke)}_updateUniqueValues(){this._isInfosSource!=null&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};let{uniqueValueInfos:e}=this;if(e)for(let t of e)this._valueInfoMap[F3(t.value)]=t}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(N3);let{uniqueValueInfos:e}=this;if(e){let t=[];for(let n of e)t.push(q(()=>({symbol:n.symbol,value:n.value,label:n.label,description:n.description}),(e,t)=>{e!==t&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(t,N3)}}_watchUniqueValueGroups(){this.removeHandles(P3);let{uniqueValueGroups:e}=this;if(e){let t=[];for(let n of e){t.push(q(()=>({classes:n.classes}),(e,t)=>{e!==t&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(let e of n.classes??[])t.push(q(()=>({symbol:e.symbol,values:e.values,label:e.label,description:e.description}),(e,t)=>{e!==t&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(t,P3)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set(`uniqueValueInfos`,null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();let e=[],{field:t,field2:n,field3:r,fieldDelimiter:i,uniqueValueGroups:a,valueExpression:o}=this;if(!t&&!o)return this._set(`uniqueValueInfos`,e),this._updateValueInfoMap(),void this._watchUniqueValueInfos();let s=!(!t||!n);for(let t of a)for(let a of t.classes??[]){let{symbol:t,label:o,values:c,description:l}=a;for(let a of c??[]){let{value:c,value2:u,value3:d}=a,f=[c];n&&f.push(u),r&&f.push(d);let p=s?f.join(i||``):f[0]??void 0;e.push(new T3({symbol:t,label:o,value:p,description:l}))}}this._set(`uniqueValueInfos`,e),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(e=!1){if(!this.uniqueValueInfos)return this._set(`uniqueValueGroups`,null),void this._watchUniqueValueGroups();let{field:t,field2:n,valueExpression:r,fieldDelimiter:i,uniqueValueInfos:a}=this;if(!t&&!r||!a.length)return this._set(`uniqueValueGroups`,[]),void this._watchUniqueValueGroups();let o=!(!t||!n),s=a.map(e=>{let{symbol:t,label:n,value:r,description:a}=e,[s,c,l]=o?r?.toString()?.split(i||``)||[]:[r];return new S3({symbol:t,label:n,description:a,values:[new x3({value:s,value2:c,value3:l})]})}),c=[new C3({classes:s})];e&&Object.freeze(c),this._set(`uniqueValueGroups`,c),this._watchUniqueValueGroups()}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){let{viewingMode:n,scale:r,spatialReference:i,arcade:a,timeZone:o}=t??{},s=this._cache.compiledFunc,c=a.arcadeUtils;if(!s){let e=c.createSyntaxTree(this.valueExpression);s=c.createFunction(e),this._cache.compiledFunc=s}let l=c.executeFunction(s,c.createExecContext(e,c.getViewInfo({viewingMode:n,scale:r,spatialReference:i}),o));return this._valueInfoMap[F3(l)]}_getUnqiueValueInfoForFields(e){let t=this.field,n=e.attributes,r;if(this.field2){let e=this.field2,i=this.field3,a=[];t&&a.push(n[t]),e&&a.push(n[e]),i&&a.push(n[i]),r=a.join(this.fieldDelimiter||``)}else t&&(r=n[t]);return this._valueInfoMap[F3(r)]}static fromPortalStyle(e,t){let n=new M3(t?.properties);n._set(`styleOrigin`,Object.freeze({styleName:e})),n._set(`portal`,t?.portal||G.getDefault());let r=n.populateFromStyle();return r.catch(t=>{j.getLogger(this.prototype).error(`#fromPortalStyle('${e}'[, ...])`,`Failed to create unique value renderer from style name`,t)}),r}static fromStyleUrl(e,t){let n=new M3(t?.properties);n._set(`styleOrigin`,Object.freeze({styleUrl:e}));let r=n.populateFromStyle();return r.catch(t=>{j.getLogger(this.prototype).error(`#fromStyleUrl('${e}'[, ...])`,`Failed to create unique value renderer from style URL`,t)}),r}};O([P({readOnly:!0})],I3.prototype,`_cache`,null),O([J({uniqueValue:`unique-value`})],I3.prototype,`type`,void 0),O([P(s3)],I3.prototype,`backgroundFillSymbol`,void 0),O([P({value:null,json:{type:String,read:{source:`field1`},write:{target:`field1`}}})],I3.prototype,`field`,null),O([Sy(`field`)],I3.prototype,`castField`,null),O([z(`field`)],I3.prototype,`writeField`,null),O([P({type:String,value:null,json:{write:!0}})],I3.prototype,`field2`,null),O([P({type:String,value:null,json:{write:!0}})],I3.prototype,`field3`,null),O([P({type:Boolean,json:{name:`drawInClassOrder`,default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],I3.prototype,`orderByClassesEnabled`,void 0),O([P({type:String,value:null,json:{write:!0}})],I3.prototype,`valueExpression`,null),O([P({type:String,json:{write:!0}})],I3.prototype,`valueExpressionTitle`,void 0),O([P({type:b3,json:{write:!0}})],I3.prototype,`legendOptions`,void 0),O([P({type:String,json:{write:!0}})],I3.prototype,`defaultLabel`,void 0),O([P(ul({...a3},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],I3.prototype,`defaultSymbol`,null),O([P({type:String,value:null,json:{write:!0}})],I3.prototype,`fieldDelimiter`,null),O([P({type:G,readOnly:!0})],I3.prototype,`portal`,void 0),O([W(`portal`,[`styleName`])],I3.prototype,`readPortal`,null),O([P({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],I3.prototype,`styleOrigin`,void 0),O([W(`styleOrigin`,[`styleName`,`styleUrl`])],I3.prototype,`readStyleOrigin`,null),O([z(`styleOrigin`,{styleName:{type:String},styleUrl:{type:String}})],I3.prototype,`writeStyleOrigin`,null),O([P({type:[C3],json:{read:{source:[`uniqueValueGroups`,`uniqueValueInfos`],reader:(e,t,n)=>(t.uniqueValueGroups||nke(t)).map(e=>C3.fromJSON(e,n))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],I3.prototype,`uniqueValueGroups`,null),O([P({type:[T3],json:{read:!1,write:{isRequired:!0,overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0,isRequired:!0}}}}})],I3.prototype,`uniqueValueInfos`,null),I3=M3=O([F(`esri.renderers.UniqueValueRenderer`)],I3);var L3,R3=class extends R{static{L3=this}constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.orderByFields=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new L3(A({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};O([P({type:[String],json:{write:!0}})],R3.prototype,`attachmentTypes`,void 0),O([P({type:String,json:{read:{source:`attachmentsDefinitionExpression`},write:{target:`attachmentsDefinitionExpression`}}})],R3.prototype,`attachmentsWhere`,void 0),O([P({type:Boolean,json:{write:!0}})],R3.prototype,`cacheHint`,void 0),O([P({type:[String],json:{write:!0}})],R3.prototype,`keywords`,void 0),O([P({type:[String],json:{write:!0}})],R3.prototype,`globalIds`,void 0),O([P({json:{write:!0}})],R3.prototype,`name`,void 0),O([P({type:Number,json:{read:{source:`resultRecordCount`}}})],R3.prototype,`num`,void 0),O([P({type:[Number],json:{write:!0}})],R3.prototype,`objectIds`,void 0),O([P({type:[String],json:{write:!0}})],R3.prototype,`orderByFields`,void 0),O([P({type:Boolean,json:{default:!1,write:!0}})],R3.prototype,`returnMetadata`,void 0),O([P({type:[Number],json:{write:!0}})],R3.prototype,`size`,void 0),O([P({type:Number,json:{read:{source:`resultOffset`}}})],R3.prototype,`start`,void 0),O([z(`start`),z(`num`)],R3.prototype,`writeStart`,null),O([P({type:String,json:{read:{source:`definitionExpression`},write:{target:`definitionExpression`}}})],R3.prototype,`where`,void 0),R3=L3=O([F(`esri.rest.support.AttachmentQuery`)],R3),R3.from=ag(R3);var z3=I_()({naturalLog:`natural-log`,squareRoot:`square-root`,percentOfTotal:`percent-of-total`,log:`log`,field:`field`}),B3=`percent-of-total`,V3=`field`,rke=e=>{let t=e,n=class extends t{constructor(){super(...arguments),this.normalizationField=null,this.normalizationMaxValue=null,this.normalizationMinValue=null,this.normalizationTotal=null}get normalizationType(){let e=this._get(`normalizationType`),t=!!this.normalizationField,n=this.normalizationTotal!=null;return t||n?(e=t&&V3||n&&B3||null,t&&n&&j.getLogger(this).warn(`warning: both normalizationField and normalizationTotal are set!`)):e!==V3&&e!==B3||(e=null),e}set normalizationType(e){this._set(`normalizationType`,e)}};return O([P({type:String,json:{name:`parameters.normalizationField`,write:!0}})],n.prototype,`normalizationField`,void 0),O([P({type:Number,json:{name:`parameters.normalizationMaxValue`,write:!0}})],n.prototype,`normalizationMaxValue`,void 0),O([P({type:Number,json:{name:`parameters.normalizationMinValue`,write:!0}})],n.prototype,`normalizationMinValue`,void 0),O([P({type:Number,json:{name:`parameters.normalizationTotal`,write:!0}})],n.prototype,`normalizationTotal`,void 0),O([J(z3,{name:`parameters.normalizationType`})],n.prototype,`normalizationType`,null),n=O([F(`esri.rest.support.NormalizationBinParametersMixin`)],n),n},H3,U3=class extends R{static{H3=this}constructor(e){super(e),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(t.definitionExpression=`1=1`)}clone(){return new H3(A({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};O([P({type:Boolean,json:{write:!0}})],U3.prototype,`cacheHint`,void 0),O([P({type:sV,json:{write:!0}})],U3.prototype,`dynamicDataSource`,void 0),O([P({type:String,json:{write:!0}})],U3.prototype,`gdbVersion`,void 0),O([P({type:Number,json:{write:!0}})],U3.prototype,`geometryPrecision`,void 0),O([P({type:Date})],U3.prototype,`historicMoment`,void 0),O([z(`historicMoment`)],U3.prototype,`_writeHistoricMoment`,null),O([P({type:Number,json:{write:!0}})],U3.prototype,`maxAllowableOffset`,void 0),O([P({json:{write:!0}})],U3.prototype,`objectIds`,void 0),O([P({type:[String],json:{write:!0}})],U3.prototype,`orderByFields`,void 0),O([P({type:[String],json:{write:!0}})],U3.prototype,`outFields`,void 0),O([P({type:U,json:{read:{source:`outSR`},write:{target:`outSR`}}})],U3.prototype,`outSpatialReference`,void 0),O([P({json:{write:!0}})],U3.prototype,`relationshipId`,void 0),O([P({type:Number,json:{read:{source:`resultOffset`}}})],U3.prototype,`start`,void 0),O([z(`start`),z(`num`)],U3.prototype,`writeStart`,null),O([P({type:Number,json:{read:{source:`resultRecordCount`}}})],U3.prototype,`num`,void 0),O([P({json:{write:!0}})],U3.prototype,`returnGeometry`,void 0),O([P({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],U3.prototype,`returnM`,void 0),O([P({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],U3.prototype,`returnZ`,void 0),O([P({type:String,json:{read:{source:`definitionExpression`},write:{target:`definitionExpression`}}})],U3.prototype,`where`,void 0),U3=H3=O([F(`esri.rest.support.RelationshipQuery`)],U3),U3.from=ag(U3);var W3=new P_({esriGeometryPoint:`point`,esriGeometryMultipoint:`multipoint`,esriGeometryPolyline:`polyline`,esriGeometryPolygon:`polygon`,esriGeometryMultiPatch:`multipatch`});async function G3(e,t,n,r){let i=await d6(e);if(await K3(e,t,r),!i.addAttachment)throw new M(r,`Layer source does not support addAttachment capability`);return i.addAttachment(t,n)}function K3(e,t,n){let{attributes:r}=t,{objectIdField:i}=e;return e.capabilities?.data?.supportsAttachment?t?r?i&&r[i]?Promise.resolve():Promise.reject(new M(n,`feature is missing the identifying attribute ${i}`)):Promise.reject(new M(n,`'attributes' are required on a feature to query attachments`)):Promise.reject(new M(n,`A feature is required to add/delete/update attachments`)):Promise.reject(new M(n,`this layer doesn't support attachments`))}async function q3(e,t,n,r,i){let a=await d6(e);if(await K3(e,t,i),!a.updateAttachment)throw new M(i,`Layer source does not support updateAttachment capability`);return a.updateAttachment(t,n,r)}async function J3(e,t,n){let{applyEdits:r}=await N(async()=>{let{applyEdits:e}=await import(`./editingSupport-DZmD-Wdk.js`);return{applyEdits:e}},__vite__mapDeps([429,430])),i=await e.load(),a=n;return i.type===`feature`&&i.infoFor3D&&t.deleteFeatures!=null&&i.globalIdField!=null&&(a={...a,globalIdToObjectId:await v6(i,t.deleteFeatures,i.globalIdField)}),r(i,i.source,t,n)}async function ike(e,t,n){let{uploadAssets:r}=await N(async()=>{let{uploadAssets:e}=await import(`./editingSupport-DZmD-Wdk.js`);return{uploadAssets:e}},__vite__mapDeps([429,430])),i=await e.load();return r(i,i.source,t,n)}async function Y3(e,t,n,r){let i=await d6(e);if(await K3(e,t,r),!i.deleteAttachments)throw new M(r,`Layer source does not support deleteAttachments capability`);return i.deleteAttachments(t,n)}async function X3(e,t,n){let r=(await e.load({signal:t?.signal})).source;if(!r.fetchRecomputedExtents)throw new M(n,`Layer source does not support fetchUpdates capability`);return r.fetchRecomputedExtents(t)}async function Z3(e,t,n,r){t=R3.from(t),await e.load();let i=e.source,a=e.capabilities;if(!a?.data?.supportsAttachment)throw new M(r,`this layer doesn't support attachments`);let{attachmentTypes:o,objectIds:s,globalIds:c,num:l,size:u,start:d,where:f}=t;if(!a?.operations?.supportsQueryAttachments&&(o?.length>0||c?.length>0||u?.length>0||l||d||f))throw new M(r,`when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported`,t);if(!(s?.length||c?.length||f))throw new M(r,`'objectIds', 'globalIds', or 'where' are required to perform attachment query`,t);if(!i.queryAttachments)throw new M(r,`Layer source does not support queryAttachments capability`,t);return!a?.attachment?.supportsOrderByFields&&t.orderByFields?.length&&((t=t.clone()).orderByFields=null),i.queryAttachments(t)}async function Q3(e,t,n,r){let i=await d6(e);if(!i.queryObjectIds)throw new M(r,`Layer source does not support queryObjectIds capability`);return i.queryObjectIds(X.from(t)??e.createQuery(),n)}async function $3(e,t,n,r){let i=await d6(e);if(!i.queryFeatureCount)throw new M(r,`Layer source does not support queryFeatureCount capability`);return i.queryFeatureCount(X.from(t)??e.createQuery(),n)}async function e6(e,t,n,r){let i=await d6(e);if(!i.queryExtent)throw new M(r,`Layer source does not support queryExtent capability`);return i.queryExtent(X.from(t)??e.createQuery(),n)}async function t6(e,t,n,r){let i=await d6(e);if(!i.queryRelatedFeatures)throw new M(r,`Layer source does not support queryRelatedFeatures capability`);return i.queryRelatedFeatures(U3.from(t),n)}async function n6(e,t,n,r){let i=await d6(e);if(!i.queryRelatedFeaturesCount)throw new M(r,`Layer source does not support queryRelatedFeaturesCount capability`);return i.queryRelatedFeaturesCount(U3.from(t),n)}async function r6(e){let t=e.source;if(t?.refresh)try{let{dataChanged:n,updates:r}=await t.refresh();if(r!=null&&(e.sourceJSON={...e.sourceJSON,...r},e.read(r,{origin:`service`,url:e.parsedUrl})),n)return!0}catch{}if(e.definitionExpression)try{return(await yP(e.definitionExpression,e.fieldsIndex)).hasDateFunctions}catch{}return!1}function i6(e){let t=new X;t.historicMoment=e.historicMoment,t.gdbVersion=e.gdbVersion,t.returnGeometry=!0,t.outFields=[`*`],t.multipatchOption=e.geometryType===`multipatch`?`xyFootprint`:null;let n=e.capabilities?.query;n&&(t.compactGeometryEnabled=n.supportsCompactGeometry,t.defaultSpatialReferenceEnabled=n.supportsDefaultSpatialReference);let r=e.capabilities?.data;r?.supportsZ&&e.returnZ!=null&&(t.returnZ=e.returnZ),r?.supportsM&&e.returnM!=null&&(t.returnM=e.returnM);let{timeOffset:i,timeExtent:a}=e;return t.timeExtent=i!=null&&a!=null?a.offset(-i.value,i.unit):a||null,t}function a6(e){let{globalIdField:t,fields:n}=e;if(t)return t;if(n){for(let e of n)if(e.type===`esriFieldTypeGlobalID`)return e.name}}function o6(e){let{objectIdField:t,fields:n}=e;if(t)return t;if(n){for(let e of n)if(e.type===`esriFieldTypeOID`)return e.name}}function ake(e){return e.currentVersion?e.currentVersion:e.hasOwnProperty(`capabilities`)||e.hasOwnProperty(`drawingInfo`)||e.hasOwnProperty(`hasAttachments`)||e.hasOwnProperty(`htmlPopupType`)||e.hasOwnProperty(`relationships`)||e.hasOwnProperty(`timeInfo`)||e.hasOwnProperty(`typeIdField`)||e.hasOwnProperty(`types`)?10:9.3}function s6(e,t,n,r){let i=n?.feature,a=!!e.subtypes?.length;if(a&&!n?.excludeImpliedDomains){let n=l6(e,t);if(n)return n}let o=a&&c6(e,i);if(o){let e=o?.domains?.[t];return e?.type===`inherited`?r:e}let s=y6(e.types,e.typeIdField,i);if(s){let e=s.domains&&s.domains[t];if(e&&e?.type!==`inherited`)return e}if(r)return r;if(!n?.excludeImpliedDomains){let n=oke(e,t);if(n)return n}return null}function c6(e,t){let{subtypes:n,subtypeField:r}=e;if(!t?.attributes||!n?.length||!r)return null;let i=t.attributes[r];return i==null?null:n.find(e=>e.code===i)}function l6(e,t){let{fieldsIndex:n,subtypeField:r}=e,{name:i,type:a}=n.get(t)??{};if(!i)return null;if((r&&n.get(r)?.name)===i&&e.subtypes?.length){let t=e.subtypes.map(e=>new NB({code:u6(e.code,a),name:e.name}));if(t?.length)return new IB({codedValues:t})}return null}function oke(e,t){let{fieldsIndex:n}=e,{name:r,type:i}=n.get(t)??{};if(!r)return null;if((`typeIdField`in e?n.get(e.typeIdField)?.name:null)===r&&`types`in e&&e.types?.length){let t=e.types.map(e=>new NB({code:u6(e.id,i),name:e.name}));return new IB({codedValues:t})}return null}function u6(e,t){return t?aF({type:t})&&typeof e==`number`?`${e}`:Bme({type:t})&&typeof e==`string`?Number.parseInt(e,10):e:e}async function d6(e){return(await e.load()).source}async function ske(e,t){if(!gd)return;let n=gd.findCredential(e);if(n)return n.userId;let r;try{let n=await _T(e,t);n&&(r=await gd.checkSignInStatus(`${n}/sharing`))}catch{}return r?r.userId:null}async function f6(e,t){if(!gd||gd.findCredential(e))return;let n;try{let r=await _T(e,t);r&&(n=await gd.checkSignInStatus(`${r}/sharing`))}catch{}if(n)try{let n=t==null?null:t.signal;await gd.getCredential(e,{signal:n})}catch{}}async function p6(e,t,n){let r=e.parsedUrl?.path;r&&e.authenticationTriggerEvent===t&&await f6(r,n)}async function cke(e){let t=e.parsedUrl?.path;t&&lke(e)&&await f6(t)}function lke(e){return uke(e)&&(`serviceDefinitionExpression`in e&&m6(e.serviceDefinitionExpression)||`definitionExpression`in e&&m6(e.definitionExpression))}function uke(e){return!(!vT(e)||!e.capabilities?.query.supportsCurrentUser)}function m6(e){return!!e?.toLowerCase().includes(`current_user`)}function h6(e){return!b6(e)&&(e.userHasUpdateItemPrivileges||e.editingEnabled)}var g6=Sg({types:SB});function _6(e,t){if(e.defaultSymbol)return e.types?.length?new I3({defaultSymbol:g6(e.defaultSymbol,e,t),field:e.typeIdField,uniqueValueInfos:e.types.map(e=>({id:e.id,symbol:g6(e.symbol,e,t)}))}):new u3({symbol:g6(e.defaultSymbol,e,t)})}function dke(e){let t=e.sourceJSON?.cacheMaxAge;if(!t)return!1;let n=e.editingInfo?.lastEditDate?.getTime();return n==null||(t*=1e3,Date.now()-n<t)}async function v6(e,t,n){if(t==null)return null;let r=[],{objectIdField:i}=e;if(t.forEach(e=>{let t=null;if(`attributes`in e){let{attributes:r}=e;t={globalId:r[n],objectId:r[i]!=null&&r[i]!==-1?r[i]:null}}else t={globalId:e.globalId,objectId:e.objectId!=null&&e.objectId!==-1?e.objectId:null};t.globalId!=null&&(t.objectId!=null&&t.objectId!==-1||r.push(t.globalId))}),r.length===0)return null;let a=e.createQuery();a.where=r.map(e=>`${n}='${e}'`).join(` OR `),a.returnGeometry=!1,a.outFields=[i,n],a.cacheHint=!1;let o=await k_(T2(e,a));if(!o.ok)return null;let s=new Map,c=o.value.features;for(let e of c){let t=e.attributes[n],r=e.attributes[i];t!=null&&r!=null&&r!==-1&&s.set(CE(t),r)}return s}function y6(e,t,n){if(!t||!n||!e)return null;let r=n.getAttribute(t);return r==null?null:e.find(e=>{let{id:t}=e;return t!=null&&t.toString()===r.toString()})??null}function b6(e){return e.sourceJSON?.isMultiServicesView||fke(e)}function fke(e){return!!e.sourceJSON?.capabilities?.toLowerCase().split(`,`).map(e=>e.trim()).includes(`map`)}function x6(e,t,n){let r=t?.queryAttributeBins;if(!t?.operations?.supportsQueryBins||!r)throw new M(n,`Layer source does not support binning`);switch(e.binParameters.type){case`auto-interval`:if(!r.supportsAutoInterval)throw new M(n,`Layer source does not support auto-interval binning`);if(e.binParameters.normalizationType&&(!r.supportsNormalization||!S6(e.binParameters.normalizationType,r.supportedNormalizationTypes)))throw new M(n,`Layer source does not support normalization binning`);break;case`date`:if(!r.supportsDate)throw new M(n,`Layer source does not support date binning`);if(e.binParameters.snapToData&&!r.supportsSnapToData)throw new M(n,`Layer source does not support snapToData binning`);if(e.binParameters.returnFullIntervalBin&&!r.supportsReturnFullIntervalBin)throw new M(n,`Layer source does not support returnFullIntervalBin binning`);break;case`fixed-boundaries`:if(!r.supportsFixedBoundaries)throw new M(n,`Layer source does not support fixed-boundaries binning`);break;case`fixed-interval`:if(!r.supportsFixedInterval)throw new M(n,`Layer source does not support fixed-interval binning`);if(e.binParameters.normalizationType&&(!r.supportsNormalization||!S6(e.binParameters.normalizationType,r.supportedNormalizationTypes)))throw new M(n,`Layer source does not support normalization binning`)}if(e.binParameters.stackBy&&!r.supportsStackBy)throw new M(n,`Layer source does not support stackBy binning`);if(e.binParameters.splitBy&&!r.supportsSplitBy)throw new M(n,`Layer source does not support splitBy binning`);if(e.binParameters.firstDayOfWeek&&!r.supportsFirstDayOfWeek)throw new M(n,`Layer source does not support firstDayOfWeek binning`);let i=r?.supportedStatistics;if(e.outStatistics&&i){let t=new Map([[`count`,`count`],[`sum`,`sum`],[`min`,`min`],[`max`,`max`],[`avg`,`avg`],[`stddev`,`stddev`],[`var`,`var`],[`percentile-continuous`,`percentileContinuous`],[`percentile-discrete`,`percentileDiscrete`],[`centroid-aggregate`,`centroid`],[`convex-hull-aggregate`,`convexHull`],[`envelope-aggregate`,`envelope`]]);for(let{statisticType:r}of e.outStatistics){let e=t.get(r);if(e&&!i[e])throw new M(n,`Layer source does not support ${r} statistic type`)}}}function S6(e,t){return e!=null&&!!t?.[z3.toJSON(e)]}var C6=class extends Y(R){constructor(e){super(e),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};O([P({type:String,json:{read:{source:`shapeAreaFieldName`}}})],C6.prototype,`shapeAreaField`,void 0),O([P({type:String,json:{read:{source:`shapeLengthFieldName`}}})],C6.prototype,`shapeLengthField`,void 0),O([P({type:String,json:{read:e=>vy.read(e)||yy.read(e)}})],C6.prototype,`units`,void 0),C6=O([F(`esri.layers.support.GeometryFieldsInfo`)],C6);var w6,T6=w6=class extends R{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new L}clone(){return new w6({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};O([P({type:String,json:{write:{isRequired:!0}}})],T6.prototype,`floorField`,void 0),O([P({json:{read:!1,write:!1}})],T6.prototype,`viewAllMode`,void 0),O([P({json:{read:!1,write:!1}})],T6.prototype,`viewAllLevelIds`,void 0),T6=w6=O([F(`esri.layers.support.LayerFloorInfo`)],T6);function E6(e){let{nonStandardUrlAllowed:t=!1,separator:n}=e??{},r=A(f2),i=r.json?.write;return typeof i==`object`&&i&&(i.writer=function(e,t,r,i){Jf(this,e,n,t,i)}),{...r,set:function(e){if(e==null)return void this._set(`url`,e);let n=qf({layer:this,url:e,nonStandardUrlAllowed:t,logger:j.getLogger(this)});this._set(`url`,n.url),n.layerId!=null&&this._set(`layerId`,n.layerId)}}}function D6(e,t){let{separator:n}=t??{},r=au(e.url);return r!=null&&(e.dynamicDataSource==null?e.layerId!=null&&(r.path=Tu(r.path,n??``,e.layerId.toString())):r.path=Tu(r.path,`dynamicLayer`)),r}var O6=new P_({esriRelCardinalityOneToOne:`one-to-one`,esriRelCardinalityOneToMany:`one-to-many`,esriRelCardinalityManyToMany:`many-to-many`}),k6=new P_({esriRelRoleOrigin:`origin`,esriRelRoleDestination:`destination`}),A6=class extends Y(R){constructor(e){super(e),this.cardinality=null,this.catalogId=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};O([P({json:{read:O6.read,write:O6.write}})],A6.prototype,`cardinality`,void 0),O([P({json:{name:`catalogID`}})],A6.prototype,`catalogId`,void 0),O([P({json:{read:!0,write:!0}})],A6.prototype,`composite`,void 0),O([P({json:{read:!0,write:!0}})],A6.prototype,`id`,void 0),O([P({json:{read:!0,write:!0}})],A6.prototype,`keyField`,void 0),O([P({json:{read:!0,write:!0}})],A6.prototype,`keyFieldInRelationshipTable`,void 0),O([P({json:{read:!0,write:!0}})],A6.prototype,`name`,void 0),O([P({json:{read:!0,write:!0}})],A6.prototype,`relatedTableId`,void 0),O([P({json:{read:!0,write:!0}})],A6.prototype,`relationshipTableId`,void 0),O([P({json:{read:k6.read,write:k6.write}})],A6.prototype,`role`,void 0),A6=O([F(`esri.layers.support.Relationship`)],A6);var pke=[[`binary`,`application/octet-stream`,`bin`,``]];function mke(e,t){return z6(t.name,e?.supportedFormats??[])!=null}function hke(e,t){if(!e)return!1;let n=N6(t,e.supportedFormats??[]);return n!=null&&e.editFormats.includes(n)}function j6(e,t){return B6(xke(e,t))}function M6(e,t){return B6(z6(e,t))}function gke(e,t){return V6(bke(e,t))}function N6(e,t){return M6(e.name,t)??j6(e.type,t)}function P6(e,t,n){return j6(e,n)??M6(t,n)}function F6({supportedFormats:e}){return P6(`model/gltf-binary`,`glb`,e)}function _ke(e){let t=F6(e);return t!=null&&e.editFormats.includes(t)}function I6({supportedFormats:e}){return P6(`model/gltf+json`,`gltf`,e)}function L6(e){if(!e)return null;let t=F6(e),n=I6(e),r=null;for(let i of e.queryFormats){if(i===t)return i;i===n&&(r=i)}return r}function vke({supportedFormats:e}){return P6(`application/esri3do-SR_world`,`wld`,e)}function yke({supportedFormats:e}){return P6(`application/esri3do-SR_prj`,`prj`,e)}function R6(e){return[...pke,...e]}function bke(e,t){return R6(t).find(t=>B6(t)===e)}function xke(e,t){let n=e.toLowerCase();return R6(t).find(e=>V6(e)===n)}function z6(e,t){let n=e.toLowerCase();return R6(t).find(e=>Ske(e).some(e=>n.endsWith(e)))}function B6(e){return e?.[0]}function V6(e){return e?.[1].toLowerCase()}function Ske(e){return e?.[2].split(`,`).map(e=>e.toLowerCase())??[]}function Cke(e){return e.tables?.find(e=>e.role===`assetMaps`)}function Q(e,t,n){return!!U6(e,t,n)}function H6(e,t,n){return U6(e,t,n)}function U6(e,t,n){return e&&e.hasOwnProperty(t)?e[t]:n}var wke={name:`supportsName`,size:`supportsSize`,contentType:`supportsContentType`,keywords:`supportsKeywords`,exifInfo:`supportsExifInfo`};function Tke(e){let t=e?.supportedSpatialAggregationStatistics?.map(e=>e.toLowerCase());return{envelope:!!t?.includes(`envelopeaggregate`),centroid:!!t?.includes(`centroidaggregate`),convexHull:!!t?.includes(`convexhullaggregate`)}}function W6(e,t){return!!(e?.supportedOperationsWithCacheHint?.map(e=>e.toLowerCase()))?.includes(t.toLowerCase())}function Eke(e){let t=e?.supportedStatisticTypes?.map(e=>e.toLowerCase());return{count:!!t?.includes(`count`),sum:!!t?.includes(`sum`),min:!!t?.includes(`min`),max:!!t?.includes(`max`),avg:!!t?.includes(`avg`),var:!!t?.includes(`var`),stddev:!!t?.includes(`stddev`),percentileContinuous:!!t?.includes(`percentile_cont`),percentileDiscrete:!!t?.includes(`percentile_disc`),envelope:!!t?.includes(`envelopeaggregate`),centroid:!!t?.includes(`centroidaggregate`),convexHull:!!t?.includes(`convexhullaggregate`)}}function Dke(e){let t=e?.supportedNormalizationTypes?.map(e=>e.toLowerCase());return{field:!!t?.includes(`field`),log:!!t?.includes(`log`),naturalLog:!!t?.includes(`naturallog`),percentOfTotal:!!t?.includes(`percentoftotal`),squareRoot:!!t?.includes(`squareroot`)}}function G6(e,t){return{analytics:Oke(e),attachment:kke(e),data:Ake(e),metadata:jke(e),operations:Mke(e.capabilities,e,t),query:Nke(e,t),queryAttributeBins:Ike(e),queryRelated:Pke(e),queryTopFeatures:Fke(e),editing:Lke(e)}}function Oke(e){return{supportsCacheHint:W6(e.advancedQueryCapabilities,`queryAnalytics`)}}function kke(e){let t=e.attachmentProperties,n={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:W6(e.advancedQueryCapabilities,`queryAttachments`),supportsOrderByFields:Q(e.advancedQueryCapabilities,`supportsQueryAttachmentOrderByFields`,!1),supportsResize:Q(e,`supportsAttachmentsResizing`,!1),supportsTypeWildcard:Q(e.advancedQueryCapabilities,`supportsQueryAttachmentWithTypeWildcard`,!1)};return t&&Array.isArray(t)&&t.forEach(e=>{let t=wke[e.name];t&&(n[t]=!!e.isEnabled)}),n}function Ake(e){return{isVersioned:Q(e,`isDataVersioned`,!1),isBranchVersioned:Q(e,`isDataBranchVersioned`,!1),supportsAttachment:Q(e,`hasAttachments`,!1),supportsM:Q(e,`hasM`,!1),supportsZ:Q(e,`hasZ`,!1)}}function jke(e){return{supportsAdvancedFieldProperties:Q(e,`supportsFieldDescriptionProperty`,!1)}}function Mke(e,t,n){let r=e?.toLowerCase().split(`,`).map(e=>e.trim())??[],i=n?Vf(n):null,a=r.includes(i?.serverType===`MapServer`?`data`:`query`),o=r.includes(`editing`)&&!t.datesInUnknownTimezone&&!0!==t.uniqueIdInfo?.OIDFieldContainsHashValue,s=o&&r.includes(`create`),c=o&&r.includes(`delete`),l=o&&r.includes(`update`),u=r.includes(`changetracking`),d=t.advancedQueryCapabilities;return o&&!(s||c||l)&&(s=c=l=!0),{supportsCalculate:Q(t,`supportsCalculate`,!1),supportsTruncate:Q(t,`supportsTruncate`,!1),supportsValidateSql:Q(t,`supportsValidateSql`,!1),supportsAdd:s,supportsDelete:c,supportsEditing:o,supportsChangeTracking:u,supportsQuery:a,supportsQueryAnalytics:Q(d,`supportsQueryAnalytic`,!1),supportsQueryAttachments:Q(d,`supportsQueryAttachments`,!1),supportsQueryBins:Q(d,`supportsQueryBins`,!1)||!!t.queryBinsCapabilities,supportsQueryPivot:Q(d,`supportsQueryPivot`,!1),supportsQueryTopFeatures:Q(d,`supportsTopFeaturesQuery`,!1),supportsResizeAttachments:Q(t,`supportsAttachmentsResizing`,!1),supportsSync:r.includes(`sync`),supportsUpdate:l,supportsExceedsLimitStatistics:Q(t,`supportsExceedsLimitStatistics`,!1),supportsAsyncConvert3D:Q(t,`supportsAsyncConvert3D`,!1)}}function Nke(e,t){let n=e.advancedQueryCapabilities,r=e.ownershipBasedAccessControlForFeatures,i=e.archivingInfo,a=e.currentVersion,o=!t?.includes(`MapServer`)||a>=k(`mapserver-pbf-version-support`),s=Gf(t),c=new Set((e.supportedQueryFormats??``).split(`,`).map(e=>e.toLowerCase().trim()));return{maxRecordCount:H6(e,`maxRecordCount`,void 0),maxRecordCountFactor:H6(e,`maxRecordCountFactor`,void 0),maxUniqueIDCount:H6(e,`maxUniqueIDCount`,void 0),standardMaxRecordCount:H6(e,`standardMaxRecordCount`,void 0),supportedSpatialAggregationStatistics:Tke(n),supportsCacheHint:Q(n,`supportsQueryWithCacheHint`,!1)||W6(n,`query`),supportsCentroid:Q(n,`supportsReturningGeometryCentroid`,!1),supportsCentroidOnDegeneratedQuantizedGeometry:s||t==null,supportsCompactGeometry:s,supportsCurrentUser:Q(n,`supportsCurrentUserQueries`,!1),supportsDefaultSpatialReference:Q(n,`supportsDefaultSR`,!1),supportsDegeneratedQuantizedGeometry:Q(n,`supportsDegeneratedQuantizedGeometry`,!1),supportsDisjointSpatialRelationship:Q(n,`supportsDisjointSpatialRel`,!1),supportsDistance:Q(n,`supportsQueryWithDistance`,!1),supportsDistinct:Q(n,`supportsDistinct`,e.supportsAdvancedQueries),supportsExtent:Q(n,`supportsReturningQueryExtent`,!1),supportsFormatPBF:o&&c.has(`pbf`),supportsFullTextSearch:Q(n,`supportsFullTextSearch`,!1),supportsGeometryProperties:Q(n,`supportsReturningGeometryProperties`,!1),supportsHavingClause:Q(n,`supportsHavingClause`,!1),supportsHistoricMoment:Q(i,`supportsQueryWithHistoricMoment`,!1),supportsMaxRecordCountFactor:Q(n,`supportsMaxRecordCountFactor`,!1),supportsOrderBy:Q(n,`supportsOrderBy`,e.supportsAdvancedQueries),supportsPagination:Q(n,`supportsPagination`,!1),supportsPaginationOnAggregatedQueries:Q(n,`supportsPaginationOnAggregatedQueries`,!1),supportsPercentileStatistics:Q(n,`supportsPercentileStatistics`,!1),supportsQuantization:Q(e,`supportsCoordinatesQuantization`,!1),supportsQuantizationEditMode:Q(e,`supportsQuantizationEditMode`,!1),supportsQueryByAnonymous:Q(r,`allowAnonymousToQuery`,!0),supportsQueryByOthers:Q(r,`allowOthersToQuery`,!0),supportsQueryGeometry:Q(e,`supportsReturningQueryGeometry`,!1),supportsResultType:Q(n,`supportsQueryWithResultType`,!1),supportsReturnMesh:!!L6(e.infoFor3D),supportsSpatialAggregationStatistics:Q(n,`supportsSpatialAggregationStatistics`,!1),supportsSqlExpression:Q(n,`supportsSqlExpression`,!1),supportsStandardizedQueriesOnly:Q(e,`useStandardizedQueries`,!1),supportsStatistics:Q(n,`supportsStatistics`,e.supportsStatistics),supportsTopFeaturesQuery:Q(n,`supportsTopFeaturesQuery`,!1),supportsTrueCurve:Q(n,`supportsTrueCurve`,!1),tileMaxRecordCount:H6(e,`tileMaxRecordCount`,void 0)}}function Pke(e){let t=e.advancedQueryCapabilities,n=Q(t,`supportsAdvancedQueryRelated`,!1);return{supportsPagination:Q(t,`supportsQueryRelatedPagination`,!1),supportsCount:n,supportsOrderBy:n,supportsCacheHint:W6(t,`queryRelated`)}}function Fke(e){return{supportsCacheHint:W6(e.advancedQueryCapabilities,`queryTopFilter`)}}function Ike(e){let t=e?e.queryBinsCapabilities:void 0;return{supportsDate:Q(t,`supportsDateBin`,!1),supportsFixedInterval:Q(t,`supportsFixedIntervalBin`,!1),supportsAutoInterval:Q(t,`supportsAutoIntervalBin`,!1),supportsFixedBoundaries:Q(t,`supportsFixedBoundariesBin`,!1),supportsStackBy:Q(t,`supportsStackBy`,!1),supportsSplitBy:Q(t,`supportsSplitBy`,!1),supportsSnapToData:Q(t,`supportsSnapToData`,!1),supportsReturnFullIntervalBin:Q(t,`supportsReturnFullIntervalBin`,!1),supportsFirstDayOfWeek:Q(t,`supportsFirstDayOfWeek`,!1),supportsNormalization:Q(t,`supportsNormalization`,!1),supportedStatistics:Eke(t),supportedNormalizationTypes:Dke(t)}}function Lke(e){let t=e.ownershipBasedAccessControlForFeatures,n=e?e.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:Q(e,`allowGeometryUpdates`,!0),supportsGlobalId:Q(e,`supportsApplyEditsWithGlobalIds`,!1),supportsReturnServiceEditsInSourceSpatialReference:Q(e,`supportsReturnServiceEditsInSourceSR`,!1),supportsRollbackOnFailure:Q(e,`supportsRollbackOnFailureParameter`,!1),supportsUpdateWithoutM:Q(e,`allowUpdateWithoutMValues`,!1),supportsUploadWithItemId:Q(e,`supportsAttachmentsByUploadId`,!1),supportsDeleteByAnonymous:Q(t,`allowAnonymousToDelete`,!0),supportsDeleteByOthers:Q(t,`allowOthersToDelete`,!0),supportsUpdateByAnonymous:Q(t,`allowAnonymousToUpdate`,!0),supportsUpdateByOthers:Q(t,`allowOthersToUpdate`,!0),supportsAsyncApplyEdits:Q(n,`supportsAsyncApplyEdits`,!1),zDefault:H6(e,`zDefault`,void 0)}}function Rke(e){return{operations:{supportsAppend:Q(e,`supportsAppend`,!1),supportsCoverageQuery:e?.playbackInfo?.klv[`0601`]??!1,supportsExportClip:Q(e,`supportsExportClip`,!1),supportsExportFrameset:Q(e,`supportsExportFrameset`,!1),supportsMensuration:Q(e,`supportsMensuration`,!1),supportsPreviews:Q(e,`supportsPreviews`,!1),supportsUpdate:Q(e,`supportsUpdate`,!1)}}}var K6=class extends Y(R){constructor(e){super(e),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(e){if(!e)return null;let t={};for(let n of Object.keys(e))t[n]=HB(e[n]);return t}writeDomains(e,t){if(!e)return;let n={};for(let t of Object.keys(e))e[t]&&(n[t]=e[t]?.toJSON());t.domains=n}};O([P({type:Number,json:{write:!0}})],K6.prototype,`code`,void 0),O([P({type:Object,json:{write:!0}})],K6.prototype,`defaultValues`,void 0),O([P({json:{write:!0}})],K6.prototype,`domains`,void 0),O([W(`domains`)],K6.prototype,`readDomains`,null),O([z(`domains`)],K6.prototype,`writeDomains`,null),O([P({type:String,json:{write:!0}})],K6.prototype,`name`,void 0),K6=O([F(`esri.layers.support.Subtype`)],K6);var q6=e=>{let t=e,n=class extends t{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.fieldsIndex=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(L.ofType(w2)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=U.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.uniqueIdFields=null,this.url=null,this.version=void 0,this._isUrlHostModified=!1,this._isUrlHostModificationEnabled=!1}getFieldDomain(e,t){throw Error(`Not implemented`)}getField(e){return this.fieldsIndex.get(e)}get authenticationTriggerEvent(){if(!this.url)return null;let{capabilities:e}=this;if(e){let{query:t,operations:n,editing:r}=e;if(!t.supportsQueryByOthers||!t.supportsQueryByAnonymous||n.supportsEditing&&!(r.supportsUpdateByOthers&&r.supportsUpdateByAnonymous&&r.supportsDeleteByOthers&&r.supportsDeleteByAnonymous))return`load`}if(m6(this.serviceDefinitionExpression)||m6(this.definitionExpression))return`load`;if(this.userHasUpdateItemPrivileges){if(dke(this))return`load`;if(this.hasUpdateItemRestrictions)return e.operations.supportsQuery?`editing`:`load`}if(this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions)return`editing`;let t=this.editFieldsInfo;return(t?.creatorField||t?.editorField)&&e?.operations.supportsEditing?`editing`:null}readCapabilitiesFromService(e,t){return G6(t,this.url)}readEditingInfo(e,t){let{editingInfo:n}=t;return n?{lastEditDate:n.lastEditDate==null?null:new Date(n.lastEditDate)}:null}get effectiveCapabilities(){let e=this.capabilities;if(!e)return null;let t=A(e),{operations:n,editing:r}=t;return b6(this)?(this.userHasUpdateItemPrivileges&&(n.supportsQuery=!0),t):this.userHasUpdateItemPrivileges?(n.supportsAdd=n.supportsDelete=n.supportsEditing=n.supportsQuery=n.supportsUpdate=r.supportsDeleteByOthers=r.supportsGeometryUpdate=r.supportsUpdateByOthers=!0,t):(this.userHasFullEditingPrivileges&&n.supportsEditing&&(n.supportsAdd=n.supportsDelete=n.supportsUpdate=r.supportsGeometryUpdate=!0),t)}get effectiveEditingEnabled(){return!1}readGlobalIdFieldFromService(e,t){return a6(t)}get hasFullEditingRestrictions(){let e=this.capabilities;if(!e||b6(this))return!1;let{operations:t,editing:n}=e;return t.supportsEditing&&!(t.supportsAdd&&t.supportsDelete&&t.supportsUpdate&&n.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){let e=this.capabilities;if(!e)return!1;let{operations:t,editing:n}=e;return b6(this)?!t.supportsQuery:!(t.supportsAdd&&t.supportsDelete&&t.supportsEditing&&t.supportsQuery&&t.supportsUpdate&&n.supportsDeleteByOthers&&n.supportsGeometryUpdate&&n.supportsUpdateByOthers)}readIsTableFromService(e,t){return t.type===`Table`}readMaxScale(e,t){return t.effectiveMaxScale||e||0}readMinScale(e,t){return t.effectiveMinScale||e||0}readObjectIdFieldFromService(e,t){return o6(t)}get parsedUrl(){return D6(this)}readServiceDefinitionExpression(e,t){return t.definitionQuery||t.definitionExpression}readUniqueIdFields(e,t){return t.uniqueIdInfo?.OIDFieldContainsHashValue?t.uniqueIdInfo.fields:null}readVersion(e,t){return ake(t)}get isUrlHostModified(){let{loaded:e,url:t,_isUrlHostModified:n}=this;if(n)return!0;if(!e||!t||this.originIdOf(`url`)<7)return!1;let r=this.sourceJSON?.preferredHost;if(!r||!yu(t,`https://${r}`,!0))return!1;for(let e=6;e>=3;e--){let n=this.getAtOrigin(`url`,Hm(e));if(n)return!yu(t,n,!0)}return!1}applyPreferredHost(e){let{url:t,portalItem:n}=this;if(!t||!CT(n))return;let r=xT();r&&this._isUrlHostModificationEnabled&&(this._set(`url`,r),this._isUrlHostModified=!0,n&&wT(n,ST()))}applyHostFromPortalItem(){let{url:e,portalItem:t}=this;if(!e||this.originIdOf(`url`)===7||!t?.url||!CT(t)||!rQ(t,aQ.HOSTED_SERVICE)||yu(e,t.url,!0)||!this._isUrlHostModificationEnabled)return;let n=nd(t.url);this._set(`url`,td(e,n)),this._isUrlHostModified=!0}};return O([P({readOnly:!0})],n.prototype,`authenticationTriggerEvent`,null),O([P({type:String,json:{origins:{service:{read:{source:`copyrightText`}}}}})],n.prototype,`copyright`,void 0),O([P({readOnly:!0,json:{read:!1,origins:{service:{read:{source:`advancedQueryCapabilities.allowGeometryUpdates.allowUpdateWithoutMValues.archivingInfo.capabilities.datesInUnknownTimezone.hasAttachments.hasM.hasZ.isDataBranchVersioned.isDataVersioned.maxRecordCount.maxRecordCountFactor.maxUniqueIDCount.ownershipBasedAccessControlForFeatures.standardMaxRecordCount.supportedQueryFormats.supportsAdvancedQueries.supportsApplyEditsWithGlobalIds.supportsAttachmentsByUploadId.supportsAttachmentsResizing.supportsCalculate.supportsCoordinatesQuantization.supportsExceedsLimitStatistics.supportsFieldDescriptionProperty.supportsQuantizationEditMode.supportsRollbackOnFailureParameter.supportsStatistics.supportsTruncate.supportsValidateSql.tileMaxRecordCount.useStandardizedQueries`.split(`.`)}}}}})],n.prototype,`capabilities`,void 0),O([W(`service`,`capabilities`)],n.prototype,`readCapabilitiesFromService`,null),O([P(uw(`dateFieldsTimeReference`))],n.prototype,`dateFieldsTimeZone`,void 0),O([P({type:Boolean})],n.prototype,`datesInUnknownTimezone`,void 0),O([P({type:String,json:{origins:{service:{read:!1,write:!1}},name:`layerDefinition.definitionExpression`,write:{enabled:!0,allowNull:!0}}})],n.prototype,`definitionExpression`,void 0),O([P({type:String,json:{origins:{service:{read:{source:`displayField`}}}}})],n.prototype,`displayField`,void 0),O([P({readOnly:!0,type:C2})],n.prototype,`editFieldsInfo`,void 0),O([P({readOnly:!0})],n.prototype,`editingInfo`,void 0),O([W(`editingInfo`)],n.prototype,`readEditingInfo`,null),O([P({readOnly:!0})],n.prototype,`effectiveCapabilities`,null),O([P()],n.prototype,`effectiveEditingEnabled`,null),O([P((()=>{let e=A(m2),t=e.json.origins;return t[`web-map`]={read:!1,write:!1},t[`portal-item`]={read:!1,write:!1},e})())],n.prototype,`elevationInfo`,void 0),O([P()],n.prototype,`fieldsIndex`,void 0),O([P({type:T6,json:{name:`layerDefinition.floorInfo`,write:{layerContainerTypes:t$}}})],n.prototype,`floorInfo`,void 0),O([P({type:cb,json:{origins:{service:{read:{source:`extent`}}}}})],n.prototype,`fullExtent`,void 0),O([P()],n.prototype,`gdbVersion`,void 0),O([P({readOnly:!0,type:C6,json:{read:{source:`geometryProperties`}}})],n.prototype,`geometryFieldsInfo`,void 0),O([P({type:[`point`,`polygon`,`polyline`,`multipoint`,`multipatch`,`mesh`],json:{origins:{service:{read:W3.read}}}})],n.prototype,`geometryType`,void 0),O([P({type:String})],n.prototype,`globalIdField`,void 0),O([W(`service`,`globalIdField`,[`globalIdField`,`fields`])],n.prototype,`readGlobalIdFieldFromService`,null),O([P({readOnly:!0})],n.prototype,`hasFullEditingRestrictions`,null),O([P({type:Boolean,json:{origins:{service:{read:!0}}}})],n.prototype,`hasM`,void 0),O([P({readOnly:!0})],n.prototype,`hasUpdateItemRestrictions`,null),O([P({type:Boolean,json:{origins:{service:{read:!0}}}})],n.prototype,`hasZ`,void 0),O([P({readOnly:!0,type:gP})],n.prototype,`heightModelInfo`,void 0),O([P({type:Date})],n.prototype,`historicMoment`,void 0),O([P({type:L.ofType(w2),readOnly:!0})],n.prototype,`indexes`,void 0),O([P({readOnly:!0})],n.prototype,`isTable`,void 0),O([W(`service`,`isTable`,[`type`])],n.prototype,`readIsTableFromService`,null),O([P({type:Number,json:{origins:{service:{read:{source:`id`}},"portal-item":{read:!1,write:{target:`id`}}},read:!1}})],n.prototype,`layerId`,void 0),O([P(b2)],n.prototype,`maxScale`,void 0),O([W(`service`,`maxScale`,[`maxScale`,`effectiveMaxScale`])],n.prototype,`readMaxScale`,null),O([P(y2)],n.prototype,`minScale`,void 0),O([W(`service`,`minScale`,[`minScale`,`effectiveMinScale`])],n.prototype,`readMinScale`,null),O([P({type:String})],n.prototype,`objectIdField`,void 0),O([W(`service`,`objectIdField`,[`objectIdField`,`fields`])],n.prototype,`readObjectIdFieldFromService`,null),O([P({readOnly:!0})],n.prototype,`parsedUrl`,null),O([P(uw(`preferredTimeReference`))],n.prototype,`preferredTimeZone`,void 0),O([P({type:[A6],readOnly:!0})],n.prototype,`relationships`,void 0),O([P({type:Boolean})],n.prototype,`returnM`,void 0),O([P({type:Boolean})],n.prototype,`returnZ`,void 0),O([P({readOnly:!0,json:{write:!1}})],n.prototype,`serverGens`,void 0),O([P({readOnly:!0})],n.prototype,`serviceDefinitionExpression`,void 0),O([W(`service`,`serviceDefinitionExpression`,[`definitionQuery`,`definitionExpression`])],n.prototype,`readServiceDefinitionExpression`,null),O([P({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],n.prototype,`serviceItemId`,void 0),O([P()],n.prototype,`sourceJSON`,void 0),O([P({type:U,json:{origins:{service:{read:{source:`extent.spatialReference`}}}}})],n.prototype,`spatialReference`,void 0),O([P({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],n.prototype,`subtypeField`,void 0),O([P({type:[K6],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],n.prototype,`subtypes`,void 0),O([P({type:String,json:{read:{source:`timeInfo.trackIdField`}}})],n.prototype,`trackIdField`,void 0),O([P({type:[String],readOnly:!0})],n.prototype,`uniqueIdFields`,void 0),O([W(`service`,`uniqueIdFields`,[`uniqueIdInfo.OIDFieldContainsHashValue`,`uniqueIdInfo.fields`])],n.prototype,`readUniqueIdFields`,null),O([P(E6({nonStandardUrlAllowed:!0}))],n.prototype,`url`,void 0),O([P({json:{origins:{service:{read:!0}},read:!1}})],n.prototype,`version`,void 0),O([W(`service`,`version`,[`currentVersion`,`capabilities`,`drawingInfo`,`hasAttachments`,`htmlPopupType`,`relationships`,`timeInfo`,`typeIdField`,`types`])],n.prototype,`readVersion`,null),O([P({readOnly:!0})],n.prototype,`isUrlHostModified`,null),n=O([F(`esri.layers.mixins.FeatureLayerBase`)],n),n},zke=class extends D1{constructor(e){super(),this.type=`aggregate`,this.featureReductionProvider=e}get id(){return this.featureReductionProvider.id}get[jL](){let e=this.featureReductionProvider.featureReduction;return e&&`popupTemplate`in e?e:null}},J6=class extends Y(R){constructor(e){super(e),this.expression=null,this.title=null,this.returnType=null}};O([P({type:String,json:{write:!0}})],J6.prototype,`expression`,void 0),O([P({type:String,json:{write:!0}})],J6.prototype,`title`,void 0),O([P({type:String,json:{write:!0}})],J6.prototype,`returnType`,void 0),J6=O([F(`esri.layers.support.ExpressionInfo`)],J6);var Y6,X6=class extends R{static{Y6=this}constructor(e){super(e),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new Y6({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:A(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};O([P({type:Boolean,json:{write:!0}})],X6.prototype,`isAutoGenerated`,void 0),O([P({type:String,json:{write:!0}})],X6.prototype,`name`,void 0),O([P({type:String,json:{write:!0}})],X6.prototype,`alias`,void 0),O([P({type:String,json:{write:!0}})],X6.prototype,`onStatisticField`,void 0),O([P({type:J6,json:{write:!0}})],X6.prototype,`onStatisticExpression`,void 0),O([P({type:String,json:{write:!0}})],X6.prototype,`statisticType`,void 0),X6=Y6=O([F(`esri.layers.support.AggregateField`)],X6);var Z6=class extends R{constructor(){super(...arguments),this.type=null}};O([P({type:[`selection`,`cluster`,`binning`],readOnly:!0,json:{read:!1,write:!0}})],Z6.prototype,`type`,void 0),Z6=O([F(`esri.layers.support.FeatureReduction`)],Z6);var Q6=`__begin__`,$6=`__end__`,Bke=new RegExp(Q6,`ig`),Vke=new RegExp($6,`ig`),e8=RegExp(`^`+Q6,`i`),t8=RegExp($6+`$`,`i`),n8=`"`,Hke=n8+` + `,Uke=` + `+n8;function r8(e){return e.replaceAll(RegExp(`\\[`,`g`),`{`).replaceAll(RegExp(`\\]`,`g`),`}`)}function Wke(e){return e.replaceAll(RegExp(`\\{`,`g`),`[`).replaceAll(RegExp(`\\}`,`g`),`]`)}function i8(e){let t={expression:``,type:`none`};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type=`conventional`):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type=`arcade`):e.labelExpression!=null&&(t.expression=r8(e.labelExpression),t.type=`conventional`),t}function Gke(e){let t=i8(e);if(!t)return null;switch(t.type){case`conventional`:return a8(t.expression);case`arcade`:return t.expression}return null}function Kke(e){let t=i8(e);if(!t)return null;switch(t.type){case`conventional`:return Jke(t.expression);case`arcade`:return o8(t.expression)}return null}function a8(e){let t;return e?(t=xl(e,e=>Q6+`$feature["`+e+`"]__end__`),t=e8.test(t)?t.replace(e8,``):n8+t,t=t8.test(t)?t.replace(t8,``):t+n8,t=t.replaceAll(Bke,Hke).replaceAll(Vke,Uke)):t=`""`,t}var qke=/^\s*\{([^}]+)\}\s*$/i;function Jke(e){return(e?.match(qke))?.[1].trim()||null}var Yke=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,Xke=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,Zke=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function o8(e){if(!e)return null;let t=Yke.exec(e)||Xke.exec(e);return t?t[1]||t[3]:(t=Zke.exec(e),t?t[2]:null)}var s8,c8=class extends R{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}static{s8=this}readExpression(e,t){return t.value?a8(t.value):e}writeExpression(e,t,n){this.value!=null&&(e=a8(this.value)),e!=null&&(t[n]=e)}clone(){return new s8({expression:this.expression,title:this.title,value:this.value})}};O([P({type:String,json:{write:{writerEnsuresNonNull:!0}}})],c8.prototype,`expression`,void 0),O([W(`expression`,[`expression`,`value`])],c8.prototype,`readExpression`,null),O([z(`expression`)],c8.prototype,`writeExpression`,null),O([P({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],c8.prototype,`title`,void 0),O([P({json:{read:!1,write:!1}})],c8.prototype,`value`,void 0),c8=s8=O([F(`esri.layers.support.LabelExpressionInfo`)],c8);var l8,u8=new P_({esriServerPointLabelPlacementAboveCenter:`above-center`,esriServerPointLabelPlacementAboveLeft:`above-left`,esriServerPointLabelPlacementAboveRight:`above-right`,esriServerPointLabelPlacementBelowCenter:`below-center`,esriServerPointLabelPlacementBelowLeft:`below-left`,esriServerPointLabelPlacementBelowRight:`below-right`,esriServerPointLabelPlacementCenterCenter:`center-center`,esriServerPointLabelPlacementCenterLeft:`center-left`,esriServerPointLabelPlacementCenterRight:`center-right`,esriServerLinePlacementAboveAfter:`above-after`,esriServerLinePlacementAboveAlong:`above-along`,esriServerLinePlacementAboveBefore:`above-before`,esriServerLinePlacementAboveStart:`above-start`,esriServerLinePlacementAboveEnd:`above-end`,esriServerLinePlacementBelowAfter:`below-after`,esriServerLinePlacementBelowAlong:`below-along`,esriServerLinePlacementBelowBefore:`below-before`,esriServerLinePlacementBelowStart:`below-start`,esriServerLinePlacementBelowEnd:`below-end`,esriServerLinePlacementCenterAfter:`center-after`,esriServerLinePlacementCenterAlong:`center-along`,esriServerLinePlacementCenterBefore:`center-before`,esriServerLinePlacementCenterStart:`center-start`,esriServerLinePlacementCenterEnd:`center-end`,esriServerPolygonPlacementAlwaysHorizontal:`always-horizontal`},{ignoreUnknown:!0});function d8(e,t,n){return{enabled:!hT(n?.layer)}}function f8(e){return!e||e.origin!==`service`&&e.layer?.type!==`map-image`}function Qke(e){return e?.type===`map-image`}function p8(e){return!!Qke(e)&&!!e.capabilities?.exportMap?.supportsArcadeExpressionForLabeling}function $ke(e){return f8(e)||p8(e?.layer)}var m8=class extends R{static{l8=this}static evaluateWhere(e,t){let n=(e,t,n)=>{switch(t){case`=`:return e==n;case`<>`:return e!=n;case`>`:return e>n;case`>=`:return e>=n;case`<`:return e<n;case`<=`:return e<=n}return!1};try{if(e==null)return!0;let r=e.split(` `);if(r.length===3)return n(t[r[0]],r[1],r[2]);if(r.length===7){let e=n(t[r[0]],r[1],r[2]),i=r[3],a=n(t[r[4]],r[5],r[6]);switch(i){case`AND`:return e&&a;case`OR`:return e||a}}return!1}catch{}}constructor(e){super(e),this.type=`label`,this.name=null,this.allowOverrun=!1,this.deconflictionStrategy=`static`,this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition=`curved`,this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=AOe,this.useCodedValues=void 0,this.where=null}readLabelExpression(e,t){let n=t.labelExpressionInfo;if(!n||!n.value&&!n.expression)return e}writeLabelExpression(e,t,n){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)e=Wke(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){let t=o8(this.labelExpressionInfo.expression);t&&(e=`[`+t+`]`)}}e!=null&&(t[n]=e)}writeLabelExpressionInfo(e,t,n,r){if(e==null&&this.labelExpression!=null&&f8(r))e=new c8({expression:this.getLabelExpressionArcade()});else if(!e)return;let i=e.toJSON(r);i.expression&&(t[n]=i)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return i8(this)}getLabelExpressionArcade(){return Gke(this)}getLabelExpressionSingleField(){return Kke(this)}hash(){return JSON.stringify(this)}clone(){return new l8({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:A(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:A(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};O([P({type:String,json:{write:!0}})],m8.prototype,`name`,void 0),O([P({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:d8}}}}})],m8.prototype,`allowOverrun`,void 0),O([P({type:String,json:{write:!0,default:`static`,origins:{"web-scene":{write:!1},"portal-item":{default:`static`,write:{overridePolicy:d8}}}}})],m8.prototype,`deconflictionStrategy`,void 0),O([P({type:String,json:{write:{overridePolicy(e,t,n){return this.labelExpressionInfo&&n?.origin===`service`&&p8(n.layer)?{enabled:!1}:{allowNull:!0}}}}})],m8.prototype,`labelExpression`,void 0),O([W(`labelExpression`)],m8.prototype,`readLabelExpression`,null),O([z(`labelExpression`)],m8.prototype,`writeLabelExpression`,null),O([P({type:c8,json:{write:{overridePolicy:(e,t,n)=>$ke(n)?{allowNull:!0}:{enabled:!1}}}})],m8.prototype,`labelExpressionInfo`,void 0),O([z(`labelExpressionInfo`)],m8.prototype,`writeLabelExpressionInfo`,null),O([P({type:u8.apiValues,json:{type:u8.jsonValues,read:u8.read,write:u8.write}})],m8.prototype,`labelPlacement`,void 0),O([P({type:[`curved`,`parallel`],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],m8.prototype,`labelPosition`,void 0),O([P({type:Number})],m8.prototype,`maxScale`,void 0),O([z(`maxScale`)],m8.prototype,`writeMaxScale`,null),O([P({type:Number})],m8.prototype,`minScale`,void 0),O([z(`minScale`)],m8.prototype,`writeMinScale`,null),O([P({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:d8}}}}})],m8.prototype,`repeatLabel`,void 0),O([P({type:Number,cast:fj,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:d8}}}}})],m8.prototype,`repeatLabelDistance`,void 0),O([P({types:Pge,json:{origins:{"web-scene":{types:Fge,write:n3,default:null}},write:n3,default:null}})],m8.prototype,`symbol`,void 0),O([P({type:Boolean,json:{write:!0}})],m8.prototype,`useCodedValues`,void 0),O([P({type:String,json:{write:!0}})],m8.prototype,`where`,void 0),m8=l8=O([F(`esri.layers.support.LabelClass`)],m8);var h8,g8=h8=class extends R{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new h8({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?.clone()??null})}getMeshHash(){let e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};O([P({type:String,json:{write:!0}})],g8.prototype,`description`,void 0),O([P({type:String,json:{write:!0}})],g8.prototype,`label`,void 0),O([P({type:Number,json:{read:{source:`classMinValue`},write:{target:`classMinValue`}}})],g8.prototype,`minValue`,void 0),O([P({type:Number,json:{read:{source:`classMaxValue`},write:{target:`classMaxValue`}}})],g8.prototype,`maxValue`,void 0),O([P(o3)],g8.prototype,`symbol`,void 0),g8=h8=O([F(`esri.renderers.support.ClassBreakInfo`)],g8);var _8,v8=`log`,y8=`percent-of-total`,b8=`field`,x8=new P_({esriNormalizeByLog:v8,esriNormalizeByPercentOfTotal:y8,esriNormalizeByField:b8}),eAe=ag(g8),S8=_8=class extends W4(e4){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type=`class-breaks`,this.valueExpression=null,this.valueExpressionTitle=null,this._set(`classBreakInfos`,[])}readClassBreakInfos(e,t,n){if(!Array.isArray(e))return;let r=t.minValue;return e.map(e=>{let t=new g8;return t.read(e,n),t.minValue??=r,t.maxValue??=t.minValue,r=t.maxValue,t})}writeClassBreakInfos(e,t,n,r){let i=e.map(e=>e.write({},r));this._areClassBreaksConsecutive()&&i.forEach(e=>delete e.classMinValue),t[n]=i}castField(e){return e==null?e:typeof e==`function`?(j.getLogger(this).error(`.field: field must be a string value`),null):Jh(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get(`normalizationType`),t=!!this.normalizationField,n=this.normalizationTotal!=null;return t||n?(e=t&&b8||n&&y8||null,t&&n&&j.getLogger(this).warn(`warning: both normalizationField and normalizationTotal are set!`)):e!==b8&&e!==y8||(e=null),e}set normalizationType(e){this._set(`normalizationType`,e)}addClassBreakInfo(e,t,n){let r=null;r=typeof e==`number`?new g8({minValue:e,maxValue:t,symbol:wB(n)}):eAe(A(e)),this.classBreakInfos.push(r),this.classBreakInfos.length===1&&this.notifyChange(`minValue`)}removeClassBreakInfo(e,t){let n=this.classBreakInfos.length;for(let r=0;r<n;r++){let n=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(n[0]===e&&n[1]===t){this.classBreakInfos.splice(r,1);break}}}getBreakIndex(e,t){return this.valueExpression&&t?.arcade==null&&j.getLogger(this).warn(``),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let n=t;this.valueExpression&&t?.arcade==null&&(n={...n,arcade:await FP()});let r=this.getBreakIndex(e,n);return r===-1?null:this.classBreakInfos[r]}getSymbol(e,t){if(this.valueExpression&&t?.arcade==null)return void j.getLogger(this).error(`#getSymbol()`,`Please use getSymbolAsync if valueExpression is used`);let n=this.getBreakIndex(e,t);return n>-1?this.classBreakInfos[n].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let n=t;if(this.valueExpression&&t?.arcade==null){let e=await FP(),{arcadeUtils:t}=e;t.hasGeometryOperations(this.valueExpression)&&await t.enableGeometryOperations(),n={...n,arcade:e}}let r=this.getBreakIndex(e,n);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}get symbols(){let e=[];return this.classBreakInfos.forEach(t=>{t.symbol&&e.push(t.symbol)}),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables?.reduce((e,t)=>e+t.getAttributeHash(),``)??``}getMeshHash(){let e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),n=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce((e,t)=>e+t.getMeshHash(),``)}.${n}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new _8({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol?.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol?.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:A(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:A(this.visualVariables),legendOptions:A(this.legendOptions),authoringInfo:A(this.authoringInfo)})}async collectRequiredFields(e,t){let n=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(n)}async collectSymbolFields(e,t){let n=[...this.symbols.map(n=>n.collectRequiredFields(e,t)),WP(e,t,null,this.valueExpression)];UP(e,t,this.field),UP(e,t,this.normalizationField),await Promise.all(n)}_getBreakIndexForExpression(e,t){let{viewingMode:n,scale:r,spatialReference:i,arcade:a,timeZone:o}=t??{},{valueExpression:s}=this,c=this._compiledValueExpression.valueExpression===s?this._compiledValueExpression.compiledFunction:null,l=a.arcadeUtils;if(!c){let e=l.createSyntaxTree(s);c=l.createFunction(e),this._compiledValueExpression.compiledFunction=c}this._compiledValueExpression.valueExpression=s;let u=l.executeFunction(c,l.createExecContext(e,l.getViewInfo({viewingMode:n,scale:r,spatialReference:i}),o));return this._getBreakIndexfromInfos(u)}_getBreakIndexForField(e){let t=this.field,n=e.attributes,r=this.normalizationType,i=parseFloat(n[t]);if(r){let e=this.normalizationTotal,t=parseFloat(this.normalizationField?n[this.normalizationField]:void 0);if(r===v8)i=Math.log(i)*Math.LOG10E;else if(r!==y8||e==null||isNaN(e)){if(r===b8&&!isNaN(t)){if(isNaN(i)||isNaN(t))return-1;i/=t}}else i=i/e*100}return this._getBreakIndexfromInfos(i)}_getBreakIndexfromInfos(e){let t=this.isMaxInclusive;if(e!=null&&typeof e==`number`&&!isNaN(e))for(let n=0;n<this.classBreakInfos.length;n++){let r=[this.classBreakInfos[n].minValue,this.classBreakInfos[n].maxValue];if(r[0]<=e&&(t?e<=r[1]:e<r[1]))return n}return-1}_areClassBreaksConsecutive(){let e=this.classBreakInfos,t=e.length;for(let n=1;n<t;n++)if(e[n-1].maxValue!==e[n].minValue)return!1;return!0}};O([P(s3)],S8.prototype,`backgroundFillSymbol`,void 0),O([P({type:[g8],json:{write:{isRequired:!0}}})],S8.prototype,`classBreakInfos`,void 0),O([W(`classBreakInfos`)],S8.prototype,`readClassBreakInfos`,null),O([z(`classBreakInfos`)],S8.prototype,`writeClassBreakInfos`,null),O([P({type:String,json:{write:!0}})],S8.prototype,`defaultLabel`,void 0),O([P(a3)],S8.prototype,`defaultSymbol`,void 0),O([P({type:String,json:{write:!0}})],S8.prototype,`field`,void 0),O([Sy(`field`)],S8.prototype,`castField`,null),O([P({type:Boolean})],S8.prototype,`isMaxInclusive`,void 0),O([P({type:b3,json:{write:!0}})],S8.prototype,`legendOptions`,void 0),O([P({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],S8.prototype,`minValue`,null),O([P({type:String,json:{write:!0}})],S8.prototype,`normalizationField`,void 0),O([P({type:Number,json:{write:!0}})],S8.prototype,`normalizationTotal`,void 0),O([P({type:x8.apiValues,value:null,json:{type:x8.jsonValues,read:x8.read,write:x8.write}})],S8.prototype,`normalizationType`,null),O([J({classBreaks:`class-breaks`})],S8.prototype,`type`,void 0),O([P({type:String,json:{write:!0}})],S8.prototype,`valueExpression`,void 0),O([P({type:String,json:{write:!0}})],S8.prototype,`valueExpressionTitle`,void 0),S8=_8=O([F(`esri.renderers.ClassBreaksRenderer`)],S8);var tAe=-3,nAe=!!k(`esri-tests-disable-gpu-memory-measurements`),C8=class{get size(){return this._size}constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._users=new Map,this._sizeLimits=new Map}destroy(){this.clearAll(),this._sizeLimits.clear(),this._users.clear(),this._db=null}register(e){this._users.set(e.id.slice(0,-1),e)}deregister(e){this.clear(e),this._sizeLimits.delete(e),this._users.delete(e.id.slice(0,-1))}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,-1),this._checkSize()}getSize(e,t){return this._db.get(e.id+t)?.size??0}put(e,t,n,r,i){t=e.id+t;let a=this._db.get(t);if(a&&(this._size-=a.size,e.size-=a.size,this._db.delete(t),a.entry!==n&&this._notifyRemove(t,a.entry,a.size,0)),r>this._maxSize)return void this._notifyRemove(t,n,r,0);if(n===void 0)return void console.warn(`Refusing to cache undefined entry `);if(!r||r<0)return nAe||console.warn(`Refusing to cache entry with size ${r} for key ${t}`),void this._notifyRemove(t,n,0,0);let o=1+Math.max(i,-4)- -3;this._db.set(t,new rAe(n,r,o)),this._size+=r,e.size+=r,this._checkSize()}updateSize(e,t){t=e.id+t;let n=this._db.get(t);if(!n)return;this._size-=n.size,e.size-=n.size;let r=n.entry.usedMemory;for(;r>this._maxSize;){let e=this._notifyRemove(t,n.entry,r,1);if(!(e!=null&&e>0))return void this._db.delete(t);r=e}n.size=r,this._size+=r,e.size+=r,this._checkSize()}pop(e,t){t=e.id+t;let n=this._db.get(t);if(n)return this._size-=n.size,e.size-=n.size,this._db.delete(t),++this._hit,n.entry;++this._miss}get(e,t){t=e.id+t;let n=this._db.get(t);if(n!==void 0)return this._db.delete(t),n.lives=n.lifetime,this._db.set(t,n),++this._hit,n.entry;++this._miss}peek(e,t){let n=this._db.get(e.id+t);return n?++this._hit:++this._miss,n?.entry}get performanceInfo(){let e={Size:Math.round(this._size/1048576)+`/`+Math.round(this._maxSize/1048576)+`MB`,"Hit rate":Math.round(100*this._getHitRate())+`%`,Entries:this._db.size.toString()},t={},n=[];this._db.forEach((e,r)=>{let i=e.lifetime;n[i]=(n[i]||0)+e.size,this._users.forEach(n=>{let{id:i,name:a}=n;r.startsWith(i)&&(t[a]=(t[a]||0)+e.size)})});let r={};this._users.forEach(e=>{let n=e.name;`hitRate`in e&&typeof e.hitRate==`number`&&!isNaN(e.hitRate)&&e.hitRate>0?(t[n]=t[n]||0,r[n]=Math.round(100*e.hitRate)+`%`):r[n]=`0%`});let i=Object.keys(t);i.sort((e,n)=>t[n]-t[e]),i.forEach(n=>e[n]=Math.round(t[n]/2**20)+`MB / `+r[n]);for(let t=n.length-1;t>=0;--t){let r=n[t];r&&(e[`Priority `+(t+-3-1)]=Math.round(r/this._size*100)+`%`)}return e}resetStats(){this._hit=this._miss=0,this._users.forEach(e=>e.resetHitRate())}clear(e){let t=e.id;this._db.forEach((e,n)=>{n.startsWith(t)&&(this._size-=e.size,this._db.delete(n),this._notifyRemove(n,e.entry,e.size,0))}),e.size=0}clearAll(){this._db.forEach((e,t)=>this._notifyRemove(t,e.entry,e.size,0)),this._users.forEach(e=>e.size=0),this._size=0,this._db.clear()}*values(e){for(let[t,n]of this._db)t.startsWith(e.id)&&(yield n.entry)}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(e,t,n,r){let i=this._users.get(e.split(w8)[0])?.removeFunc,a=i?.(t,r,n);return typeof a==`number`?a:null}_checkSize(){this._sizeLimits.forEach((e,t)=>this._checkSizeLimits(e,t)),this._checkSizeLimits(this.maxSize)}setMaxSize(e,t){t==null||t<=0?this._sizeLimits.delete(e):this._sizeLimits.set(e,t)}_checkSizeLimits(e,t){let n=t??this;if(n.size<=e)return;let r=t?.id,i=!0;for(;i;){i=!1;for(let[a,o]of this._db)if(o.lifetime===0&&(!r||a.startsWith(r))){let r=t??this._users.get(a.split(w8)[0]);if(this._purgeItem(a,o,r),n.size<=.9*e)return;i||=this._db.has(a)}}for(let[i,a]of this._db)if(!r||i.startsWith(r)){let r=t??this._users.get(i.split(w8)[0]);if(this._purgeItem(i,a,r),n.size<=.9*e)return}}_purgeItem(e,t,n){if(this._db.delete(e),t.lives<=1){this._size-=t.size,n&&(n.size-=t.size);let r=this._notifyRemove(e,t.entry,t.size,1);r!=null&&r>0&&(this._size+=r,n&&(n.size+=r),t.lives=t.lifetime,t.size=r,this._db.set(e,t))}else --t.lives,this._db.set(e,t)}};new C8(0);var rAe=class{constructor(e,t,n){this.entry=e,this.size=t,this.lifetime=n,this.lives=n}},w8=`:`,T8=class{constructor(e,t){this.removeFunc=t,this._storage=new C8,this.id=``,this.name=``,this.size=0,this._storage.maxSize=e,this._storage.register(this)}destroy(){this._storage.deregister(this),this._storage.destroy(),this._storage=null}put(e,t,n=1){this._storage.put(this,e,t,n,1)}pop(e){return this._storage.pop(this,e)}get(e){return this._storage.get(this,e)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}resetHitRate(){}},E8=class e{static parse(t,n,r){let i=[],a=[],o=t.split(`;`);for(let e=0;e<o.length;e++){let t=o[e];if(t){if(t.includes(`po:`)){let e=t.slice(3).split(`|`);if(e.length===3){let[t,n,r]=e,i=aAe(t,n,r);i&&a.push(i)}continue}if(t.includes(`|`)){for(let e of t.split(`|`))if(n.has(e)){i.push(e);break}}else if(n.has(t))i.push(t);else if(e===0){i.length=0,i.push(oAe(r));break}}}return new e(i,a)}constructor(e,t){this.partNames=e,this.overrides=t}};function iAe(e,t){if(e===`DashTemplate`)return t.split(` `).map(e=>Number(e));if(e===`Color`){let e=new lE(t).toRgba();return[e[0],e[1],e[2],255*e[3]]}return Number(t)}function aAe(e,t,n){return{primitiveName:e,propertyName:t,value:iAe(t,n),defaultValue:null}}function oAe(e){switch(e){case`esriGeometryPolyline`:return`Invalid_L`;case`esriGeometryPolygon`:return`Invalid_A`;default:return`Invalid_P`}}var D8=class{static{this.instance=new wx(`Etc/UTC`)}};function O8(e){return e instanceof yx?e===D8.instance:e?.toString().toLowerCase()===`unknown`}function sAe(e){return O8(e)?D8.instance:e}function cAe(e){return`timeZone`in e}function lAe(e){return`timeZone`in e}function uAe(e){return`dateFieldsTimeZone`in e}var dAe=new Map,k8=class e{static fromJSON(t){return new e(t.fields,t.timeZoneByFieldName)}static fromLayer(t){return new e(t.fields??[],N8(t))}static fromLayerJSON(t){return new e(t.fields??[],N8(t))}constructor(e=[],t){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=e||[],this._timeZoneByFieldName=t?new Map(t):null;let n=[];for(let e of this.fields){let t=e?.name,r=j8(t);if(t&&r){let i=A8(t);this._fieldsMap.set(t,e),this._fieldsMap.set(i,e),this._normalizedFieldsMap.set(r,e),n.push(`${i}:${e.type}:${this._timeZoneByFieldName?.get(t)}`),oF(e)?(this.dateFields.push(e),this._dateFieldsSet.add(e)):iF(e)&&(this._numericFieldsSet.add(e),this.numericFields.push(e)),uF(e)||dF(e)||(e.editable=e.editable==null||!!e.editable,e.nullable=e.nullable==null||!!e.nullable)}}n.sort(),this.uid=n.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(let e of this.fields)uF(e)||dF(e)||e.nullable||QP(e)!==void 0||this._requiredFields.push(e)}return this._requiredFields}equals(e){return this.uid===e?.uid}has(e){return this.get(e)!=null}get(e){if(!e)return;let t=this._fieldsMap.get(e);return t||(t=this._fieldsMap.get(A8(e))??this._normalizedFieldsMap.get(j8(e)),t&&this._fieldsMap.set(e,t),t)}getTimeZone(e){let t=this.get(e&&typeof e!=`string`?e.name:e);return t?this._timeZoneByFieldName?this._timeZoneByFieldName.get(t.name):t.type===`date`||t.type===`esriFieldTypeDate`?(j.getLogger(`esri.layers.support.FieldsIndex`).errorOnce(new M(`getTimeZone:no-timezone-information`,`no time zone information for field '${t.name}'`)),`UTC`):M8.has(t.type)?Wb:null:null}getLuxonTimeZone(e){let t=this.getTimeZone(e);return t?t===`unknown`?D8.instance:t===`UTC`?Rx.utcInstance:Cd(dAe,t,()=>wx.create(t)):null}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isTimeOnlyField(e){return lF(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){return this.get(e)?.name??void 0}toJSON(){return{fields:this.fields.map(e=>Nl(e)?e.toJSON():e),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}};function A8(e){return e.trim().toLowerCase()}function j8(e){return IP(e)?.toLowerCase()??``}var M8=new Set([`time-only`,`date-only`,`timestamp-offset`,`esriFieldTypeDateOnly`,`esriFieldTypeTimeOnly`,`esriFieldTypeTimestampOffset`]);function N8(e){let t=new Map;if(!e.fields)return t;let n=!0===e.datesInUnknownTimezone,{timeInfo:r,editFieldsInfo:i}=e,a=(r?`startField`in r?r.startField:r.startTimeField:``)??``,o=(r?`endField`in r?r.endField:r.endTimeField:``)??``,s=uAe(e)?e.dateFieldsTimeZone??null:e.dateFieldsTimeReference?dw(e.dateFieldsTimeReference):null,c=i?cAe(i)?i.timeZone??s:i.dateFieldsTimeReference?dw(i.dateFieldsTimeReference):s??`UTC`:null,l=r?lAe(r)?r.timeZone??s:r.timeReference?dw(r.timeReference):s:null,u=new Map([[A8(i?.creationDateField??``),c],[A8(i?.editDateField??``),c],[A8(a),l],[A8(o),l]]);for(let{name:r,type:i}of e.fields)if(M8.has(i))t.set(r,Wb);else if(i!==`date`&&i!==`esriFieldTypeDate`)t.set(r,null);else if(n)t.set(r,Wb);else{let e=u.get(A8(r??``))??s;t.set(r,e)}return t}var P8={TypeNotAllowedInFeature:`Feature attributes only support dates, numbers, strings, guids.`,LogicError:`Logic error - {reason}`,CannotCompareDateAndTime:`Cannot compare date or dateonly with timeonly types`,NeverReach:`Encountered unreachable logic`,AsyncNotEnabled:`Async Arcade must be enabled for this script`,ModuleAccessorMustBeString:`Module accessor must be a string`,ModuleExportNotFound:`Module has no export with provided identifier`,ModulesNotSupported:`Current profile does not support modules`,ArrayAccessMustBeNumber:`Array accessor must be a number`,FunctionNotFound:`Function not found`,FieldNotFound:`Key not found - {key}`,CircularModules:`Circular module dependencies are not allowed`,Cancelled:`Execution cancelled`,UnsupportedHashType:`Type not supported in hash function`,IllegalResult:`Value is not a supported return type`,PortalRequired:`Portal is required`,InvalidParameter:`Invalid parameter`,WrongNumberOfParameters:`Call with wrong number of parameters`,Unrecognized:`Unrecognized code structure`,UnrecognizedType:`Unrecognized type`,WrongSpatialReference:`Cannot work with geometry in this spatial reference. It is different to the execution spatial reference`,BooleanConditionRequired:`Conditions must use booleans`,NoFunctionInDictionary:`Dictionaries cannot contain functions.`,NoFunctionInArray:`Arrays cannot contain functions.`,NoFunctionInTemplateLiteral:`Template Literals do not expect functions by value.`,KeyAccessorMustBeString:`Accessor must be a string`,KeyMustBeString:`Object keys must be a string`,Immutable:`Object is immutable`,UnexpectedToken:`Unexpected token`,MemberOfNull:`Cannot access property of null object`,MaximumCallDepth:`Exceeded maximum function depth`,OutOfBounds:`Out of bounds`,InvalidIdentifier:`Identifier not recognized`,CallNonFunction:`Expression is not a function`,InvalidMemberAccessKey:`Cannot access value using a key of this type`,AssignModuleFunction:`Cannot assign function to module variable`,UnsupportUnaryOperator:`Unsupported unary operator`,UnsupportedOperator:`Unsupported operator`,LogicalExpressionOnlyBoolean:`Logical expressions must be boolean`,LogicExpressionOrAnd:`Logical expression can only be combined with || or &&`,CannotChangeTimeZoneTime:`Cannot change the timezone of a Time`,CannotChangeTimeZoneDateOnly:`Cannot change the timezone of a DateOnly`,FeatureSetDoesNotHaveSubtypes:`FeatureSet does not have subtypes`},fAe=class extends Error{constructor(...e){super(...e)}},F8=class e extends fAe{constructor(t,n){super(L8(n)+t.message,{cause:t}),this.loc=null,Error.captureStackTrace&&Error.captureStackTrace(this,e),n?.loc&&(this.loc=n.loc)}},I8=class e extends Error{constructor(t,n,r,i){super(`Execution error - `+L8(r)+xl(P8[n],i)),this.loc=null,this.declaredRootClass=`esri.arcade.arcadeexecutionerror`,Error.captureStackTrace&&Error.captureStackTrace(this,e),r?.loc&&(this.loc=r.loc)}};function L8(e){return e&&e.loc?`Line : ${e.loc.start?.line}, ${e.loc.start?.column}: `:``}var pAe=class e extends Error{constructor(t,n,r,i){super(`Compilation error - `+L8(r)+xl(P8[n],i)),this.loc=null,this.declaredRootClass=`esri.arcade.arcadecompilationerror`,Error.captureStackTrace&&Error.captureStackTrace(this,e),r?.loc&&(this.loc=r.loc)}},mAe=class e extends Error{constructor(){super(`Uncompilable code structures`),this.declaredRootClass=`esri.arcade.arcadeuncompilableerror`,Error.captureStackTrace&&Error.captureStackTrace(this,e)}};function hAe(e,t,n){return n.declaredRootClass===`esri.arcade.arcadeexecutionerror`||n.declaredRootClass===`esri.arcade.arcadecompilationerror`?n.loc===null&&t?.loc?new F8(n,{cause:n}):n:(n.declaredRootClass===`esri.arcade.featureset.support.featureseterror`||n.declaredRootClass===`esri.arcade.featureset.support.sqlerror`||n.declaredRootClass,t?.loc?new F8(n,{cause:n}):n)}var gAe={UnrecognizedUri:`Unrecognized uri - {uri}`,UnsupportedUriProtocol:`Unrecognized uri protocol`},_Ae=class e extends Error{constructor(t,n){super(xl(gAe[t],n)),this.declaredRootClass=`esri.arcade.arcademoduleerror`,Error.captureStackTrace&&Error.captureStackTrace(this,e)}};function R8(e){return e.toLowerCase().replaceAll(/[\s-]+/g,``)}var vAe=class{constructor(e,t){let n=new Map;for(let t of e){let e=R8(t);if(n.has(e))throw Error(`${t} already added as ${n.get(e)}`);n.set(e,t)}if(t!=null)for(let[e,r]of t){let t=R8(e);if(n.has(t))throw Error(`${e} already associated with ${n.get(t)}`);n.set(t,r)}this._enumMap=n}lookup(e){return this._enumMap.get(R8(e))}get(e){let t=this.lookup(e);if(t==null)throw new I8(null,`InvalidParameter`,null);return t}},yAe={TimeZoneNotRecognized:`Timezone identifier has not been recognized.`},bAe=class e extends Error{constructor(t,n){super(xl(yAe[t],n)),this.declaredRootClass=`esri.arcade.arcadedate.dateerror`,Error.captureStackTrace&&Error.captureStackTrace(this,e)}};function z8(e,t,n){return e<t?e-t:e>n?e-n:0}function B8(e,t,n){return e<t?t:e>n?n:e}var V8=class e{constructor(e){this._date=e,this.declaredRootClass=`esri.arcade.arcadedate`}static fromParts(t=0,n=1,r=1,i=0,a=0,o=0,s=0,c){if(isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(a)||isNaN(o)||isNaN(s))return null;let l=cw.local(t,n).daysInMonth,u=cw.fromObject({day:B8(r,1,l),year:t,month:B8(n,1,12),hour:B8(i,0,23),minute:B8(a,0,59),second:B8(o,0,59),millisecond:B8(s,0,999)},{zone:H8(c)});return u=u.plus({months:z8(n,1,12),days:z8(r,1,l),hours:z8(i,0,23),minutes:z8(a,0,59),seconds:z8(o,0,59),milliseconds:z8(s,0,999)}),new e(u)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??`system`}static arcadeDateAndZoneToArcadeDate(t,n){let r=H8(n);return t.isUnknownTimeZone||r===D8.instance?e.fromParts(t.year,t.monthJS+1,t.day,t.hour,t.minute,t.second,t.millisecond,r):new e(t._date.setZone(r))}static dateJSToArcadeDate(t){return new e(cw.fromJSDate(t,{zone:`system`}))}static dateJSAndZoneToArcadeDate(t,n=`system`){let r=H8(n);return new e(cw.fromJSDate(t,{zone:r}))}static unknownEpochToArcadeDate(t){return new e(cw.fromMillis(t,{zone:D8.instance}))}static unknownDateJSToArcadeDate(t){return new e(cw.fromMillis(t.getTime(),{zone:D8.instance}))}static epochToArcadeDate(t,n=`system`){let r=H8(n);return new e(cw.fromMillis(t,{zone:r}))}static dateTimeToArcadeDate(t){return new e(t)}clone(){return new e(this._date)}changeTimeZone(t){let n=H8(t);return e.dateTimeToArcadeDate(this._date.setZone(n))}static dateTimeAndZoneToArcadeDate(t,n){let r=H8(n);return t.zone===D8.instance||r===D8.instance?e.fromParts(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond,r):new e(t.setZone(r))}static nowToArcadeDate(t){let n=H8(t);return new e(cw.fromJSDate(new Date,{zone:n}))}static nowUTCToArcadeDate(){return new e(cw.utc())}get isSystem(){return this.timeZone===`system`||this.timeZone===e.systemTimeZoneCanonicalName}equals(e){return this.isSystem&&e.isSystem?this.toNumber()===e.toNumber():this.isUnknownTimeZone===e.isUnknownTimeZone&&this._date.equals(e._date)}get isUnknownTimeZone(){return this._date.zone===D8.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let e=this._date.weekday;return e>6&&(e=0),e}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return`unknown`;if(this._date.zone.type===`system`)return`system`;let e=this.zone;return e.type===`fixed`?e.fixed===0?`UTC`:e.formatOffset(0,`short`):e.name}stringify(){return JSON.stringify(this.toJSDate())}plus(t){return new e(this._date.plus(t))}diff(e,t){return this._date.diff(e._date,t)[t]}toISODate(){return this._date.toISODate()}toISOString(e){return e?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(e,t){return this._date.toISOTime({suppressMilliseconds:e,includeOffset:t&&!this.isUnknownTimeZone})}toFormat(e,t){return this.isUnknownTimeZone&&(e=e.replaceAll(`Z`,``)),this._date.toFormat(e,t)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat(`yyyy-LL-dd HH:mm:ss`)}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new e(this._date.toUTC())}toLocal(){return new e(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(t){if(!t)return null;let n=cw.fromISO(t,{setZone:!0});return new e(n)}};function H8(e,t=!0){if(e instanceof yx)return e;switch(R8(e)){case`system`:return`system`;case`utc`:return`UTC`;case`unknown`:return D8.instance}if(/^[+-]?[0-9]{1,2}(:[0-9]{2})?$/.test(e)){let t=Rx.parseSpecifier(`UTC`+(e.startsWith(`+`)||e.startsWith(`-`)?``:`+`)+e);if(t)return t}let n=wx.create(e);if(!n.isValid){if(t)throw new bAe(`TimeZoneNotRecognized`);return null}return n}function U8(e){e=e.replaceAll(/LTS|LT|L{1,4}|l{1,4}/g,`[$&]`);let t=``;for(let n of e.match(/(\[[^[]*\])|(\\)?([Hh]mm(ss)?|Mo|M{1,4}|Do|DDDo|D{1,4}|d{2,4}|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g)||[])switch(n){case`D`:t+=`d`;break;case`DD`:t+=`dd`;break;case`DDD`:t+=`o`;break;case`d`:t+=`c`;break;case`ddd`:t+=`ccc`;break;case`dddd`:t+=`cccc`;break;case`M`:t+=`L`;break;case`MM`:t+=`LL`;break;case`MMM`:t+=`LLL`;break;case`MMMM`:t+=`LLLL`;break;case`YY`:t+=`yy`;break;case`Y`:case`YYYY`:t+=`yyyy`;break;case`Q`:t+=`q`;break;case`X`:case`x`:t+=n;break;default:n.length>=2&&n.startsWith(`[`)&&n.endsWith(`]`)?t+=`'${n.slice(1,-1)}'`:t+=`'${n}'`}return t}var W8=`esri.core.sql.dateonly`,G8=class e{constructor(e,t,n){this._year=e,this._month=t,this._day=n,this.declaredRootClass=W8}static isDateOnly(e){return typeof e==`object`&&!!e&&`declaredRootClass`in e&&e.declaredRootClass===W8}get month(){return this._month}get monthJS(){return this._month-1}get year(){return this._year}get day(){return this._day}get isValid(){return this.toDateTime(`unknown`).isValid}equals(t){return e.isDateOnly(t)&&t.day===this.day&&t.month===this.month&&t.year===this.year}clone(){return new e(this._year,this._month,this._day)}toDateTime(e){return cw.fromObject({day:this.day,month:this.month,year:this.year},{zone:H8(e)})}toDateTimeLuxon(e){return cw.fromObject({day:this.day,month:this.month,year:this.year},{zone:H8(e)})}toString(){return`${this.year.toString().padStart(4,`0`)}-${this.month.toString().padStart(2,`0`)}-${this.day.toString().padStart(2,`0`)}`}toFormat(e=null,t=!0){if(e===null||e===``)return this.toString();if(t&&(e=U8(e)),!e)return``;let n=this.toDateTime(`unknown`);return V8.dateTimeToArcadeDate(n).toFormat(e,{locale:pb(),numberingSystem:`latn`})}toArcadeDate(){let e=this.toDateTime(`unknown`);return V8.dateTimeToArcadeDate(e)}toNumber(){return this.toDateTime(`unknown`).toMillis()}toJSDate(){return this.toDateTime(`unknown`).toJSDate()}toStorageFormat(){return this.toFormat(`yyyy-LL-dd`,!1)}toSQLValue(){return this.toFormat(`yyyy-LL-dd`,!1)}toSQLWithKeyword(){return`date '`+this.toFormat(`yyyy-LL-dd`,!1)+`'`}plus(t,n){return e.fromDateTime(this.toUTCDateTime().plus({[t]:n}))}toUTCDateTime(){return cw.utc(this.year,this.month,this.day,0,0,0,0)}difference(e,t){switch(t.toLowerCase()){case`days`:case`day`:case`d`:return this.toUTCDateTime().diff(e.toUTCDateTime(),`days`).days;case`months`:case`month`:return this.toUTCDateTime().diff(e.toUTCDateTime(),`months`).months;case`minutes`:case`minute`:case`m`:return t===`M`?this.toUTCDateTime().diff(e.toUTCDateTime(),`months`).months:this.toUTCDateTime().diff(e.toUTCDateTime(),`minutes`).minutes;case`seconds`:case`second`:case`s`:return this.toUTCDateTime().diff(e.toUTCDateTime(),`seconds`).seconds;case`milliseconds`:case`millisecond`:case`ms`:default:return this.toUTCDateTime().diff(e.toUTCDateTime(),`milliseconds`).milliseconds;case`hours`:case`hour`:case`h`:return this.toUTCDateTime().diff(e.toUTCDateTime(),`hours`).hours;case`years`:case`year`:case`y`:return this.toUTCDateTime().diff(e.toUTCDateTime(),`years`).years}}static fromMilliseconds(t){let n=cw.fromMillis(t,{zone:Rx.utcInstance});return n.isValid?e.fromParts(n.year,n.month,n.day):null}static fromSeconds(t){let n=cw.fromSeconds(t,{zone:Rx.utcInstance});return n.isValid?e.fromParts(n.year,n.month,n.day):null}static fromReader(t){if(!t)return null;let n=t.split(`-`);return n.length===3?new e(parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)):null}static fromParts(t,n,r){let i=new e(t,n,r);return!1===i.isValid?null:i}static fromDateJS(t){return e.fromParts(t.getFullYear(),t.getMonth()+1,t.getDay())}static fromDateTime(t){return e.fromParts(t.year,t.month,t.day)}static fromSqlTimeStampOffset(e){return this.fromDateTime(e.toDateTime())}static fromString(t,n=null){if(t===``||t===null)return null;let r=[];if(n)(n=U8(n))&&r.push(n);else if(n===null||n===``){let n=cw.fromISO(t,{setZone:!0});return n.isValid?e.fromParts(n.year,n.month,n.day):null}for(let i of r){let r=cw.fromFormat(t,n??i);if(r.isValid)return new e(r.year,r.month,r.day)}return null}static fromNow(t=`system`){let n=cw.fromJSDate(new Date).setZone(H8(t));return new e(n.year,n.month,n.day)}};function xAe(e){if(e==null)return null;switch(e.type){case`polygon`:case`multipoint`:case`polyline`:return e.extent;case`point`:return new cb({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,spatialReference:e.spatialReference});case`extent`:return e}return null}function SAe(e){if(e==null)return null;let t=e.clone();return e.cache._geVersion!==void 0&&(t.cache._geVersion=e.cache._geVersion),t}function K8(e){return typeof e==`number`&&isFinite(e)&&Math.floor(e)===e}function q8(e){if(!e)return``;let t=/(a|A|hh?|HH?|mm?|ss?|SSS|S|.)/g,n=``;for(let r of e.match(t)||[])switch(r){case`SSS`:case`m`:case`mm`:case`h`:case`hh`:case`H`:case`HH`:case`s`:case`ss`:n+=r;break;case`A`:case`a`:n+=`a`;break;default:n+=`'${r}'`}return n}var J8=`esri.core.sql.timeonly`,Y8=class e{constructor(e,t,n,r){this._hour=e,this._minute=t,this._second=n,this._millisecond=r,this.declaredRootClass=J8}static isTimeOnly(e){return typeof e==`object`&&!!e&&`declaredRootClass`in e&&e.declaredRootClass===J8}get hour(){return this._hour}get minute(){return this._minute}get second(){return this._second}get millisecond(){return this._millisecond}equals(t){return e.isTimeOnly(t)&&t.hour===this.hour&&t.minute===this.minute&&t.second===this.second&&t.millisecond===this.millisecond}clone(){return new e(this.hour,this.minute,this.second,this.millisecond)}isValid(){return K8(this.hour)&&K8(this.minute)&&K8(this.second)&&K8(this.millisecond)&&this.hour>=0&&this.hour<24&&this.minute>=0&&this.minute<60&&this.second>=0&&this.second<60&&this.millisecond>=0&&this.millisecond<1e3}toString(){return`${this.hour.toString().padStart(2,`0`)}:${this.minute.toString().padStart(2,`0`)}:${this.second.toString().padStart(2,`0`)}`+(this.millisecond>0?`.`+this.millisecond.toString().padStart(3,`0`):``)}toSQLValue(){return this.toString()}toSQLWithKeyword(){return`time '${this.hour.toString().padStart(2,`0`)}:${this.minute.toString().padStart(2,`0`)}:${this.second.toString().padStart(2,`0`)}${this.millisecond>0?`.`+this.millisecond.toString().padStart(3,`0`):``}'`}toStorageString(){return`${this.hour.toString().padStart(2,`0`)}:${this.minute.toString().padStart(2,`0`)}:${this.second.toString().padStart(2,`0`)}`}toFormat(e=null){return e===null||e===``?this.toString():(e=q8(e))?cw.local(1970,1,1,this._hour,this._minute,this._second,this._millisecond).toFormat(e,{locale:pb(),numberingSystem:`latn`}):``}toNumber(){return this.millisecond+1e3*this.second+1e3*this.minute*60+60*this.hour*60*1e3}static fromParts(t,n,r,i){let a=new e(t,n,r,i);return a.isValid()?a:null}static fromReader(t){if(!t)return null;let n=t.split(`:`);return n.length===3?new e(parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10),0):null}static fromMilliseconds(t){if(t>864e5||t<0)return null;let n=Math.floor(t/1e3%60),r=Math.floor(t/6e4%60),i=Math.floor(t/36e5%24),a=Math.floor(t%1e3);return new e(i,r,n,a)}static fromDateJS(t){return new e(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}static fromDateTime(t){return new e(t.hour,t.minute,t.second,t.millisecond)}static fromSqlTimeStampOffset(e){return this.fromDateTime(e.toDateTime())}static fromString(t,n=null){if(t===``||t===null)return null;let r=[];n?(n=q8(n))&&r.push(n):n!==null&&n!==``||(r.push(`HH:mm:ss`),r.push(`HH:mm:ss.SSS`),r.push(`hh:mm:ss a`),r.push(`hh:mm:ss.SSS a`),r.push(`HH:mm`),r.push(`hh:mm a`),r.push(`H:mm`),r.push(`h:mm a`),r.push(`H:mm:ss`),r.push(`h:mm:ss a`),r.push(`H:mm:ss.SSS`),r.push(`h:mm:ss.SSS a`));for(let n of r){let r=cw.fromFormat(t,n);if(r.isValid)return new e(r.hour,r.minute,r.second,r.millisecond)}return null}plus(t,n){switch(t){case`days`:case`years`:case`months`:return this.clone();case`hours`:case`minutes`:case`seconds`:case`milliseconds`:return e.fromDateTime(this.toUTCDateTime().plus({[t]:n}))}return null}toUTCDateTime(){return cw.utc(1970,1,1,this.hour,this.minute,this.second,this.millisecond)}difference(e,t){switch(t.toLowerCase()){case`days`:case`day`:case`d`:return this.toUTCDateTime().diff(e.toUTCDateTime(),`days`).days;case`months`:case`month`:return this.toUTCDateTime().diff(e.toUTCDateTime(),`months`).months;case`minutes`:case`minute`:case`m`:return t===`M`?this.toUTCDateTime().diff(e.toUTCDateTime(),`months`).months:this.toUTCDateTime().diff(e.toUTCDateTime(),`minutes`).minutes;case`seconds`:case`second`:case`s`:return this.toUTCDateTime().diff(e.toUTCDateTime(),`seconds`).seconds;case`milliseconds`:case`millisecond`:case`ms`:default:return this.toUTCDateTime().diff(e.toUTCDateTime(),`milliseconds`).milliseconds;case`hours`:case`hour`:case`h`:return this.toUTCDateTime().diff(e.toUTCDateTime(),`hours`).hours;case`years`:case`year`:case`y`:return this.toUTCDateTime().diff(e.toUTCDateTime(),`years`).years}}},CAe=[`geometry`,`scale`,`timeProperties`];function wAe(e,t){if(t!=null)for(let n of CAe)t.hasArcadeDependency(n)&&e.add(n);return e}function TAe(e,t){return X8.create(e,t,null,[`$feature`,`$view`])}function EAe(e,t,n){return X8.create(e,t,n,[`$feature`,`$view`,`$config`])}var X8=class e{static async create(t,n,r,i){let{arcade:a,Dictionary:o}=await FP(),s;try{s=a.parseScript(t)}catch(e){throw new M(`arcade-bad-expression`,`Failed to parse arcade script`,{script:t,error:e})}let c=a.scriptUsesGeometryEngine(s);c&&await a.enableGeometrySupport(),await a.loadDependentModules(new Set,s,null,!1,c);let l={vars:i.reduce((e,t)=>({...e,[t]:null}),{}),spatialReference:n,useAsync:!1},u=a.compileScript(s,l),d=null;r!=null&&(d=new o(r),d.immutable=!0);let f=new o;return f.immutable=!1,f.setField(`scale`,0),new e(t,a,s,u,n,f,d,o)}constructor(e,t,n,r,i,a,o,s){this.script=e,this._arcade=t,this._syntaxTree=n,this._compiled=r,this._spatialReference=i,this._viewDict=a,this._configDict=o,this._dictionaryCtor=s,this._dependencies=new Map,this._featureReader=new Z8,this._dependencies.set(`geometry`,t.scriptTouchesGeometry(this._syntaxTree)),this._dependencies.set(`scale`,this._arcade.referencesMember(this._syntaxTree,`scale`)),this._dependencies.set(`timeProperties`,this._arcade.scriptUsesViewProperties(this._syntaxTree,[`timeProperties`]))}evaluate(e,t){let n=t.$view?.timeZone;if(t.$view){let e;if(this._viewDict.setField(`scale`,t.$view.scale),t.$view.timeProperties!=null){let{currentStart:r,currentEnd:i}=t.$view.timeProperties;e=new this._dictionaryCtor({currentStart:r==null?void 0:n==null?V8.unknownEpochToArcadeDate(r):V8.epochToArcadeDate(r,n),currentEnd:i==null?void 0:n==null?V8.unknownEpochToArcadeDate(i):V8.epochToArcadeDate(i,n),startIncluded:!0,endIncluded:!0})}this._viewDict.setField(`timeProperties`,e)}return this._compiled({vars:{$view:this._viewDict,$config:this._configDict,$feature:e},spatialReference:this._spatialReference,timeZone:n})}repurposeFeature(e,t){return this._featureReader.bind(e,t,this._spatialReference),this._featureReader}references(e){return this._dependencies.get(e)??!1}},Z8=class{constructor(){this._boundTarget=null,this._boundSchema={fields:null,fieldsIndex:null,spatialReference:null,get geometryType(){return null},get objectIdField(){return null}},this.arcadeDeclaredClass=`esri.arcade.Feature`,this._contextTimeZone=null}bind(e,t,n){let r=t??new k8(Q8(e.attributes));this._boundTarget=e,this._boundSchema.fields=r.fields,this._boundSchema.fieldsIndex=r,this._boundSchema.spatialReference=n}_getField(e){return this._boundSchema.fieldsIndex.get(e)}get contextTimeZone(){return this._contextTimeZone}set contextTimeZone(e){this._contextTimeZone=e}readArcadeFeature(){return this}hasField(e){return this._boundSchema.fieldsIndex.has(e)}geometry(){if(`fromJSON`in this._boundTarget)return this._boundTarget.geometry;let e=qj(this._boundTarget.geometry);if(e){if(!this._boundSchema.spatialReference)throw Error(`InternalError: Expected spatial reference to be defined`);e.spatialReference=this._boundSchema.spatialReference}return e}_hasGeometry(){return this._boundTarget.geometry!=null}isUnknownDateTimeField(e){return this._boundSchema.fieldsIndex.getTimeZone(e)===Wb}field(e,t=!0){let n=this._getField(e);if(n){let t=this._boundTarget.attributes[n.name];if(t==null)return null;switch(n.type){case`date-only`:case`esriFieldTypeDateOnly`:return G8.fromReader(t);case`time-only`:case`esriFieldTypeTimeOnly`:return Y8.fromReader(t);case`esriFieldTypeTimestampOffset`:case`timestamp-offset`:return V8.fromReaderAsTimeStampOffset(t);case`date`:case`esriFieldTypeDate`:return this.isUnknownDateTimeField(e)?V8.unknownEpochToArcadeDate(t):V8.epochToArcadeDate(t,this.contextTimeZone??`system`);default:return t}}if(t)throw Error(`Field ${e} does not exist`);return null}setField(e,t){throw Error(`Unable to update feature attribute values, feature is readonly`)}keys(){return this._boundSchema.fieldsIndex.fields.map(e=>e.name)}isEmpty(){return this._boundSchema.fields.length<=0&&!this._hasGeometry()}castToText(e=!1){return JSON.stringify(this._boundTarget)}gdbVersion(){return null}fullSchema(){return this._boundSchema}castAsJson(e=null){return{attributes:this._boundTarget.attributes,geometry:!0===e?.keepGeometryType?this.geometry():this.geometry()?.toJSON()??null}}castAsJsonAsync(e=null,t=null){return Promise.resolve(this.castAsJson(t))}};function Q8(e){let t=[];for(let n in e)t.push({name:n,alias:n,type:typeof e[n]==`string`?`esriFieldTypeString`:`esriFieldTypeDouble`});return t}var $8=class e{static async from(t,n,r){let i=t.dictionary_version?PZ.parse(t.dictionary_version):null,a=new Set(t.itemsNames),o={};if(n)for(let e in n)o[e]=n[e];if(t.authoringInfo.configuration)for(let e of t.authoringInfo.configuration)o.hasOwnProperty(e.name)||(o[e.name]=e.value);let s=new Set(t.authoringInfo.symbol);for(let e of Object.keys(r))s.delete(e);s.size&&j.getLogger(`esri.renderers.support.DictionaryScriptEvaluator`).warnOnce(`missing-fields: fieldMap entries for the following symbol fields are missing`,{symbolFields:s});let c=await EAe(t.expression,null,o);if(!c)throw new M(`dictionary-renderer:expression-error`,`Unable to create dictionary renderer expression`);let l=!i||!i.greaterEqual(4,0);l&&j.getLogger(`esri.renderers.support.DictionaryScriptEvaluator`).warnOnce(`Dictionary script does not support native field types. Applying fallback`,{version:i});let u=new DAe(r,l);return new e(l,a,c,u)}constructor(e,t,n,r){this._requiresFieldCoercionToString=e,this._itemNames=t,this._compiled=n,this._reader=r}get itemNames(){return this._itemNames}evaluate(e,t,n,r){try{return this._reader.bind(e,n,r),this._compiled.evaluate(this._reader,{$view:{scale:t}})}catch(e){j.getLogger(`esri.renderers.support.DictionaryScriptEvaluator`).warnOnce(`arcade: dictionary script evaluation failed`,{error:e})}return null}createDictionaryFieldsIndex(e){if(!this._requiresFieldCoercionToString)return new k8(e);let t=e.map(e=>({...e,type:`esriFieldTypeString`}));return new k8(t)}},DAe=class extends Z8{constructor(e,t){super(),this._fieldMap=e,this._requiresFieldCoercionToString=t}_getField(e){let t=this._fieldMap[e]??e;return this._boundSchema.fieldsIndex.get(t)}field(e){if(!this._requiresFieldCoercionToString)return super.field(e,!1);let t=this._getField(e);return t==null||this._boundTarget.attributes[t.name]==null?``:``+this._boundTarget.attributes[t.name]}},e5={Relative:0,Absolute:1},OAe={color:[128,128,128,1],outlinecolor:[0,0,0,1],backgroundcolor:[128,128,128,1],borderlinecolor:[0,0,0,1],tintcolor:[255,255,255,1]},t5={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:`Relative`,offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:`Draft`,anchorpointunits:`Relative`,offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:`Left`,kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:`Normal`,textstring:``,underline:!1,verticalalignment:`Bottom`,enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:`Round`,joinstyle:`Round`,miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:`Draft`,capstyle:`Round`,joinstyle:`Round`,miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:`Round`,joinstyle:`Round`,miterlimit:4,width:4,enable:!0,colorlocked:!1,gradientMethod:`AcrossLine`,gradientSize:75,gradientSizeUnits:e5.Relative,gradientType:`Discrete`,interval:5},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:`Draft`,enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGradientFill:{enable:!0,angle:90,gradientMethod:`Linear`,gradientSize:75,gradientSizeUnits:e5.Relative,gradientType:`Discrete`,interval:5},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:`OpenEnded`,width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:`NoConstraint`,offsetalongline:0},CIMGeometricEffectDonut:{method:`Mitered`,option:`Accurate`,width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:`FullGeometry`},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:`Square`,offset:1,option:`Fast`},CIMGeometricEffectRadial:{angle:0,length:5},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:`Sinus`},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:`WithHalfGap`,offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:`Both`,offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:`Fixed`,offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:`ClipAtBoundary`},CIMMarkerPlacementOnLine:{relativeto:`LineMiddle`,startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:`OnPolygon`,offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:`Loop`,repeatdelay:0,easing:`Linear`},CIMSymbolAnimationSize:{tosize:10},CIMSymbolAnimationScale:{scalefactor:1},CIMSymbolAnimationColor:{tocolor:[255,255,255,1]},CIMSymbolAnimationTransparency:{totransparency:0},CIMSymbolAnimationRotation:{torotation:0,rotateclockwise:!1},CIMSymbolAnimationOffset:{offsetx:0,offsety:0},CIMSymbolAnimationMoveAlongLine:{speed:30,distanceAlong:100}};function kAe(e){return typeof e==`function`}function AAe(e,t,n,r){return kAe(e)?e(t,n,r):e}function jAe(e){return[e.r,e.g,e.b,e.a]}var MAe=` /-,
`;function n5(e){let t=e.length;for(;t--;)if(!MAe.includes(e.charAt(t)))return!1;return!0}function NAe(e,t){let n=[],r=0,i=-1;do if(i=e.indexOf(`[`,r),i>=r){if(i>r){let t=e.slice(r,i);n.push([t,null,n5(t)])}if(r=i+1,i=e.indexOf(`]`,r),i>=r){if(i>r){let a=t[e.slice(r,i)];a&&n.push([null,a,!1])}r=i+1}}while(i!==-1);if(r<e.length){let t=e.slice(r);n.push([t,null,n5(t)])}return n}function PAe(e,t,n){let r=``,i=null;for(let n of t){let[t,a,o]=n;if(t!=null&&t!==``)o?i=t:(i!=null&&(r+=i,i=null),r+=t);else{let t=e.readAttribute(a);t!=null&&t!==``&&(i!==null&&(r+=i,i=null),r+=t)}}return r5(r,n)}function FAe(e,t,n,r){let i=``,a=null;for(let r of t){let[t,o,s]=r;if(t!=null&&t!==``)s?a=t:(a!=null&&(i+=a,a=null),i+=t);else{let t=o;n!=null&&(t=sje(o,n));let r=e.attributes[t];r!=null&&r!==``&&(a!=null&&(i+=a,a=null),i+=r)}}return r5(i,r)}function r5(e,t){switch(typeof e!=`string`&&(e=String(e)),t){case`LowerCase`:return e.toLowerCase();case`Allcaps`:return e.toUpperCase();default:return e}}function IAe(e,t,n,r,i,a,o=!0){let s=t/i,c=n/a,l=Math.ceil(s/2),u=Math.ceil(c/2);for(let n=0;n<a;n++)for(let d=0;d<i;d++){let f=4*(d+(o?a-n-1:n)*i),p=0,m=0,h=0,g=0,_=0,v=0,y=0,b=(n+.5)*c;for(let r=Math.floor(n*c);r<(n+1)*c;r++){let n=Math.abs(b-(r+.5))/u,i=(d+.5)*s,a=n*n;for(let n=Math.floor(d*s);n<(d+1)*s;n++){let o=Math.abs(i-(n+.5))/l,s=Math.sqrt(a+o*o);s>=-1&&s<=1&&(p=2*s*s*s-3*s*s+1,p>0&&(o=4*(n+r*t),y+=p*e[o+3],h+=p,e[o+3]<255&&(p=p*e[o+3]/250),g+=p*e[o],_+=p*e[o+1],v+=p*e[o+2],m+=p))}}r[f]=g/m,r[f+1]=_/m,r[f+2]=v/m,r[f+3]=y/h}}function i5(e){return e?[e[0],e[1],e[2],e[3]/255]:[0,0,0,0]}function LAe(e){return e.data?.symbol??null}function RAe(e){return e.type===`CIMVectorMarker`||e.type===`CIMPictureMarker`||e.type===`CIMBarChartMarker`||e.type===`CIMCharacterMarker`||e.type===`CIMPieChartMarker`||e.type===`CIMStackedBarChartMarker`}function zAe(e){return e.type===`CIMGradientStroke`||e.type===`CIMPictureStroke`||e.type===`CIMSolidStroke`}function BAe(e){return e!=null&&(e.type===`CIMGradientFill`||e.type===`CIMHatchFill`||e.type===`CIMPictureFill`||e.type===`CIMSolidFill`||e.type===`CIMWaterFill`)}function a5(e){return e!=null&&(e.type===`CIMMarkerPlacementAlongLineRandomSize`||e.type===`CIMMarkerPlacementAlongLineSameSize`||e.type===`CIMMarkerPlacementAlongLineVariableSize`||e.type===`CIMMarkerPlacementAtExtremities`||e.type===`CIMMarkerPlacementAtMeasuredUnits`||e.type===`CIMMarkerPlacementAtRatioPositions`||e.type===`CIMMarkerPlacementOnLine`||e.type===`CIMMarkerPlacementOnVertices`)}var VAe=(e,t=0)=>e==null||isNaN(e)?t:e,HAe=(e,t)=>e??t,UAe=(e,t)=>e??t,WAe=e=>e.tintColor?i5(e.tintColor):[255,255,255,1],GAe=class{constructor(e){this._import=e}getImportPromise(){return this._promise??=this._import().then(e=>this.module=e),this._promise}};function KAe(e){return new GAe(e)}function qAe(e){if(!e)return`normal`;switch(e.toLowerCase()){case`italic`:return`italic`;case`oblique`:return`oblique`;default:return`normal`}}function JAe(e){if(!e)return`normal`;switch(e.toLowerCase()){case`bold`:return`bold`;case`bolder`:return`bolder`;case`lighter`:return`lighter`;default:return`normal`}}function YAe(e){let t=`normal`,n=`normal`;if(e){let r=e.toLowerCase();r.includes(`italic`)?t=`italic`:r.includes(`oblique`)&&(t=`oblique`),r.includes(`bold`)?n=`bold`:r.includes(`light`)&&(n=`lighter`)}return{style:t,weight:n}}function XAe(e){return e.underline?`underline`:e.strikethrough?`line-through`:`none`}function o5(e){if(!e)return null;switch(e.type){case`CIMPolygonSymbol`:if(e.symbolLayers)for(let t of e.symbolLayers){let e=o5(t);if(e!=null)return e}break;case`CIMTextSymbol`:return o5(e.symbol);case`CIMSolidFill`:return e.color}return null}function s5(e){if(e)switch(e.type){case`CIMPolygonSymbol`:case`CIMLineSymbol`:{let t=e.symbolLayers;if(t)for(let e of t){let t=s5(e);if(t!=null)return t}break}case`CIMTextSymbol`:return s5(e.symbol);case`CIMSolidStroke`:return e.color}}function ZAe(e){for(let t of e)if(t.enable)switch(t.type){case`CIMSolidStroke`:case`CIMGradientStroke`:case`CIMPictureStroke`:return!0}return!1}function c5(e){if(e)switch(e.type){case`CIMPolygonSymbol`:case`CIMLineSymbol`:if(e.symbolLayers)for(let t of e.symbolLayers){let e=c5(t);if(e!==void 0)return e}break;case`CIMTextSymbol`:return c5(e.symbol);case`CIMSolidStroke`:case`CIMGradientStroke`:case`CIMPictureStroke`:return e.width}}function QAe(e){switch(e){case`Left`:default:return`left`;case`Right`:return`right`;case`Center`:case`Justify`:return`center`}}function $Ae(e){switch(e){case`Top`:default:return`top`;case`Center`:return`middle`;case`Baseline`:return`baseline`;case`Bottom`:return`bottom`}}function eje(e){return(e?Object.keys(e):[]).map(t=>({name:t,alias:t,type:typeof e[t]==`string`?`esriFieldTypeString`:`esriFieldTypeDouble`}))}var tje=e=>e.includes(`data:image/svg+xml`);function nje(e){if(!e)return null;switch(e.type){case`CIMPointSymbol`:case`CIMTextSymbol`:return`esriGeometryPoint`;case`CIMLineSymbol`:return`esriGeometryPolyline`;case`CIMPolygonSymbol`:return`esriGeometryPolygon`;default:return null}}function l5(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function rje(e,t,n,r,i,a,o=!0){let{infos:s}=a,c=1,l=0,u=0,d=0,f=1;for(let{absoluteAnchorPoint:e,offsetX:t,offsetY:n,rotation:r,size:i,frameHeight:a,rotateClockWise:p,scaleSymbolsProportionally:m}of s)f=e?1:c,u=h5(t,n,l,f,u),d=m5(t,n,l,f,d),a&&(m||o)&&(c*=i/a),l=g5(r,p,l);let p=h5(r,i,l,f,u),m=m5(r,i,l,f,d);return{size:e*c,rotation:g5(t,n,l),offsetX:p,offsetY:m}}function u5(e){if(e==null)return!1;if(Array.isArray(e))return e.every(e=>u5(e));switch(typeof e){case`string`:return!!e;case`number`:return!isNaN(e)}}function d5(e,t){if(t===`color`||t===`outlinecolor`||t===`backgroundcolor`||t===`borderlinecolor`||t===`tintcolor`)return[...OAe[t]];let n=t5[e];if(!n)throw Error(`InternalError: default value for type ${e}.`);return n[t]}function ije(e){return e.split(` `).map(e=>Number(e))}function f5(e){return typeof e==`string`?ije(e):e}function aje(e){return e?.dashTemplate&&(e.dashTemplate=f5(e.dashTemplate)),e}function p5(e){if(e==null)return`Normal`;switch(e.type){case`CIMTextSymbol`:return e.textCase??`Normal`;case`CIMPointSymbol`:case`CIMLineSymbol`:case`CIMPolygonSymbol`:{let t=e.symbolLayers;if(!t)return`Normal`;for(let e of t)if(e.type===`CIMVectorMarker`)return p5(e)}break;case`CIMVectorMarker`:{let t=e.markerGraphics;if(!t)return`Normal`;for(let e of t)if(e.symbol)return p5(e.symbol)}}return`Normal`}function oje(e){if(e)switch(e.type){case`CIMTextSymbol`:return e.height;case`CIMPointSymbol`:{let t=0;if(e.symbolLayers){for(let n of e.symbolLayers)if(n)switch(n.type){case`CIMCharacterMarker`:case`CIMPictureMarker`:case`CIMVectorMarker`:case`CIMObjectMarker3D`:case`CIMglTFMarker3D`:{let e=n.size??t5.CIMVectorMarker.size;e>t&&(t=e);break}}}return t}case`CIMLineSymbol`:case`CIMPolygonSymbol`:{let t=0;if(e.symbolLayers){for(let n of e.symbolLayers)if(n)switch(n.type){case`CIMSolidStroke`:case`CIMPictureStroke`:case`CIMGradientStroke`:{let e=n.width;e!=null&&e>t&&(t=e);break}case`CIMCharacterMarker`:case`CIMPictureMarker`:case`CIMVectorMarker`:case`CIMObjectMarker3D`:case`CIMglTFMarker3D`:if(n.markerPlacement&&a5(n.markerPlacement)){let e=n.size??t5.CIMVectorMarker.size;e>t&&(t=e)}break;case`CIMPictureFill`:{let e=n.height;e!=null&&e>t&&(t=e)}}}return t}}}function sje(e,t){if(t!==null){let n=t.get(e);return n?n.name:e}return e}function cje(e){return e.map(e=>({...e,propertyName:l5(e.propertyName)}))}function lje(e){let t={};for(let n in e){let r=e[n];t[l5(n)]=r}return t}function m5(e,t,n,r,i){let a=n*Math.PI/180;if(a){let n=Math.cos(a);return(Math.sin(a)*e+n*t)*r+i}return t*r+i}function h5(e,t,n,r,i){let a=n*Math.PI/180;return a?(Math.cos(a)*e-Math.sin(a)*t)*r+i:e*r+i}function g5(e,t,n){return t?n-e:n+e}function uje(e,t,n){let r=n===`Color`||n===`TintColor`||n===`ToColor`,i=n===`Rotation`||n===`Angle`||n===`ToRotation`,a=t[l5(n)];if(a!=null&&(r?a=[a[0]/255,a[1]/255,a[2]/255,a[3]/255]:i&&(a*=Math.PI/180)),a??(a=d5(t.type,n.toLowerCase()),a!=null&&(r?a=[a[0]/255,a[1]/255,a[2]/255,a[3]]:i&&(a*=Math.PI/180))),t.primitiveName!=null){let o=e[t.primitiveName];if(o!=null){let e=o[n];e==null||(typeof e==`string`||typeof e==`number`||Array.isArray(e)?(a=e,a!=null&&(r?a=[a[0]/255,a[1]/255,a[2]/255,a[3]/255]:i&&(a*=Math.PI/180))):(a={valueExpressionInfo:e,defaultValue:a},a!=null&&(r?a={type:`Process`,op:`ArcadeColor`,value:a}:i&&(a={type:`Process`,op:`Divide`,left:a,right:180/Math.PI}))))}}if(a==null)throw Error(`Failed to derive a value or an expression for "${n}".`);return a}function dje(e,t,n){if(t[l5(n)]!=null)return!0;if(t.primitiveName!=null){let r=e[t.primitiveName];if(r!=null&&r[n]!=null)return!0}return!1}function fje(e,t){return Math.max(Math.min((e??t)/100,1),0)}var pje={type:`CIMSimpleLineCallout`,lineSymbol:{type:`CIMLineSymbol`,symbolLayers:[{type:`CIMSolidStroke`,width:.5,color:[0,0,0,255]}]}},_5=class{constructor(e,t,n,r){this.url=e,this.fieldMap=n,this.dictionaryInfo=r,this._symbolPartCache=new T8(100),this._evaluator=(async()=>$8.from(await r,t,n))()}async getSymbolAsync(e,t,n=!0){let r=await this._evaluator,i=t?.fields??Q8(e.attributes),a=r.createDictionaryFieldsIndex(i),o=r.evaluate(e,t?.scale??0,a,t?.spatialReference);if(o==null)return null;let s=Jj(e.geometry),c=E8.parse(o,r.itemNames,s),l=s===`esriGeometryPoint`&&!e.geometry?.hasZ;return await this._cimPartsToCIMSymbol(e,c.partNames,c.overrides,l,t,n,a)}async getSymbolForControlString(e,t,n){let r=await this._evaluator,i=E8.parse(e,r.itemNames,t),a=t===`esriGeometryPoint`&&!n,o=v5(await Promise.all(i.partNames.map(e=>this._getSymbolPart(e))),i.overrides,a);return new LL({data:o})}async _cimPartsToCIMSymbol(e,t,n,r,i,a,o){let s=t.map(e=>this._getSymbolPart(e,i)),c=await Promise.all(s);if(a&&this.fieldMap&&c.length>0){let{OverrideHelper:t}=await N(async()=>{let{OverrideHelper:e}=await import(`./OverrideHelper-DUSfJggL.js`);return{OverrideHelper:e}},__vite__mapDeps([431,134,27,291,292]));c=A(c);for(let n of c)t.applyDictionaryTextOverrides(n,e,this.fieldMap,o,p5(n))}let l=v5(c,n,r);return new LL({data:l})}async _fetchSymbolPart(e,t){let n=await this.dictionaryInfo,r=(this.url+`/`+n.cimRefTemplateUrl).replaceAll(/\{itemName\}/gi,e),{data:i}=await gp(r,{responseType:`json`,query:{f:`json`},...t});return i}async _getSymbolPart(e,t){let n=this._symbolPartCache.get(e);return n||(n=this._fetchSymbolPart(e,t),this._symbolPartCache.put(e,n)),n}};function v5(e,t,n){if(!e||e.length===0)return null;let r={...e[0]};if(e.length>1){r.effects=null,r.symbolLayers=[];for(let t of e){let e=t;if(e.effects!=null)for(let t of e.symbolLayers)t.effects==null?t.effects=e.effects:t.effects.unshift(...e.effects);r.symbolLayers.unshift(...e.symbolLayers)}}return n&&(r.callout=pje),{type:`CIMSymbolReference`,symbol:r,primitiveOverrides:t}}var y5,b5=y5=class extends W4(e4){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type=`dictionary`}get _loader(){let e=this.getDictionaryInfo();return new _5(this.url,this.config,this.fieldMap??{},e)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:`number`})}writeVisualVariables(e,t,n,r){r?.origin||super.writeVisualVariables(e,t,n,r)}clone(){return new y5({config:A(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:A(this.fieldMap),url:A(this.url),visualVariables:A(this.visualVariables)})}async getSymbolAsync(e,t,n=!0){return this._loader.getSymbolAsync(e,t,n)}async getSymbolForControlString(e,t,n){return this._loader.getSymbolForControlString(e,t,n)}getDictionaryInfo(){return this._dictionaryInfoPromise||=this._fetchDictionaryInfo(),this._dictionaryInfoPromise}async collectRequiredFields(e,t){for(let n in await this.collectVVRequiredFields(e,t),this.scaleExpression&&await WP(e,t,null,this.scaleExpression),this.fieldMap){let r=this.fieldMap[n];t.has(r)&&e.add(r)}}get arcadeRequired(){return!0}getSymbol(){return null}get symbols(){return[]}getAttributeHash(){return this.visualVariables?.reduce((e,t)=>e+t.getAttributeHash(),``)??``}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}async _fetchDictionaryInfo(){let{data:e}=await gp(this.url+`/resources/styles/dictionary-info.json`,{responseType:`json`,query:{f:`json`}});return e}};O([P({type:_5})],b5.prototype,`_loader`,null),O([P({type:Object,json:{read:{source:`configuration`},write:{target:`configuration`}}})],b5.prototype,`config`,void 0),O([P({type:Object,json:{write:!0}})],b5.prototype,`fieldMap`,void 0),O([P({type:String,json:{read:{source:`scalingExpressionInfo.expression`},write:!0}})],b5.prototype,`scaleExpression`,void 0),O([z(`scaleExpression`)],b5.prototype,`writeData`,null),O([P({type:String,json:{read:{source:`scalingExpressionInfo.title`},write:{target:`scalingExpressionInfo.title`,overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],b5.prototype,`scaleExpressionTitle`,void 0),O([P({type:String,json:{write:!0}})],b5.prototype,`url`,void 0),O([z(`visualVariables`)],b5.prototype,`writeVisualVariables`,null),b5=y5=O([F(`esri.renderers.DictionaryRenderer`)],b5);var x5,S5=x5=class extends R{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return e==null?e:typeof e==`function`?(j.getLogger(this).error(`.field: field must be a string value`),null):Jh(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new x5({color:this.color?.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};O([P({type:lE,json:{type:[Number],write:!0}})],S5.prototype,`color`,void 0),O([P({type:String,json:{write:!0}})],S5.prototype,`field`,void 0),O([Sy(`field`)],S5.prototype,`castField`,null),O([P({type:String,json:{write:!0}})],S5.prototype,`label`,void 0),O([P({type:String,json:{write:!0}})],S5.prototype,`valueExpression`,void 0),O([P({type:String,json:{write:!0}})],S5.prototype,`valueExpressionTitle`,void 0),S5=x5=O([F(`esri.renderers.support.AttributeColorInfo`)],S5);var C5=S5,w5,T5=w5=class extends R{constructor(){super(...arguments),this.unit=null}clone(){return new w5({unit:this.unit})}};O([P({type:String,json:{write:!0}})],T5.prototype,`unit`,void 0),T5=w5=O([F(`esri.renderers.support.DotDensityLegendOptions`)],T5);var mje=T5,E5,D5=E5=class extends W4(e4){constructor(e){super(e),this.attributes=null,this.backgroundColor=new lE([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape=`square`,this.dotSize=1,this.legendOptions=null,this.outline=new Jz,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type=`dot-density`}set visualVariables(e){super.visualVariables=e}calculateDotValue(e){if(this.referenceScale==null)return this.dotValue;let t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new fB({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes?.reduce((e,t)=>e+t.getAttributeHash(),``)??``}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new E5({attributes:A(this.attributes),backgroundColor:A(this.backgroundColor),dotBlendingEnabled:A(this.dotBlendingEnabled),dotShape:A(this.dotShape),dotSize:A(this.dotSize),dotValue:A(this.dotValue),legendOptions:A(this.legendOptions),outline:A(this.outline),referenceScale:A(this.referenceScale),seed:A(this.seed),visualVariables:A(this.visualVariables),authoringInfo:A(this.authoringInfo)})}getControllerHash(){return`${this.attributes?.map(e=>e.field||e.valueExpression||``)}-${this.outline&&JSON.stringify(this.outline.toJSON())||``}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(let n of this.attributes??[])n.valueExpression&&await WP(e,t,null,n.valueExpression),n.field&&e.add(n.field)}};O([P({type:[C5],json:{write:!0}})],D5.prototype,`attributes`,void 0),O([P({type:lE,json:{write:!0}})],D5.prototype,`backgroundColor`,void 0),O([P({type:Boolean,json:{write:!0}})],D5.prototype,`dotBlendingEnabled`,void 0),O([P({type:String,json:{write:!1}})],D5.prototype,`dotShape`,void 0),O([P({type:Number,json:{write:!0}})],D5.prototype,`dotSize`,void 0),O([P({type:mje,json:{write:!0}})],D5.prototype,`legendOptions`,void 0),O([P({type:Jz,json:{default:null,write:!0}})],D5.prototype,`outline`,void 0),O([P({type:Number,json:{write:!0}})],D5.prototype,`dotValue`,void 0),O([P({type:Number,json:{write:!0}})],D5.prototype,`referenceScale`,void 0),O([P({type:Number,json:{write:!0}})],D5.prototype,`seed`,void 0),O([J({dotDensity:`dot-density`})],D5.prototype,`type`,void 0),D5=E5=O([F(`esri.renderers.DotDensityRenderer`)],D5);var O5,k5=O5=class extends R{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new O5({color:this.color&&this.color.clone(),ratio:this.ratio})}};O([P({type:lE,json:{type:[dg],default:null,write:{isRequired:!0}}})],k5.prototype,`color`,void 0),O([P({type:Number,json:{write:{isRequired:!0}}})],k5.prototype,`ratio`,void 0),k5=O5=O([F(`esri.renderers.support.HeatmapColorStop`)],k5);var A5=class extends Y(R){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};O([P({type:String,json:{write:!0}})],A5.prototype,`minLabel`,void 0),O([P({type:String,json:{write:!0}})],A5.prototype,`maxLabel`,void 0),O([P({type:String,json:{write:!0}})],A5.prototype,`title`,void 0),A5=O([F(`esri.renderers.support.HeatmapLegendOptions`)],A5);function hje(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function gje(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function _je(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function vje(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function yje(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function bje(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function xje(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function Sje(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function Cje(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function wje(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e}function Tje(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e}function Eje(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function Dje(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function Oje(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}function kje(e,t){let n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return Math.sqrt(n*n+r*r+i*i+a*a)}function j5(e,t){let n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return n*n+r*r+i*i+a*a}function M5(e){let t=e[0],n=e[1],r=e[2],i=e[3];return Math.sqrt(t*t+n*n+r*r+i*i)}function N5(e){let t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i}function Aje(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function jje(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function Mje(e,t){let n=t[0],r=t[1],i=t[2],a=t[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o),e[0]=n*o,e[1]=r*o,e[2]=i*o,e[3]=a*o),e}function Nje(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function P5(e,t,n,r){let i=t[0],a=t[1],o=t[2],s=t[3];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e[2]=o+r*(n[2]-o),e[3]=s+r*(n[3]-s),e}function Pje(e,t=1){let n=yD,r,i,a,o,s,c;do r=2*n()-1,i=2*n()-1,s=r*r+i*i;while(s>=1);do a=2*n()-1,o=2*n()-1,c=a*a+o*o;while(c>=1);let l=Math.sqrt((1-s)/c);return e[0]=t*r,e[1]=t*i,e[2]=t*a*l,e[3]=t*o*l,e}function Fje(e,t,n){let r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}function Ije(e,t,n){let r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],c=n[2],l=n[3],u=l*r+s*a-c*i,d=l*i+c*r-o*a,f=l*a+o*i-s*r,p=-o*r-s*i-c*a;return e[0]=u*l+p*-o+d*-c-f*-s,e[1]=d*l+p*-s+f*-o-u*-c,e[2]=f*l+p*-c+u*-s-d*-o,e[3]=t[3],e}function Lje(e){return`vec4(`+e[0]+`, `+e[1]+`, `+e[2]+`, `+e[3]+`)`}function Rje(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function zje(e,t){let n=e[0],r=e[1],i=e[2],a=e[3],o=t[0],s=t[1],c=t[2],l=t[3],u=vD();return Math.abs(n-o)<=u*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=u*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-c)<=u*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(a-l)<=u*Math.max(1,Math.abs(a),Math.abs(l))}var Bje=yje,Vje=bje,Hje=xje,Uje=kje,Wje=j5,Gje=M5,Kje=N5;Object.freeze(Object.defineProperty({__proto__:null,add:vje,ceil:Sje,copy:hje,copyVec3:gje,dist:Uje,distance:kje,div:Hje,divide:xje,dot:Nje,equals:zje,exactEquals:Rje,floor:Cje,inverse:jje,len:Gje,length:M5,lerp:P5,max:Tje,min:wje,mul:Vje,multiply:bje,negate:Aje,normalize:Mje,random:Pje,round:Eje,scale:Dje,scaleAndAdd:Oje,set:_je,sqrDist:Wje,sqrLen:Kje,squaredDistance:j5,squaredLength:N5,str:Lje,sub:Bje,subtract:yje,transformMat4:Fje,transformQuat:Ije},Symbol.toStringTag,{value:`Module`}));function F5(){return[0,0,0,0]}function qje(e){return[e[0],e[1],e[2],e[3]]}function I5(e,t,n,r){return[e,t,n,r]}function Jje(e,t,n,r){return[e,t,n,r]}function Yje(e,t=F5()){let n=Math.min(4,e.length);for(let r=0;r<n;++r)t[r]=e[r];return t}function Xje(){return F5()}function L5(){return I5(1,1,1,1)}function Zje(){return I5(1,0,0,0)}function Qje(){return I5(0,1,0,0)}function $je(){return I5(0,0,1,0)}function eMe(){return I5(0,0,0,1)}var tMe=Xje(),nMe=L5(),rMe=Zje(),iMe=Qje(),aMe=$je(),oMe=eMe();Object.freeze(Object.defineProperty({__proto__:null,ONES:nMe,UNIT_W:oMe,UNIT_X:rMe,UNIT_Y:iMe,UNIT_Z:aMe,ZEROS:tMe,clone:qje,create:F5,freeze:Jje,fromArray:Yje,fromValues:I5,ones:L5,unitW:eMe,unitX:Zje,unitY:Qje,unitZ:$je,zeros:Xje},Symbol.toStringTag,{value:`Module`}));var R5=2.4;function sMe(e){return dj(e*R5)}function cMe(e){return uj(e)/R5}function lMe(e,t,n,r){let{color:i,ratio:a}=t,{color:o,ratio:s}=n;if(s===a){let e=1e-6;s===1?a-=e:s+=e}let c=KT((r-a)/(s-a),0,1);P5(e,i.toArray(),o.toArray(),c)}function uMe(e){let t=new Uint8ClampedArray(4*512);if(e=e.filter(({ratio:e})=>e>=0&&e<=1).sort((e,t)=>e.ratio-t.ratio).map(({color:e,ratio:t})=>({color:e,ratio:Math.max(t,.001)})),e.length<1)return t;let n=e[0],r=e[0],i=1,a=F5();for(let o=0;o<512;o++){let s=(o+.5)/512;for(;s>r.ratio&&i<e.length;)n=r,r=e[i++];lMe(a,n,r,s),t.set(a,4*o)}return t}function dMe(e,t,n){let r=Math.sqrt(e**2+t**2)/n;return r>1?0:3/(Math.PI*n**2)*(1-r**2)**2}function fMe(e){return typeof e==`function`?e:e?t=>+t[e]:()=>1}var z5;function pMe(e){if(e!=null){let{maxDensity:t,minDensity:n,radius:r}=e;if(t!=null||n!=null||r!=null){let{blurRadius:t,maxPixelIntensity:n,minPixelIntensity:r,...i}=e;return i}}return e}var B5=z5=class extends e4{constructor(e){super(e),this.authoringInfo=null,this.colorStops=[new k5({ratio:0,color:new lE(`rgba(255, 140, 0, 0)`)}),new k5({ratio:.75,color:new lE(`rgba(255, 140, 0, 1)`)}),new k5({ratio:.9,color:new lE(`rgba(255, 0,   0, 1)`)})],this.field=null,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type=`heatmap`,this.valueExpression=null,this.valueExpressionTitle=null}normalizeCtorArgs(e){return pMe(e)}get blurRadius(){return cMe(this.radius)}set blurRadius(e){let t=this.maxPixelIntensity,n=this.minPixelIntensity;this._set(`radius`,sMe(e)),this._set(`maxDensity`,t*this._pixelIntensityToDensity),this._set(`minDensity`,n*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(e){this._set(`maxDensity`,e*this._pixelIntensityToDensity)}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(e){this._set(`minDensity`,e*this._pixelIntensityToDensity)}get _pixelIntensityToDensity(){return 24/(R5**2*this.blurRadius**4)}read(e,t){e=pMe(e),super.read(e,t)}getSymbol(){return new hB}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}async collectRequiredFields(e,t){let n=this.field,r=this.valueExpression;n&&typeof n==`string`&&UP(e,t,n),r&&typeof r==`string`&&await WP(e,t,null,r)}getAttributeHash(){return``}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new z5({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:A(this.colorStops),field:this.field,legendOptions:A(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};O([P({type:Q2,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],B5.prototype,`authoringInfo`,void 0),O([P({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],B5.prototype,`blurRadius`,null),O([P({type:[k5],json:{write:{isRequired:!0}}})],B5.prototype,`colorStops`,void 0),O([P({type:String,json:{write:!0}})],B5.prototype,`field`,void 0),O([P({type:A5,json:{write:!0}})],B5.prototype,`legendOptions`,void 0),O([P({type:Number,json:{write:!0}})],B5.prototype,`maxDensity`,void 0),O([P({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],B5.prototype,`maxPixelIntensity`,null),O([P({type:Number,json:{write:!0}})],B5.prototype,`minDensity`,void 0),O([P({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],B5.prototype,`minPixelIntensity`,null),O([P({type:Number,cast:fj,json:{write:!0}})],B5.prototype,`radius`,void 0),O([P({type:Number,range:{min:0},json:{default:0,write:!0}})],B5.prototype,`referenceScale`,void 0),O([J({heatmap:`heatmap`})],B5.prototype,`type`,void 0),O([P({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],B5.prototype,`valueExpression`,void 0),O([P({type:String})],B5.prototype,`valueExpressionTitle`,void 0),O([P({readOnly:!0})],B5.prototype,`_pixelIntensityToDensity`,null),B5=z5=O([F(`esri.renderers.HeatmapRenderer`)],B5);var V5=class extends Y(R){constructor(){super(...arguments),this.color=new lE([0,0,0,0]),this.label=null,this.threshold=0}};O([P({type:lE,json:{write:!0}})],V5.prototype,`color`,void 0),O([P({type:String,json:{write:!0}})],V5.prototype,`label`,void 0),O([P({type:Number,range:{min:0,max:1},json:{write:!0}})],V5.prototype,`threshold`,void 0),V5=O([F(`esri.renderers.support.OthersCategory`)],V5);var mMe={base:i4,key:`type`,typeMap:{size:H4,opacity:p4}},H5=class extends W4(Y(e4)){constructor(e){super(e),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new lE([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new V5,this.legendOptions=null,this.outline=null,this.size=12,this.type=`pie-chart`,this.visualVariables=null}getSymbol(){return new hB({size:this.size?this.size/2+(this.outline?.width||0):0})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(Mc)}getAttributeHash(){return this.visualVariables?.reduce((e,t)=>e+t.getAttributeHash(),``)??``}getMeshHash(){return this.symbols.reduce((e,t)=>e+JSON.stringify(t),``)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(let n of this.attributes)n.valueExpression&&await WP(e,t,null,n.valueExpression),n.field&&e.add(n.field)}};O([P({type:[C5],json:{write:!0}})],H5.prototype,`attributes`,void 0),O([P(s3)],H5.prototype,`backgroundFillSymbol`,void 0),O([P({type:lE,json:{write:!0}})],H5.prototype,`defaultColor`,void 0),O([P({type:String,json:{write:!0}})],H5.prototype,`defaultLabel`,void 0),O([P({type:Number,range:{min:0,max:1},json:{write:!0}})],H5.prototype,`holePercentage`,void 0),O([P({type:V5,json:{write:!0}})],H5.prototype,`othersCategory`,void 0),O([P({type:b3,json:{write:!0}})],H5.prototype,`legendOptions`,void 0),O([P({type:Jz,json:{default:null,write:!0}})],H5.prototype,`outline`,void 0),O([P({type:Number,cast:fj,json:{write:!0}})],H5.prototype,`size`,void 0),O([J({pieChart:`pie-chart`})],H5.prototype,`type`,void 0),O([P({types:[mMe]})],H5.prototype,`visualVariables`,void 0),H5=O([F(`esri.renderers.PieChartRenderer`)],H5);var U5={key:`type`,base:e4,typeMap:{heatmap:B5,simple:u3,"unique-value":I3,"class-breaks":S8,"dot-density":D5,dictionary:b5,"pie-chart":H5},errorContext:`renderer`},hMe={key:`type`,base:e4,typeMap:{simple:u3,"unique-value":I3,"class-breaks":S8,heatmap:B5},errorContext:`renderer`,validate:gMe};function gMe(e){switch(e.type){case`simple`:return _Me(e);case`unique-value`:return vMe(e);case`class-breaks`:return yMe(e);case`heatmap`:return e}}function _Me(e){if(e.symbol)return e;j.getLogger(`esri.renderers.support.types`).error(`Removed invalid 'simple' renderer without a symbol from web scene.`)}function vMe(e){let t=e.uniqueValueInfos,n=t?.filter(({symbol:e,label:t},n)=>(e||j.getLogger(`esri.renderers.support.types`).error(`Removed invalid unique value info ([${n}] ${t}) without a symbol from web scene.`),!!e));return n?.length!==t?.length&&(e.uniqueValueInfos=n),e}function yMe(e){let t=e.classBreakInfos,n=t?.filter(({symbol:e,label:t},n)=>(e||j.getLogger(`esri.renderers.support.types`).error(`Removed invalid class break info ([${n}] ${t}) without a symbol from web scene.`),!!e));return n?.length!==t?.length&&(e.classBreakInfos=n),e}function bMe(e,t){return W5(e,null,t)}var xMe=Sg({types:U5});function W5(e,t,n){return e?e&&(e.styleName||e.styleUrl)&&e.type!==`uniqueValue`?(n?.messages&&n.messages.push(new gg(`renderer:unsupported`,`Only UniqueValueRenderer can be referenced from a web style, but found '`+e.type+`'`,{definition:e,context:n})),null):xMe(e,t,n):null}var G5,K5=G5=class extends Z6{constructor(e){super(e),this.type=`binning`,this.binType=`geohash`,this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=fj(`12px`),this.fields=[],this.renderer=null}writeFields(e,t,n){let r=e.filter(e=>e.statisticType!==`avg_angle`).map(e=>e.toJSON());fl(n,r,t)}readRenderer(e,t,n){let r=t.drawingInfo?.renderer;return r?W5(r,t,n)??void 0:_6(t,n)}clone(){return new G5({fields:A(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:A(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:A(this.popupTemplate),renderer:A(this.renderer),binType:A(this.binType),size:this.size})}};O([J({binning:`binning`})],K5.prototype,`type`,void 0),O([J({geohash:`geohash`,square:`square`}),P({type:[`geohash`,`square`]})],K5.prototype,`binType`,void 0),O([P({type:Number,json:{write:!0}})],K5.prototype,`fixedBinLevel`,void 0),O([P({type:[m8],json:{read:{source:`drawingInfo.labelingInfo`},write:{target:`drawingInfo.labelingInfo`}}})],K5.prototype,`labelingInfo`,void 0),O([P(d2)],K5.prototype,`labelsVisible`,void 0),O([P({type:Number,json:{default:0,name:`visibilityInfo.maxScale`}})],K5.prototype,`maxScale`,void 0),O([P(u2)],K5.prototype,`popupEnabled`,void 0),O([P({type:OL,json:{name:`popupInfo`,write:!0}})],K5.prototype,`popupTemplate`,void 0),O([P({cast:e=>e===`auto`?e:Yh(fj(e))})],K5.prototype,`size`,void 0),O([P({type:[X6],json:{write:!0}})],K5.prototype,`fields`,void 0),O([z(`fields`)],K5.prototype,`writeFields`,null),O([P({types:U5,json:{write:{target:`drawingInfo.renderer`}}})],K5.prototype,`renderer`,void 0),O([W(`renderer`,[`drawingInfo.renderer`])],K5.prototype,`readRenderer`,null),K5=G5=O([F(`esri.layers.support.FeatureReductionBinning`)],K5);var q5;function SMe(e){return e.type===`simple`&&!e.visualVariables?.length}var J5=q5=class extends R{constructor(e){super(e),this.type=`cluster`,this.clusterRadius=fj(`80px`),this.clusterMinSize=fj(`12px`),this.clusterMaxSize=fj(`50px`),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(e,t,n){let r=t.drawingInfo?.renderer;return r?.authoringInfo?.isAutoGenerated?null:r?SMe(r)?null:W5(r,t,n)??void 0:_6(t,n)}readSymbol(e,t,n){let r=t.drawingInfo?.renderer;return r?.authoringInfo?.isAutoGenerated?null:r&&SMe(r)?W5(r,t,n)?.symbol:null}writeSymbol(e,t,n,r){let i=this.renderer?.authoringInfo?.isAutoGenerated;(!this.renderer||i)&&(t.drawingInfo={renderer:new u3({symbol:e}).write({},r)})}writeFields(e,t,n){let r=e.filter(e=>e.statisticType!==`avg_angle`).map(e=>e.toJSON());fl(n,r,t)}readFields(e,t,n){return e.filter(e=>!e.isAutoGenerated).map(e=>X6.fromJSON(e))}clone(){return new q5({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:A(this.labelingInfo),labelsVisible:this.labelsVisible,fields:A(this.fields),maxScale:this.maxScale,renderer:A(this.renderer),symbol:A(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:A(this.popupTemplate)})}};O([P({type:[`cluster`],readOnly:!0,json:{write:!0}})],J5.prototype,`type`,void 0),O([P({cast:e=>e===`auto`?e:Yh(fj(e)),json:{write:!0}})],J5.prototype,`clusterRadius`,void 0),O([P({type:Number,cast:fj,json:{write:!0}})],J5.prototype,`clusterMinSize`,void 0),O([P({type:Number,cast:fj,json:{write:!0}})],J5.prototype,`clusterMaxSize`,void 0),O([P({type:Number,json:{default:0,name:`visibilityInfo.maxScale`}})],J5.prototype,`maxScale`,void 0),O([P(u2)],J5.prototype,`popupEnabled`,void 0),O([P({type:OL,json:{read:{source:`popupInfo`},write:{target:`popupInfo`}}})],J5.prototype,`popupTemplate`,void 0),O([P({types:U5,json:{write:{target:`drawingInfo.renderer`}}})],J5.prototype,`renderer`,void 0),O([W(`renderer`,[`drawingInfo.renderer`])],J5.prototype,`readRenderer`,null),O([P({types:Mge})],J5.prototype,`symbol`,void 0),O([W(`symbol`,[`drawingInfo.renderer`])],J5.prototype,`readSymbol`,null),O([z(`symbol`)],J5.prototype,`writeSymbol`,null),O([P({type:[m8],json:{read:{source:`drawingInfo.labelingInfo`},write:{target:`drawingInfo.labelingInfo`}}})],J5.prototype,`labelingInfo`,void 0),O([P(d2)],J5.prototype,`labelsVisible`,void 0),O([P({type:[X6],json:{write:!0}})],J5.prototype,`fields`,void 0),O([z(`fields`)],J5.prototype,`writeFields`,null),O([W(`fields`)],J5.prototype,`readFields`,null),J5=q5=O([F(`esri.layers.support.FeatureReductionCluster`)],J5);var Y5,X5=Y5=class extends Z6{constructor(e){super(e),this.type=`selection`}clone(){return new Y5}};O([P({type:[`selection`]})],X5.prototype,`type`,void 0),X5=Y5=O([F(`esri.layers.support.FeatureReductionSelection`)],X5);var CMe={key:`type`,base:Z6,typeMap:{cluster:J5,binning:K5}},wMe={types:{key:`type`,base:Z6,typeMap:{selection:X5,cluster:J5,binning:K5}},json:{name:`layerDefinition.featureReduction`,write:{allowNull:!0},origins:{"web-map":{types:CMe},"portal-item":{types:CMe},"web-scene":{types:{key:`type`,base:Z6,typeMap:{selection:X5}},name:`layerDefinition.featureReduction`,write:{allowNull:!0,layerContainerTypes:t$}}}}},TMe=()=>j.getLogger(`esri.views.2d.layers.support.clusterUtils`);k.add(`esri-cluster-arcade-enabled`,!0);var EMe=k(`esri-cluster-arcade-enabled`),DMe=new Set([`simple-line`,`simple-fill`,`picture-fill`]);function OMe(e,t){let n=t.clone();if(!kMe(n))return n;if(t.symbols.some(e=>DMe.has(e.type))&&(n=new u3({symbol:new hB})),n.authoringInfo||=new Q2,n.authoringInfo.isAutoGenerated=!0,`visualVariables`in n){let t=(n.visualVariables||[]).filter(e=>e.valueExpression!==`$view.scale`);t.forEach(t=>{t.type===`rotation`?t.field?t.field=Q5(e,t.field,`avg_angle`,`number`):t.valueExpression&&=(t.field=Z5(e,t.valueExpression,`avg_angle`,`number`),null):t.normalizationField?(t.field=Q5(e,t.field,`avg_norm`,`number`,t.normalizationField),t.normalizationField=null):t.field?t.field=Q5(e,t.field,`avg`,`number`):t.valueExpression&&=(t.field=Z5(e,t.valueExpression,`avg`,`number`),null)}),n.visualVariables=t}switch(n.type){case`simple`:break;case`pie-chart`:for(let t of n.attributes)t.field?t.field=Q5(e,t.field,`sum`,`number`):t.valueExpression&&=(t.field=Z5(e,t.valueExpression,`sum`,`number`),null);break;case`unique-value`:n.field?n.field=Q5(e,n.field,`mode`,`string`):n.valueExpression&&=(n.field=Z5(e,n.valueExpression,`mode`,`string`),null);break;case`class-breaks`:n.normalizationField?(n.field=Q5(e,n.field,`avg_norm`,`number`,n.normalizationField),n.normalizationField=null):n.field?n.field=Q5(e,n.field,`avg`,`number`):n.valueExpression&&=(n.field=Z5(e,n.valueExpression,`avg`,`number`),null)}return n}var kMe=e=>{let t=t=>TMe().error(new M(`Unsupported-renderer`,t,{renderer:e}));if(!e)return!1;switch(e.type){case`unique-value`:if(e.field2||e.field3)return t(`FeatureReductionCluster does not support multi-field UniqueValueRenderers`),!1;break;case`class-breaks`:if(e.normalizationField){let n=e.normalizationType;if(n!==`field`)return t(`FeatureReductionCluster does not support a normalizationType of ${n}`),!1}break;case`simple`:case`pie-chart`:break;default:return t(`FeatureReductionCluster does not support renderers of type ${e.type}`),!1}if(!EMe){if(`valueExpression`in e&&e.valueExpression)return t(`FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release`),!1;if((`visualVariables`in e&&e.visualVariables||[]).some(e=>!(!(`valueExpression`in e)||!e.valueExpression)))return t(`FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release`),!1}return!0};function AMe(e,t,n){switch(e){case`sum`:return`cluster_sum_${t}`;case`avg`:case`avg_angle`:return`cluster_avg_${t}`;case`mode`:return`cluster_type_${t}`;case`avg_norm`:{let e=n,r=t.toLowerCase()+`,norm:field,`+e.toLowerCase();return`cluster_avg_`+NE(r)}}}function Z5(e,t,n,r){let i=NE(t),a=n===`mode`?`cluster_type_${i}`:n===`sum`?`cluster_sum_${i}`:`cluster_avg_${i}`;return e.some(e=>e.name===a)||e.push(new X6({name:a,isAutoGenerated:!0,onStatisticExpression:new J6({expression:t,returnType:r}),statisticType:n})),a}function Q5(e,t,n,r,i){if(t===`cluster_count`||e.some(e=>e.name===t))return t;let a=AMe(n,t,i);return e.some(e=>e.name===a)||(n===`avg_norm`?e.push(new X6({name:a,isAutoGenerated:!0,onStatisticExpression:new J6({expression:`$feature.${t} / $feature.${i}`,returnType:r}),statisticType:`avg`})):e.push(new X6({name:a,isAutoGenerated:!0,onStatisticField:t,statisticType:n}))),a}var jMe=e=>{let t=e,n=class extends t{constructor(...e){super(...e),this.aggregateGraphicOrigin=new zke(this),this.addHandles(q(()=>this.renderer,()=>{if(this.featureReduction){let e=this._normalizeFeatureReduction(this.featureReduction);this._set(`featureReduction`,e)}},Jw))}set featureReduction(e){let t=this._normalizeFeatureReduction(e);this._set(`featureReduction`,t)}set renderer(e){}_withClusterVariable(e,t,n){let r=e.clone();return`visualVariables`in r&&(r.visualVariables||=[],r.visualVariables.some(e=>e.type===`size`)||r.visualVariables.push(new H4({field:`cluster_count`,stops:[new _4({value:1}),new _4({useMinValue:!0,size:t}),new _4({useMaxValue:!0,size:n})]}))),r}_normalizeFeatureReduction(e){if(e?.type!==`cluster`)return e;let t=e.clone(),n=[new X6({name:`cluster_count`,alias:`cluster_count`,isAutoGenerated:!0,statisticType:`count`})],r=(t.fields??[]).filter(e=>!e.isAutoGenerated),i=e.renderer&&!e.renderer.authoringInfo?.isAutoGenerated,{clusterMinSize:a,clusterMaxSize:o}=t;if(i){t.fields=[...n,...r];let e=this._withClusterVariable(t.renderer,a,o);return t.effectiveFeatureRenderer=e,t.effectiveClusterRenderer=e,t}if(e.symbol){if(t.fields=[...n,...r],t.renderer=null,!this.renderer)return t.effectiveFeatureRenderer=null,t.effectiveClusterRenderer=null,t;let i=OMe(n,this.renderer),s=this._withClusterVariable(i,a,o),c=`visualVariables`in s&&s.visualVariables?s.visualVariables:[],l=new u3({symbol:e.symbol,visualVariables:c});return t.fields=[...n,...r],t.effectiveFeatureRenderer=s,t.effectiveClusterRenderer=l,t}if(!this.renderer)return e;let s=OMe(n,this.renderer);t.fields=[...n,...r],t.renderer=s;let c=this._withClusterVariable(s,a,o);return t.effectiveFeatureRenderer=c,t.effectiveClusterRenderer=c,t}};return O([P({readOnly:!0,clonable:!1})],n.prototype,`aggregateGraphicOrigin`,void 0),O([P(wMe)],n.prototype,`featureReduction`,null),n=O([F(`esri.layers.mixins.FeatureReductionLayer`)],n),n},MMe={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,ArcGISVideoLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},NMe={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},PMe={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},FMe={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GaussianSplatLayer:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,Object3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap-base-layers":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap-ground-layers":{IntegratedMesh3DTilesLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":MMe,"web-map/basemap-base-layers":NMe,"web-map/tables":PMe,"link-chart/operational-layers":{...MMe,LinkChartLayer:!0},"link-chart/basemap-base-layers":NMe,"link-chart/tables":PMe,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0,WCS:!0},"portal-item/tables":{ArcGISFeatureLayer:!0,SubtypeGroupTable:!0}},IMe=e=>{let t=e,n=class extends t{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(e,t,n){return n?.portalItem?.type===`Group Layer`?void 0:e}writeListMode(e,t,n,r){(r&&r.layerContainerType===`ground`||e&&__(this,n,{},r))&&(t[n]=e)}writeOperationalLayerType(e,t,n){e&&(t[n]=e)}writeTitle(e,t){t.title=e??`Layer`}readVisibilityTimeExtent(e){return e?oT.fromArray(e):null}writeVisibilityTimeExtent(e,t,n,r){e&&r.layerContainerType!==`tables`&&(e.isEmpty?r?.messages&&r.messages.push(new M(`layer:invalid-visibilityTimeExtent`,`visibilityTimeExtent cannot be empty`)):t[n]=e.toArray())}read(e,t){t&&(t.layer=this),h_(this,e,t=>super.read(e,t),t)}write(e,t){if(!this.persistenceEnabled&&!t?.ignorePersistenceEnabled)return null;if(t?.origin){let e=`${t.origin}/${t.layerContainerType||`operational-layers`}`,n=!!FMe[e]?.[this.operationalLayerType];if(this.operationalLayerType===`ArcGISTiledElevationServiceLayer`&&e===`web-scene/operational-layers`&&(n=!1),this.operationalLayerType===`ArcGISDimensionLayer`&&e===`web-map/operational-layers`&&(n=!1),!n)return t.messages?.push(new M(`layer:unsupported`,`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this})),null}let n=super.write(e,{...t,layer:this}),r=!!t&&!!t.messages&&!!t.messages.filter(e=>e instanceof M&&e.name===`web-document-write:property-required`).length;return Ou(n?.url)?(t?.messages?.push(new M(`layer:invalid-url`,`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&r?null:n}beforeSave(){}};return O([P({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],n.prototype,`id`,void 0),O([W(`id`,[`id`])],n.prototype,`readId`,null),O([P(x2)],n.prototype,`listMode`,void 0),O([z(`listMode`)],n.prototype,`writeListMode`,null),O([P({type:String,readOnly:!0,json:{read:!1,write:{target:`layerType`,ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:`layerType`,read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:t$,isRequired:!0}}}}})],n.prototype,`operationalLayerType`,void 0),O([z(`operationalLayerType`)],n.prototype,`writeOperationalLayerType`,null),O([P(g2)],n.prototype,`opacity`,void 0),O([P({type:Boolean,readOnly:!1})],n.prototype,`persistenceEnabled`,void 0),O([P({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:`Layer`})],n.prototype,`title`,void 0),O([z(`title`),z([`web-scene`],`title`)],n.prototype,`writeTitle`,null),O([P({type:oT,json:{origins:{"web-scene":{write:{layerContainerTypes:t$}}}}})],n.prototype,`visibilityTimeExtent`,void 0),O([W(`visibilityTimeExtent`)],n.prototype,`readVisibilityTimeExtent`,null),O([z([`portal-item`,`web-map`,`web-scene`],`visibilityTimeExtent`,{visibilityTimeExtent:{type:[[dg,fg]]}})],n.prototype,`writeVisibilityTimeExtent`,null),O([P({type:Boolean,json:{name:`visibility`,write:{layerContainerTypes:t$}}})],n.prototype,`visible`,void 0),n=O([F(`esri.layers.mixins.OperationalLayer`)],n),n},$5,e7=new P_({asc:`ascending`,desc:`descending`}),t7=class extends R{static{$5=this}constructor(e){super(e),this.field=null,this.valueExpression=null,this.order=`ascending`}clone(){return new $5({field:this.field,valueExpression:this.valueExpression,order:this.order})}};O([P({type:String,json:{write:!0}})],t7.prototype,`field`,void 0),O([P({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],t7.prototype,`valueExpression`,void 0),O([P({type:e7.apiValues,json:{type:e7.jsonValues,read:e7.read,write:e7.write}})],t7.prototype,`order`,void 0),t7=$5=O([F(`esri.layers.support.OrderByInfo`)],t7);function LMe(e,t,n){if(!e)return null;let r=e.find(e=>!!e.field);if(!r)return null;let i=new t7;return i.read(r,n),[i]}function RMe(e,t,n,r){let i=e.find(e=>!!e.field);i&&fl(n,[i.toJSON()],t)}var zMe={type:[t7],json:{origins:{"web-scene":{write:!1,read:!1}},name:`layerDefinition.orderBy`,read:{reader:LMe},write:{writer:RMe}}},BMe=e=>{let t=e,n=class extends t{constructor(){super(...arguments),this.orderBy=null}};return O([P(zMe)],n.prototype,`orderBy`,void 0),n=O([F(`esri.layers.mixins.OrderedLayer`)],n),n},VMe=e=>{let t=e,n=class extends t{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=Gd(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(e){e!==this._get(`portalItem`)&&(this.removeOrigin(`portal-item`),this._set(`portalItem`,e))}readPortalItem(e,t,n){if(t.itemId)return new Nb({id:t.itemId,portal:n?.portal})}writePortalItem(e,t){e?.id&&(t.itemId=e.id)}async loadFromPortal(e,t){if(this.portalItem?.id)try{let{load:n}=await N(async()=>{let{load:e}=await import(`./layersLoader-CIBYtAfb.js`);return{load:e}},__vite__mapDeps([432,11,12,13]));return $d(t),await n({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData,layerModuleTypeMap:e.layerModuleTypeMap,populateGroupLayer:e.populateGroupLayer},t)}catch(e){throw lf(e)||j.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${e}`),e}}async finishLoadEditablePortalLayer(e){this._set(`userHasEditingPrivileges`,await this._fetchUserHasEditingPrivileges(e).catch(e=>(nf(e),!0)))}async setUserPrivileges(e,t){if(!vl.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(t);if(this.url)try{let{features:{edit:n,fullEdit:r},content:{updateItem:i}}=await this._fetchUserPrivileges(e,t);this._set(`userHasEditingPrivileges`,n),this._set(`userHasFullEditingPrivileges`,r),this._set(`userHasUpdateItemPrivileges`,i)}catch(e){nf(e)}}async _fetchUserPrivileges(e,t){let n=this.portalItem;if(!e||!n||!n.loaded||n.sourceUrl)return this._fetchFallbackUserPrivileges(t);let r=!gd?.findCredential(this.url),i=e===n.id;if(i&&n.portal.user)return this._getUserPrivileges(n,r);let a,o;if(i)a=n.portal.url;else try{a=await _T(this.url,t)}catch(e){nf(e)}if(!a||!hu(a,n.portal.url))return this._fetchFallbackUserPrivileges(t);try{let e=t==null?null:t.signal;o=await gd?.getCredential(`${a}/sharing`,{prompt:!1,signal:e})}catch(e){nf(e)}if(!o)return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}};try{if(i?await n.reload():(n=new Nb({id:e,portal:{url:a}}),await n.load(t)),n.portal.user)return this._getUserPrivileges(n,r)}catch(e){nf(e)}return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}}}_getUserPrivileges(e,t){let n=WTe(e);return t&&(n.features.edit=!0),n}async _fetchFallbackUserPrivileges(e){let t=!0;try{t=await this._fetchUserHasEditingPrivileges(e)}catch(e){nf(e)}return{features:{edit:t,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(e){let t=this.url?gd?.findCredential(this.url):null;if(!t)return!0;let n=n7.credential===t?n7.user:await this._fetchEditingUser(e);return n7.credential=t,n7.user=n,n?.privileges==null||n.privileges.includes(`features:user:edit`)}async _fetchEditingUser(e){let t=this.portalItem?.portal?.user;if(t)return t;let n=gd?.findServerInfo(this.url??``);if(!n?.owningSystemUrl)return null;let r=`${n.owningSystemUrl}/sharing/rest`,i=G.getDefault();if(i&&i.loaded&&wu(i.restUrl)===wu(r))return i.user;let a=`${r}/community/self`,o=e==null?null:e.signal,s=await O_(gp(a,{authMode:`no-prompt`,query:{f:`json`},signal:o}));return s.ok?Db.fromJSON(s.value.data):null}read(e,t){t&&(t.layer=this),super.read(e,t)}write(e,t){let n=t?.portal,r=this.portalItem?.id&&(this.portalItem.portal||G.getDefault());return n&&r&&!gu(r.restUrl,n.restUrl)?(t.messages&&t.messages.push(new M(`layer:cross-portal`,`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(e,{...t,layer:this})}};return O([P({type:Nb})],n.prototype,`portalItem`,null),O([W(`web-document`,`portalItem`,[`itemId`])],n.prototype,`readPortalItem`,null),O([z(`web-document`,`portalItem`,{itemId:{type:String}})],n.prototype,`writePortalItem`,null),O([P({clonable:!1})],n.prototype,`resourceReferences`,void 0),O([P({type:Boolean,readOnly:!0})],n.prototype,`userHasEditingPrivileges`,void 0),O([P({type:Boolean,readOnly:!0})],n.prototype,`userHasFullEditingPrivileges`,void 0),O([P({type:Boolean,readOnly:!0})],n.prototype,`userHasUpdateItemPrivileges`,void 0),n=O([F(`esri.layers.mixins.PortalLayer`)],n),n},n7={credential:null,user:null},r7=class extends I{constructor(){super(...arguments),this.updating=!1,this.status=`unknown`}};O([P()],r7.prototype,`updating`,void 0),O([P()],r7.prototype,`status`,void 0),r7=O([F(`esri.layers.support.PublishingInfo`)],r7);var HMe=Symbol(),UMe=e=>{var t;let n=e,r=class extends n{constructor(){super(...arguments),this[t]=!0}static{t=HMe}get publishingInfo(){if(this.destroyed)return null;let e=this._get(`publishingInfo`);if(e)return e;let t=new r7;return this._checkPublishingStatus(t),t}_checkPublishingStatus(e){let t=0,n=async i=>{let a;e.updating=!0;try{a=await this.fetchPublishingStatus()}catch{a=`unavailable`}a!==`published`&&a!==`unavailable`||(e.status===`publishing`&&this.refresh(),r.remove()),e.status=a,e.updating=!1,r.removed||(t=setTimeout(n,i,i+125))},r={removed:!1,remove(){this.removed=!0,clearTimeout(t)}};this.when().catch(()=>r.remove()),n(250),this.addHandles(r)}};return O([P({readOnly:!0,clonable:!1})],r.prototype,`publishingInfo`,null),r=O([F(`esri.layers.mixins.PublishableLayer`)],r),r},i7=new L,a7=new WeakMap;function WMe(e){KMe(e)&&i7.push(new WeakRef(e))}function GMe(e){let t=i7.find(t=>t.deref()===e);t&&i7.remove(t)}function KMe(e){return typeof e==`object`&&!!e&&`refreshInterval`in e&&`refresh`in e}function qMe(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:qMe(t,e%t):0}var o7=0,s7=0;function JMe(){let e=Date.now(),t=!1;for(let n of i7){let r=n.deref();r?r.refreshInterval&&e-(a7.get(r)??0)+5>=6e4*r.refreshInterval&&(a7.set(r,e),r.refresh(e)):t=!0}if(t)for(let e=i7.length-1;e>=0;e--)i7.at(e).deref()||i7.removeAt(e)}Ih(()=>{let e=Date.now(),t=0;for(let n of i7){let r=n.deref();r&&(t=qMe(Math.round(6e4*r.refreshInterval),t),r.refreshInterval?a7.get(r)||a7.set(r,e):a7.delete(r))}if(t!==s7){if(s7=t,clearInterval(o7),s7===0)return void(o7=0);o7=setInterval(JMe,s7)}},Jw);var YMe=.1,XMe=e=>{let t=e,n=class extends t{constructor(...e){super(...e),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=vf(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||WMe(this)},()=>{})}destroy(){GMe(this)}castRefreshInterval(e){return e>=YMe?e:e<=0?0:YMe}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(e=Date.now()){uf(this._debounceHasDataChanged()).then(t=>{t&&this._set(`refreshTimestamp`,e),this.emit(`refresh`,{dataChanged:t})},e=>{j.getLogger(this).error(e),this.emit(`refresh`,{dataChanged:!1,error:e})})}async hasDataChanged(){return!0}get test(){}};return O([P({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:t$}}}}})],n.prototype,`refreshInterval`,void 0),O([Sy(`refreshInterval`)],n.prototype,`castRefreshInterval`,null),O([P({readOnly:!0})],n.prototype,`refreshTimestamp`,void 0),O([P({readOnly:!0})],n.prototype,`refreshParameters`,null),n=O([F(`esri.layers.mixins.RefreshableLayer`)],n),n},ZMe=e=>{let t=e,n=class extends t{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){let e={minScale:this.minScale,maxScale:this.maxScale},t=this.parent;t?.effectiveScaleRange!==void 0&&QMe(e,t.effectiveScaleRange);let n=this._get(`effectiveScaleRange`);return n&&n.minScale===e.minScale&&n.maxScale===e.maxScale?n:e}};return O([P({type:Number,nonNullable:!0,json:{write:!0}})],n.prototype,`minScale`,void 0),O([P({type:Number,nonNullable:!0,json:{write:!0}})],n.prototype,`maxScale`,void 0),O([P({readOnly:!0})],n.prototype,`effectiveScaleRange`,null),n=O([F(`esri.layers.mixins.ScaleRangeLayer`)],n),n};function QMe(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}function $Me(e,t){return yQ.fromJSON({value:e,unit:t})}var c7=class extends Y(R){constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(e,t){return t.timeExtent&&Array.isArray(t.timeExtent)&&t.timeExtent.length===2?oT.fromArray(t.timeExtent):null}writeFullTimeExtent(e,t){e?.start!=null&&e.end!=null?t.timeExtent=e.toArray():t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?$Me(t.timeInterval,t.timeIntervalUnits):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?$Me(t.defaultTimeInterval,t.defaultTimeIntervalUnits):null}writeInterval(e,t){t.timeInterval=e?.toJSON().value??null,t.timeIntervalUnits=e?.toJSON().unit??null}};O([P({type:Boolean,json:{name:`exportOptions.timeDataCumulative`,write:!0}})],c7.prototype,`cumulative`,void 0),O([P({type:String,json:{name:`endTimeField`,write:{enabled:!0,allowNull:!0}}})],c7.prototype,`endField`,void 0),O([P({type:oT,json:{write:{enabled:!0,allowNull:!0}}})],c7.prototype,`fullTimeExtent`,void 0),O([W(`fullTimeExtent`,[`timeExtent`])],c7.prototype,`readFullTimeExtent`,null),O([z(`fullTimeExtent`)],c7.prototype,`writeFullTimeExtent`,null),O([P({type:Boolean,json:{write:!0}})],c7.prototype,`hasLiveData`,void 0),O([P({type:yQ,json:{write:{enabled:!0,allowNull:!0}}})],c7.prototype,`interval`,void 0),O([W(`interval`,[`timeInterval`,`timeIntervalUnits`,`defaultTimeInterval`,`defaultTimeIntervalUnits`])],c7.prototype,`readInterval`,null),O([z(`interval`)],c7.prototype,`writeInterval`,null),O([P({type:String,json:{name:`startTimeField`,write:{enabled:!0,allowNull:!0}}})],c7.prototype,`startField`,void 0),O([P(uw(`timeReference`,!0))],c7.prototype,`timeZone`,void 0),O([P({type:String,json:{write:{enabled:!0,allowNull:!0}}})],c7.prototype,`trackIdField`,void 0),O([P({type:Boolean,json:{name:`exportOptions.useTime`,write:!0}})],c7.prototype,`useTime`,void 0),O([P({type:[Date],json:{read:!1}})],c7.prototype,`stops`,void 0),c7=O([F(`esri.layers.support.TimeInfo`)],c7);var eNe={type:Boolean,json:{read:{source:`timeAnimation`},write:{target:`timeAnimation`,layerContainerTypes:t$}}},tNe=e=>{let t=e,n=class extends t{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(e,t){let n=t.timeInfo.exportOptions;if(!n)return null;let r=n.timeOffset,i=vQ.fromJSON(n.timeOffsetUnits);return r&&i?new yQ({value:r,unit:i}):null}set timeInfo(e){zP(e,this.fieldsIndex),this._set(`timeInfo`,e)}};return O([P({type:oT,json:{write:!1}})],n.prototype,`timeExtent`,void 0),O([P({type:yQ})],n.prototype,`timeOffset`,void 0),O([W(`service`,`timeOffset`,[`timeInfo.exportOptions`])],n.prototype,`readOffset`,null),O([P({value:null,type:c7,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],n.prototype,`timeInfo`,null),O([P(eNe)],n.prototype,`useViewTime`,void 0),n=O([F(`esri.layers.mixins.TemporalLayer`)],n),n},nNe=class extends D1{constructor(e){super(),this.type=`track`,this.trackInfoProvider=e}get id(){return this.trackInfoProvider.id}get[jL](){return this.trackInfoProvider.trackInfo}},l7=class extends Y(R){constructor(e){super(e),this.labelingInfo=null,this.labelsVisible=!0,this.renderer=null,this.visible=!0}};O([P({type:[m8],json:{write:!0}})],l7.prototype,`labelingInfo`,void 0),O([P(d2)],l7.prototype,`labelsVisible`,void 0),O([P({types:U5,json:{write:!0}})],l7.prototype,`renderer`,void 0),O([P({type:Boolean,json:{write:!0}})],l7.prototype,`visible`,void 0),l7=O([F(`esri.layers.support.TrackPartInfo`)],l7);var u7=class extends Y(R){constructor(e){super(e),this.enabled=!0,this.fields=[],this.latestObservations=new l7({renderer:new u3({symbol:Y4.clone()})}),this.maxDisplayDuration=null,this.maxDisplayObservationsPerTrack=0,this.popupEnabled=!0,this.popupTemplate=null,this.previousObservations=new l7({renderer:new u3({symbol:Y4.clone()})}),this.trackLines=new l7({renderer:new u3({symbol:X4.clone()})}),this.timeField=`startTimeField`}writeFields(e,t,n){let r=e.filter(e=>e.statisticType!==`avg_angle`).map(e=>e.toJSON());fl(n,r,t)}};O([P({type:Boolean,json:{write:!0}})],u7.prototype,`enabled`,void 0),O([P({type:[X6],json:{write:!0}})],u7.prototype,`fields`,void 0),O([z(`fields`)],u7.prototype,`writeFields`,null),O([P({type:l7,json:{write:!0}})],u7.prototype,`latestObservations`,void 0),O([P({type:yQ,json:{write:!0}})],u7.prototype,`maxDisplayDuration`,void 0),O([P({type:Number,json:{write:!0}})],u7.prototype,`maxDisplayObservationsPerTrack`,void 0),O([P(u2)],u7.prototype,`popupEnabled`,void 0),O([P({type:OL,json:{name:`popupInfo`,write:!0}})],u7.prototype,`popupTemplate`,void 0),O([P({type:l7,json:{write:!0}})],u7.prototype,`previousObservations`,void 0),O([P({type:l7,json:{write:!0}})],u7.prototype,`trackLines`,void 0),O([P({type:[`timeReceived`,`startTimeField`,`endTimeField`],json:{read:!0,write:!0}})],u7.prototype,`timeField`,void 0),u7=O([F(`esri.layers.support.TrackInfo`)],u7);var rNe=e=>{let t=e,n=class extends t{constructor(){super(...arguments),this.trackGraphicOrigin=new nNe(this),this.trackInfo=null}};return O([P({readOnly:!0,clonable:!1})],n.prototype,`trackGraphicOrigin`,void 0),O([P({type:u7})],n.prototype,`trackInfo`,void 0),n=O([F(`esri.layers.mixins.TrackableLayer`)],n),n},iNe=new P_({esriFeatureEditToolAutoCompletePolygon:`auto-complete-polygon`,esriFeatureEditToolCircle:`circle`,esriFeatureEditToolEllipse:`ellipse`,esriFeatureEditToolFreehand:`freehand`,esriFeatureEditToolLine:`line`,esriFeatureEditToolNone:`none`,esriFeatureEditToolPoint:`point`,esriFeatureEditToolPolygon:`polygon`,esriFeatureEditToolRectangle:`rectangle`,esriFeatureEditToolArrow:`arrow`,esriFeatureEditToolTriangle:`triangle`,esriFeatureEditToolLeftArrow:`left-arrow`,esriFeatureEditToolRightArrow:`right-arrow`,esriFeatureEditToolUpArrow:`up-arrow`,esriFeatureEditToolDownArrow:`down-arrow`}),d7=class extends Y(R){constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};O([P({json:{write:!0}})],d7.prototype,`name`,void 0),O([P({json:{write:!0}})],d7.prototype,`description`,void 0),O([P({json:{read:iNe.read,write:iNe.write}})],d7.prototype,`drawingTool`,void 0),O([P({json:{write:!0}})],d7.prototype,`prototype`,void 0),O([P({json:{write:!0}})],d7.prototype,`thumbnail`,void 0),d7=O([F(`esri.layers.support.FeatureTemplate`)],d7);var f7=class extends Y(R){constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){let t={};for(let n of Object.keys(e))t[n]=HB(e[n]);return t}writeDomains(e,t){let n={};for(let t of Object.keys(e))e[t]&&(n[t]=e[t]?.toJSON());t.domains=n}};O([P({json:{write:!0}})],f7.prototype,`id`,void 0),O([P({json:{write:!0}})],f7.prototype,`name`,void 0),O([P({json:{write:!0}})],f7.prototype,`domains`,void 0),O([W(`domains`)],f7.prototype,`readDomains`,null),O([z(`domains`)],f7.prototype,`writeDomains`,null),O([P({type:[d7],json:{write:!0}})],f7.prototype,`templates`,void 0),f7=O([F(`esri.layers.support.FeatureType`)],f7);var p7=class extends Y(R){constructor(e){super(e),this.alias=null,this.name=void 0,this.fieldFormat=null}};O([P({type:String,json:{write:!0}})],p7.prototype,`alias`,void 0),O([P({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],p7.prototype,`name`,void 0),O([P({types:qF,json:{write:!0}})],p7.prototype,`fieldFormat`,void 0),p7=O([F(`esri.layers.support.FieldConfiguration`)],p7);function aNe(e){let{popupTemplate:t,fieldsIndex:n}=e,r=t?.fieldInfos;if(!r?.length||!n)return;let i=[];for(let e of r){let{fieldName:t,label:r}=e,a=n.get(t);if(!a)continue;let o=r&&r!==a.alias?r:null,s=JF(e,a);(o||s)&&i.push(new p7({name:a.name,alias:o,fieldFormat:s}))}return i.length?i:null}function oNe(e){let{fields:t}=e;if(!t?.length)return;let n=[];for(let e of t){let t=XF(e)?fI(e):null;t&&n.push(new p7({name:e.name,fieldFormat:t}))}return n.length?n:null}function sNe(e,t){let{popupTemplate:n,fieldsIndex:r}=e;if(!n||!r)return;let i=cNe(e,t,n.fieldInfos);if(!i)return;let a=n.clone();return a.fieldInfos=i,a}function cNe(e,t,n){t??=[],n=A(n)??[];let r=!1,i=new Map;for(let n of t){let t=e.fieldsIndex.get(n.name);t&&i.set(t.name,n)}for(let t of n){let n=e.fieldsIndex.get(t.fieldName);if(!n)continue;let a=i.get(n.name);t.label=a?.alias||n.alias,t.format=XF(n)&&a?.fieldFormat?aI(a.fieldFormat,n):null,r=!0,i.delete(n.name)}for(let t of i.values()){let i=lNe(e,t);i&&(n.push(i),r=!0)}return r?n:null}function lNe(e,t){let{name:n,alias:r,fieldFormat:i}=t,a=e.fieldsIndex.get(n);if(!a||!r&&!i)return;let o=r||a.alias,s=XF(a)&&i?aI(i,a):null;return new mI({fieldName:a.name,label:o,format:s,visible:!1,isEditable:XP(a,e)})}function uNe(){return{fields:{type:[GB],value:null,set:function(e){if(e&&k(`big-integer-warning-enabled`)){let t=e.filter(e=>e.type===`big-integer`||e.type===`oid`&&(e.length||0)>=8);if(t.length){let e=t.map(e=>`'${e.name}'`).join(`, `);j.getLogger(this).warn(`#fields`,`Layer (title: '${this.title??`no title`}', id: '${this.id??`no id`}') references big-integer field(s): ${e}, support for which is experimental. Only integers less than ${2**53-1} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set(`fields`,e)}},fieldsIndex:{readOnly:!0,get(){return k8.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange(`outFields`)},get:function(){let e=this._userOutFields;if(!e?.length)return null;if(e.includes(`*`))return[`*`];if(!this.fields)return e;for(let t of e)this.fieldsIndex?.has(t)||j.getLogger(`esri.layers.support.fieldProperties`).error(`field-attributes-layer:invalid-field`,`Invalid field ${t} found in outFields`,{layer:this,outFields:e});return VP(this.fieldsIndex,e)}}}}var m7=()=>j.getLogger(`esri.layers.support.labelingInfo`),dNe=/\[([^[\]]+)\]/gi;function h7(e,t,n){return e?e.map(e=>{let r=new m8;if(r.read(e,n),r.labelExpression){let e=t.fields||t.layerDefinition?.fields||this.fields;r.labelExpression=r.labelExpression.replaceAll(dNe,(t,n)=>`[${fNe(n,e)}]`)}return r}):null}function fNe(e,t){if(!t)return e;let n=e.toLowerCase();for(let e=0;e<t.length;e++){let r=t[e].name;if(r.toLowerCase()===n)return r}return e}var pNe=[`above-right`,`above-center`,`above-left`,`center-center`,`center-left`,`center-right`,`below-center`,`below-left`,`below-right`],mNe={esriGeometryPoint:pNe,esriGeometryMultiPatch:[`always-horizontal`],esriGeometryPolygon:[`always-horizontal`],esriGeometryPolyline:[`center-along`,`above-along`,`below-along`],esriGeometryMultipoint:pNe,esriGeometryEnvelope:null};function hNe(e,t){let n=[];for(let r of e){let e=r.labelPlacement,i=mNe[t];if(!r.symbol)return m7().warn(`No ILabelClass symbol specified.`),[];if(!i)return m7().error(new M(`labeling:unsupported-geometry-type`,`Unable to create labels for layer, geometry type '${t}' is not supported`)),[];if(i.includes(e))n.push(r);else{let a=i[0];e&&m7().warn(`Found invalid label placement type ${e} for ${t}. Defaulting to ${a}`);let o=r.clone();o.labelPlacement=a,n.push(o)}}return n}var gNe=`relationships/`,_Ne=`expression/`,vNe=/<br\s*\/*>/gi,g7=class extends I{constructor(e){super(e),this._featureUtils=null,this.effectivePopupTemplate=null}get _arcadeTask(){return this.expressionsUsedInTitle.length>0?this._get(`_arcadeTask`)||A_(()=>FP()):null}get featureUtilsPromise(){return this._get(`featureUtilsPromise`)??N(()=>import(`./featureUtils-BgR0K4Eq.js`),__vite__mapDeps([433,31,249])).then(e=>this._featureUtils=e)}get calculatedExpressions(){let e=new L;if(!this.expressionsUsedInTitle.length)return e;if(!this._arcadeTask?.value){for(let t of this.expressionsUsedInTitle??[])e.push({name:t.name,invalid:!0});return e}for(let t of this.expressionsUsedInTitle)try{let n=this._arcadeTask.value.arcade.parseScript(t.expression,[`$layer`,`$map`,`$datastore`]);if(n.isAsync){e.push({name:t.name,invalid:!0});break}e.push({name:t.name,syntax:n,invalid:!1,func:this._arcadeTask.value.arcade.compileScript(n,{vars:{$feature:`any`}})})}catch{e.push({name:t.name,invalid:!0});break}return e}get expressionsUsedInTitle(){let e=this.effectivePopupTemplate?.title??``;return typeof e==`string`?(e=e.toLowerCase(),this.effectivePopupTemplate?.expressionInfos?.filter(t=>e.includes(`{expression/${t.name.toLowerCase()}}`))??[]):[]}get fieldInfoMap(){return this._featureUtils?this._createFieldInfoMap(this._featureUtils.getAllFieldInfos(this.effectivePopupTemplate)):null}get hasBadExpressions(){return this.calculatedExpressions.some(e=>!0===e.invalid)}get requiredFields(){let e=new Set;if(this._arcadeTask?.value&&!this.hasBadExpressions)for(let t of this.calculatedExpressions?.toArray()??[])try{let n=this._arcadeTask.value.arcade.extractFieldLiterals(t.syntax);for(let t of n){let n=t.split(`.`),r=this.fieldsIndex.get(n.at(-1)??``);r&&e.add(r.name)}}catch{}let t=this._extractFieldNames(this.workingTitle);for(let n of t){let t=this.fieldsIndex.get(n);t&&e.add(t.name)}return this.objectIdField!=null&&e.add(this.objectIdField),e}get titleFromDisplayField(){let e=``;return this.displayField&&(e=this.fieldsIndex.get(this.displayField)?.name??``),e||=this.fieldsIndex.get(this.objectIdField)?.name??``,e?`{${e}}`:``}get workingTitle(){let e=this.effectivePopupTemplate?this.effectivePopupTemplate.title:``;return e===``||e==null||this.hasBadExpressions||typeof e!=`string`?this.titleFromDisplayField:e}async getTitle(e,t,n){let r=t.getObjectId()??t.attributes[e.objectIdField];return(await this.getTitles(e,[t],n)).get(r)??``}async getTitles(e,t,n){let r=new Map,i=n?.timeZone??`system`;try{let[{substituteFieldsInLinksAndAttributes:a}]=await Promise.all([this.featureUtilsPromise,this._arcadeTask?.promise]);n?.fetchMissingFields&&(t=await this._checkAndReQueryGraphics(e,t));let{fieldInfoMap:o,workingTitle:s}=this,c=s&&o;t.forEach(t=>{let l=t.getObjectId()??t.attributes[e.objectIdField],u=c?a({attributes:t.attributes,expressionAttributes:null,fieldInfoMap:o,globalAttributes:this._createFormattedAttributes(e,t,i).global,layer:e,text:s}):``;n?.removeHTML&&(u=dpe.sanitize(u).replaceAll(vNe,` `)),r.set(l,u)})}catch{}return r}async _checkAndReQueryGraphics(e,t){let n=t.map(t=>t.getObjectId()??t.attributes[e.objectIdField]).filter(Mc);if(n.length!==t.length)return t;if(t.some(e=>!hF(e,this.requiredFields))){let r=e.createQuery();r.where=`1=1`,r.outFields=[...this.requiredFields],r.objectIds=n;let i=await e.queryFeatures(r);if(i?.features.length===t.length)return i.features}return t}_createFieldInfoMap(e){let t=new Map;if(!e)return t;for(let n of e){if(!n.fieldName)continue;let e=this.fieldsIndex.get(n.fieldName)?.name??n.fieldName;n.fieldName=e,t.set(e.toLowerCase(),n)}return t}_createFormattedAttributes(e,t,n=`system`){let r=this.effectivePopupTemplate?.fieldInfos??[],i={};if(!this._featureUtils)return{};if(!this.hasBadExpressions&&this.calculatedExpressions.length>0&&this._arcadeTask?.value){let n=this._arcadeTask.value.Feature.createFromGraphicLikeObject(t.geometry,t.attributes,e,null);for(let e of this.calculatedExpressions)try{i[`expression/${e.name}`]=e.func({vars:{$feature:n}})}catch{}}let a={...t.attributes,...i};return{global:this._featureUtils.formatAttributes({fieldInfos:r,attributes:a,graphic:t,timeZone:n,layer:e,fieldInfoMap:this.fieldInfoMap}),content:[]}}_extractFieldNames(e){return _F(e).filter(e=>!(e.startsWith(gNe)||e.startsWith(_Ne)))}};O([P({readOnly:!0})],g7.prototype,`_arcadeTask`,null),O([P()],g7.prototype,`_featureUtils`,void 0),O([P({readOnly:!0})],g7.prototype,`featureUtilsPromise`,null),O([P({readOnly:!0})],g7.prototype,`calculatedExpressions`,null),O([P()],g7.prototype,`displayField`,void 0),O([P()],g7.prototype,`effectivePopupTemplate`,void 0),O([P()],g7.prototype,`expressionsUsedInTitle`,null),O([P()],g7.prototype,`fieldsIndex`,void 0),O([P()],g7.prototype,`fieldInfoMap`,null),O([P()],g7.prototype,`fields`,void 0),O([P()],g7.prototype,`objectIdField`,void 0),O([P()],g7.prototype,`requiredFields`,null),g7=O([F(`esri.layers.support.TitleCreator`)],g7);var _7=[];function yNe(e,t){if(Gf(e.url??``))return!0;let{wkid:n}=t;for(let t of _7){if((e.version??0)>=t[0])return!0;if(typeof t[1]==`function`&&(t[1]=t[1]()),t[1].has(n))return!1}return!0}_7.push([10.91,()=>{let e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=23301;t<=23333;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102934;t<=102955;t++)e.add(t);return e}]),_7.push([10.9,()=>{let e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),_7.push([10.81,()=>{let e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),_7.push([10.8,()=>{let e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),_7.push([10.71,()=>{let e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=22619;t<=22621;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);return e}]);async function bNe(e,t,n){let r=e&&e.getAtOrigin&&e.getAtOrigin(`renderer`,t.origin);if(r&&r.type===`unique-value`&&r.styleOrigin){let i=await O_(r.populateFromStyle());if($d(n),!1===i.ok){let n=i.error;t?.messages&&t.messages.push(new gg(`renderer:style-reference`,`Failed to create unique value renderer from style reference: ${n.message}`,{error:n,context:t})),e.clear(`renderer`,t?.origin)}}}function xNe({displayField:e,editFieldsInfo:t,fields:n,objectIdField:r,title:i},a){if(!n)return null;let o=TNe({editFieldsInfo:t,fields:n,objectIdField:r},a);if(!o.length)return null;let s=ONe({titleBase:i,fields:n,displayField:e}),c=DNe();return new OL({title:s,content:c,fieldInfos:o})}var SNe=(e,t)=>t.visibleFieldNames?t.visibleFieldNames.has(e.name):Ame(e,t);function CNe({fields:e,ignoreFieldTypes:t,sortDisabled:n}){let r=e;return t&&(e=e.filter(e=>!t.includes(e.type))),e===r&&(e=e.slice()),!0!==n&&e.sort(wNe),e}function wNe(e,t){return e.type===`oid`?-1:t.type===`oid`?1:kNe(e)?-1:kNe(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function TNe(e,t){let n=t?.visibleFieldNames;return CNe({fields:e.fields??[],ignoreFieldTypes:t?.ignoreFieldTypes||ANe,sortDisabled:t?.sortDisabled}).map(t=>new mI({fieldName:t.name,isEditable:XP(t,e),label:t.alias,format:ENe(t),visible:SNe(t,{...e,visibleFieldNames:n})}))}function ENe(e){switch(e.type){case`small-integer`:case`integer`:return new KF({digitSeparator:!0,places:0});case`single`:case`double`:return new KF({digitSeparator:!0,places:2});case`string`:return gF(e.name)?new KF({digitSeparator:!0,places:0}):void 0;default:return}}function DNe(){return[new _I,new wF]}function ONe(e){let t=pme(e),{titleBase:n}=e;return t?`${n}: {${t.trim()}}`:n??``}function kNe(e){return(e.name&&e.name.toLowerCase())===`name`?!0:e.alias?.toLowerCase()===`name`}var ANe=[`geometry`,`blob`,`raster`,`guid`,`xml`],v7=`FeatureLayer`;function y7(e,t){return new M(`layer:unsupported`,`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`,{layer:e})}function jNe(e){return e&&e instanceof L}var b7=uNe();function x7(e,t,n){let r=!!n?.writeLayerSchema;return{enabled:r,ignoreOrigin:r}}var $=class extends q6(jMe(V0(UMe(O0(p0(r0(BMe(tNe(rNe(ZMe(XMe(R1(IMe(VMe(eQ(i0(L1(Y(cT))))))))))))))))))){constructor(...e){super(...e),this.attributeTableTemplate=null,this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.graphicOrigin=new eDe(this),this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType=`ArcGISFeatureLayer`,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.resourceInfo=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=U.WGS84,this.subtypeCode=null,this.supportedSourceTypes=new Set([`Feature Layer`,`Oriented Imagery Layer`,`Table`,`Catalog Layer`]),this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode=`item-title`,this.type=`feature`,this.typeIdField=null,this.types=null,this.visible=!0,this._debouncedSaveOperations=vf(async(e,t,n)=>{let{save:r,saveAs:i}=await N(async()=>{let{save:e,saveAs:t}=await import(`./featureLayerUtils-exT5YSi4.js`);return{save:e,saveAs:t}},__vite__mapDeps([434,426,435,428,13]));switch(e){case 0:return r(this,t);case 1:return i(this,n,t)}})}destroy(){this.source?.destroy()}normalizeCtorArgs(e,t){return typeof e==`string`?{url:e,...t}:e}load(e){let t=e==null?null:e.signal;if(this.portalItem?.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(t).then(e=>this.initLayerProperties(e))),Promise.resolve(this);let n=this.loadFromPortal({supportedTypes:[`Feature Service`,`Feature Collection`,`Scene Service`]},e).catch(nf).then(async()=>{if(this.url&&this.layerId==null&&/FeatureServer|MapServer\/*$/i.test(this.url)){let e=await this._fetchFirstValidLayerId(t);e!=null&&(this.layerId=e)}if(!this.url&&!this._hasMemorySource())throw new M(`feature-layer:missing-url-or-source`,`Feature layer must be created with either a url or a source`);return this.initLayerProperties(await this.createGraphicsSource(t))}).then(()=>p6(this,`load`,e));return this.addResolvingPromise(n),Promise.resolve(this)}get _titleCreator(){let e=this._get(`_titleCreator`);return Gd(e),new g7({fieldsIndex:this.fieldsIndex,objectIdField:this.objectIdField,fields:this.fields,displayField:this.displayField,effectivePopupTemplate:this.popupTemplate??this.defaultPopupTemplate})}readCapabilities(e,t){return t=t.layerDefinition||t,G6(t,this.url)}get createQueryVersion(){return this.commitProperty(`definitionExpression`),this.commitProperty(`dynamicDataSource`),this.commitProperty(`timeExtent`),this.commitProperty(`timeOffset`),this.commitProperty(`geometryType`),this.commitProperty(`gdbVersion`),this.commitProperty(`historicMoment`),this.commitProperty(`returnZ`),this.commitProperty(`capabilities`),this.commitProperty(`returnM`),(this._get(`createQueryVersion`)??0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities?.operations.supportsEditing)&&(this._isOverridden(`editingEnabled`)?this._get(`editingEnabled`):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(e){this._overrideIfSome(`editingEnabled`,e)}readEditingEnabled(e,t){return this._readEditingEnabled(t,!1)}readEditingEnabledFromWebMap(e,t,n){return this._readEditingEnabled(t,!0,n)}writeEditingEnabled(e,t){this._writeEditingEnabled(e,t,!1)}writeEditingEnabledToWebMap(e,t,n,r){this._writeEditingEnabled(e,t,!0,r)}get effectiveEditingEnabled(){return h6(this)}get featureTitleFields(){return[...this._titleCreator.requiredFields]}set fieldConfigurations(e){if(this._hasMemorySource()||(this._override(`fieldConfigurations`,e),!this.loaded))return;let t=sNe(this,e);t&&this._set(`popupTemplate`,t)}get fieldConfigurations(){if(!this._hasMemorySource())return this._isOverridden(`fieldConfigurations`)?this._get(`fieldConfigurations`):aNe(this)||null}readIsTable(e,t){return(t=t?.layerDefinition??t).type===`Table`||!t.geometryType}writeIsTable(e,t,n,r){r?.writeLayerSchema&&fl(n,e?`Table`:`Feature Layer`,t)}readGlobalIdField(e,t){return a6(t.layerDefinition||t)}readObjectIdField(e,t){return o6(t.layerDefinition||t)}writePopupTemplate(e,t,n,r){e&&(t[n]=e.toJSON({...r,writeFieldFormat:!r?.writeLayerSchema}))}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){LP(e,this.fieldsIndex),this._set(`renderer`,e)}readRenderer(e,t,n){t=t.layerDefinition||t;let r=t.drawingInfo?.renderer;if(r){let e=W5(r,t,n)??void 0;return e||j.getLogger(this).error(`Failed to create renderer`,{rendererDefinition:t.drawingInfo.renderer,layer:this,context:n}),e}return _6(t,n)}set source(e){let t=this._get(`source`);t!==e&&(jNe(t)&&this._resetMemorySource(t),jNe(e)&&this._initMemorySource(e),this._set(`source`,e))}castSource(e){return e?Array.isArray(e)||e instanceof L?new I1({layer:this,items:e}):e:null}readSource(e,t){let n=F1.fromJSON(t.featureSet);return new I1({layer:this,items:n?.features??[]})}readTemplates(e,t){let n=t.editFieldsInfo,r=n?.creatorField,i=n?.editorField;return e=e?.map(e=>d7.fromJSON(e)),this._fixTemplates(e,r),this._fixTemplates(e,i),e}readTitle(e,t){let n=t.layerDefinition?.name??t.name,r=t.title||t.layerDefinition?.title;if(n){let e=this.portalItem?.title;if(this.sublayerTitleMode===`item-title`)return this.url?Wf(this.url,n):n;let t=n;if(!t&&this.url){let e=Vf(this.url);e!=null&&(t=e.title)}return t?(this.sublayerTitleMode===`item-title-and-service-name`&&e&&e!==t&&(t=e+` - `+t),Uf(t)):void 0}if(this.sublayerTitleMode===`item-title`&&r)return r}readTitleFromWebMap(e,t){return t.title||t.layerDefinition?.name}readTypeIdField(e,t){let n=(t=t.layerDefinition||t).typeIdField;if(n&&t.fields){n=n.toLowerCase();let e=t.fields.find(e=>e.name.toLowerCase()===n);e&&(n=e.name)}return n}readTypes(e,t){e=(t=t.layerDefinition||t).types;let n=t.editFieldsInfo,r=n?.creatorField,i=n?.editorField;return e?.map(e=>(e=f7.fromJSON(e),this._fixTemplates(e.templates,r),this._fixTemplates(e.templates,i),e))}readVisible(e,t){return t.layerDefinition?.defaultVisibility==null?t.visibility==null?void 0:!!t.visibility:!!t.layerDefinition.defaultVisibility}async addAttachment(e,t){let n=await G3(this,e,t,v7);return this.lastEditsEventDate=new Date,n}async updateAttachment(e,t,n){let r=await q3(this,e,t,n,v7);return this.lastEditsEventDate=new Date,r}async applyEdits(e,t){return J3(this,e,t)}async uploadAssets(e,t){return ike(this,e,t)}createFieldConfigurations(){return oNe(this)}createPopupTemplate(e){return xNe(this,e)}async createGraphicsSource(e){if(this._hasMemorySource()&&this.source)return this.source.load({signal:e});let{default:t}=await cf(N(()=>import(`./FeatureLayerSource-EVkqILnf.js`),__vite__mapDeps([436,125,127,3,80,76,437,438,439,78,47,44,48,440,430,50,46,441,442,443,83,81,82,84,247,444,56])),e);return new t({layer:this,supportedSourceTypes:this.supportedSourceTypes}).load({signal:e})}createQuery(){let e=i6(this);e.dynamicDataSource=this.dynamicDataSource;let t=this.subtypeCode==null?null:`${this.subtypeField} = ${this.subtypeCode}`;return e.where=bP(this.definitionExpression,t)||`1=1`,e}async deleteAttachments(e,t){let n=await Y3(this,e,t,v7);return this.lastEditsEventDate=new Date,n}async fetchRecomputedExtents(e){return X3(this,e,v7)}async getFeatureTitle(e,t){return this._titleCreator.getTitle(this,e,t)}async getFeatureTitles(e,t){return this._titleCreator.getTitles(this,e,t)}getFeatureType(e){return y6(this.types,this.typeIdField,e)}getFieldAlias(e){let t=this.getField(e);if(t)return this.getFieldConfiguration(t.name)?.alias||t.alias}getFieldConfiguration(e){return e=e.toLowerCase(),this.fieldConfigurations?.find(t=>t.name.toLowerCase()===e)}getFieldDomain(e,t){return s6(this,e,t,this.getField(e)?.domain??null)}async queryAttachments(e,t){return Z3(this,e,t,v7)}async queryFeatures(e,t){let n=await this.load(),r=await n.source.queryFeatures(X.from(e)??n.createQuery(),t),i=this.graphicOrigin;if(r?.features)for(let e of r.features)e.layer=e.sourceLayer=n,e.origin=i;return r}async queryObjectIds(e,t){return await Q3(this,e,t,v7)}async queryFeatureCount(e,t){return $3(this,e,t,v7)}async queryExtent(e,t){return e6(this,e,t,v7)}async queryRelatedFeatures(e,t){return t6(this,e,t,v7)}async queryRelatedFeaturesCount(e,t){return n6(this,e,t,v7)}async queryPivot(e,t){let{source:n,capabilities:r}=await this.load();if(!n.queryPivot||!r?.operations?.supportsQueryPivot)throw new M(v7,`Layer source does not support queryPivot capability`);let i=await N(()=>import(`./PivotQuery-f3G138Y5.js`),__vite__mapDeps([445,446])),a=await n.queryPivot(i.default.from(e),t);if(a?.features)for(let e of a.features)e.layer=e.sourceLayer=this;return a}async queryTopFeatures(e,t){let{source:n,capabilities:r}=await this.load();if(!n.queryTopFeatures||!r?.query?.supportsTopFeaturesQuery)throw new M(v7,`Layer source does not support queryTopFeatures capability`);let i=await N(()=>import(`./TopFeaturesQuery-ayaPBruu.js`),__vite__mapDeps([447,448])),a=await n.queryTopFeatures(i.default.from(e),t);if(a?.features)for(let e of a.features)e.layer=e.sourceLayer=this;return a}async queryAttributeBins(e,t){let{source:n,capabilities:r}=await this.load();if(!n.queryAttributeBins)throw new M(v7,`Layer source does not support queryAttributeBins capability`);x6(e,r,v7);let i=await N(()=>import(`./AttributeBinsQuery-AhqeSGKe.js`),__vite__mapDeps([449,45,52,329])),a=await n.queryAttributeBins(i.default.from(e),t);if(a.features)for(let e of a.features)e.layer=e.sourceLayer=this;return a}async queryTopObjectIds(e,t){let{source:n,capabilities:r}=await this.load();if(!n.queryTopObjectIds||!r?.query.supportsTopFeaturesQuery)throw new M(v7,`Layer source does not support queryTopObjectIds capability`);let i=await N(()=>import(`./TopFeaturesQuery-ayaPBruu.js`),__vite__mapDeps([447,448]));return(await n.queryTopObjectIds(i.default.from(e),t)).filter(CP)}async queryTopFeaturesExtent(e,t){let{source:n,capabilities:r}=await this.load();if(!n.queryTopExtents||!r?.query?.supportsTopFeaturesQuery)throw new M(v7,`Layer source does not support queryTopExtents capability`);let i=await N(()=>import(`./TopFeaturesQuery-ayaPBruu.js`),__vite__mapDeps([447,448]));return n.queryTopExtents(i.default.from(e),t)}async queryTopFeatureCount(e,t){let{source:n,capabilities:r}=await this.load();if(!n.queryTopCount||!r?.query?.supportsTopFeaturesQuery)throw new M(v7,`Layer source does not support queryFeatureCount capability`);let i=await N(()=>import(`./TopFeaturesQuery-ayaPBruu.js`),__vite__mapDeps([447,448]));return n.queryTopCount(i.default.from(e),t)}read(e,t){let n=e.featureCollection;if((n||e.type===`Feature Collection`)&&(this.resourceInfo=e),n){let{layers:e,showLegend:r}=n;e?.length===1&&(super.read(e[0],t),r!=null&&super.read({showLegend:r},t))}super.read(e,t),t&&t.origin===`service`&&(this.revert([`objectIdField`,`fields`,`timeInfo`,`dateFieldsTimeZone`],`service`),this.spatialReference||this.revert([`spatialReference`],`service`))}write(e,t){t={...t,origin:t?.origin??void 0,writeLayerSchema:t?.writeLayerSchema??this._hasMemorySource()};let{origin:n,layerContainerType:r,messages:i}=t;if(this.dynamicDataSource)return i?.push(y7(this,`using a dynamic data source cannot be written to web scenes, web maps and feature service items`)),null;if(this.isTable){if((n===`web-map`||n===`web-scene`)&&r!==`tables`)return i?.push(y7(this,`a table source can only be written to tables, not ${r}`)),null;if(this._hasMemorySource())return i?.push(y7(this,`using an in-memory table source cannot be written to web scenes and web maps`)),null}else if(this.loaded&&(n===`web-map`||n===`web-scene`)&&r===`tables`)return i?.push(y7(this,`using a non-table source cannot be written to tables in web maps or web scenes`)),null;return super.write(e,t)}clone(){if(this._hasMemorySource())throw new M(v7,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(e){return!!this.loaded&&(this.source?.type===`memory`||yNe(this,e))}async save(e){return this._debouncedSaveOperations(0,e)}async saveAs(e,t){return this._debouncedSaveOperations(1,t,e)}_readEditingEnabled(e,t,n){let r=e.layerDefinition?.capabilities;return r?this._hasEditingCapability(r):(r=e.capabilities,t&&n?.origin===`web-map`&&!this._hasMemorySource()&&r?this._hasEditingCapability(r):void 0)}_hasEditingCapability(e){return e.toLowerCase().split(`,`).map(e=>e.trim()).includes(`editing`)}_writeEditingEnabled(e,t,n,r){if(!e){let e=this.capabilities?.operations?.supportsSync?`Query,Sync`:`Query`;fl(`layerDefinition.capabilities`,e,t),n&&!r?.writeLayerSchema&&(t.capabilities=e)}}_fetchFirstValidLayerId(e){return gp(this.url??``,{query:{f:`json`,...this.customParameters,token:this.apiKey},responseType:`json`,signal:e}).then(e=>{let t=e.data;if(t)return this.applyPreferredHost(t),this.findFirstValidLayerId(t)})}async initLayerProperties(e){return this._set(`source`,e),e.sourceJSON&&(this.sourceJSON=e.sourceJSON,this.read(e.sourceJSON,{origin:`service`,portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl})),this._verifySource(),this._verifyFields(),LP(this.renderer,this.fieldsIndex),zP(this.timeInfo,this.fieldsIndex),this._hasMemorySource()&&this.geometryType===`mesh`&&(this.capabilities.query.supportsReturnMesh=!0),bNe(this,{origin:`service`})}async hasDataChanged(){return r6(this)}async fetchPublishingStatus(){let e=this.source;return e?.fetchPublishingStatus?e.fetchPublishingStatus():`unavailable`}_verifyFields(){let e=this.parsedUrl?.path??`undefined`;this.objectIdField||console.log(`FeatureLayer: 'objectIdField' property is not defined (url: `+e+`)`),this.isTable||this._hasMemorySource()||e.search(/\/FeatureServer\//i)!==-1||this.fields?.some(e=>e.type===`geometry`)||console.log(`FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: `+e+`)`)}_fixTemplates(e,t){e&&e.forEach(e=>{let n=e.prototype?.attributes;n&&t&&delete n[t]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new M(`feature-layer:mixed-source-and-url`,`FeatureLayer cannot be created with both an in-memory source and a url`)}else if(!this.url)throw new M(`feature-layer:source-or-url-required`,`FeatureLayer requires either a url, a valid portal item or a source`)}_initMemorySource(e){e.forEach(e=>{e.layer=this,e.sourceLayer=this}),this.addHandles([e.on(`after-add`,e=>{e.item.layer=this,e.item.sourceLayer=this}),e.on(`after-remove`,e=>{e.item.layer=null,e.item.sourceLayer=null})],`fl-source`)}_resetMemorySource(e){e.forEach(e=>{e.layer=null,e.sourceLayer=null}),this.removeHandles(`fl-source`)}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(e){return Array.isArray(e.layers)&&e.layers.length>0?e.layers[0].id:Array.isArray(e.tables)&&e.tables.length>0?e.tables[0].id:void 0}};O([P({clonable:!1,readOnly:!0})],$.prototype,`_titleCreator`,null),O([P(S2)],$.prototype,`attributeTableTemplate`,void 0),O([W(`service`,`capabilities`)],$.prototype,`readCapabilities`,null),O([P({json:{origins:{"web-scene":{write:!1}},write:!0}})],$.prototype,`charts`,void 0),O([P({readOnly:!0})],$.prototype,`createQueryVersion`,null),O([P({json:{read:{source:`layerDefinition.copyrightText`}}})],$.prototype,`copyright`,void 0),O([P({json:{read:{source:`layerDefinition.displayField`}}})],$.prototype,`displayField`,void 0),O([P({types:xB,readOnly:!0})],$.prototype,`defaultSymbol`,void 0),O([P({type:sV})],$.prototype,`dynamicDataSource`,void 0),O([P({type:Boolean})],$.prototype,`editingEnabled`,null),O([W([`portal-item`,`web-scene`],`editingEnabled`,[`layerDefinition.capabilities`])],$.prototype,`readEditingEnabled`,null),O([W(`web-map`,`editingEnabled`,[`capabilities`,`layerDefinition.capabilities`])],$.prototype,`readEditingEnabledFromWebMap`,null),O([z([`portal-item`,`web-scene`],`editingEnabled`,{"layerDefinition.capabilities":{type:String}})],$.prototype,`writeEditingEnabled`,null),O([z(`web-map`,`editingEnabled`,{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],$.prototype,`writeEditingEnabledToWebMap`,null),O([P({readOnly:!0})],$.prototype,`effectiveEditingEnabled`,null),O([P({clonable:!1,readOnly:!0})],$.prototype,`featureTitleFields`,null),O([P({type:[p7],json:{name:`layerDefinition.fieldConfigurations`,write:{overridePolicy(e,t,n){return{enabled:!n?.writeLayerSchema,ignoreOrigin:this.originIdOf(t)===1}}}}})],$.prototype,`fieldConfigurations`,null),O([P({...b7.fields,json:{read:{source:`layerDefinition.fields`},origins:{service:{name:`fields`},"web-map":{write:{target:`layerDefinition.fields`,overridePolicy:x7}}}}})],$.prototype,`fields`,void 0),O([P(b7.fieldsIndex)],$.prototype,`fieldsIndex`,void 0),O([P({type:S1,json:{name:`formInfo`,write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],$.prototype,`formTemplate`,void 0),O([P({json:{read:{source:`layerDefinition.extent`}}})],$.prototype,`fullExtent`,void 0),O([P({json:{origins:{"web-map":{write:{target:`layerDefinition.geometryType`,overridePolicy:x7,writer(e,t,n){let r=e?W3.toJSON(e):null;r&&fl(n,r,t)}}}},read:{source:`layerDefinition.geometryType`,reader:W3.read}}})],$.prototype,`geometryType`,void 0),O([P({readOnly:!0,clonable:!1})],$.prototype,`graphicOrigin`,void 0),O([P({json:{read:{source:`layerDefinition.hasM`}}})],$.prototype,`hasM`,void 0),O([P({json:{read:{source:`layerDefinition.hasZ`}}})],$.prototype,`hasZ`,void 0),O([P(v2)],$.prototype,`id`,void 0),O([P({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],$.prototype,`infoFor3D`,void 0),O([P({json:{origins:{"web-map":{write:{target:`layerDefinition.type`}}}}})],$.prototype,`isTable`,void 0),O([W(`service`,`isTable`,[`type`,`geometryType`]),W(`isTable`,[`layerDefinition.type`,`layerDefinition.geometryType`])],$.prototype,`readIsTable`,null),O([z(`web-map`,`isTable`)],$.prototype,`writeIsTable`,null),O([P(d2)],$.prototype,`labelsVisible`,void 0),O([P({type:[m8],json:{origins:{service:{name:`drawingInfo.labelingInfo`,read:h7,write:!1}},name:`layerDefinition.drawingInfo.labelingInfo`,read:h7,write:{layerContainerTypes:t$}}})],$.prototype,`labelingInfo`,void 0),O([P((()=>{let e=A(_2);return e.json.origins[`portal-item`]={write:{target:`layerDefinition.drawingInfo.transparency`,writer(e,t,n){fl(n,mE(e),t)}}},e})())],$.prototype,`opacity`,void 0),O([P(p2)],$.prototype,`legendEnabled`,void 0),O([P({type:[`show`,`hide`],json:(()=>{let e=A(x2.json);return e.origins[`portal-item`]={read:!1,write:!1},e})()})],$.prototype,`listMode`,void 0),O([W(`globalIdField`,[`layerDefinition.globalIdField`,`layerDefinition.fields`])],$.prototype,`readGlobalIdField`,null),O([P({json:{origins:{"web-map":{write:{target:`layerDefinition.objectIdField`,overridePolicy:x7}}}}})],$.prototype,`objectIdField`,void 0),O([W(`objectIdField`,[`layerDefinition.objectIdField`,`layerDefinition.fields`])],$.prototype,`readObjectIdField`,null),O([P({type:[`ArcGISFeatureLayer`],json:{write:{target:`layerType`,ignoreOrigin:!0,layerContainerTypes:t$}}})],$.prototype,`operationalLayerType`,void 0),O([P(b7.outFields)],$.prototype,`outFields`,void 0),O([P({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],$.prototype,`path`,void 0),O([P(u2)],$.prototype,`popupEnabled`,void 0),O([P({type:OL,json:{name:`popupInfo`,write:!0}})],$.prototype,`popupTemplate`,void 0),O([z(`popupTemplate`)],$.prototype,`writePopupTemplate`,null),O([P({readOnly:!0})],$.prototype,`defaultPopupTemplate`,null),O([P({types:U5,json:{origins:{service:{write:{target:`drawingInfo.renderer`,enabled:!1}},"web-scene":{types:hMe,name:`layerDefinition.drawingInfo.renderer`,write:{layerContainerTypes:t$,overridePolicy:(e,t,n)=>({ignoreOrigin:n?.writeLayerSchema,layerContainerTypes:t$})}}},write:{target:`layerDefinition.drawingInfo.renderer`,overridePolicy:(e,t,n)=>({ignoreOrigin:n?.writeLayerSchema,layerContainerTypes:t$})}}})],$.prototype,`renderer`,null),O([W(`service`,`renderer`,[`drawingInfo.renderer`,`defaultSymbol`]),W(`renderer`,[`layerDefinition.drawingInfo.renderer`,`layerDefinition.defaultSymbol`])],$.prototype,`readRenderer`,null),O([P()],$.prototype,`resourceInfo`,void 0),O([P((()=>{let e=A(l2);return e.json.origins[`portal-item`]={read:!1,write:!1},e})())],$.prototype,`screenSizePerspectiveEnabled`,void 0),O([P({clonable:!1})],$.prototype,`source`,null),O([Sy(`source`)],$.prototype,`castSource`,null),O([W(`portal-item`,`source`,[`featureSet`]),W(`web-map`,`source`,[`featureSet`])],$.prototype,`readSource`,null),O([P({json:{read:{source:`layerDefinition.extent.spatialReference`}}})],$.prototype,`spatialReference`,void 0),O([P({type:Number})],$.prototype,`subtypeCode`,void 0),O([P({type:[d7]})],$.prototype,`templates`,void 0),O([W(`templates`,[`editFieldsInfo`,`creatorField`,`editorField`,`templates`])],$.prototype,`readTemplates`,null),O([P({type:c7})],$.prototype,`timeInfo`,void 0),O([P()],$.prototype,`title`,void 0),O([W(`service`,`title`,[`name`]),W(`portal-item`,`title`,[`layerDefinition.title`,`layerDefinition.name`,`title`])],$.prototype,`readTitle`,null),O([W(`web-map`,`title`,[`layerDefinition.name`,`title`])],$.prototype,`readTitleFromWebMap`,null),O([P({type:String})],$.prototype,`sublayerTitleMode`,void 0),O([P({json:{read:!1}})],$.prototype,`type`,void 0),O([P({type:String})],$.prototype,`typeIdField`,void 0),O([W(`service`,`typeIdField`),W(`typeIdField`,[`layerDefinition.typeIdField`])],$.prototype,`readTypeIdField`,null),O([P({type:[f7]})],$.prototype,`types`,void 0),O([W(`service`,`types`,[`types`]),W(`types`,[`layerDefinition.types`])],$.prototype,`readTypes`,null),O([P({type:Boolean,json:{origins:{"portal-item":{write:{target:`layerDefinition.defaultVisibility`,layerContainerTypes:t$}}}}})],$.prototype,`visible`,void 0),O([W(`portal-item`,`visible`,[`visibility`,`layerDefinition.defaultVisibility`])],$.prototype,`readVisible`,null),$=O([F(`esri.layers.FeatureLayer`)],$);var S7=class extends R{constructor(e){super(e),this.moment=null,this.fullUpdate=!1,this.validateErrorsCreated=!1,this.exceededTransferLimit=null,this.serviceEdits=null,this.discoveredSubnetworks=null}};O([P({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.moment=e?e.getTime():null}}}})],S7.prototype,`moment`,void 0),O([P({type:Boolean,json:{write:!0}})],S7.prototype,`fullUpdate`,void 0),O([P({type:Boolean,json:{write:!0}})],S7.prototype,`validateErrorsCreated`,void 0),O([P({type:Boolean,json:{write:!0}})],S7.prototype,`exceededTransferLimit`,void 0),O([P({type:[Object],json:{write:!0}})],S7.prototype,`serviceEdits`,void 0),O([P({type:[Object],json:{write:!0}})],S7.prototype,`discoveredSubnetworks`,void 0),S7=O([F(`esri.rest.networks.support.ValidateNetworkTopologyResult`)],S7);var MNe=S7,NNe=I_()({Pending:`job-waiting`,InProgress:`job-executing`,Completed:`job-succeeded`}),C7=class extends MNe{constructor(e){super(e),this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}async checkJobStatus(e){let t={...e,query:{f:`json`}},{data:n}=await gp(this.statusUrl,t);return this.read(n),this.editsResolver&&this.editsResolver.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:!0,historicMoment:null}),this}async waitForJobCompletion(e={}){let{interval:t=1e3,statusCallback:n}=e;return new Promise((e,r)=>{this._clearTimer(),this._timer=setInterval(()=>{this._timer||r(Qd()),this.checkJobStatus().then(t=>{let{status:r}=t;switch(this.status=r,r){case`job-succeeded`:this._clearTimer(),e(this);break;case`job-waiting`:case`job-executing`:n&&n(this)}},e=>{this._clearTimer(),r(e)})},t)})}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};O([P()],C7.prototype,`editsResolver`,void 0),O([P({type:String,json:{write:!0}})],C7.prototype,`statusUrl`,void 0),O([J(NNe)],C7.prototype,`status`,void 0),O([P({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.submissionTime=e?e.getTime():null}}}})],C7.prototype,`submissionTime`,void 0),O([P({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.lastUpdatedTime=e?e.getTime():null}}}})],C7.prototype,`lastUpdatedTime`,void 0),C7=O([F(`esri.networks.support.TopologyValidationJobInfo`)],C7);var PNe=C7;function FNe(e,t,n=`from`){let{fromRuleElement:r,viaRuleElement:i,toRuleElement:a}=LNe(e),o=[];switch(e.ruleType){case 2:case 3:n===`from`&&E7(t,r,!1)?o.push(a):n===`to`&&E7(t,a,!1)&&o.push(r);break;case 4:case 1:E7(t,r,!0)?o.push(a):E7(t,a,!0)&&o.push(r);break;case 5:i&&(E7(t,i,!0)?(o.push(r),o.push(a)):(E7(t,r,!0)||E7(t,a,!0))&&o.push(i));break;default:return[]}return o}function w7(e,t,n){let{fromRuleElement:r,viaRuleElement:i,toRuleElement:a}=LNe(e);switch(e.ruleType){case 2:case 3:return T7(t,n,r,a,!1,!1);case 4:case 1:return T7(t,n,r,a,!0,!0);case 5:return T7(t,n,r,i,!0,!0)||T7(t,n,a,i,!0,!0);default:return!1}}function T7(e,t,n,r,i,a){if(!n||!r)return!1;let o=E7(e,n,a),s=E7(t,r,a);if(i){let i=E7(e,r,a),c=E7(t,n,a);return o&&s||i&&c}return o&&s}function INe(e,t){let n=e.terminal?.terminalId,r=t.terminalId;return n==null&&r==null||(n===1?r==null||r===1:n===r)}function E7(e,t,n){let{assetGroupCode:r,assetTypeCode:i}=e;return(`layerId`in e?e.layerId===t.networkSource?.layerId:e.networkSourceId===t.networkSource?.sourceId)&&(r==null||r===t.assetGroup?.assetGroupCode)&&(i==null||i===t.assetType?.assetTypeCode)&&(!n||!(`terminalId`in e)||INe(t,e))}function LNe(e){return{fromRuleElement:{networkSource:e.fromNetworkSource,assetGroup:e.fromAssetGroup,assetType:e.fromAssetType,terminal:e.fromTerminal},viaRuleElement:e.viaNetworkSource?{networkSource:e.viaNetworkSource,assetGroup:e.viaAssetGroup,assetType:e.viaAssetType,terminal:e.viaTerminal}:void 0,toRuleElement:{networkSource:e.toNetworkSource,assetGroup:e.toAssetGroup,assetType:e.toAssetType,terminal:e.toTerminal}}}function D7(e){let t=null,n=null,r=null;if(EP(e))t=O7(e),[n,r]=RNe(e);else if(mT(e)){t=e.parent?.layerId??null;let[r]=k7(e);r===e.subtypeField&&(n=e.subtypeCode)}else t=e.layerId??null;return{layerId:t,assetGroupCode:n,assetTypeCode:r}}function O7(e){let{sourceLayer:t}=e,n;return fT(t)?n=t.layerId:mT(t)&&(n=t.parent?.layerId),n??null}function RNe(e){let[t,n]=k7(e.sourceLayer);return[t?e.attributes[t]:null,n?e.attributes[n]:null]}function k7(e){return!e||!(`fieldsIndex`in e)?[null,null]:[e.fieldsIndex.normalizeFieldName(`assetGroup`)??null,e.fieldsIndex.normalizeFieldName(`assetType`)??null]}async function zNe(e,t){if(e===`Utility Network Layer`){let{default:e}=await N(async()=>{let{default:e}=await import(`./UtilityNetwork-Bbo3iWN-.js`);return{default:e}},[]);return new e({layerUrl:t})}return null}async function BNe(e){let t=`portalItem`in e?e:{portalItem:e};!t.portalItem||t.portalItem instanceof Nb||(t={...t,portalItem:new Nb(t.portalItem)});let n=t.portalItem;if(await n.load(),n.type!==`Feature Service`)throw new M(`portal:unknown-item-type`,"Unknown item type '${type}'",{type:n.type});let r=n.url,i=await gp(r,{responseType:`json`,query:{f:`json`}}),a=`Network Layer`;if(i.data.type?.includes(a))return zNe(i.data.type,r);if(i.data.layers){let e=i.data.layers.find(e=>e.type.includes(a));if(e){let t=`${r}/${e.id}`;return zNe(e.type,t)}}return null}var A7=class extends eQ(w_){static fromPortalItem(e){return BNe(e)}constructor(e){super(e),this.id=null,this.title=null,this.layerUrl=null,this.dataElement=null,this.fullExtent=null,this.spatialReference=null,this.type=null,this.sourceJSON=null,this._historicMoment=null,this._gdbVersion=null,this._sourceIdByLayerId=new Map,this._layerIdBySourceId=new Map,this._applyEditsHandler=e=>{let{serviceUrl:t,gdbVersion:n,result:r}=e,i=t===this.featureServiceUrl,a=D0(t,n,this.gdbVersion);i&&a&&r.then(e=>{b0(t,n)&&(this.historicMoment=e.historicMoment)})},this._updateMomentHandler=e=>{let{serviceUrl:t,gdbVersion:n,moment:r}=e,i=t===this.featureServiceUrl,a=D0(t,n,this.gdbVersion);i&&a&&(this.historicMoment=r)},this.when().then(()=>{this.addHandles([S0(this._applyEditsHandler),C0(this._updateMomentHandler)])},()=>{})}initialize(){this.when().catch(e=>{lf(e)||j.getLogger(this).error(`#load()`,`Failed to load layer (title: '${this.title??`no title`}', id: '${this.id??`no id`}')`,{error:e})})}get loaded(){return super.loaded}get datasetName(){return this.dataElement?.name??null}get owner(){return this.dataElement?.userIdentity??null}get schemaGeneration(){return this.dataElement?.schemaGeneration??null}get parsedUrl(){return au(this.layerUrl)}get featureServiceUrl(){return Vf(this.parsedUrl.path).url.path}get networkServiceUrl(){return this.featureServiceUrl.replace(/\/FeatureServer/i,`/UtilityNetworkServer`)}get layerId(){return Vf(this.parsedUrl.path).sublayer}get networkSystemLayers(){return null}get gdbVersion(){return this._gdbVersion}set gdbVersion(e){this._gdbVersion=e}get historicMoment(){return this._historicMoment}set historicMoment(e){this._historicMoment=e}async load(e){return this.addResolvingPromise(this._load(e)),this}async _load(e){await Promise.all([this._fetchDataElement(this.featureServiceUrl,this.layerId.toString(),e),this._fetchLayerMetaData(this.layerUrl,e)])}getLayerIdBySourceId(e){if(!this.dataElement)return null;let t=this._layerIdBySourceId.get(e);if(t!=null)return t;let n=this.dataElement.domainNetworks,r=this._traverseNetworkSources(n,this._layerIdBySourceId,`sourceId`,`layerId`,e);return r>=0?r:null}getSourceIdByLayerId(e){if(!this.dataElement)return null;let t=this._sourceIdByLayerId.get(e);if(t!=null)return t;let n=this.dataElement.domainNetworks,r=this._traverseNetworkSources(n,this._sourceIdByLayerId,`layerId`,`sourceId`,e);return r>=0?r:null}getObjectIdsFromElements(e){let t=[],n=new Map;for(let t of e){let e=this.getLayerIdBySourceId(t.networkSourceId);if(e==null)continue;let r=n.get(e);r===void 0&&(r=[]),r.push(t.objectId),n.set(e,r)}let r=this.featureServiceUrl;return n.forEach((e,n)=>t.push({layerUrl:`${r}/${n}`,objectIds:e})),t}async queryNamedTraceConfigurations(e,t){let[{queryNamedTraceConfigurations:n},{default:r}]=await Promise.all([N(()=>import(`./queryNamedTraceConfigurations-BxvFdjtp.js`),[]),N(()=>import(`./QueryNamedTraceConfigurationsParameters-ChqCw8eM.js`),[])]),i=this.networkServiceUrl,a=r.from(e);return(await n(i,a,{...t}))?.namedTraceConfigurations}async validateTopology(e,t){if(!e.validateArea)throw new M(`network:undefined-validateArea`,`the network must have validateArea defined in the validate network topology parameters.`);let[{validateNetworkTopology:n},{default:r}]=await Promise.all([N(()=>import(`./validateNetworkTopology-B8MWrCmJ.js`),[]),N(()=>import(`./ValidateNetworkTopologyParameters-CFDwKGJV.js`),[])]),i=r.from(e);b0(this.featureServiceUrl,this.gdbVersion||null)?(i.sessionID=g0,await y0(this.featureServiceUrl,this.gdbVersion,!0)):i.sessionID=null,i.gdbVersion=this.gdbVersion;let a=this.networkServiceUrl,o=this.featureServiceUrl,s=w0(o,null,this.gdbVersion,!0),c=await n(a,i,{...t});if(c?.serviceEdits){let e=[];for(let t of c.serviceEdits){let{editedFeatures:n}=t,r=n?.spatialReference?new U(n.spatialReference):null;e.push({layerId:t.layerId,editedFeatures:{adds:n?.adds?.map(e=>j7(e,r))||[],updates:n?.updates?.map(e=>({original:j7(e[0],r),current:j7(e[1],r)}))||[],deletes:n?.deletes?.map(e=>j7(e,r))||[],spatialReference:r}})}s.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],editedFeatures:e,exceededTransferLimit:!1,historicMoment:c.moment})}return c}async submitTopologyValidationJob(e,t){let n=null;if(!e.validateArea)throw new M(`network:undefined-validateArea`,`the network must have validateArea defined in the validate network topology parameters.`);if(!this.gdbVersion){let e=this.layerUrl.replace(/\/FeatureServer/i,`/VersionManagementServer`).replace(/\/\d*$/,``);n=(await gp(e,{responseType:`json`,query:{f:`json`}})).data.defaultVersionName}let[{submitValidateNetworkTopologyJob:r},{default:i}]=await Promise.all([N(()=>import(`./validateNetworkTopology-B8MWrCmJ.js`),[]),N(()=>import(`./ValidateNetworkTopologyParameters-CFDwKGJV.js`),[])]),a=i.from(e);b0(this.featureServiceUrl,this.gdbVersion||null)?(a.sessionID=g0,await y0(this.featureServiceUrl,this.gdbVersion,!0)):a.sessionID=null,a.gdbVersion=this.gdbVersion||n;let o=this.networkServiceUrl,s=this.featureServiceUrl?w0(this.featureServiceUrl,null,this.gdbVersion,!0):void 0,c=await r(o,a,{...t});return new PNe({statusUrl:c,editsResolver:s})}getSourceTypeById(e){if(!this.dataElement)return null;for(let t of this.dataElement.domainNetworks)for(let n of[t.edgeSources??[],t.junctionSources??[]])for(let r of n)if(r.sourceId===e)return n===t.edgeSources?`edge`:`junction`;return null}_traverseNetworkSources(e,t,n,r,i){for(let a of e)for(let e of[a.edgeSources??[],a.junctionSources??[]])for(let a of e)if(a[n]===i)return t.set(i,a[r]),a[r];return-1}async _fetchLayerMetaData(e,t){let n=await gp(e,{responseType:`json`,query:{f:`json`},...t});this.sourceJSON=n.data,this.read(n.data,{origin:`service`})}async _fetchDataElement(e,t,n){if(this.dataElement)return;let r=await gp(`${e}/queryDataElements`,{responseType:`json`,query:{layers:JSON.stringify([t]),f:`json`},...n}).then(e=>e.data.layerDataElements?.[0]);r&&this.read(r,{origin:`service`})}};function j7(e,t){return new EB({attributes:e.attributes,geometry:qj({...e.geometry,spatialReference:t})})}O([P({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:!0}},read:!1}})],A7.prototype,`id`,void 0),O([P({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:{source:`name`}}},read:!1}})],A7.prototype,`title`,void 0),O([P({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:`url`},write:{target:`url`,isRequired:!0}}},read:!1}})],A7.prototype,`layerUrl`,void 0),O([P({type:Object,json:{origins:{service:{read:!0}},read:!1}})],A7.prototype,`dataElement`,void 0),O([P({type:cb,json:{origins:{service:{read:{source:`extent`}}},read:!1}})],A7.prototype,`fullExtent`,void 0),O([P({type:U,json:{origins:{service:{read:{source:`extent.spatialReference`}}},read:!1}})],A7.prototype,`spatialReference`,void 0),O([P({type:[`utility`,`trace`],readOnly:!0,json:{read:!1,write:!1}})],A7.prototype,`type`,void 0),O([P({readOnly:!0})],A7.prototype,`datasetName`,null),O([P({readOnly:!0})],A7.prototype,`owner`,null),O([P({readOnly:!0})],A7.prototype,`schemaGeneration`,null),O([P({readOnly:!0})],A7.prototype,`parsedUrl`,null),O([P({readOnly:!0})],A7.prototype,`featureServiceUrl`,null),O([P({readOnly:!0})],A7.prototype,`networkServiceUrl`,null),O([P({readOnly:!0})],A7.prototype,`layerId`,null),O([P()],A7.prototype,`sourceJSON`,void 0),O([P({readOnly:!0})],A7.prototype,`networkSystemLayers`,null),O([P({type:String})],A7.prototype,`gdbVersion`,null),O([P({type:Date})],A7.prototype,`historicMoment`,null),O([P()],A7.prototype,`_historicMoment`,void 0),O([P()],A7.prototype,`_gdbVersion`,void 0),A7=O([F(`esri.networks.Network`)],A7);var VNe=A7,M7=class extends y_(w_){constructor(e){super(e),this.rulesCategorized={attachment:[],containment:[],connectivity:[]},this.request=gp}initialize(){}async load(e){let t=this.rulesLayer.load(e).then(()=>this._initializeRulesTable());return this.addResolvingPromise(t),this}getFeaturesCanAssociateWithClause(e,t,n){let r=new Map,[i,a]=k7(e.sourceLayer);if(!i||!a)return``;let o=D7(e),s=D7(t);n.forEach(e=>{let{type:t,direction:n}=e;this._getRulesForAssociationType(t).forEach(e=>{FNe(e,o,n).filter(e=>e.networkSource?.layerId===s.layerId).forEach(e=>{let t=e.assetGroup?.assetGroupCode,n=e.assetType?.assetTypeCode;if(t!=null&&n!=null){let e=r.get(t)??new Set;e.add(n),r.set(t,e)}})})});let c=[];return this._mergeAssetCodes(r).forEach((e,t)=>{let n=`${i} IN (${t})`,r=SP(a,[...e]);n&&r&&c.push(bP(n,r))}),c.length>1&&(c=c.map(e=>`(${e})`)),c.join(` OR `)}getFeaturesCanAssociateWith(e,t,n){return O7(e)==null?[]:t.filter(t=>this.canAssociateFeatures(e,t,n))}canAssociateFeatures(e,t,n){if(!this._canSupportAssociations([e,t]))return!1;let r=D7(e),i=D7(t);return n.some(e=>{let{type:t,direction:n}=e;return this._getRulesForAssociationType(t).some(e=>n===`to`?w7(e,i,r):w7(e,r,i))})}getLayersCanAssociateWith(e,t,n){return O7(e)==null?[]:t.filter(t=>this.canAssociateFeatureToLayer(e,t,n))}canAssociateFeatureToLayer(e,t,n){if(!this._canSupportAssociations([e,t]))return!1;let r=D7(e),i=D7(t);return n.some(e=>{let{type:t,direction:n}=e;return this._getRulesForAssociationType(t).some(e=>n===`to`?w7(e,i,r):w7(e,r,i))})}getFeatureSQL(e,t){let n=e.layerId.toString(),r=e.fieldsIndex?.normalizeFieldName(`assetGroup`),i=e.fieldsIndex?.normalizeFieldName(`assetType`),a=r?t.attributes[r]:null,o=i?t.attributes[i]:null,s=this.rulesHash[n];if(s){let e=s.assetGroupHash[a];if(e)return e.assetTypeHash[o]||null}return null}_initializeRulesTable(){let e={},t=[{networkSourceId:`fromNetworkSource`,assetGroupId:`fromAssetGroup`,assetTypeId:`fromAssetType`},{networkSourceId:`toNetworkSource`,assetGroupId:`toAssetGroup`,assetTypeId:`toAssetType`},{networkSourceId:`viaNetworkSource`,assetGroupId:`viaAssetGroup`,assetTypeId:`viaAssetType`}];this.rulesCategorized={attachment:[],containment:[],connectivity:[]};for(let n of this.rules){if(n.ruleType===3){this.rulesCategorized.attachment.push(n);continue}if(n.ruleType===2){this.rulesCategorized.containment.push(n);continue}if(n.ruleType===1){this.rulesCategorized.connectivity.push(n);continue}this.rulesCategorized.connectivity.push(n);let r=[[0,1],[1,0]];n.ruleType===5&&(r=[[0,2],[2,0],[1,2],[2,1]]);for(let i of r){let r=i.shift(),a=i.shift(),o=!1;switch(n.ruleType){case 5:o=r===0||r===1;break;case 4:o=r===1}let s=t[r],c=n[s.networkSourceId]?.layerId.toString()??``,l=n[s.assetGroupId]?.assetGroupCode?.toString(),u=n[s.assetTypeId]?.assetTypeCode?.toString(),d=t[a],f=n[d.networkSourceId]?.layerId.toString()??``,p=n[d.assetGroupId]?.assetGroupCode?.toString(),m=n[d.assetTypeId],h=m?.assetTypeCode?.toString(),g=e[c]??{assetGroupHash:{}};if(!(l&&u&&p&&h))continue;let _=g.assetGroupHash[l]??{assetTypeHash:{}},v=_.assetTypeHash[u]??{};if(v[f]=v[f]??{},o){v[c]=v[c]??{};let e=bP(`assetgroup = ${l}`,`assettype = ${u}`);m?.connectivityPolicy===`esriNECPEndVertex`?v[c].endVertex=v[c]?.endVertex?`${v[c].endVertex}`:`(${e})`:v[c].anyVertex=v[c].anyVertex?`${v[c].anyVertex}`:`(${e})`}let y=bP(`assetgroup = ${p}`,`assettype = ${h}`);m?.connectivityPolicy===`esriNECPEndVertex`?v[f].endVertex=v[f]?.endVertex?xP(v[f].endVertex,y):`(${y})`:v[f].anyVertex=v[f]?.anyVertex?xP(v[f].anyVertex,y):`(${y})`,_.assetTypeHash[u]=v,g.assetGroupHash[l]=_,e[c]=g}}this._set(`rulesHash`,e)}_getRulesForAssociationType(e){let{rulesCategorized:t}=this;switch(e){case`attachment`:return t.attachment;case`containment`:return t.containment;case`connectivity`:case`junction-junction-connectivity`:return t.connectivity.filter(e=>e.ruleType===1);case`junction-edge-from-connectivity`:case`junction-edge-midspan-connectivity`:case`junction-edge-to-connectivity`:return t.connectivity.filter(e=>e.ruleType===4||e.ruleType===5);default:return[]}}_areSetsEqual(e,t){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}_mergeAssetCodes(e){let t=new Map,n=new Set;for(let[r,i]of e){let a=new Set([r]);for(let[t,o]of e)r!==t&&!n.has(t)&&this._areSetsEqual(i,o)&&(a.add(t),n.add(t));let o=Array.from(a).sort().join(`,`);t.set(o,i)}return t}_canSupportAssociations(e){return e.every(e=>{let t=EP(e)?e.sourceLayer:e,[n,r]=k7(t);return n!=null&&r!=null})}};O([P({constructOnly:!0})],M7.prototype,`rulesLayer`,void 0),O([P({constructOnly:!0})],M7.prototype,`rules`,void 0),O([P({readOnly:!0})],M7.prototype,`rulesHash`,void 0),O([P()],M7.prototype,`rulesCategorized`,void 0),O([P({constructOnly:!0})],M7.prototype,`request`,void 0),M7=O([F(`esri.networks.RulesTable`)],M7);var N7=class extends R{constructor(e){super(e),this.conditionBarriers=[],this.outputConditions=[],this.functions=[],this.functionBarriers=[],this.traversabilityScope=null,this.shortestPathNetworkAttributeName=null,this.includeBarriers=null,this.validateConsistency=null,this.ignoreBarriersAtStartingPoints=null}};O([P({type:[Object],json:{write:!0}})],N7.prototype,`conditionBarriers`,void 0),O([P({type:[Object],json:{write:!0}})],N7.prototype,`outputConditions`,void 0),O([P({type:[Object],json:{write:!0}})],N7.prototype,`functions`,void 0),O([P({type:[Object],json:{write:!0}})],N7.prototype,`functionBarriers`,void 0),O([P({type:[`junctions`,`edges`,`junctionsAndEdges`],json:{write:!0}})],N7.prototype,`traversabilityScope`,void 0),O([P({type:String,json:{write:!0}})],N7.prototype,`shortestPathNetworkAttributeName`,void 0),O([P({type:Boolean,json:{write:!0}})],N7.prototype,`includeBarriers`,void 0),O([P({type:Boolean,json:{write:!0}})],N7.prototype,`validateConsistency`,void 0),O([P({type:Boolean,json:{write:!0}})],N7.prototype,`ignoreBarriersAtStartingPoints`,void 0),N7=O([F(`esri.networks.support.TraceConfiguration`)],N7);var P7=N7,F7=new P_({Clean:`clean`,Dirty:`dirty`}),I7=new P_({Physical:`physical`,Virtual:`virtual`}),L7=new P_({"Start and end":`start-and-end`,Start:`start`,Midspan:`midspan`,End:`end`}),R7=new P_({startingPoint:`starting-point`,barrier:`barrier`,stoppingPoint:`stopping-point`}),z7=new P_({connected:`connected`,upstream:`upstream`,downstream:`downstream`,shortestPath:`shortest-path`,subnetwork:`subnetwork`,subnetworkController:`subnetwork-controller`,loops:`loops`,isolation:`isolation`,path:`path`,circuit:`circuit`}),HNe=`{00000000-0000-0000-0000-000000000000}`,UNe=new P_({junctionJunctionConnectivity:`junction-junction-connectivity`,connectivity:`connectivity`,attachment:`attachment`,containment:`containment`,junctionEdgeFromConnectivity:`junction-edge-from-connectivity`,junctionEdgeMidspanConnectivity:`junction-edge-midspan-connectivity`,junctionEdgeToConnectivity:`junction-edge-to-connectivity`}),WNe={connectivity:1,"junction-junction-connectivity":1,containment:2,attachment:3,"junction-edge-from-connectivity":4,"junction-edge-midspan-connectivity":5,"junction-edge-to-connectivity":6},GNe=new P_({normal:`normal`,rebuild:`rebuild`,forceRebuild:`force-rebuild`}),B7=class extends P7{constructor(e){super(e),this.filterBarriers=[],this.arcadeExpressionBarrier=null,this.circuitName=null,this.domainNetworkName=null,this.filterBitsetNetworkAttributeName=null,this.filterFunctionBarriers=[],this.filterScope=null,this.includeContainers=null,this.includeContent=null,this.includeIsolated=null,this.includeStructures=null,this.allowIndeterminateFlow=null,this.includeUpToFirstSpatialContainer=null,this.inferConnectivity=null,this.maxHops=null,this.nearestNeighbor=null,this.numPaths=null,this.outputFilterCategories=[],this.outputFilters=[],this.propagators=[],this.subnetworkName=null,this.targetTierName=null,this.diagramTemplateName=null,this.tierName=null,this.validateLocatability=null}};O([P({type:[Object],json:{write:!0}})],B7.prototype,`filterBarriers`,void 0),O([P({type:String,json:{write:!0}})],B7.prototype,`arcadeExpressionBarrier`,void 0),O([P({type:String,json:{write:!0}})],B7.prototype,`circuitName`,void 0),O([P({type:String,json:{write:!0}})],B7.prototype,`domainNetworkName`,void 0),O([P({type:String,json:{write:!0}})],B7.prototype,`filterBitsetNetworkAttributeName`,void 0),O([P({type:[Object],json:{write:!0}})],B7.prototype,`filterFunctionBarriers`,void 0),O([P({type:[`junctions`,`edges`,`junctionsAndEdges`],json:{write:!0}})],B7.prototype,`filterScope`,void 0),O([P({type:Boolean,json:{write:!0}})],B7.prototype,`includeContainers`,void 0),O([P({type:Boolean,json:{write:!0}})],B7.prototype,`includeContent`,void 0),O([P({type:Boolean,json:{write:!0}})],B7.prototype,`includeIsolated`,void 0),O([P({type:Boolean,json:{write:!0}})],B7.prototype,`includeStructures`,void 0),O([P({type:Boolean,json:{write:!0}})],B7.prototype,`allowIndeterminateFlow`,void 0),O([P({type:Boolean,json:{write:!0}})],B7.prototype,`includeUpToFirstSpatialContainer`,void 0),O([P({type:Boolean,json:{write:!0}})],B7.prototype,`inferConnectivity`,void 0),O([P({type:Number,json:{write:!0}})],B7.prototype,`maxHops`,void 0),O([P({type:Object,json:{write:!0}})],B7.prototype,`nearestNeighbor`,void 0),O([P({type:Number,json:{write:!0}})],B7.prototype,`numPaths`,void 0),O([P({type:[Object],json:{write:!0}})],B7.prototype,`outputFilterCategories`,void 0),O([P({type:[Object],json:{write:!0}})],B7.prototype,`outputFilters`,void 0),O([P({type:[Object],json:{write:!0}})],B7.prototype,`propagators`,void 0),O([P({type:String,json:{write:!0}})],B7.prototype,`subnetworkName`,void 0),O([P({type:String,json:{write:!0}})],B7.prototype,`targetTierName`,void 0),O([P({type:String,json:{write:!0}})],B7.prototype,`diagramTemplateName`,void 0),O([P({type:String,json:{write:!0}})],B7.prototype,`tierName`,void 0),O([P({type:Boolean,json:{write:!0}})],B7.prototype,`validateLocatability`,void 0),B7=O([F(`esri.networks.support.UNTraceConfiguration`)],B7);var KNe=B7,V7=class extends tQ{constructor(e){super(e),this.globalId=null,this.title=null,this.traceConfiguration=null,this.creationDate=null,this.creator=null,this.description=null,this.minStartingPoints=null,this.resultTypes=[],this.tags=[],this.traceType=null}readTraceConfiguration(e,t){return e.tierName===void 0?P7.fromJSON(e):KNe.fromJSON(e)}};O([P({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:`id`},write:{target:`id`,isRequired:!0}},service:{read:{source:`globalId`},write:{target:`globalId`,isRequired:!0}}},read:!1}})],V7.prototype,`globalId`,void 0),O([P({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:`title`},write:{target:`title`,isRequired:!0}},service:{read:{source:`name`},write:{target:`name`,isRequired:!0}}},read:!1}})],V7.prototype,`title`,void 0),O([P({type:P7,json:{origins:{service:{read:!0,write:!0}},read:!1}})],V7.prototype,`traceConfiguration`,void 0),O([W(`service`,`traceConfiguration`)],V7.prototype,`readTraceConfiguration`,null),O([P({type:Date,json:{origins:{service:{read:!0,write:!0}},read:!1}})],V7.prototype,`creationDate`,void 0),O([P({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],V7.prototype,`creator`,void 0),O([P({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],V7.prototype,`description`,void 0),O([P({type:[`none`,`one`,`many`],json:{origins:{service:{read:{source:`minNumStartingPoints`},write:{target:`minNumStartingPoints`}}},read:!1}})],V7.prototype,`minStartingPoints`,void 0),O([P({json:{origins:{service:{read:!0,write:!0}},read:!1}})],V7.prototype,`resultTypes`,void 0),O([P({type:[String],json:{origins:{service:{read:!0,write:!0}},read:!1}})],V7.prototype,`tags`,void 0),O([P({type:z7.apiValues,json:{type:z7.jsonValues,origins:{service:{read:z7.read,write:z7.write}},read:!1}})],V7.prototype,`traceType`,void 0),V7=O([F(`esri.networks.support.NamedTraceConfiguration`)],V7);var qNe=V7;function JNe(e){let t=e?.fieldsIndex,n=`fromnetworksourceid`,r=`fromglobalid`,i=`fromterminalid`,a=`fromfirstunit`,o=`fromnumunits`,s=`tonetworksourceid`,c=`toglobalid`,l=`toterminalid`,u=`tofirstunit`,d=`tonumunits`,f=`status`,p=`associationtype`,m=`iscontentvisible`,h=`percentalong`,g=`globalid`;return{fromNetworkSourceId:t?.get(n)?.name??n,fromGlobalId:t?.get(r)?.name??r,fromTerminalId:t?.get(i)?.name??i,fromFirstUnit:t?.get(a)?.name??a,fromNumUnits:t?.get(o)?.name??o,toNetworkSourceId:t?.get(s)?.name??s,toGlobalId:t?.get(c)?.name??c,toTerminalId:t?.get(l)?.name??l,toFirstUnit:t?.get(u)?.name??u,toNumUnits:t?.get(d)?.name??d,status:t?.get(f)?.name??f,associationType:t?.get(p)?.name??p,isContentVisible:t?.get(m)?.name??m,percentAlong:t?.get(h)?.name??h,globalId:t?.get(e?.globalIdField??g)?.name??g}}function YNe(e,t){if(t.type!==`feature`&&t.type!==`subtype-group`||!t.url)return[];let n=`utilityNetworks`in e.map?e.map.utilityNetworks??[]:[];for(let e of n)if(e.isUtilityLayer(t)){let e=t.fieldsIndex.get(`assetgroup`),n=t.fieldsIndex.get(`assettype`);return[e?.name,n?.name].filter(e=>e!=null)}return[]}var H7=class extends I{constructor(e){super(e),this.rulesTableId=null,this.rulesTableUrl=null,this.subnetworksTable=null,this.subnetworksTableId=null,this.subnetworksTableUrl=null,this.dirtyAreasLayerId=null,this.dirtyAreasLayerUrl=null,this.associationsTable=null,this.associationsTableId=null,this.associationsTableUrl=null}destroy(){this.associationsTable?.destroy()}async loadAssociationsTable(e){if(!this.associationsTable){let{associationsTableUrl:e}=this;if(!e)throw new M(`utility-network-system-layers:missing-associations-table-url`,"Unable to load the associations table, as the `associationsTableUrl` is not set.");this.associationsTable=new $({url:e})}return await this.associationsTable.load(e),this.associationsTable}async loadSubnetworksTable(e){if(!this.subnetworksTable){let{subnetworksTableUrl:e}=this;if(!e)throw new M(`utility-network-system-layers:missing-subnetworks-table-url`,"Unable to load the subnetworks table, as the `subnetworksTableUrl` is not set.");this.subnetworksTable=new $({url:e})}return await this.subnetworksTable.load(e),this.subnetworksTable}};O([P({constructOnly:!0})],H7.prototype,`rulesTableId`,void 0),O([P({constructOnly:!0})],H7.prototype,`rulesTableUrl`,void 0),O([P()],H7.prototype,`subnetworksTable`,void 0),O([P({constructOnly:!0})],H7.prototype,`subnetworksTableId`,void 0),O([P({constructOnly:!0})],H7.prototype,`subnetworksTableUrl`,void 0),O([P({constructOnly:!0})],H7.prototype,`dirtyAreasLayerId`,void 0),O([P({constructOnly:!0})],H7.prototype,`dirtyAreasLayerUrl`,void 0),O([P()],H7.prototype,`associationsTable`,void 0),O([P({constructOnly:!0})],H7.prototype,`associationsTableId`,void 0),O([P({constructOnly:!0})],H7.prototype,`associationsTableUrl`,void 0),H7=O([F(`esri.networks.support.NetworkSystemLayers`)],H7);var U7=class extends R{constructor(e){super(e),this.id=null,this.name=null}};O([P({type:Number,json:{read:{source:`terminalId`},write:{target:`terminalId`}}})],U7.prototype,`id`,void 0),O([P({type:String,json:{read:{source:`terminalName`},write:{target:`terminalName`}}})],U7.prototype,`name`,void 0),O([P({type:Boolean,json:{write:!0}})],U7.prototype,`isUpstreamTerminal`,void 0),U7=O([F(`esri.networks.support.Terminal`)],U7);var XNe=U7,W7=new P_({esriUNTMBidirectional:`bidirectional`,esriUNTMDirectional:`directional`}),G7=class extends R{constructor(e){super(e),this.defaultConfiguration=null,this.id=null,this.name=null,this.terminals=[],this.traversabilityModel=null}};O([P({type:String,json:{write:!0}})],G7.prototype,`defaultConfiguration`,void 0),O([P({type:Number,json:{read:{source:`terminalConfigurationId`},write:{target:`terminalConfigurationId`}}})],G7.prototype,`id`,void 0),O([P({type:String,json:{read:{source:`terminalConfigurationName`},write:{target:`terminalConfigurationName`}}})],G7.prototype,`name`,void 0),O([P({type:[XNe],json:{write:!0}})],G7.prototype,`terminals`,void 0),O([P({type:W7.apiValues,json:{type:W7.jsonValues,read:W7.read,write:W7.write}})],G7.prototype,`traversabilityModel`,void 0),G7=O([F(`esri.networks.support.TerminalConfiguration`)],G7);var K7=class extends R{constructor(e){super(e),this.type=`networkElement`,this.assetGroupCode=null,this.assetTypeCode=null,this.globalId=null,this.networkSourceId=null,this.objectId=null,this.positionFrom=null,this.positionTo=null,this.terminalId=null}};O([P({json:{write:!1}})],K7.prototype,`type`,void 0),O([P({type:Number,json:{write:!0}})],K7.prototype,`assetGroupCode`,void 0),O([P({type:Number,json:{write:!0}})],K7.prototype,`assetTypeCode`,void 0),O([P({type:String,json:{write:!0}})],K7.prototype,`globalId`,void 0),O([P({type:Number,json:{write:!0}})],K7.prototype,`networkSourceId`,void 0),O([P({type:Number,json:{write:!0}})],K7.prototype,`objectId`,void 0),O([P({type:Number,json:{write:!0}})],K7.prototype,`positionFrom`,void 0),O([P({type:Number,json:{write:!0}})],K7.prototype,`positionTo`,void 0),O([P({type:Number,json:{write:!0}})],K7.prototype,`terminalId`,void 0),K7=O([F(`esri.rest.networks.support.NetworkElement`)],K7);var q7=class extends K7{constructor(e){super(e),this.type=`telecomNetworkElement`,this.firstUnit=null,this.numUnits=null}};O([P({json:{write:!1}})],q7.prototype,`type`,void 0),O([P({json:{write:!0}})],q7.prototype,`firstUnit`,void 0),O([P({json:{write:!0}})],q7.prototype,`numUnits`,void 0),q7=O([F(`esri.rest.networks.support.TelecomNetworkElement`)],q7);var J7=class extends R{constructor(e){super(e),this.edgeElement=null,this.junctionElement=null}readEdgeElement(e,t){return new q7({networkSourceId:t.edgeNetworkSourceId,globalId:t.edgeGlobalId,objectId:t.edgeObjectId,positionFrom:t.edgePositionFrom,positionTo:t.edgePositionTo,firstUnit:t.edgeFirstUnit,numUnits:t.edgeNumUnits})}writeEdgeElement(e,t){t.edgeNetworkSourceId=e.networkSourceId,t.edgeGlobalId=e.globalId,t.edgeObjectId=e.objectId,t.edgePositionFrom=e.positionFrom,t.edgePositionTo=e.positionTo,t.edgeFirstUnit=e.firstUnit,t.edgeNumUnits=e.numUnits}readJunctionElement(e,t){return new q7({networkSourceId:t.junctionNetworkSourceId,globalId:t.junctionGlobalId,objectId:t.junctionObjectId,terminalId:t.junctionTerminalId,firstUnit:t.junctionFirstUnit,numUnits:t.junctionNumUnits})}writeJunctionElement(e,t){t.junctionNetworkSourceId=e.networkSourceId,t.junctionGlobalId=e.globalId,t.junctionObjectId=e.objectId,t.junctionTerminalId=e.terminalId,t.junctionFirstUnit=e.firstUnit,t.junctionNumUnits=e.numUnits}};O([P({type:q7,json:{read:{source:[`edgeNetworkSourceId`,`edgeGlobalId`,`edgeObjectId`,`edgePositionFrom`,`edgePositionTo`,`edgeFirstUnit`,`edgeNumUnits`]},write:!0}})],J7.prototype,`edgeElement`,void 0),O([W(`edgeElement`)],J7.prototype,`readEdgeElement`,null),O([z(`edgeElement`)],J7.prototype,`writeEdgeElement`,null),O([P({type:q7,json:{read:{source:[`junctionNetworkSourceId`,`junctionGlobalId`,`junctionObjectId`,`junctionTerminalId`,`junctionFirstUnit`,`junctionNumUnits`]},write:!0}})],J7.prototype,`junctionElement`,void 0),O([W(`junctionElement`)],J7.prototype,`readJunctionElement`,null),O([z(`junctionElement`)],J7.prototype,`writeJunctionElement`,null),J7=O([F(`esri.networks.support.CircuitPathConnectivityElement`)],J7);var ZNe=J7,Y7=class extends R{constructor(e){super(e),this.globalId=null,this.isFilterBarrier=!1,this.percentAlong=null,this.terminalId=null,this.type=null,this.firstUnit=null,this.numUnits=null,this.networkSourceId=null}};O([P({type:String,json:{write:!0}})],Y7.prototype,`globalId`,void 0),O([P({type:Boolean,json:{write:!0}})],Y7.prototype,`isFilterBarrier`,void 0),O([P({type:Number,json:{write:!0}})],Y7.prototype,`percentAlong`,void 0),O([P({type:Number,json:{write:!0}})],Y7.prototype,`terminalId`,void 0),O([P({type:R7.apiValues,json:{type:R7.jsonValues,read:{reader:R7.read,source:`traceLocationType`},write:{writer:R7.write,target:`traceLocationType`}}})],Y7.prototype,`type`,void 0),O([P({type:Number,json:{write:!0}})],Y7.prototype,`firstUnit`,void 0),O([P({type:Number,json:{write:!0}})],Y7.prototype,`numUnits`,void 0),O([P({type:Number})],Y7.prototype,`networkSourceId`,void 0),Y7=O([F(`esri.rest.networks.support.TraceLocation`)],Y7);var X7=Y7,Z7=class extends R{constructor(e){super(e),this.pathId=null,this.order=null,this.startingPoint=null,this.stoppingPoint=null,this.pathConnectivity=[],this.geometry=null}};O([P({type:Number,json:{write:!0}})],Z7.prototype,`pathId`,void 0),O([P({type:Number,json:{write:!0}})],Z7.prototype,`order`,void 0),O([P({type:X7,json:{write:!0}})],Z7.prototype,`startingPoint`,void 0),O([P({type:X7,json:{write:!0}})],Z7.prototype,`stoppingPoint`,void 0),O([P({type:[ZNe],json:{write:!0}})],Z7.prototype,`pathConnectivity`,void 0),O([P({type:Gk,json:{write:!0}})],Z7.prototype,`geometry`,void 0),Z7=O([F(`esri.networks.support.CircuitPath`)],Z7);var Q7=Z7,$7=class extends R{constructor(e){super(e),this.sourceId=null,this.globalId=null,this.terminalId=1,this.firstUnit=1,this.numUnits=1}};O([P({type:Number,json:{write:!0}})],$7.prototype,`sourceId`,void 0),O([P({type:String,json:{write:!0}})],$7.prototype,`globalId`,void 0),O([P({type:Number,json:{write:!0}})],$7.prototype,`terminalId`,void 0),O([P({type:Number,json:{write:!0}})],$7.prototype,`firstUnit`,void 0),O([P({type:Number,json:{write:!0}})],$7.prototype,`numUnits`,void 0),$7=O([F(`esri.networks.support.CircuitLocation`)],$7);var e9=$7,t9=class extends R{constructor(e){super(e),this.name=null,this.globalId=null,this.providerId=null,this.consumerId=null,this.isReserved=!1,this.attributes=null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,t){this.attributes?this.attributes[e]=t:this.attributes={[e]:t}}};O([P({type:String,json:{write:!0}})],t9.prototype,`name`,void 0),O([P({type:String,json:{write:!0}})],t9.prototype,`globalId`,void 0),O([P({type:String})],t9.prototype,`providerId`,void 0),O([P({type:String})],t9.prototype,`consumerId`,void 0),O([P({type:Boolean,json:{write:!0}})],t9.prototype,`isReserved`,void 0),O([P({json:{write:{allowNull:!0,writer:(e,t)=>t.attributes=e??{}}}})],t9.prototype,`attributes`,void 0),t9=O([F(`esri.networks.support.Subcircuit`)],t9);var QNe=t9,n9=class extends R{constructor(e){super(e),this.sectionId=null,this.role=`start-and-end`,this.sectionType=`physical`,this.startLocation=null,this.stopLocation=null,this.subcircuit=null,this.path=null}normalizeCtorArgs(e){if(e===void 0)return e;let{sectionId:t,startLocation:n,stopLocation:r,subcircuit:i}=e;return(n||r)&&i?(delete e.startLocation,delete e.stopLocation,j.getLogger(this).warn(`Cannot instantiate CircuitSection with both start/stop locations and subcircuit.`,`CircuitSection with ID '${t}' was defaulted to having a subcircuit only.`)):(n&&!r||!n&&r)&&!i&&j.getLogger(this).warn(`CircuitSection with ID '${t}' must have both start and stop locations.`,`Create/alter operations involving this section will fail unless both are populated.`),e}setStartStopLocations(e,t){this.startLocation=e,this.stopLocation=t,this.subcircuit=null}setSubcircuit(e){this.subcircuit=e,this.startLocation=null,this.stopLocation=null}};O([P({type:Number,json:{write:!0}})],n9.prototype,`sectionId`,void 0),O([P({type:L7.apiValues,json:{type:L7.jsonValues,read:L7.read},readOnly:!0})],n9.prototype,`role`,void 0),O([P({type:I7.apiValues,json:{type:I7.jsonValues,read:I7.read,write:I7.write}})],n9.prototype,`sectionType`,void 0),O([P({type:e9,json:{write:!0}})],n9.prototype,`startLocation`,void 0),O([P({type:e9,json:{write:!0}})],n9.prototype,`stopLocation`,void 0),O([P({type:QNe,json:{write:!0}})],n9.prototype,`subcircuit`,void 0),O([P({type:Q7,readOnly:!0})],n9.prototype,`path`,void 0),n9=O([F(`esri.networks.support.CircuitSection`)],n9);var r9=class extends R{constructor(e){super(e),this._sectionIdLookup=new Map,this.attributes=null,this.circuitManager=null,this.circuitType=`physical`,this.globalId=null,this.isDeleted=!1,this.lastExportedTime=null,this.lastVerifiedTime=null,this.name=null,this.sections=null,this.startLocation=null,this.status=`dirty`,this.stopLocation=null,this.subcircuits=[]}initialize(){this.addHandles([q(()=>this.sections,e=>{this._sectionIdLookup.clear(),e!=null&&Array.from(e.keys()).forEach(e=>this._sectionIdLookup.set(e.sectionId,e))},Yw)])}normalizeCtorArgs(e){if(e===void 0)return e;let{name:t,startLocation:n,stopLocation:r,sections:i}=e;return(n||r)&&i?(delete e.startLocation,delete e.stopLocation,j.getLogger(this).warn(`Cannot instantiate Circuit with both start/stop locations and sections.`,`Circuit '${t}' was defaulted to having sections only.`)):(n&&!r||!n&&r)&&!i&&j.getLogger(this).warn(`Non-sectioned circuit '${t}' must have both start and stop locations.`,`Create/alter operations involving this circuit will fail unless both are populated.`),e}get isSectioned(){return this.startLocation==null&&this.stopLocation==null&&this.sections!=null}readSections(e,t){let{sectionOrder:n,sections:r}=t,i=new Map;if(r==null)return null;if(this._sectionIdLookup.clear(),r.forEach(e=>this._sectionIdLookup.set(e.sectionId,n9.fromJSON(e))),n==null)return Array.from(this._sectionIdLookup.values()).forEach(e=>i.set(e,[])),i;for(let[e,t]of Object.entries(n)){let n=Number(e),r=this._sectionIdLookup.get(n);if(r==null)continue;let a=t.map(e=>this._sectionIdLookup.get(e)).filter(Mc);i.set(r,a)}return i}writeSections(e,t){let n={},r=[];e?.forEach((e,t)=>{let i=t.sectionId.toString();n[i]=e.map(e=>e.sectionId),r.push(t.toJSON())}),t.sectionOrder=n,t.sections=r}getSectionById(e){return this._sectionIdLookup.get(e)??null}setStartStopLocations(e,t){this.startLocation=e,this.stopLocation=t,this.sections=null}setSections(e){this.sections=e,this.startLocation=null,this.stopLocation=null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,t){this.attributes?this.attributes[e]=t:this.attributes={[e]:t}}};O([P({json:{write:{allowNull:!0,writer:(e,t)=>t.attributes=e??{}}}})],r9.prototype,`attributes`,void 0),O([P()],r9.prototype,`circuitManager`,void 0),O([P({type:I7.apiValues,json:{type:I7.jsonValues,read:I7.read,write:I7.write}})],r9.prototype,`circuitType`,void 0),O([P({type:String,json:{write:!0}})],r9.prototype,`globalId`,void 0),O([P({type:Boolean,readOnly:!0})],r9.prototype,`isDeleted`,void 0),O([P({type:Boolean,json:{write:!0},readOnly:!0})],r9.prototype,`isSectioned`,null),O([P({type:Date,json:{read:{reader:e=>typeof e==`number`?new Date(e):null}},readOnly:!0})],r9.prototype,`lastExportedTime`,void 0),O([P({type:Date,json:{read:{reader:e=>typeof e==`number`?new Date(e):null}},readOnly:!0})],r9.prototype,`lastVerifiedTime`,void 0),O([P({type:String,json:{write:!0}})],r9.prototype,`name`,void 0),O([P({json:{read:{source:[`sectionOrder`,`sections`]},write:!0}})],r9.prototype,`sections`,void 0),O([W(`sections`)],r9.prototype,`readSections`,null),O([z(`sections`)],r9.prototype,`writeSections`,null),O([P({type:e9,json:{write:!0}})],r9.prototype,`startLocation`,void 0),O([P({type:F7.apiValues,json:{type:F7.jsonValues,read:F7.read}})],r9.prototype,`status`,void 0),O([P({type:e9,json:{write:!0}})],r9.prototype,`stopLocation`,void 0),O([P({type:[QNe],json:{write:!0}})],r9.prototype,`subcircuits`,void 0),r9=O([F(`esri.networks.support.Circuit`)],r9);var i9=class extends R{constructor(e){super(e),this.circuit=null,this.geometry=null,this.path=null}readCircuit(e,t){return r9.fromJSON(t)}};O([P({type:r9,json:{write:!0,read:{source:[`name`,`globalId`,`isSectioned`,`sectionOrder`,`startLocation`,`stopLocation`,`sections`,`subcircuits`,`lastVerifiedTime`,`lastExportedTime`,`circuitType`,`status`]}}})],i9.prototype,`circuit`,void 0),O([W(`circuit`)],i9.prototype,`readCircuit`,null),O([P({type:Gk,json:{write:!0}})],i9.prototype,`geometry`,void 0),O([P({type:Q7,json:{write:!0}})],i9.prototype,`path`,void 0),i9=O([F(`esri.rest.networks.circuits.support.CircuitTraceResult`)],i9);var $Ne=i9,a9=class extends R{constructor(e){super(e),this.line=null,this.multipoint=null,this.polygon=null}};O([P({type:Gk,json:{write:!0},readOnly:!0})],a9.prototype,`line`,void 0),O([P({type:Uk,json:{read:{source:`point`},write:{target:`point`}},readOnly:!0})],a9.prototype,`multipoint`,void 0),O([P({type:Ek,json:{write:!0},readOnly:!0})],a9.prototype,`polygon`,void 0),a9=O([F(`esri.rest.networks.support.AggregatedGeometry`)],a9);var ePe=a9,o9=class extends R{constructor(e){super(e),this.functionType=null,this.networkAttributeName=null,this.result=null}};O([P({type:[`add`,`subtract`,`average`,`count`,`min`,`max`],json:{write:!0},readOnly:!0})],o9.prototype,`functionType`,void 0),O([P({type:String,json:{write:!0},readOnly:!0})],o9.prototype,`networkAttributeName`,void 0),O([P({type:Number,json:{write:!0},readOnly:!0})],o9.prototype,`result`,void 0),o9=O([F(`esri.rest.networks.support.FunctionResult`)],o9);var tPe=o9,s9=class extends R{constructor(e){super(e),this.aggregatedGeometry=null,this.circuits=null,this.elements=null,this.globalFunctionResults=null,this.kFeaturesForKNNFound=!1,this.paths=null,this.startingPointsIgnored=!1,this.warnings=null}readNetworkElements(e,t){return t.elements!=null&&Array.isArray(t.elements)?t.elements.map(e=>`firstUnit`in e&&`numUnits`in e?new q7({...e}):new K7({...e})):[]}writeNetworkElements(e,t){t.elements=e.map(e=>e.toJSON())}};O([P({type:ePe,json:{write:!0},readOnly:!0})],s9.prototype,`aggregatedGeometry`,void 0),O([P({type:[$Ne],json:{write:!0},readOnly:!0})],s9.prototype,`circuits`,void 0),O([P({type:[K7],json:{write:!0},readOnly:!0})],s9.prototype,`elements`,void 0),O([W(`elements`)],s9.prototype,`readNetworkElements`,null),O([z(`elements`)],s9.prototype,`writeNetworkElements`,null),O([P({type:[tPe],json:{write:!0},readOnly:!0})],s9.prototype,`globalFunctionResults`,void 0),O([P({type:Boolean,json:{write:!0},readOnly:!0})],s9.prototype,`kFeaturesForKNNFound`,void 0),O([P({type:[Q7],json:{write:!0},readOnly:!0})],s9.prototype,`paths`,void 0),O([P({type:Boolean,json:{write:!0},readOnly:!0})],s9.prototype,`startingPointsIgnored`,void 0),O([P({type:[String],json:{write:!0},readOnly:!0})],s9.prototype,`warnings`,void 0),s9=O([F(`esri.rest.networks.support.TraceResult`)],s9);var nPe=I_()({Pending:`job-waiting`,InProgress:`job-executing`,Completed:`job-succeeded`}),c9=class extends s9{constructor(e){super(e),this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}async checkJobStatus(e){let t={...e,query:{f:`json`}},{data:n}=await gp(this.statusUrl,t),r=n.traceResults?{...n.traceResults,...n}:n;return this.read(r),this}async waitForJobCompletion(e={}){let{interval:t=1e3,statusCallback:n}=e;return new Promise((e,r)=>{this._clearTimer(),this._timer=setInterval(()=>{this._timer||r(Qd()),this.checkJobStatus().then(t=>{let{status:r}=t;switch(this.status=r,r){case`job-succeeded`:this._clearTimer(),e(this);break;case`job-waiting`:case`job-executing`:n&&n(this)}},e=>{this._clearTimer(),r(e)})},t)})}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};O([P({type:String,json:{write:!0}})],c9.prototype,`statusUrl`,void 0),O([J(nPe)],c9.prototype,`status`,void 0),O([P({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.submissionTime=e?e.getTime():null}}}})],c9.prototype,`submissionTime`,void 0),O([P({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.lastUpdatedTime=e?e.getTime():null}}}})],c9.prototype,`lastUpdatedTime`,void 0),c9=O([F(`esri.networks.support.TraceJobInfo`)],c9);var l9=class extends VNe{constructor(e){super(e),this.sharedNamedTraceConfigurations=[],this.type=`utility`,this._circuitManagerMap=new Map,this._terminalById=new Map,this._unitIdentifierManager=null}initialize(){this.addHandles(q(()=>[this.gdbVersion,this.historicMoment],()=>{this.networkSystemLayers.associationsTable&&(this.networkSystemLayers.associationsTable.gdbVersion!==this.gdbVersion&&(this.networkSystemLayers.associationsTable.gdbVersion=this.gdbVersion),this.networkSystemLayers.associationsTable.historicMoment!==this.historicMoment&&(this.networkSystemLayers.associationsTable.historicMoment=this.historicMoment))}))}get _rulesLayer(){let{gdbVersion:e,historicMoment:t}=this,n=this.networkSystemLayers.rulesTableUrl;return new $({url:n,gdbVersion:e,historicMoment:t})}get _utilityLayerList(){let e=new Set;return this.dataElement?.domainNetworks?.map(t=>{t?.edgeSources?.map(({layerId:t,sourceId:n})=>{this._layerIdBySourceId.set(n,t),this._sourceIdByLayerId.set(t,n),e.add(t)}),t?.junctionSources?.map(({layerId:t,sourceId:n})=>{this._layerIdBySourceId.set(n,t),this._sourceIdByLayerId.set(t,n),e.add(t)})}),e}get serviceTerritoryFeatureLayerId(){return this.dataElement?.serviceTerritoryFeatureLayerId??null}get networkSystemLayers(){return new H7({rulesTableId:this.sourceJSON?.systemLayers.rulesTableId,rulesTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.rulesTableId}`:null,subnetworksTableId:this.sourceJSON?.systemLayers.subnetworksTableId,subnetworksTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.subnetworksTableId}`:null,dirtyAreasLayerId:this.sourceJSON?.systemLayers.dirtyAreasLayerId,dirtyAreasLayerUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.dirtyAreasLayerId}`:null,associationsTableId:this.sourceJSON?.systemLayers.associationsTableId,associationsTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.associationsTableId}`:null})}get terminalConfigurations(){return this.dataElement?.terminalConfigurations.map(e=>G7.fromJSON(e))||[]}get domainNetworkNames(){return this.dataElement?.domainNetworks.map(e=>e.domainNetworkName)||[]}get hasTelecomNetwork(){return this.dataElement?.domainNetworks.some(e=>e.isTelecomNetwork)??!1}get associationsTable(){return this.networkSystemLayers.associationsTable}async load(e){return this.addResolvingPromise(this._load(e)),this}async _load(e){await super._load(e),await Promise.all([this._loadNamedTraceConfigurationsFromNetwork(e),this.networkSystemLayers.loadAssociationsTable(e)])}getTerminalConfiguration(e){let t=null,n=null,r=e.sourceLayer,i=null;if(r?.type===`feature`){if(i=r.layerId,i===null)return null}else if(r?.type!==`subtype-sublayer`||(i=r?.parent?.layerId??null,i===null))return null;let a=e.attributes;if(a==null)return null;for(let r of Object.keys(a))r.toUpperCase()===`ASSETGROUP`&&(t=e.getAttribute(r)),r.toUpperCase()===`ASSETTYPE`&&(n=e.getAttribute(r));if(!this.dataElement)return null;let o=null,s=this.dataElement.domainNetworks;for(let e of s){let r=e.junctionSources?.find(e=>e.layerId===i);if(r){let e=r.assetGroups?.find(e=>e.assetGroupCode===t);if(e){let t=e.assetTypes?.find(e=>e.assetTypeCode===n);if(t?.isTerminalConfigurationSupported){o=t.terminalConfigurationId;break}}}}if(o!=null){let e=this.dataElement.terminalConfigurations?.find(e=>e.terminalConfigurationId===o);return e?G7.fromJSON(e):null}return null}getTierNames(e){return(this.dataElement?.domainNetworks.find(t=>t.domainNetworkName===e))?.tiers?.map(e=>e.name)||[]}async getRulesTable(){let e=this._rulesLayer;e.loaded||await e.load();let t=this.dataElement?.domainNetworks;if(!t)return null;let n=t.flatMap(e=>[...e.edgeSources||[],...e.junctionSources||[]]),r=(await this._queryRulesTable(e)).map(t=>this._hydrateRuleInfo(e,n,t));return new M7({rulesLayer:e,rules:r})}async getCircuitManager(e){if(!this.hasTelecomNetwork)return null;let t=this.dataElement?.domainNetworks.find(t=>t.domainNetworkName===e&&t.isTelecomNetwork);if(!t)return null;let{default:n}=await N(async()=>{let{default:e}=await import(`./CircuitManager-CJc4651a.js`);return{default:e}},[]);return Cd(this._circuitManagerMap,e,()=>new n({utilityNetwork:this,telecomDomainNetwork:t}))}async getUnitIdentifierManager(){if(!this.hasTelecomNetwork)return null;if(this._unitIdentifierManager)return this._unitIdentifierManager;let{default:e}=await N(async()=>{let{default:e}=await import(`./UnitIdentifierManager-rmDiCudW.js`);return{default:e}},[]);return this._unitIdentifierManager=new e({utilityNetwork:this}),this._unitIdentifierManager}getTerminalById(e){return!this.dataElement||e==null?null:this._terminalById.get(e)??(this.terminalConfigurations.forEach(e=>{e.terminals.forEach(e=>{this._terminalById.set(e.id,e)})}),this._terminalById.get(e))}isUtilityLayer(e){return`layerId`in e?e.layerId!=null&&this._utilityLayerList.has(e.layerId)&&(e.url?.startsWith(this.featureServiceUrl)??!1):!(e.type!==`subtype-sublayer`||!e.parent)&&this._utilityLayerList.has(e.parent.layerId)&&(e.parent.url?.startsWith(this.featureServiceUrl)??!1)}async queryAssociations(e,t){let[{queryAssociations:n},{default:r}]=await Promise.all([N(()=>import(`./queryAssociations-YLS8NWEn.js`),__vite__mapDeps([450,451,452])),N(()=>import(`./QueryAssociationsParameters-DreBq2N7.js`),__vite__mapDeps([453,454]))]),i=r.from(e);return i.gdbVersion=this.gdbVersion,i.moment=this.historicMoment,(await n(this.networkServiceUrl,i,t)).associations}async synthesizeAssociationGeometries(e){let[{synthesizeAssociationGeometries:t},{default:n}]=await Promise.all([N(()=>import(`./synthesizeAssociationGeometries-CYT5bq43.js`),__vite__mapDeps([455,452])),N(()=>import(`./SynthesizeAssociationGeometriesParameters-CqYerQzv.js`),[])]),r=n.from(e);return r.gdbVersion=this.gdbVersion,r.moment=this.historicMoment,t(this.networkServiceUrl,r)}async trace(e){let[{trace:t},{default:n}]=await Promise.all([N(()=>import(`./trace-IydvWiev.js`),[]),N(()=>import(`./TraceParameters-Dqz1ZOWj.js`),[])]),r=n.from(e);return r.gdbVersion=this.gdbVersion,r.moment=this.historicMoment,t(this.networkServiceUrl,r)}async submitTraceJob(e){let[{submitTraceJob:t},{default:n}]=await Promise.all([N(()=>import(`./trace-IydvWiev.js`),[]),N(()=>import(`./TraceParameters-Dqz1ZOWj.js`),[])]),r=n.from(e);r.gdbVersion=this.gdbVersion,r.moment=this.historicMoment;let i=await t(this.networkServiceUrl,r);return new c9({statusUrl:i})}async canAddAssociation(e){let t=await this.getRulesTable();if(!t)return!1;let{fromNetworkElement:n,toNetworkElement:r}=e;if(!n||!r)return!1;await t.load();let i=null;switch(e.associationType){case`containment`:i=t.rulesCategorized.containment;break;case`attachment`:i=t.rulesCategorized.attachment;break;default:i=t.rulesCategorized.connectivity}return i.some(e=>w7(e,n,r))}generateAddAssociations(e){let{associationsTable:t}=this.networkSystemLayers,{fromNetworkSourceId:n,fromGlobalId:r,fromTerminalId:i,fromFirstUnit:a,fromNumUnits:o,toNetworkSourceId:s,toGlobalId:c,toTerminalId:l,toFirstUnit:u,toNumUnits:d,associationType:f,isContentVisible:p,percentAlong:m,globalId:h}=JNe(t);return{addFeatures:e.map(e=>{let t=new EB({attributes:{[n]:e.fromNetworkElement?.networkSourceId,[r]:e.fromNetworkElement?.globalId,[i]:e.fromNetworkElement?.terminalId,[s]:e.toNetworkElement?.networkSourceId,[c]:e.toNetworkElement?.globalId,[l]:e.toNetworkElement?.terminalId,[f]:WNe[e.associationType],[p]:e.isContentVisible==null?void 0:e.isContentVisible?1:0,[m]:e.percentAlong,[h]:e.globalId}});return e.fromNetworkElement instanceof q7&&(t.attributes[a]=e.fromNetworkElement?.firstUnit,t.attributes[o]=e.fromNetworkElement?.numUnits),e.toNetworkElement instanceof q7&&(t.attributes[u]=e.toNetworkElement?.firstUnit,t.attributes[d]=e.toNetworkElement?.numUnits),t}),id:this.networkSystemLayers.associationsTableId,identifierFields:{globalIdField:t?.globalIdField??`globalid`,objectIdField:t?.objectIdField??`objectid`}}}generateDeleteAssociations(e){let{associationsTable:t,associationsTableId:n}=this.networkSystemLayers,r={id:n,identifierFields:{globalIdField:t?.globalIdField??`globalid`,objectIdField:t?.objectIdField??`objectid`}};if(this.dataElement?.schemaGeneration===-8){let t=this._generateDeleteTelecomAssociationPayload(e);return{...r,deleteAssociations:t}}let i=e.map(e=>({globalId:e.globalId}));return{...r,deleteFeatures:i}}generateCombineNetworkElements(e){return{id:this._ensureSingleSourceIdAsValidLayerId(e),combineGroupedObjects:[{globalIds:e.map(e=>e.globalId)}]}}generateDivideNetworkElements(e,t){return{id:this._ensureSingleSourceIdAsValidLayerId([e]),divideGroupedObjects:[{globalId:e.globalId,numUnits:t}]}}async loadAssociationsTable(){return this.networkSystemLayers.loadAssociationsTable()}async loadSubnetworksTable(){return this.networkSystemLayers.loadSubnetworksTable()}async _loadNamedTraceConfigurationsFromNetwork(e){if(this.sharedNamedTraceConfigurations?.length===0)return;let t=this.sharedNamedTraceConfigurations.map(e=>e.globalId),n=await this.queryNamedTraceConfigurations({globalIds:t},e);for(let e of this.sharedNamedTraceConfigurations){let t=n?.find(t=>t.globalId===e.globalId);if(t){let n=t.write({},{origin:`service`});e.read(n,{origin:`service`})}}}_hydrateRuleInfo(e,t,n){let r=e.fieldsIndex,i=r.get(`RULETYPE`),a=r.get(`CREATIONDATE`),o=r.get(`FROMNETWORKSOURCEID`),s=r.get(`FROMASSETGROUP`),c=r.get(`FROMASSETTYPE`),l=r.get(`FROMTERMINALID`),u=r.get(`TONETWORKSOURCEID`),d=r.get(`TOASSETGROUP`),f=r.get(`TOASSETTYPE`),p=r.get(`TOTERMINALID`),m=r.get(`VIANETWORKSOURCEID`),h=r.get(`VIAASSETGROUP`),g=r.get(`VIAASSETTYPE`),_=r.get(`VIATERMINALID`),v=n.attributes[i.name],y=new Date(n.attributes[a.name]),b=[{networkSourceId:n.attributes[o.name],assetGroupId:n.attributes[s.name],assetTypeId:n.attributes[c.name],terminalId:n.attributes[l.name]},{networkSourceId:n.attributes[u.name],assetGroupId:n.attributes[d.name],assetTypeId:n.attributes[f.name],terminalId:n.attributes[p.name]},{networkSourceId:n.attributes[m.name],assetGroupId:n.attributes[h.name],assetTypeId:n.attributes[g.name],terminalId:n.attributes[_.name]}],x={ruleType:v,creationDate:y};for(let e of[0,1,2]){if(v!==5&&e===2)continue;let n=b[e],r=t.find(e=>e.sourceId===n.networkSourceId),i=r?.assetGroups.find(e=>e.assetGroupCode===n.assetGroupId),a=i?.assetTypes.find(e=>e.assetTypeCode===n.assetTypeId),o=this._getTerminal(a,n),s=``;switch(e){case 0:s=`from`;break;case 1:s=`to`;break;case 2:s=`via`}x[`${s}NetworkSource`]=r,x[`${s}AssetGroup`]=i,x[`${s}AssetType`]=a,x[`${s}Terminal`]=o?.toJSON()}return x}_getTerminal(e,t){let n=e?.terminalConfigurationId;return(this.terminalConfigurations?.find(e=>e.id===n))?.terminals?.find(e=>e.id===t.terminalId)??null}async _queryRulesTable(e){let{gdbVersion:t,historicMoment:n}=this,r=new X({where:`1=1`,outFields:[`*`],gdbVersion:t,historicMoment:n});return(await T2(e,r)).features}_generateDeleteTelecomAssociationPayload(e){return e.map(e=>({globalId:e.globalId??`{00000000-0000-0000-0000-000000000000}`,associationType:UNe.toJSON(e.associationType),fromSourceId:e.fromNetworkElement.networkSourceId,fromGlobalId:e.fromNetworkElement.globalId,fromTerminalId:e.fromNetworkElement.terminalId,toSourceId:e.toNetworkElement.networkSourceId,toGlobalId:e.toNetworkElement.globalId,toTerminalId:e.toNetworkElement.terminalId}))}_ensureSingleSourceIdAsValidLayerId(e){let t=mc(e.map(e=>e.networkSourceId));if(t.length>1)throw new M(`utility-network:invalid-source-id`,`'networkSourceId' is not valid. Ensure that all network elements have the same 'networkSourceId' and that it corresponds to a valid layer in the utility network.`);let n=t[0],r=this.getLayerIdBySourceId(n);if(r==null)throw new M(`utility-network:invalid-source-id`,`'networkSourceId' is not valid. Ensure that all network elements have the same 'networkSourceId' and that it corresponds to a valid layer in the utility network.`);return r}};O([P({readOnly:!0})],l9.prototype,`_rulesLayer`,null),O([P({type:[qNe],json:{origins:{"web-map":{read:{source:`traceConfigurations`},write:{target:`traceConfigurations`}},service:{read:{source:`traceConfigurations`}}},read:!1}})],l9.prototype,`sharedNamedTraceConfigurations`,void 0),O([P({type:[`utility`],readOnly:!0,json:{read:!1,write:!1}})],l9.prototype,`type`,void 0),O([P({readOnly:!0})],l9.prototype,`serviceTerritoryFeatureLayerId`,null),O([P({readOnly:!0})],l9.prototype,`networkSystemLayers`,null),O([P({readOnly:!0})],l9.prototype,`terminalConfigurations`,null),O([P({readOnly:!0})],l9.prototype,`domainNetworkNames`,null),O([P({readOnly:!0})],l9.prototype,`hasTelecomNetwork`,null),O([P({readOnly:!0,json:{read:!1}})],l9.prototype,`associationsTable`,null),l9=O([F(`esri.networks.UtilityNetwork`)],l9);var rPe=l9,u9=class extends Y(R){constructor(e){super(e),this.expression=null,this.returnType=`string`,this.title=null}};O([P({type:String,json:{write:{isRequired:!0}}})],u9.prototype,`expression`,void 0),O([P({type:[`number`,`string`],json:{write:!0}})],u9.prototype,`returnType`,void 0),O([P({type:String,json:{write:!0}})],u9.prototype,`title`,void 0),u9=O([F(`esri.webdoc.geotriggersInfo.ExpressionInfo`)],u9);var iPe=u9,d9=new P_({deviceLocation:`device-location`}),f9=class extends Y(R){constructor(e){super(e),this.filterExpression=null,this.type=`device-location`}};O([P({type:iPe,json:{write:!0}})],f9.prototype,`filterExpression`,void 0),O([P({type:d9.apiValues,readOnly:!0,json:{type:d9.jsonValues,read:d9.read,write:d9.write}})],f9.prototype,`type`,void 0),f9=O([F(`esri.webdoc.geotriggersInfo.DeviceLocationFeed`)],f9);var aPe=f9,p9=class extends Y(R){constructor(e){super(e),this.geometry=null,this.where=null}};O([P({types:Xj,json:{read:qj,write:!0}})],p9.prototype,`geometry`,void 0),O([P({type:String,json:{write:!0}})],p9.prototype,`where`,void 0),p9=O([F(`esri.webdoc.geotriggersInfo.FeatureFilter`)],p9);var oPe=p9,m9=class extends Y(R){constructor(e){super(e),this.layerId=null,this.layerUrl=null,this.type=`feature-layer`}};O([P({type:String,json:{write:{overridePolicy(){return{isRequired:this.layerUrl===null}}}}})],m9.prototype,`layerId`,void 0),O([P({type:String,json:{write:{overridePolicy(){return{isRequired:this.layerId===null}}}}})],m9.prototype,`layerUrl`,void 0),O([J({featureLayer:`feature-layer`},{readOnly:!0})],m9.prototype,`type`,void 0),m9=O([F(`esri.webdoc.geotriggersInfo.FeatureLayerSource`)],m9);var sPe=m9,h9=class extends Y(R){constructor(e){super(e),this.fenceSource=null,this.filter=null,this.bufferDistance=null,this.type=`features`}};O([P({type:sPe,json:{write:{isRequired:!0}}})],h9.prototype,`fenceSource`,void 0),O([P({type:oPe,json:{write:!0}})],h9.prototype,`filter`,void 0),O([P({type:Number,json:{write:!0}})],h9.prototype,`bufferDistance`,void 0),O([J({features:`features`},{readOnly:!0})],h9.prototype,`type`,void 0),h9=O([F(`esri.webdoc.geotriggersInfo.FeatureFenceParameters`)],h9);var cPe=h9,g9=class extends Y(R){constructor(e){super(e),this.type=`fence`}};O([J({fence:`fence`},{readOnly:!0})],g9.prototype,`type`,void 0),g9=O([F(`esri.webdoc.geotriggersInfo.Geotrigger`)],g9);var lPe=g9,_9=class extends Y(R){constructor(e){super(e),this.expressionInfo=null,this.requestedActions=null}};O([P({type:iPe,json:{write:!0}})],_9.prototype,`expressionInfo`,void 0),O([P({type:[String],json:{write:!0}})],_9.prototype,`requestedActions`,void 0),_9=O([F(`esri.webdoc.geotriggersInfo.GeotriggerNotificationOptions`)],_9);var uPe=_9,dPe=new P_({enterContainsAndExitDoesNotContain:`enter-contains-and-exit-does-not-contain`,enterContainsAndExitDoesNotIntersect:`enter-contains-and-exit-does-not-intersect`,enterIntersectsAndExitDoesNotIntersect:`enter-intersects-and-exit-does-not-intersect`}),fPe=new P_({useGeometry:`use-geometry`,useGeometryWithAccuracy:`use-geometry-with-accuracy`}),v9=new P_({enter:`enter`,enterOrExit:`enter-or-exit`,exit:`exit`}),y9=class extends lPe{constructor(e){super(e),this.enterExitRule=`enter-contains-and-exit-does-not-intersect`,this.feed=null,this.feedAccuracyMode=`use-geometry`,this.fenceNotificationRule=null,this.fenceParameters=null,this.name=null,this.notificationOptions=null,this.type=`fence`}};O([J(dPe)],y9.prototype,`enterExitRule`,void 0),O([P({type:aPe,json:{write:{isRequired:!0}}})],y9.prototype,`feed`,void 0),O([J(fPe)],y9.prototype,`feedAccuracyMode`,void 0),O([P({type:v9.apiValues,json:{type:v9.jsonValues,read:v9.read,write:{writer:v9.write,isRequired:!0}}})],y9.prototype,`fenceNotificationRule`,void 0),O([P({type:cPe,json:{write:{isRequired:!0}}})],y9.prototype,`fenceParameters`,void 0),O([P({type:String,json:{write:!0}})],y9.prototype,`name`,void 0),O([P({type:uPe,json:{write:!0}})],y9.prototype,`notificationOptions`,void 0),O([J({fence:`fence`},{readOnly:!0})],y9.prototype,`type`,void 0),y9=O([F(`esri.webdoc.geotriggersInfo.FenceGeotrigger`)],y9);var pPe={base:lPe,key:`type`,typeMap:{fence:y9}},b9=class extends Y(R){constructor(e){super(e),this.geotriggers=null}};O([P({types:[pPe],json:{write:{isRequired:!0}}})],b9.prototype,`geotriggers`,void 0),b9=O([F(`esri.webdoc.GeotriggersInfo`)],b9);var mPe=b9,x9=class extends Y(R){constructor(e){super(e),this.enabled=!0}};O([P({type:Boolean,nonNullable:!0,json:{write:!0}})],x9.prototype,`enabled`,void 0),x9=O([F(`esri.webdoc.ips.AppleIPSProperties`)],x9);var hPe=x9,S9=class extends Y(R){constructor(e){super(e),this.enabled=!0}};O([P({type:Boolean,nonNullable:!0,json:{write:!0}})],S9.prototype,`enabled`,void 0),S9=O([F(`esri.webdoc.ips.GNSSProperties`)],S9);var gPe=S9,C9=class extends Y(R){constructor(e){super(e),this.enabled=!0,this.distance=5,this.units=`meter`}};O([P({type:Boolean,nonNullable:!0,json:{write:!0}})],C9.prototype,`enabled`,void 0),O([P({type:Number,nonNullable:!0,json:{write:!0}})],C9.prototype,`distance`,void 0),O([P({type:[`feet`,`meter`],nonNullable:!0,json:{write:!0}})],C9.prototype,`units`,void 0),C9=O([F(`esri.webdoc.ips.PathSnappingProperties`)],C9);var _Pe=C9,w9=class extends Y(R){constructor(e){super(e),this.enabled=!0}};O([P({type:Boolean,nonNullable:!0,json:{write:!0}})],w9.prototype,`enabled`,void 0),w9=O([F(`esri.webdoc.ips.SmoothingProperties`)],w9);var vPe=w9,T9=class extends Y(R){constructor(e){super(e),this.appleIPS=null,this.gnss=null,this.smoothing=null,this.pathSnapping=null}};O([P({type:hPe,json:{name:`AppleIPS`,write:!0}})],T9.prototype,`appleIPS`,void 0),O([P({type:gPe,json:{name:`GNSS`,write:!0}})],T9.prototype,`gnss`,void 0),O([P({type:vPe,json:{write:!0}})],T9.prototype,`smoothing`,void 0),O([P({type:_Pe,json:{write:!0}})],T9.prototype,`pathSnapping`,void 0),T9=O([F(`esri.webdoc.ips.Configuration`)],T9);var yPe=T9,E9=class extends Y(R){constructor(e){super(e),this.portalItem=null}readPortalItem(e,t,n){let{itemId:r}=t;if(r)return new Nb({id:r,portal:n?.portal})}writePortalItem(e,t){e?.id&&(t.itemId=e.id)}};O([P({type:Nb,json:{write:{isRequired:!0}}})],E9.prototype,`portalItem`,void 0),O([W(`portalItem`,[`itemId`])],E9.prototype,`readPortalItem`,null),O([z(`portalItem`,{itemId:{type:String}})],E9.prototype,`writePortalItem`,null),E9=O([F(`esri.webdoc.ips.PositioningService`)],E9);var bPe=E9,D9=class extends Y(R){constructor(e){super(e),this.positioningService=null,this.configuration=null}};O([P({type:bPe,json:{write:{isRequired:!0}}})],D9.prototype,`positioningService`,void 0),O([P({type:yPe,json:{write:!0}})],D9.prototype,`configuration`,void 0),D9=O([F(`esri.webdoc.IPSInfo`)],D9);var xPe=D9,SPe={currentVersion:LZ,createInitialViewProperties:()=>new QQ,parseVersion:FZ.parse,itemType:`Web Map`,name:`webmap`,origin:`web-map`},CPe=L.ofType(rPe),O9=class extends xEe{constructor(e){super(e),this.geotriggersInfo=null,this.ipsInfo=null,this.presentation=null,this.utilityNetworks=null}destroy(){if(this.utilityNetworks){let e=this.utilityNetworks.removeAll();for(let t of e)t.destroy();this.utilityNetworks.destroy()}}get context(){return SPe}loadAll(){return M_(this,e=>{e(this.ground,this.basemap,this.layers,this.tables,this.ipsInfo?.positioningService?.portalItem)})}static fromJSON(e){if(e)return new this({resourceInfo:e});throw new M(`webmap:empty-resource`,`Expected a JSON resource but got nothing`)}static{this.VERSION=LZ}};O([P({type:mPe,json:{write:!0}})],O9.prototype,`geotriggersInfo`,void 0),O([P({type:xPe,json:{write:!0,name:`mapIPSInfo`}})],O9.prototype,`ipsInfo`,void 0),O([P({json:{write:!0}})],O9.prototype,`presentation`,void 0),O([P({type:CPe,json:{read:!0,write:!0}})],O9.prototype,`utilityNetworks`,void 0),O9=O([F(`esri.WebMap`)],O9);var wPe=O9,k9=`esri-layer-list`,A9=`${k9}__item`,j9={base:k9,actionMenu:`${k9}__action-menu`,actionGroup:`${k9}__action-group`,filterNoResults:`${k9}__filter-no-results`,item:A9,itemActive:`${A9}--active`,itemContentBottom:`${A9}-content-bottom`,itemMessage:`${A9}-message`,itemActionIcon:`${A9}-action-icon`,itemActionImage:`${A9}-action-image`,itemTemporaryIcon:`${A9}-temporary-icon`,itemTableIcon:`${A9}-table-icon`,itemCatalogIcon:`${A9}-catalog-icon`,statusIndicator:`${k9}__status-indicator`,publishing:`${k9}__publishing`,updating:`${k9}__updating`,connectionStatus:`${k9}__connection-status`,connectionStatusConnected:`${k9}__connection-status--connected`,visibleToggle:`${k9}__visible-toggle`,visibleIcon:`${k9}__visible-icon`},TPe=()=>VX({action:()=>N(()=>import(`./calcite-action-BRb-AbYg.js`),__vite__mapDeps([456,411,412,413,414,415,416,418,419,420,457,458,421,422]))});function EPe(e,t,n){let{title:r,textEnabled:i}=t,{type:a,active:o,uid:s,disabled:c,indicator:l}=e;return e.visible?cZ(`calcite-action`,{...t,active:a===`toggle`&&e.value,appearance:`solid`,"data-action-id":e.id,"data-action-uid":s,disabled:c,icon:M9(e),indicator:l,loading:o,scale:`s`,text:r??``,title:i?void 0:r},n):null}function M9(e){return e.icon?e.icon:`image`in e&&e.image||e.className?void 0:`question`}function DPe(e){return e?{backgroundImage:`url(${e})`}:{}}function OPe({action:e,feature:t}){let n=t?.attributes,r=`image`in e?e.image:void 0;return r&&n?Iw(r,n):r??``}var kPe={hide:`hide`,hideChildren:`hide-children`},APe=10,jPe=2;function MPe({exclusive:e,visible:t,visibilityAppearance:n}){let r=n===`checkbox`;return t?e?`circle-f`:r?`check-square-f`:`view-visible`:e?`circle`:r?`square`:`view-hide`}function NPe({connectionStatus:e,publishing:t}){return e?e===`connected`?`beacon`:`offline`:t?`square`:`bullet-point`}function PPe(e){return e?.listMode===kPe.hideChildren}function N9(e){return e?.listMode??void 0}function FPe(e){return e!=null&&`minScale`in e&&e.minScale!=null?e.minScale:void 0}function IPe(e){return e!=null&&`maxScale`in e&&e.maxScale!=null?e.maxScale:void 0}function LPe(e){if(!e)return`inherited`;let t=KPe(F9(e)?e.layer:e);return t==null?`visibilityMode`in e&&e.visibilityMode!=null?e.visibilityMode:`independent`:t?`independent`:`inherited`}function RPe(e){e?.removeMany(e.filter(e=>e?.destroyed))}function P9(e){if(e&&(!(`type`in e)||e.type!==`wmts`))return`sublayers`in e?`sublayers`:`layers`in e?`layers`:void 0}function zPe(e,t){e&&(e.filterPredicate=t?e=>t(I9(e)):void 0)}function BPe(e){let t=(e?.layer&&F9(e.layer)?e.layer.layer:void 0)??e?.layer;return!!t&&t.type!==`catalog`&&(qPe(t)??!0)}function VPe(e){return N9(e)!==kPe.hide}function HPe(e,t){if(!e||t==null||isNaN(t))return!1;let n=FPe(e),r=IPe(e);return n!=null&&!isNaN(n)&&n>0&&t>n||r!=null&&!isNaN(r)&&r>0&&t<r}function UPe(e,t){e?.sort((e,n)=>{let r=`uid`in e?t.indexOf(e.uid):-1,i=`uid`in n?t.indexOf(n.uid):-1;return r>i?-1:r<i?1:0})}function WPe(e,t){let n=e?.layer;if(!n)return;let r=P9(n);if(!r)return;let i;r===`layers`&&`layers`in n?i=n.layers:r===`sublayers`&&`sublayers`in n&&(i=n.sublayers),UPe(i,t)}function GPe(e){let t=e?.layer;return t&&`layers`in t?t.layers:null}function F9(e){return e!=null&&`layer`in e&&e.layer!=null}function KPe(e){let t=JPe(e);return t!=null&&`supportsSublayerVisibility`in t?t.supportsSublayerVisibility:void 0}function qPe(e){let t=JPe(e);return t!=null&&`supportsDynamicLayers`in t?t.supportsDynamicLayers:void 0}function JPe(e){return e&&`capabilities`in e&&e.capabilities!=null&&`exportMap`in e.capabilities?e.capabilities.exportMap:void 0}function I9(e){return e?.[`data-item`]}function L9(e){return e?.getAttribute(`data-layer-type`)}function YPe(e){let{children:t,error:n}=e,r=`incompatible`in e&&e.incompatible;return!!t?.filter(e=>!e.hidden).length&&!n&&!r}function XPe(e){for(let t of e)for(let e of t)if(e.type===`button`||e.type===`toggle`)return e}var R9,z9=class extends $X{static{R9=this}constructor(e){super(e),this.dragEnabled=!1,this.listModeDisabled=!1,this.parent=null,this.parentTitles=null,this.viewModel=null,this._onActionMenuOpen=e=>{this.item.actionsOpen=e.currentTarget.open},this._setTooltipReference=e=>{this.onTooltipReferenceChange?.(this.item.layer?.uid,e)},this._removeTooltipReference=()=>{this.onTooltipReferenceChange?.(this.item.layer?.uid,null)}}loadDependencies(){return VX({"action-group":()=>N(()=>import(`./calcite-action-group-B9vJ5YWu.js`),__vite__mapDeps([459,411,460,458,461,462,412,413,463,464,415,465,419,466,420,423,414,416,418,467,457,421,422])),"action-menu":()=>N(()=>import(`./calcite-action-menu-C0BM-Z9j.js`),__vite__mapDeps([468,411,460,458,461,462,412,413,463,464,415,465,419,466,420,423,414,416,418,457,421,422])),action:()=>N(()=>import(`./calcite-action-BRb-AbYg.js`),__vite__mapDeps([456,411,412,413,414,415,416,418,419,420,457,458,421,422])),icon:()=>N(()=>import(`./calcite-icon-D_iKcGa4.js`),__vite__mapDeps([424,413,415,418,419,421])),"list-item":()=>N(()=>import(`./calcite-list-item-BNrqiIAE.js`),__vite__mapDeps([469,411,412,413,470,463,464,414,415,416,465,418,419,466,471,472,420,473,457,458,474,475,476,421,422])),list:()=>N(()=>import(`./calcite-list-CgWjPxHf.js`),__vite__mapDeps([477,411,478,412,413,414,416,465,417,420,458,423,415,418,419,479,473,421,480,422,481,482,464])),notice:()=>N(()=>import(`./calcite-notice-CvAfSaDY.js`),__vite__mapDeps([483,411,412,413,415,418,419,466,420,421]))})}static{this.vnodeSelector=`calcite-list-item`}render(){let e=this.parentTitles??[],{_title:t,item:n,activeItem:r,selectionMode:i,selectedItems:a,messages:o,parent:s,css:c,dragDisabled:l}=this,u=`visibleAtCurrentTimeExtent`in n&&`layerInvisibleAtTime`in o&&!n.visibleAtCurrentTimeExtent?`${t} (${o.layerInvisibleAtTime})`:`visibleAtCurrentScale`in n&&`layerInvisibleAtScale`in o&&!n.visibleAtCurrentScale?`${t} (${o.layerInvisibleAtScale})`:t,d=`parent`in n&&n.parent?.layer?.type===`catalog`,{layer:f}=n,p=`visibleAtCurrentScale`in n&&!n.visibleAtCurrentScale||`visibleAtCurrentTimeExtent`in n&&!n.visibleAtCurrentTimeExtent;return cZ(`calcite-list-item`,{afterCreate:e=>this._focusSelectedDragEl(e,n),afterUpdate:e=>this._focusSelectedDragEl(e,n),class:this.classes(c.item,`itemActive`in c&&{[c.itemActive]:r===n}),"data-item":n,"data-layer-id":f?.id,dragDisabled:!n.sortable||d||l,expanded:`open`in n&&n.open,id:f?.uid,key:`list-item-${f?.uid}`,label:t,metadata:{parentTitles:e,_title:t},selected:i!==`none`&&a.includes(n),title:u,unavailable:p,value:f?.uid,onCalciteListItemSelect:e=>`visible`in n&&this._handleCalciteListItemSelect(e,n,s),onCalciteListItemToggle:e=>`open`in n&&this._handleCalciteListItemToggle(e,n)},this._renderedCatalogFootprintIcon,this._renderedCatalogDynamicIcon,this._renderedItemStatus,this._renderedItemToggle,this._renderedCatalogSelectNode,this._renderedItemTemporaryIcon,this._renderedChildList,this._renderedItemMessage,this._renderedPanel,this._renderedPanelAction,this._renderedActions)}get _title(){let{messages:e}=this;return this.item.title||(`untitledTable`in e?e.untitledTable:e.untitledLayer)}get _renderedItemStatus(){let{item:e,parent:t,visibleElements:n,css:r}=this;if(!n.statusIndicators)return null;let{publishing:i}=e,a=`updating`in e&&e.updating&&!t,o=`connectionStatus`in e?e.connectionStatus:void 0,s=!!o;return cZ(`calcite-icon`,{class:this.classes(r.statusIndicator,{[r.publishing]:i},`updating`in r&&{[r.updating]:a},`connectionStatus`in r&&{[r.connectionStatus]:s},`connectionStatusConnected`in r&&{[r.connectionStatusConnected]:s&&o===`connected`}),icon:NPe({connectionStatus:o,publishing:i}),key:`layer-item-status`,scale:`s`,slot:`content-end`})}get _renderedItemTemporaryIcon(){let{item:e,visibleElements:t,css:n}=this,{layer:r}=e,i=`temporaryLayerIndicators`in t&&t.temporaryLayerIndicators,a=`temporaryTableIndicators`in t&&t.temporaryTableIndicators,o=r&&`persistenceEnabled`in r&&(uT(r)||!r.persistenceEnabled);return(i||a)&&o?cZ(`calcite-icon`,{class:n.itemTemporaryIcon,icon:`temporary`,key:`temporary-icon`,scale:`s`,slot:`content-start`,title:this.messages.temporary}):null}get _renderedItemToggle(){let{_title:e,item:t,parent:n,messages:r,visibilityAppearance:i,css:a}=this;if(!(`visible`in t&&`layerVisibility`in r&&`showLayer`in r&&`hideLayer`in r&&`visibleToggle`in a&&i))return null;let{visible:o}=t,s=this._getParentVisibilityMode(n);if(s===`inherited`)return null;let c=MPe({visible:o,exclusive:s===`exclusive`,visibilityAppearance:i}),l=i===`checkbox`,u=r.layerVisibility,d=Iw(o?r.hideLayer:r.showLayer,{layerName:e});return cZ(`calcite-action`,{appearance:`transparent`,class:a.visibleToggle,icon:l?c:void 0,key:`visibility-toggle`,label:d,onclick:()=>this._toggleVisibility(t,n),scale:`s`,slot:l?`actions-start`:`actions-end`,text:u,title:d},l?null:cZ(`calcite-icon`,{class:this.classes({[a.visibleIcon]:s!==`exclusive`&&o}),icon:c,scale:`s`}))}get _renderedPanel(){let{panel:e}=this.item;return!e?.open||e.disabled||e.flowEnabled?null:cZ(`div`,{class:this.css.itemContentBottom,key:`content-panel-${e.uid}`,slot:`content-bottom`},e.render())}get _renderedPanelAction(){let{panel:e}=this.item;if(!e?.visible)return null;let{open:t,title:n,disabled:r}=e;return cZ(`calcite-action`,{active:t,appearance:`transparent`,disabled:r,icon:M9(e),key:`action-${e.uid}`,onclick:()=>this._togglePanel(e),scale:`s`,slot:`actions-end`,text:n??``,title:n??void 0},this._renderFallbackIcon(e))}get _renderedActions(){switch(this._actionsCount){case 0:return null;case 1:return this._singleAction;default:return this._renderedActionMenu}}get _renderedActionMenu(){let{item:e,messagesCommon:t}=this,n=t.options;return cZ(`calcite-action-menu`,{appearance:`transparent`,key:`item-action-menu`,label:t.menu,open:e.actionsOpen,overlayPositioning:`fixed`,placement:`bottom-end`,scale:`s`,slot:`actions-end`,onCalciteActionMenuOpen:this._onActionMenuOpen},cZ(`calcite-action`,{appearance:`transparent`,icon:`ellipsis`,scale:`s`,slot:`trigger`,text:n,title:n}),this._renderedActionMenuContent)}get _renderedActionMenuContent(){return this._filteredSections.toArray().map(e=>cZ(`calcite-action-group`,{key:`action-section-${e.uid}`},e.toArray().map(e=>this._renderAction({action:e,textEnabled:!0}))))}get _renderedCatalogFootprintIcon(){let{css:e}=this,t=this.item.layer,n=t?.type===`catalog-footprint`,r=t?.type===`sublayer`&&dT(t,`footprints`);return`itemCatalogIcon`in e&&(n||r)?cZ(`calcite-icon`,{class:e.itemCatalogIcon,icon:`footprint`,key:`footprint`,scale:`s`,slot:`content-start`}):null}get _renderedCatalogDynamicIcon(){let{css:e}=this,t=this.item.layer,n=t?.type===`catalog-dynamic-group`,r=t?.type===`sublayer`&&dT(t,`layers-in-view`);return`itemCatalogIcon`in e&&(n||r)?cZ(`calcite-icon`,{class:e.itemCatalogIcon,icon:`catalog-dataset`,key:`catalog-dataset`,scale:`s`,slot:`content-start`}):null}get _renderedCatalogSelectNode(){let{_title:e,item:t,visibleElements:n}=this;if(!(`visible`in t))return;let{layer:r}=t,i=r?.type===`catalog-dynamic-group`;return`catalogLayerList`in n&&n.catalogLayerList&&i?cZ(`calcite-action`,{appearance:`transparent`,disabled:!r.visible,icon:`chevron-right`,iconFlipRtl:!0,onclick:()=>this._triggerOnCatalogOpen(t),scale:`s`,slot:`actions-end`,text:e}):null}get _renderedChildList(){let{dragEnabled:e,item:t,rootGroupUid:n,listModeDisabled:r,selectionMode:i,displayMode:a}=this;if(!(`children`in t))return;let o=[...this.parentTitles??[],t.title],{children:s,layer:c}=t,l=c?.type!==`catalog-dynamic-group`&&YPe(t),u=!r&&PPe(c),d=c?.type===`group`,f=!u&&!l&&e&&d,p=!!e&&`childrenSortable`in t&&t.childrenSortable&&BPe(t);return l||f?cZ(`calcite-list`,{canPull:e=>!!this.canMove&&this.canMove(e,`pull`),canPut:e=>!!this.canMove&&this.canMove(e,`put`),"data-item":t,"data-layer-type":n,displayMode:a,dragEnabled:p,group:d?n:`${n}-${c?.uid}`,key:`child-list-${c?.uid}`,label:t.title,selectionAppearance:`border`,selectionMode:i},s?.filter(e=>!e.hidden&&(this.visibleElements.errors||!e.error)).toArray().map(e=>this._renderItem(e,t,o)),this._renderedTablesItem):null}get _hasTables(){let{layerTablesEnabled:e}=this,t=this.item.layer;if(!e||!t)return!1;switch(t.type){case`knowledge-graph`:return e.includes(t.type)&&`tables`in t&&!!t.tables?.length;case`map-image`:case`tile`:return e.includes(t.type)&&`subtables`in t&&!!t.subtables?.length;default:return!1}}get _renderedTablesItem(){let{item:e,messages:t,css:n}=this,{layer:r}=e;return`itemTableIcon`in n&&`visible`in e&&`tables`in t&&this._hasTables?cZ(`calcite-list-item`,{class:n.item,"data-layer-id":r?.id,dragDisabled:!0,key:`list-item-table-list-tables-${r?.uid}`,label:t.tables,title:t.tables,onCalciteListItemSelect:()=>this._triggerOnTablesOpen(e)},cZ(`calcite-icon`,{class:n.itemTableIcon,icon:`table`,scale:`s`,slot:`content-start`}),cZ(`calcite-icon`,{flipRtl:!0,icon:`chevron-right`,scale:`s`,slot:`content-end`})):null}get _renderedItemMessage(){let{item:e,messages:t,css:n}=this;return e.error?cZ(`div`,{class:n.itemMessage,key:`esri-layer-list__error`,slot:`content-bottom`},cZ(`calcite-notice`,{icon:`exclamation-mark-triangle`,kind:`warning`,open:!0,scale:`s`,width:`full`},cZ(`div`,{slot:`message`},`tableError`in t?t.tableError:t.layerError))):`incompatible`in e&&e.incompatible&&`layerIncompatible`in t?cZ(`div`,{class:n.itemMessage,key:`esri-layer-list__incompatible`,slot:`content-bottom`},cZ(`calcite-notice`,{afterCreate:this._setTooltipReference,afterRemoved:this._removeTooltipReference,bind:this,icon:`exclamation-mark-triangle`,kind:`warning`,open:!0,scale:`s`,tabIndex:0,width:`full`},cZ(`div`,{slot:`message`},t.layerIncompatible))):null}get _singleAction(){return this._renderAction({action:XPe(this._filteredSections),textEnabled:!1})}get _filteredSections(){return this.item.actionsSections.map(e=>e.filter(e=>e.visible))}get _actionsCount(){return this.item.actionsSections.reduce((e,t)=>e+t.length,0)}_renderAction(e){let{item:t}=this,{action:n,textEnabled:r}=e;if(!n)return null;let{active:i,disabled:a,title:o,type:s,indicator:c}=n;return cZ(`calcite-action`,{active:s===`toggle`&&n.value,appearance:`transparent`,"data-action-id":n.id,disabled:a,icon:M9(n),indicator:c,key:`action-${n.uid}`,loading:i,onclick:()=>this._triggerAction(t,n),scale:`s`,slot:r?void 0:`actions-end`,text:o??``,textEnabled:r,title:o??void 0},this._renderFallbackIcon(n))}_renderFallbackIcon(e){let{css:t}=this,{icon:n}=e,r=`className`in e?e.className:void 0;if(n)return null;let i=`image`in e?e.image:void 0,a={[t.itemActionIcon]:!!r,[t.itemActionImage]:!!i};return r&&(a[r]=!0),i||r?cZ(`span`,{"aria-hidden":`true`,class:this.classes(t.itemActionIcon,a),key:`icon`,styles:DPe(i)}):null}_renderItem(e,t,n=[]){return cZ(R9,{activeItem:this.activeItem,canMove:this.canMove,css:this.css,displayMode:this.displayMode,dragEnabled:this.dragEnabled,item:e,key:`layerListItem-${e.layer?.uid}`,layerTablesEnabled:this.layerTablesEnabled,listModeDisabled:this.listModeDisabled,messages:this.messages,messagesCommon:this.messagesCommon,parent:t,parentTitles:n,rootGroupUid:this.rootGroupUid,selectedDragItemLayerUid:this.selectedDragItemLayerUid,selectedItems:this.selectedItems,selectionMode:this.selectionMode,visibilityAppearance:this.visibilityAppearance,visibleElements:this.visibleElements,onAction:this.onAction,onCatalogOpen:this.onCatalogOpen,onPanelOpen:this.onPanelOpen,onSelectedDragItemLayerUidChange:this.onSelectedDragItemLayerUidChange,onTablesOpen:this.onTablesOpen,onTooltipReferenceChange:this.onTooltipReferenceChange})}_triggerAction(e,t){t&&e&&(t.type===`toggle`&&(t.value=!t.value),this.onAction(t,e))}_triggerOnTablesOpen(e){e&&this.onTablesOpen&&this.onTablesOpen(e)}_triggerOnCatalogOpen(e){e&&this.onCatalogOpen?.(e)}_focusSelectedDragEl(e,t){this.selectedDragItemLayerUid===t.layer?.uid&&(JJ(e),this.onSelectedDragItemLayerUidChange?.(null))}_handleCalciteListItemToggle(e,t){e.stopPropagation(),t.open=e.target.expanded}_getParentVisibilityMode(e){return e&&`visibilityMode`in e?e.visibilityMode:null}_handleCalciteListItemSelect(e,t,n){if(I9(e.target)!==t)return;let r=this._getParentVisibilityMode(n);this.selectionMode===`none`&&r!==`inherited`&&this._toggleVisibility(t,n)}_togglePanel(e){e.open=!e.open,e.open&&this.onPanelOpen()}_toggleVisibility(e,t){!e||!(`visible`in e)||this._getParentVisibilityMode(t)===`exclusive`&&e.visible||(e.visible=!e.visible)}};O([P()],z9.prototype,`activeItem`,void 0),O([P()],z9.prototype,`canMove`,void 0),O([P()],z9.prototype,`css`,void 0),O([P()],z9.prototype,`displayMode`,void 0),O([P()],z9.prototype,`dragEnabled`,void 0),O([P()],z9.prototype,`dragDisabled`,void 0),O([P()],z9.prototype,`item`,void 0),O([P()],z9.prototype,`layerTablesEnabled`,void 0),O([P()],z9.prototype,`listModeDisabled`,void 0),O([P()],z9.prototype,`messages`,void 0),O([P()],z9.prototype,`messagesCommon`,void 0),O([P()],z9.prototype,`onAction`,void 0),O([P()],z9.prototype,`onPanelOpen`,void 0),O([P()],z9.prototype,`onCatalogOpen`,void 0),O([P()],z9.prototype,`onTablesOpen`,void 0),O([P()],z9.prototype,`onSelectedDragItemLayerUidChange`,void 0),O([P()],z9.prototype,`onTooltipReferenceChange`,void 0),O([P()],z9.prototype,`parent`,void 0),O([P()],z9.prototype,`parentTitles`,void 0),O([P()],z9.prototype,`rootGroupUid`,void 0),O([P()],z9.prototype,`selectionMode`,void 0),O([P()],z9.prototype,`selectedItems`,void 0),O([P()],z9.prototype,`selectedDragItemLayerUid`,void 0),O([P()],z9.prototype,`visibleElements`,void 0),O([P()],z9.prototype,`visibilityAppearance`,void 0),O([P()],z9.prototype,`_title`,null),O([P()],z9.prototype,`_renderedItemStatus`,null),O([P()],z9.prototype,`_renderedItemTemporaryIcon`,null),O([P()],z9.prototype,`_renderedItemToggle`,null),O([P()],z9.prototype,`_renderedPanel`,null),O([P()],z9.prototype,`_renderedPanelAction`,null),O([P()],z9.prototype,`_renderedActions`,null),O([P()],z9.prototype,`_renderedActionMenu`,null),O([P()],z9.prototype,`_renderedActionMenuContent`,null),O([P()],z9.prototype,`_renderedCatalogFootprintIcon`,null),O([P()],z9.prototype,`_renderedCatalogDynamicIcon`,null),O([P()],z9.prototype,`_renderedCatalogSelectNode`,null),O([P()],z9.prototype,`_renderedChildList`,null),O([P()],z9.prototype,`_hasTables`,null),O([P()],z9.prototype,`_renderedTablesItem`,null),O([P()],z9.prototype,`_renderedItemMessage`,null),O([P()],z9.prototype,`_singleAction`,null),O([P()],z9.prototype,`_filteredSections`,null),O([P()],z9.prototype,`_actionsCount`,null),z9=R9=O([F(`esri.widgets.LayerList.LayerListItem`)],z9);var ZPe=z9;function B9(e){return typeof e==`object`&&!!e&&e.type===`2d`&&e.view2dType===`linkchart`}function QPe(e){return t=>{t.hasOwnProperty(`_delegatedEventNames`)||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);let n=t._delegatedEventNames;e=Array.isArray(e)?e:$Pe(e),n.push(...e)}}function $Pe(e){return e.split(`,`).map(e=>e.trim())}function V9(e){return e&&typeof e.render==`function`}function eFe(e){return e&&typeof e.postMixInProperties==`function`&&typeof e.buildRendering==`function`&&typeof e.postCreate==`function`&&typeof e.startup==`function`}var H9=class extends Qw($X){constructor(e,t){super(e,t),this._legend=null,this.content=null,this.flowEnabled=!1,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}initialize(){this.addHandles([q(()=>this._canCreateLegend,()=>this._createLegend(),Yw),q(()=>[this._legend,this._legendOptions],()=>this._updateLegend(),Yw)])}destroy(){this._legend=Gd(this._legend)}get _canCreateLegend(){let{content:e,listItem:t}=this;if(!t)return!1;let n=`legend`;return e===n||e!=null&&!!Array.isArray(e)&&e.includes(n)}get _legendOptions(){let{listItem:e,_legendLayerInfo:t}=this,n=e?.view;return t&&n?{view:n,layerInfos:[t]}:{}}get _legendLayerInfo(){let e=this.listItem?.layer;if(!e||e.type===`subtype-sublayer`)return null;let t=F9(e)?e:null,n=e?.parent,r=n!=null&&`type`in n&&n.type===`map-image`?t?.source:null;return r&&n?{layer:n,title:``,sublayerIds:[r.mapLayerId]}:{layer:e,title:``}}get disabled(){let{listItem:e,_legend:t,content:n}=this;return!e||!(Array.isArray(n)&&n.length>1)&&!!t&&(!t.activeLayerInfos?.length||!e.visibleAtCurrentScale||!e.visible)}set disabled(e){this._overrideIfSome(`disabled`,e)}get icon(){let{image:e}=this,t=this._getFirstWidget();return this._get(`icon`)??(!e&&t?t.icon:null)}set icon(e){this._overrideIfSome(`icon`,e)}get title(){return this._get(`title`)||(this._getFirstWidget()?.label??``)}set title(e){this._override(`title`,e)}render(){return cZ(`div`,{class:`esri-list-item-panel`},this._renderContents())}_renderContent(e){let{_legend:t,disabled:n,open:r}=this;return e&&!n&&r?e===`legend`&&t?cZ(`div`,{key:`legend-widget`},t.render()):typeof e==`string`?cZ(`div`,{innerHTML:e,key:e}):V9(e)?cZ(`div`,{key:`content-widget`},e.render()):e instanceof HTMLElement?cZ(`div`,{afterCreate:this._attachToNode,bind:e,key:`content-element`}):null:null}_renderContents(){let{content:e,open:t}=this;return t?Array.isArray(e)?e.map(e=>this._renderContent(e)):this._renderContent(e):null}async _createLegend(){if(Gd(this._legend),this._legend=null,!this._canCreateLegend)return;let{default:e}=await N(async()=>{let{default:e}=await import(`./Legend-DWRrpbRN.js`);return{default:e}},__vite__mapDeps([484,96,97,98,99,100,44,3,101,102,103,134,251,27,287,352,310,311,136,243,31,244,245,246,485,290,486,291,292,487,254,252,253,255,256,257,330]));this._legend=new e(this._legendOptions)}_attachToNode(e){e.appendChild(this)}_updateLegend(){let e=this._legend;e&&e.set(this._legendOptions)}_getWidget(e){return e===`legend`?this._legend:V9(e)?e:null}_getFirstWidget(){let{content:e}=this;return Array.isArray(e)?e.map(e=>this._getWidget(e)).find(e=>e):this._getWidget(e)}};O([P()],H9.prototype,`_legend`,void 0),O([P()],H9.prototype,`_canCreateLegend`,null),O([P()],H9.prototype,`_legendOptions`,null),O([P()],H9.prototype,`_legendLayerInfo`,null),O([P()],H9.prototype,`content`,void 0),O([P()],H9.prototype,`disabled`,null),O([P()],H9.prototype,`flowEnabled`,void 0),O([P()],H9.prototype,`icon`,null),O([P()],H9.prototype,`image`,void 0),O([P()],H9.prototype,`listItem`,void 0),O([P()],H9.prototype,`open`,void 0),O([P()],H9.prototype,`title`,null),O([P()],H9.prototype,`visible`,void 0),H9=O([F(`esri.widgets.LayerList.ListItemPanel`)],H9);var tFe=H9,U9,nFe=L.ofType({key:`type`,defaultKeyValue:`button`,base:_L,typeMap:{button:bL,toggle:CL}}),rFe=L.ofType(nFe),W9=`layer`,G9=`child-list-mode`,iFe=`hide`,K9=U9=class extends Qw(I){constructor(e){super(e),this.actionsSections=new rFe,this.actionsOpen=!1,this.checkPublishStatusEnabled=!1,this.children=new(L.ofType(U9)),this.childrenSortable=!0,this.hidden=!1,this.layer=null,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.open=!1,this.parent=null,this.view=null}initialize(){if(this.addHandles([q(()=>[this.layer,this.layer?.listMode,this.listModeDisabled],()=>this._watchLayerProperties(this.layer),Yw),q(()=>this.checkPublishStatusEnabled,e=>this._updateChildrenPublishing(e),Yw),q(()=>this.view,e=>this._updateChildrenView(e),Yw),q(()=>this.panel,e=>this._setListItemOnPanel(e),Yw)]),typeof this.listItemCreatedFunction==`function`){let e={item:this};this.listItemCreatedFunction.call(null,e)}}destroy(){this.panel?.destroy(),this.children.destroyAll(),this.view=null}get connectionStatus(){let{layerView:e,publishing:t}=this;if(!t&&e&&`connectionStatus`in e)return e.connectionStatus}get error(){return this.layer?.loadError}get incompatible(){let{layerView:e}=this;return!(!e||!(`spatialReferenceSupported`in e))&&!e.spatialReferenceSupported}get layerView(){let{layer:e,view:t}=this;if(!e||!t||e.type===`sublayer`)return null;let n=e.type===`subtype-sublayer`?e.parent:e;return t.allLayerViews.find(e=>e.layer===n)??null}set panel(e){let t=this._get(`panel`);e!==t&&e&&t?.destroy(),this._set(`panel`,e)}castPanel(e){return this.panel?.open&&!e.hasOwnProperty(`open`)&&(e.open=!0),e?new tFe(e):null}get sortable(){return this.layer?.type!==`knowledge-graph-sublayer`&&this._get(`sortable`)}set sortable(e){this._set(`sortable`,e)}get title(){let e=bm(this,`layer.layer`);return(!e||e&&bm(this,`layer.layer.loaded`))&&bm(this,`layer.title`)||bm(this,`layer.attributes.title`)||``}set title(e){this._override(`title`,e)}get publishing(){let{layer:e,checkPublishStatusEnabled:t}=this;return!!(t&&e&&`publishingInfo`in e&&e.publishingInfo?.status===`publishing`)}get updating(){let{layerView:e,connectionStatus:t,layer:n,publishing:r}=this;return!r&&!t&&(e?e.updating:n?.loadStatus===`loading`||!1)}get visible(){return!!this.layer?.visible}set visible(e){let t=this.layer;t&&(t.visible=e)}get visibleAtCurrentScale(){return this.layerView?.visibleAtCurrentScale??!HPe(this.layer,this.view?.scale)}get visibleAtCurrentTimeExtent(){return this.layerView?.visibleAtCurrentTimeExtent??!0}get visibilityMode(){return LPe(this.layer)}clone(){return new U9({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,checkPublishStatusEnabled:this.checkPublishStatusEnabled,children:this.children.clone(),childrenSortable:this.childrenSortable,hidden:this.hidden,layer:this.layer,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,open:this.open,panel:this.panel,parent:this.parent,sortable:this.sortable,title:this.title,view:this.view,visible:this.visible})}_setListItemOnPanel(e){e&&(e.listItem=this)}_updateChildrenPublishing(e){this.children?.forEach(t=>t.checkPublishStatusEnabled=e)}_updateChildrenView(e){let t=this.children;t&&t.forEach(t=>t.view=e)}_createChildren(e){let{listModeDisabled:t,children:n}=this,r=e.filter(e=>!n.some(t=>t.layer===e));n.addMany(this._createChildItems(r,t))}_destroyChildren(e){let{children:t}=this,n=t.filter(t=>!!t.layer&&!e.includes(t.layer));t.destroyMany(n)}_sortChildren(e){this.children.sort((t,n)=>e.indexOf(n.layer)-e.indexOf(t.layer))}_destroyAllChildren(){this.removeHandles(G9),this.children.destroyAll()}_watchChildLayerListMode(e){this.removeHandles(G9),this.listModeDisabled||this.addHandles(e.toArray().map(t=>q(()=>t.listMode,()=>this._compileChildren(e))),G9)}_compileChildren(e){let t=this.listModeDisabled?e:e?.filter(e=>N9(e)!==iFe);e?.length?(this._createChildren(t),this._destroyChildren(t),this._sortChildren(t),this._watchChildLayerListMode(e)):this._destroyAllChildren()}_watchSublayerChanges(e){e&&this.addHandles(e.on(`change`,()=>this._compileChildren(e)),W9)}_initializeChildLayers(e){this._compileChildren(e),this._watchSublayerChanges(e)}_createChildItems(e,t){return e.reverse().map(e=>t||VPe(e)?new U9({layer:e,checkPublishStatusEnabled:this.checkPublishStatusEnabled,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,parent:this,view:this.view}):null).filter(Mc)}_watchLayerProperties(e){if(this.removeHandles(W9),this.removeHandles(G9),!e)return;if((!this.listModeDisabled&&N9(e))===`hide-children`)return void this.children.destroyAll();let t=P9(e);t&&this.addHandles(q(()=>e[t],n=>{e.hasOwnProperty(t)&&this._initializeChildLayers(n)},Yw),W9)}};O([P({type:rFe})],K9.prototype,`actionsSections`,void 0),O([P()],K9.prototype,`actionsOpen`,void 0),O([P()],K9.prototype,`checkPublishStatusEnabled`,void 0),O([P({type:L.ofType(K9)})],K9.prototype,`children`,void 0),O([P()],K9.prototype,`childrenSortable`,void 0),O([P({readOnly:!0})],K9.prototype,`connectionStatus`,null),O([P({readOnly:!0})],K9.prototype,`error`,null),O([P()],K9.prototype,`hidden`,void 0),O([P({readOnly:!0})],K9.prototype,`incompatible`,null),O([P()],K9.prototype,`layer`,void 0),O([P({readOnly:!0})],K9.prototype,`layerView`,null),O([P()],K9.prototype,`listItemCreatedFunction`,void 0),O([P({nonNullable:!0})],K9.prototype,`listModeDisabled`,void 0),O([P()],K9.prototype,`open`,void 0),O([P({type:tFe})],K9.prototype,`panel`,null),O([Sy(`panel`)],K9.prototype,`castPanel`,null),O([P()],K9.prototype,`parent`,void 0),O([P({value:!0})],K9.prototype,`sortable`,null),O([P()],K9.prototype,`title`,null),O([P({readOnly:!0})],K9.prototype,`publishing`,null),O([P({readOnly:!0})],K9.prototype,`updating`,null),O([P()],K9.prototype,`view`,void 0),O([P()],K9.prototype,`visible`,null),O([P({readOnly:!0})],K9.prototype,`visibleAtCurrentScale`,null),O([P({readOnly:!0})],K9.prototype,`visibleAtCurrentTimeExtent`,null),O([P({readOnly:!0})],K9.prototype,`visibilityMode`,null),K9=U9=O([F(`esri.widgets.LayerList.ListItem`)],K9);var q9=K9,J9={view:`view`,viewLayers:`view-layers`,mapLayers:`map-layers`,layerViews:`layer-views`,layerListMode:`layer-list-mode`},aFe=`hide`,oFe=L.ofType(q9),Y9=class extends Xg{constructor(e){super(e),this.checkPublishStatusEnabled=!1,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.operationalItems=new oFe,this.view=null}initialize(){this.addHandles([q(()=>!0===this.view?.ready,()=>this._viewHandles(),Yw),q(()=>[this.listItemCreatedFunction,this.checkPublishStatusEnabled,this.listModeDisabled],()=>this._recompileList()),q(()=>B9(this.view)?this.view.inGeographicLayout:null,()=>this._compileList())],J9.view)}destroy(){this._removeAllItems(),this.view=null}get state(){let{view:e}=this;return e?.ready?`ready`:e?`loading`:`disabled`}get totalItems(){return this.operationalItems.flatten(e=>e.children).length}triggerAction(e,t){e&&!e.disabled&&this.emit(`trigger-action`,{action:e,item:t})}moveListItem(e,t,n,r){let i=e?.layer;if(!i||i.type===`subtype-sublayer`||i.type===`sublayer`)return;let a=this.view?.map?.layers,o=t?GPe(t):a,s=n?GPe(n):a;if(!o||!s)return;let{operationalItems:c}=this,l=t?.children||c,u=n?.children||c,d=s.length-r;e.parent=n||null,l.remove(e),o.remove(i),u.includes(e)||u.add(e,d),s.includes(i)||s.add(i,d),this._compileList()}_createLayerViewHandles(e){this.removeHandles(J9.layerViews),this._compileList(),e&&this.addHandles(e.on(`change`,()=>this._compileList()),J9.layerViews)}_createMapLayerHandles(e){this.removeHandles(J9.mapLayers),this._compileList(),e&&this.addHandles(e.on(`change`,()=>this._compileList()),J9.mapLayers)}_createListItem(e){let{view:t,listItemCreatedFunction:n,checkPublishStatusEnabled:r,listModeDisabled:i}=this;return new q9({checkPublishStatusEnabled:r,listModeDisabled:i,layer:e,listItemCreatedFunction:n,view:t})}_removeAllItems(){this.operationalItems.destroyAll()}_getViewableLayers(e){return e?this.listModeDisabled?e:e.filter(e=>N9(e)!==aFe):void 0}_watchLayersListMode(e){this.removeHandles(J9.layerListMode),e&&!this.listModeDisabled&&this.addHandles(q(()=>e.filter(e=>`listMode`in e).map(e=>e.listMode).toArray(),()=>this._compileList()),J9.layerListMode)}_compileList(){let e=this.view?.map?.layers,t=B9(this.view)&&!this.view.inGeographicLayout?e?.filter(({type:e})=>e===`link-chart`):e;this._watchLayersListMode(t);let n=this._getViewableLayers(t);n?.length?(this._createNewItems(n),this._removeItems(n),this._sortItems(n)):this._removeAllItems()}_createNewItems(e){let{operationalItems:t}=this;e.forEach(e=>{t.some(t=>t.layer===e)||t.add(this._createListItem(e))})}_removeItems(e){let{operationalItems:t}=this,n=[];t.forEach(t=>{t&&e&&e.includes(t.layer)||n.push(t)}),t.destroyMany(n)}_sortItems(e){let{operationalItems:t}=this;t.sort((t,n)=>{let r=e.indexOf(t.layer),i=e.indexOf(n.layer);return r>i?-1:r<i?1:0})}_recompileList(){this._removeAllItems(),this._compileList()}_viewHandles(){let{view:e}=this;this.removeHandles([J9.mapLayers,J9.layerViews,J9.viewLayers]),e?.ready?this.addHandles([q(()=>this.view?.map?.allLayers,e=>this._createMapLayerHandles(e),Yw),q(()=>this.view?.allLayerViews,e=>this._createLayerViewHandles(e),Yw)],J9.viewLayers):this._removeAllItems()}};O([P()],Y9.prototype,`checkPublishStatusEnabled`,void 0),O([P()],Y9.prototype,`listItemCreatedFunction`,void 0),O([P({nonNullable:!0})],Y9.prototype,`listModeDisabled`,void 0),O([P({type:oFe})],Y9.prototype,`operationalItems`,void 0),O([P({readOnly:!0})],Y9.prototype,`state`,null),O([P()],Y9.prototype,`totalItems`,null),O([P()],Y9.prototype,`view`,void 0),Y9=O([F(`esri.widgets.LayerList.LayerListViewModel`)],Y9);var sFe=Y9,X9=class extends I{constructor(){super(...arguments),this.catalogLayerList=!0,this.closeButton=!1,this.collapseButton=!1,this.errors=!1,this.filter=!1,this.flow=!0,this.heading=!1,this.statusIndicators=!0,this.temporaryLayerIndicators=!1}};O([P({type:Boolean,nonNullable:!0})],X9.prototype,`catalogLayerList`,void 0),O([P({type:Boolean,nonNullable:!0})],X9.prototype,`closeButton`,void 0),O([P({type:Boolean,nonNullable:!0})],X9.prototype,`collapseButton`,void 0),O([P({type:Boolean,nonNullable:!0})],X9.prototype,`errors`,void 0),O([P({type:Boolean,nonNullable:!0})],X9.prototype,`filter`,void 0),O([P({type:Boolean,nonNullable:!0})],X9.prototype,`flow`,void 0),O([P({type:Boolean,nonNullable:!0})],X9.prototype,`heading`,void 0),O([P({type:Boolean,nonNullable:!0})],X9.prototype,`statusIndicators`,void 0),O([P({type:Boolean,nonNullable:!0})],X9.prototype,`temporaryLayerIndicators`,void 0),X9=O([F(`esri.widgets.LayerList.LayerListVisibleElements`)],X9);var cFe=X9,lFe=[`label`,`description`,`metadata`],uFe=L.ofType(q9),dFe=`nested`,Z9=class extends Qw($X){constructor(e,t){super(e,t),this._rootListEl=null,this._activeItem=null,this._tooltipReferenceMap=new jB,this._focusRootFlowItem=!1,this._focusPanelFlowItem=!1,this._focusLayerFlowItem=null,this._layerListMap=new jB,this._lastDragDetail=null,this._selectedDragItemLayerUid=null,this._rootGroupUid=`operational-${this.uid}`,this._openedLayersController=null,this.catalogLayerList=null,this.catalogOptions=null,this.collapsed=!1,this.dragEnabled=!1,this.filterPlaceholder=``,this.filterPredicate=null,this.filterText=``,this.headingLevel=2,this.knowledgeGraphOptions=null,this.layerTablesEnabled=new L([`knowledge-graph`]),this.listItemCanGiveFunction=null,this.listItemCanReceiveFunction=null,this.mapImageOptions=null,this.messages=null,this.messagesCommon=null,this.minDragEnabledItems=2,this.minFilterItems=10,this.openedLayers=new L,this.openedLayerLists=new L,this.selectedItems=new uFe,this.selectionMode=`none`,this.tableList=null,this.tileOptions=null,this.viewModel=new sFe,this.visibilityAppearance=`default`,this.visibleElements=new cFe,this._canMove=({dragEl:e,fromEl:t,toEl:n},r)=>{let i=r===`pull`?this.listItemCanGiveFunction:this.listItemCanReceiveFunction,a=I9(e);if(!a?.sortable)return!1;let o=I9(t),s=L9(t),c=I9(n),l=L9(n),u=!!s&&!!l&&s===l,d={selected:a,from:o,to:c},f=t.group,p=n.group,m=o?.layer?.type??``,h=c?.layer?.type??``,g=new Set([`map-image`,`catalog`,`knowledge-graph`]);return f&&p&&typeof i==`function`?i.call(null,d):u&&!g.has(m)&&!g.has(h)&&a?.layer?.type!==`sublayer`},this._onCatalogOpen=e=>{this.openedLayers.push(e.layer?.parent),this._focusLayerFlowItem=e.layer?.uid},this._onTablesOpen=e=>{this.openedLayers.push(e.layer),this._focusLayerFlowItem=e.layer?.uid},this._onPanelOpen=()=>{this._focusPanelFlowItem=!0},this._onTooltipReferenceChange=(e,t)=>{t?this._tooltipReferenceMap.set(e,t):this._tooltipReferenceMap.delete(e)},this._onSelectedDragItemLayerUidChange=e=>{this._selectedDragItemLayerUid=e},this._onTriggerAction=(e,t)=>{this.triggerAction(e,t)},this._clearActiveItem=()=>{this._activeItem=null},this._setActiveItem=e=>{if(this.visibilityAppearance!==`default`)return;let t=Array.from(e.composedPath()).find(e=>e.classList?.contains(j9.item));this._activeItem=I9(t)},this._onCalciteListOrderChange=e=>{let{_lastDragDetail:t}=this,{toEl:n,fromEl:r,dragEl:i,newIndex:a}=e;if(r&&n&&!(t?.newIndex===a&&t?.dragEl===i&&t?.toEl===n&&t?.fromEl===r)){if(this._lastDragDetail=e,this._selectedDragItemLayerUid=i.value,r===n){let e=Array.from(r.children).filter(e=>e?.matches(`calcite-list-item`)).map(e=>e.value);this._sortLayers(r,e);return}this._moveLayerFromChildList({toEl:n,fromEl:r,dragEl:i,newIndex:a})}}}initialize(){this.addHandles([Ww(()=>this.openedLayers,`change`,()=>this._handleOpenedLayersChange(),Yw),Ww(()=>this.viewModel.operationalItems,`change`,()=>RPe(this.selectedItems),Yw),q(()=>[this.filterPredicate,this._rootListEl],()=>zPe(this._rootListEl,this.filterPredicate))])}loadDependencies(){return VX({button:()=>N(()=>import(`./calcite-button-DeHTsYH-.js`),__vite__mapDeps([410,411,412,413,414,415,416,417,418,419,420,421,422,423])),flow:()=>N(()=>import(`./calcite-flow-D4rd49Lr.js`),__vite__mapDeps([488,411,412,413,415,418,419])),"flow-item":()=>N(()=>import(`./calcite-flow-item-B58QADYb.js`),__vite__mapDeps([489,411,460,458,461,462,412,413,463,464,415,465,419,466,420,423,414,416,418,490,457,421,422,482])),list:()=>N(()=>import(`./calcite-list-CgWjPxHf.js`),__vite__mapDeps([477,411,478,412,413,414,416,465,417,420,458,423,415,418,419,479,473,421,480,422,481,482,464])),notice:()=>N(()=>import(`./calcite-notice-CvAfSaDY.js`),__vite__mapDeps([483,411,412,413,415,418,419,466,420,421])),tooltip:()=>N(()=>import(`./calcite-tooltip-DOISgjum.js`),__vite__mapDeps([491,460,458,413,463,464,415,466]))})}destroy(){this._destroyOpenedLayerLists(),this._tooltipReferenceMap.clear()}get _totalItems(){return this.viewModel.operationalItems.flatten(e=>e.children.filter(e=>e.layer?.type!==`catalog-dynamic-group`)).length}get _visibleItems(){return this.operationalItems?.filter(e=>!e.hidden&&(this.visibleElements.errors||!e.error))}get _openedPanelItems(){return this._visibleItems.flatten(e=>e.children).filter(({hidden:e,panel:t})=>!e&&t?.open&&!t.disabled&&t.flowEnabled)}get _dragEnabled(){return this._totalItems>=this.minDragEnabledItems&&this.dragEnabled}get _filterEnabled(){return this._totalItems>=this.minFilterItems&&this.visibleElements.filter}get _renderedOpenLayerFlowItems(){let{openedLayers:e}=this;return e.toArray().map((t,n)=>this._renderLayerFlowItem(t,n===e.length-1))}get icon(){return`layers`}set icon(e){this._overrideIfSome(`icon`,e)}get label(){return this.messages?.widgetLabel??``}set label(e){this._overrideIfSome(`label`,e)}get listItemCreatedFunction(){return this.viewModel.listItemCreatedFunction}set listItemCreatedFunction(e){this.viewModel.listItemCreatedFunction=e}get operationalItems(){return this.viewModel.operationalItems}set operationalItems(e){this.viewModel.operationalItems=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}triggerAction(e,t){return this.viewModel.triggerAction(e,t)}render(){let e=this.viewModel?.state,t={[aZ.hidden]:e===`loading`,[aZ.disabled]:e===`disabled`};return cZ(`div`,{class:this.classes(j9.base,aZ.widget,aZ.panel,t)},this._renderItemTooltips(),this._renderItems())}async _createFlowList(e,t){let{_layerListMap:n}=this,r=n.get(e);if(r)return r;let i=e.type===`catalog`?await this._createCatalogLayerList(e):await this._createTableList(e);return t.aborted||n.set(e,i),i}async _handleOpenedLayersChange(){let{_layerListMap:e,openedLayers:t,openedLayerLists:n}=this;this._openedLayersController?.abort();let r=new AbortController,{signal:i}=r;this._openedLayersController=r,e.forEach((n,r)=>{t.includes(r)||(n.destroy(),e.delete(r))});let a=await Promise.all(t.map(e=>this._createFlowList(e,i)));if(i.aborted)return;n.removeAll(),n.addMany(a);let o=n.at(-1);o?`catalogLayer`in o?(this._set(`catalogLayerList`,o),this._set(`tableList`,null)):(this._set(`catalogLayerList`,null),this._set(`tableList`,o)):(this._set(`catalogLayerList`,null),this._set(`tableList`,null))}_destroyOpenedLayerLists(){this.openedLayerLists.destroyAll(),this.openedLayers.removeAll(),this._layerListMap.clear()}_renderItemTooltip(e){let{_tooltipReferenceMap:t,messages:n}=this;return e?cZ(`calcite-tooltip`,{key:`tooltip-${e.layer?.uid}`,overlayPositioning:`fixed`,referenceElement:t.get(e.layer?.uid)},n.layerIncompatibleTooltip):null}_renderItemTooltipNodes(e){return e.incompatible?this._renderItemTooltip(e):e.children?.filter(e=>!e.hidden).toArray().map(e=>this._renderItemTooltipNodes(e))}_renderItemTooltips(){return this._visibleItems?.toArray().map(e=>this._renderItemTooltipNodes(e))}_renderNoItemsMessage(){return cZ(`div`,{slot:`message`},this.messages.noItemsToDisplay)}_renderNoItems(){return cZ(`div`,{class:j9.itemMessage,key:`esri-layer-list__no-items`},cZ(`calcite-notice`,{icon:`information`,kind:`info`,open:!0,width:`full`},this._renderNoItemsMessage()))}async _createCatalogLayerList(e){let{default:t}=await N(async()=>{let{default:e}=await import(`./CatalogLayerList-D-gJwods.js`);return{default:e}},[]),{headingLevel:n,catalogOptions:r,view:i,filterPlaceholder:a,listItemCreatedFunction:o,minFilterItems:s,selectionMode:c,visibilityAppearance:l,_onCatalogOpen:u,_onTablesOpen:d,layerTablesEnabled:f}=this;return new t({headingLevel:n,view:i,filterPlaceholder:a,listItemCreatedFunction:o,minFilterItems:s,selectionMode:c,visibilityAppearance:l,...r,catalogLayer:e,layerTablesEnabled:f,onCatalogOpen:u,onTablesOpen:d})}_getTableListParams(e){switch(e.type){case`knowledge-graph`:return{...this.knowledgeGraphOptions,tables:e.tables};case`map-image`:return{...this.mapImageOptions,tables:e.subtables};case`tile`:return{...this.tileOptions,tables:e.subtables};default:return null}}async _createTableList(e){let{default:t}=await N(async()=>{let{default:e}=await import(`./TableList-CmmMZ0AV.js`);return{default:e}},[]),{headingLevel:n,selectionMode:r,dragEnabled:i}=this;return new t({headingLevel:n,selectionMode:r,dragEnabled:i,...this._getTableListParams(e)})}_renderLayerFlowItem(e,t){let{messages:n,openedLayers:r}=this,i=e.title||this.messages.untitledLayer;return cZ(`calcite-flow-item`,{afterCreate:this._focusLayerFlowItemNode,afterUpdate:this._focusLayerFlowItemNode,bind:this,"data-layer-uid":e.uid,description:i,heading:n[e.type===`catalog`?`catalogLayers`:`tables`],headingLevel:this.headingLevel,key:`flow-layer-list-${e.uid}`,selected:t,onCalciteFlowItemBack:e=>{e.preventDefault(),r.pop();let t=r.at(-1);t?this._focusLayerFlowItem=t.uid:this._focusRootFlowItem=!0}},this._layerListMap.get(e)?.render())}_renderPanelFlowItems(){let{_openedPanelItems:e,openedLayers:t}=this;return e.toArray().map(({title:n,panel:r},i)=>{let a=()=>this._handlePanelFlowItemBack(r);return cZ(`calcite-flow-item`,{afterCreate:this._focusPanelFlowItemNode,afterUpdate:this._focusPanelFlowItemNode,bind:this,description:n,heading:r.title,headingLevel:this.headingLevel,key:`flow-panel-${r.uid}`,selected:!t.length&&i===e.length-1,onCalciteFlowItemBack:e=>{e.preventDefault(),a()}},r.render(),cZ(`calcite-button`,{appearance:`transparent`,onclick:a,slot:`footer-actions`,width:`full`},this.messagesCommon.back))})}_handlePanelFlowItemBack(e){e.open=!1,this._focusRootFlowItem=!0}_focusRootFlowItemNode(e){this._focusRootFlowItem&&(this._focusRootFlowItem=!1,JJ(e))}_focusLayerFlowItemNode(e){this._focusLayerFlowItem===e.dataset.layerUid&&(this._focusLayerFlowItem=null,JJ(e))}_focusPanelFlowItemNode(e){this._focusPanelFlowItem&&(this._focusPanelFlowItem=!1,JJ(e))}_renderItems(){let{visible:e,collapsed:t,_visibleItems:n,_openedPanelItems:r,_filterEnabled:i,_rootGroupUid:a,visibleElements:{closeButton:o,collapseButton:s,heading:c,flow:l},_dragEnabled:u,selectionMode:d,filterText:f,openedLayers:p,filterPlaceholder:m,messages:h}=this,g=[cZ(`calcite-flow-item`,{afterCreate:this._focusRootFlowItemNode,afterUpdate:this._focusRootFlowItemNode,bind:this,closable:o,closed:!e,collapsed:t,collapsible:s,heading:c?h.widgetLabel:void 0,headingLevel:this.headingLevel,key:`root-flow-item`,selected:!p.length&&!r.length,onCalciteFlowItemClose:()=>this.visible=!1},n?.length?null:this._renderNoItems(),cZ(`calcite-list`,{afterCreate:e=>{this._rootListEl=e,e.addEventListener(`focusin`,this._setActiveItem),e.addEventListener(`focusout`,this._clearActiveItem)},afterRemoved:e=>{this._rootListEl=null,e.removeEventListener(`focusin`,this._setActiveItem),e.removeEventListener(`focusout`,this._clearActiveItem)},canPull:e=>this._canMove(e,`pull`),canPut:e=>this._canMove(e,`put`),"data-layer-type":a,displayMode:dFe,dragEnabled:u,filterEnabled:i,filterPlaceholder:m,filterProps:lFe,filterText:i?f:``,group:a,key:`root-list`,label:h.widgetLabel,onmouseleave:this._clearActiveItem,onmouseover:this._setActiveItem,selectionAppearance:`border`,selectionMode:d,onCalciteListChange:e=>this._handleCalciteListChange(e),onCalciteListDragEnd:e=>this._handleCalciteListDragEnd(e.detail),onCalciteListFilter:e=>this.filterText=e.currentTarget?.filterText??``,onCalciteListOrderChange:e=>this._onCalciteListOrderChange(e.detail)},n.toArray().map(e=>this._renderItem(e)),i?cZ(`div`,{class:j9.filterNoResults,slot:`filter-no-results`},cZ(`calcite-notice`,{kind:`info`,open:!0,width:`full`},this._renderNoItemsMessage())):null)),this._renderPanelFlowItems(),this._renderedOpenLayerFlowItems];return e?l?cZ(`calcite-flow`,{key:`root-flow`},g):g:null}_renderItem(e,t,n){return cZ(ZPe,{activeItem:this._activeItem,canMove:this._canMove,css:j9,displayMode:dFe,dragEnabled:this.dragEnabled,item:e,key:`layerListItem-${e.layer?.uid}`,layerTablesEnabled:this.layerTablesEnabled,listModeDisabled:this.viewModel.listModeDisabled,messages:this.messages,messagesCommon:this.messagesCommon,parent:t,parentTitles:n,rootGroupUid:this._rootGroupUid,selectedDragItemLayerUid:this._selectedDragItemLayerUid,selectedItems:this.selectedItems,selectionMode:this.selectionMode,visibilityAppearance:this.visibilityAppearance,visibleElements:this.visibleElements,onAction:this._onTriggerAction,onCatalogOpen:this._onCatalogOpen,onPanelOpen:this._onPanelOpen,onSelectedDragItemLayerUidChange:this._onSelectedDragItemLayerUidChange,onTablesOpen:this._onTablesOpen,onTooltipReferenceChange:this._onTooltipReferenceChange})}_moveLayerFromChildList({toEl:e,fromEl:t,dragEl:n,newIndex:r}){let i=I9(n),a=I9(e),o=I9(t);this.viewModel.moveListItem(i,o,a,r)}_handleCalciteListDragEnd(e){let{fromEl:t,dragEl:n,oldIndex:r}=e;t.insertBefore(n,t.children[r])}_sortLayers(e,t){if(e)if(e===this._rootListEl)UPe(this.view?.map?.layers,t);else{let n=I9(e);if(!n)return;WPe(n,t)}}_handleCalciteListChange(e){let{selectionMode:t,selectedItems:n}=this;if(t===`none`)return;let r=e.target.selectedItems.map(e=>I9(e)).filter(Boolean);n.removeAll(),n.addMany(r)}};O([P()],Z9.prototype,`_rootListEl`,void 0),O([P()],Z9.prototype,`_activeItem`,void 0),O([P()],Z9.prototype,`_tooltipReferenceMap`,void 0),O([P()],Z9.prototype,`_focusRootFlowItem`,void 0),O([P()],Z9.prototype,`_focusPanelFlowItem`,void 0),O([P()],Z9.prototype,`_focusLayerFlowItem`,void 0),O([P()],Z9.prototype,`_layerListMap`,void 0),O([P()],Z9.prototype,`_totalItems`,null),O([P()],Z9.prototype,`_visibleItems`,null),O([P()],Z9.prototype,`_openedPanelItems`,null),O([P()],Z9.prototype,`_dragEnabled`,null),O([P()],Z9.prototype,`_filterEnabled`,null),O([P()],Z9.prototype,`_renderedOpenLayerFlowItems`,null),O([P({readOnly:!0})],Z9.prototype,`catalogLayerList`,void 0),O([P()],Z9.prototype,`catalogOptions`,void 0),O([P()],Z9.prototype,`collapsed`,void 0),O([P()],Z9.prototype,`dragEnabled`,void 0),O([P()],Z9.prototype,`filterPlaceholder`,void 0),O([P()],Z9.prototype,`filterPredicate`,void 0),O([P()],Z9.prototype,`filterText`,void 0),O([P()],Z9.prototype,`headingLevel`,void 0),O([P()],Z9.prototype,`icon`,null),O([P()],Z9.prototype,`knowledgeGraphOptions`,void 0),O([P()],Z9.prototype,`label`,null),O([P()],Z9.prototype,`layerTablesEnabled`,void 0),O([P()],Z9.prototype,`listItemCanGiveFunction`,void 0),O([P()],Z9.prototype,`listItemCanReceiveFunction`,void 0),O([P()],Z9.prototype,`listItemCreatedFunction`,null),O([P()],Z9.prototype,`mapImageOptions`,void 0),O([P(),oZ(`esri/widgets/LayerList/t9n/LayerList`)],Z9.prototype,`messages`,void 0),O([P(),oZ(`esri/t9n/common`)],Z9.prototype,`messagesCommon`,void 0),O([P()],Z9.prototype,`minDragEnabledItems`,void 0),O([P()],Z9.prototype,`minFilterItems`,void 0),O([P({readOnly:!0})],Z9.prototype,`openedLayers`,void 0),O([P({readOnly:!0})],Z9.prototype,`openedLayerLists`,void 0),O([P()],Z9.prototype,`operationalItems`,null),O([P()],Z9.prototype,`selectedItems`,void 0),O([P()],Z9.prototype,`selectionMode`,void 0),O([P({readOnly:!0})],Z9.prototype,`tableList`,void 0),O([P()],Z9.prototype,`tileOptions`,void 0),O([P()],Z9.prototype,`view`,null),O([QPe(`trigger-action`),P({type:sFe})],Z9.prototype,`viewModel`,void 0),O([P()],Z9.prototype,`visibilityAppearance`,void 0),O([P({type:cFe,nonNullable:!0})],Z9.prototype,`visibleElements`,void 0),Z9=O([F(`esri.widgets.LayerList`)],Z9);var fFe=Z9;function pFe(e){let t=new wPe({portalItem:{id:`59bc4eb4eaee4fc48931611029997ff9`}}),n=new XZ({map:t,container:e}),r=new fFe({view:n});n.ui.add(r,`top-right`)}(0,qs.createRoot)(document.getElementById(`app`)).render((0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(Js,{}),(0,w.jsx)(`div`,{id:`content`}),(0,w.jsx)(`div`,{id:`viewDiv`,style:{display:`none`}}),(0,w.jsx)(Ys,{})]})),document.getElementById(`content`);var Q9=null,mFe={"#/":()=>{let e=document.getElementById(`content`),t=document.getElementById(`viewDiv`);t.style.display=`none`,e.style.display=`block`,Q9||=(0,qs.createRoot)(e),Q9.render((0,w.jsx)(Xs,{}))},"#/mapy/vodni-eroze":()=>$9(()=>FTe(`viewDiv`)),"#/mapy/eroze-tani-snehu":()=>$9(()=>ITe(`viewDiv`)),"#/mapy/vetrna-eroze":()=>$9(()=>LTe(`viewDiv`)),"#/mapy/retence":()=>$9(()=>pFe(`viewDiv`))};function $9(e){let t=document.getElementById(`content`),n=document.getElementById(`viewDiv`);Q9&&=(Q9.unmount(),null),t.style.display=`none`,n.style.display=`flex`,n.innerHTML=``,e()}function hFe(){let e=location.hash||`#/`,t=mFe[e];t?t():document.getElementById(`content`).innerHTML=`<p>Page not found</p>`}window.addEventListener(`hashchange`,hFe),window.addEventListener(`load`,hFe);export{zMe as $,xh as $C,Dc as $E,U_ as $S,Ou as $T,uO as $_,VTe as $a,toe as $b,Txe as $c,Sge as $d,Ehe as $f,jk as $g,hj as $h,b2 as $i,KW as $l,Jj as $m,r8 as $n,PCe as $o,hF as $p,QOe as $r,tSe as $s,oje as $t,VH as $u,Qse as $v,sf as $w,jne as $x,Koe as $y,KNe as A,Sg as AC,A as AE,Ov as AS,Sd as AT,LO as A_,Q1 as Aa,voe as Ab,Hxe as Ac,GB as Ad,Ihe as Af,$k as Ag,xj as Ah,O4 as Ai,fG as Al,BM as Am,Y8 as An,Gwe as Ao,SF as Ap,s6 as Ar,PSe as As,M5 as At,OU as Au,wD as Av,Hf as Aw,Vy as Ax,zE as Ay,g7 as B,Ih as BC,Uc as BE,Dv as BS,ud as BT,kO as B_,y1 as Ba,foe as Bb,pxe as Bc,jge as Bd,Phe as Bf,Gk as Bg,_ue as Bh,G2 as Bi,wG as Bl,$j as Bm,_Ae as Bn,wX as Bo,dme as Bp,v6 as Br,DSe as Bs,u5 as Bt,eU as Bu,tce as Bv,Af as Bw,Sy as Bx,hE as By,r9 as C,Qg as CC,O as CD,Sl as CE,Lv as CS,Od as CT,Yce as C_,ODe as Ca,CT as Cb,ixe as Cc,X as Cd,$he as Cf,LA as Cg,Nue as Ch,_Oe as Ci,XK as Cl,gP as Cm,LAe as Cn,Xwe as Co,SI as Cp,n6 as Cr,LSe as Cs,zje as Ct,IU as Cu,JD as Cv,N as Cw,ib as Cx,Ose as Cy,K7 as D,Jg as DC,pl as DE,zv as DS,bd as DT,BO as D_,n0 as Da,mT as Db,oxe as Dc,dV as Dd,Whe as Df,OA as Dg,Ej as Dh,k4 as Di,JG as Dl,oP as Dm,$8 as Dn,Vwe as Do,KF as Dp,p6 as Dr,sJ as Ds,Dje as Dt,wU as Du,FD as Dv,Yf as Dw,ore as Dx,$E as Dy,q7 as E,qg as EC,fl as EE,Iv as ES,Cd as ET,qce as E_,i0 as Ea,pT as Eb,Bxe as Ec,fV as Ed,Fhe as Ef,Zle as Eg,kue as Eh,M4 as Ei,VK as El,cP as Em,e5 as En,Uwe as Eo,JF as Ep,G3 as Er,cJ as Es,Nje as Et,Nve as Eu,CD as Ev,Xf as Ew,tb as Ex,jse as Ey,MNe as F,Zh as FC,Yc as FE,Sv as FS,Hu as FT,SO as F_,M1 as Fa,moe as Fb,Wxe as Fc,DB as Fd,jhe as Ff,wle as Fg,Eue as Fh,s4 as Fi,pG as Fl,CM as Fm,V8 as Fn,OX as Fo,oF as Fp,t6 as Fr,OSe as Fs,k5 as Ft,lU as Fu,xD as Fv,wf as Fw,jy as Fx,CE as Fy,d7 as G,Ch as GC,Lc as GE,wv as GS,wu as GT,vO as G_,C$ as Ga,Gw as Gb,_xe as Gc,hB as Gd,bR as Gf,Nk as Gg,sue as Gh,p2 as Gi,eG as Gl,Pde as Gm,sAe as Gn,awe as Go,jme as Gp,U3 as Gr,Iq as Gs,YAe as Gt,JH as Gu,sD as Gv,iee as Gw,$v as Gx,YT as Gy,h7 as H,Dh as HC,Jc as HE,Pv as HS,Cu as HT,_O as H_,l1 as Ha,Ww as Hb,mxe as Hc,xB as Hd,yR as Hf,Vk as Hg,vj as Hh,S2 as Hi,EG as Hl,Ide as Hm,pAe as Hn,hX as Ho,xme as Hp,J3 as Hr,qq as Hs,tje as Ht,ZH as Hu,Kse as Hv,ff as Hw,W as Hx,J as Hy,$ as I,rg as IC,Vc as IE,vv as IS,su as IT,DO as I_,A1 as Ia,tT as Ib,dxe as Ic,EB as Id,qhe as If,xle as Ig,Dj as Ih,e4 as Ii,lG as Il,rfe as Im,vAe as In,Dwe as Io,gme as Ip,l6 as Ir,ASe as Is,XAe as It,hve as Iu,vD as Iv,Tf as Iw,rre as Ix,SE as Iy,tNe as J,Th as JC,Ic as JE,G_ as JS,hu as JT,MO as J_,DQ as Ja,uoe as Jb,bxe as Jc,rB as Jd,Yhe as Jf,Dk as Jg,iue as Jh,u2 as Ji,tG as Jl,qj as Jm,tAe as Jn,$Ce as Jo,IP as Jp,I3 as Jr,nSe as Js,nje as Jt,LH as Ju,cD as Jv,pf as Jw,Ine as Jx,tse as Jy,rNe as K,Ree as KC,Xc as KE,H as KS,lu as KT,xO as K_,t$ as Ka,q as Kb,vxe as Kc,fB as Kd,_R as Kf,Ak as Kg,rue as Kh,YDe as Ki,YW as Kl,Fde as Km,D8 as Kn,YY as Ko,VP as Kp,rke as Kr,fSe as Ks,i5 as Kt,YH as Ku,lD as Kv,vf as Kw,Mne as Kx,$oe as Ky,xNe as L,Xh as LC,zc as LE,Av as LS,sd as LT,EO as L_,D1 as La,eT as Lb,Gxe as Lc,Age as Ld,Ahe as Lf,Sle as Lg,Oj as Lh,Q2 as Li,mG as Ll,cM as Lm,R8 as Ln,wwe as Lo,bme as Lp,cke as Lr,eJ as Ls,aje as Lt,oU as Lu,yD as Lv,Cf as Lw,Ny as Lx,sse as Ly,z7 as M,P as MC,$c as ME,Cv as MS,vd as MT,FO as M_,R1 as Ma,cT as Mb,lxe as Mc,IB as Md,Khe as Mf,fA as Mg,vue as Mh,N4 as Mi,dG as Ml,AM as Mm,SAe as Mn,Iwe as Mo,fF as Mp,q3 as Mr,MSe as Ms,j5 as Mt,SU as Mu,ID as Mv,Vf as Mw,ky as Mx,PE as My,GNe as N,ute as NC,qc as NE,Nv as NS,gd as NT,TO as N_,L1 as Na,oT as Nb,Uxe as Nc,NB as Nd,vR as Nf,iA as Ng,Sj as Nh,y4 as Ni,bG as Nl,kM as Nm,G8 as Nn,kwe as No,zP as Np,c6 as Nr,tJ as Ns,Mje as Nt,gve as Nu,zD as Nv,Wf as Nw,My as Nx,wE as Ny,YNe as O,I as OC,gl as OE,bv as OS,wd as OT,Kce as O_,e0 as Oa,fT as Ob,Vxe as Oc,sV as Od,Ghe as Of,EA as Og,Cj as Oh,F4 as Oi,cG as Ol,JN as Om,TAe as On,Hwe as Oo,LF as Op,ske as Or,aJ as Os,vje as Ot,Ave as Ou,PD as Ov,Bf as Ow,Uy as Ox,WE as Oy,HNe as P,Yh as PC,Zc as PE,Ev as PS,yd as PT,OO as P_,F1 as Pa,hoe as Pb,uxe as Pc,jB as Pd,Rhe as Pf,Qk as Pg,wj as Ph,h4 as Pi,xG as Pl,DM as Pm,H8 as Pn,Owe as Po,aF as Pp,i6 as Pr,kSe as Ps,Fje as Pt,uU as Pu,UD as Pv,Kf as Pw,Py as Px,NE as Py,VMe as Q,bh as QC,Ac as QE,W_ as QS,Du as QT,fO as Q_,aQ as Qa,noe as Qb,wxe as Qc,Nz as Qd,Dhe as Qf,Ok as Qg,fj as Qh,v2 as Qi,QW as Ql,Uj as Qm,c8 as Qn,zCe as Qo,vme as Qp,k3 as Qr,jq as Qs,o5 as Qt,RH as Qu,Zse as Qv,nf as Qw,ty as Qx,Joe as Qy,bNe as R,ag as RC,Qc as RE,jv as RS,Yu as RT,wO as R_,E1 as Ra,$w as Rb,fxe as Rc,kge as Rd,xR as Rf,Yk as Rg,_j as Rh,K2 as Ri,SG as Rl,Zde as Rm,mAe as Rn,Twe as Ro,GP as Rp,h6 as Rr,nJ as Rs,zAe as Rt,ove as Ru,bD as Rv,Sf as Rw,Ay as Rx,xE as Ry,s9 as S,L as SC,Qs as SD,Cl as SE,Bv as SS,Dd as ST,qO as S_,NDe as Sa,ST as Sb,Rxe as Sc,f_e as Sd,Uhe as Sf,Qle as Sg,Due as Sh,H4 as Si,Rbe as Sl,yP as Sm,ZAe as Sn,tTe as So,JI as Sp,r6 as Sr,USe as Ss,Rje as St,RU as Su,RD as Sv,gp as Sw,cb as Sx,qE as Sy,X7 as T,Xg as TC,Zs as TD,vl as TE,Vv as TS,Ad as TT,HO as T_,DDe as Ta,wT as Tb,axe as Tc,pV as Td,Mhe as Tf,ZA as Tg,Pue as Th,yOe as Ti,GK as Tl,lP as Tm,t5 as Tn,zwe as To,mI as Tp,$3 as Tr,ISe as Ts,hje as Tt,MU as Tu,MD as Tv,np as Tw,Yy as Tx,Nse as Ty,uNe as U,zee as UC,Gc as UE,_ne as US,mu as UT,yO as U_,o1 as Ua,Hw as Ub,hxe as Uc,yB as Ud,zhe as Uf,Rk as Ug,bj as Uh,_2 as Ui,uG as Ul,Xj as Um,k8 as Un,fwe as Uo,Yme as Up,_6 as Ur,Lq as Us,p5 as Ut,XH as Uu,rce as Uv,gf as Uw,U as Ux,uE as Uy,hNe as V,kh as VC,Hc as VE,kv as VS,yu as VT,AO as V_,d1 as Va,Jw as Vb,qxe as Vc,Oge as Vd,khe as Vf,Uk as Vg,hue as Vh,T2 as Vi,TG as Vl,Lde as Vm,I8 as Vn,SX as Vo,Cme as Vp,y6 as Vr,Yq as Vs,QAe as Vt,nU as Vu,nce as Vv,yf as Vw,xy as Vx,ise as Vy,f7 as W,Oh as WC,Pc as WE,Mv as WS,au as WT,jO as W_,r1 as Wa,Yw as Wb,gxe as Wc,_B as Wd,Jhe as Wf,Lk as Wg,mue as Wh,JDe as Wi,JW as Wl,Yj as Wm,O8 as Wn,mX as Wo,Tme as Wp,Y3 as Wr,dSe as Ws,VAe as Wt,QH as Wu,gD as Wv,bf as Ww,oy as Wx,lE as Wy,ZMe as X,ph as XC,Kc as XE,Z_ as XS,Tu as XT,hO as X_,tEe as Xa,Nw as Xb,Sxe as Xc,Hz as Xd,SR as Xf,kk as Xg,pj as Xh,d2 as Xi,aG as Xl,Hj as Xm,g8 as Xn,QCe as Xo,iF as Xp,D3 as Xr,iSe as Xs,uje as Xt,BH as Xu,Xse as Xv,tf as Xw,Pne as Xx,Yoe as Xy,c7 as Y,Eh as YC,Rc as YE,sv as YS,cd as YT,Ace as Y_,TQ as Ya,Iw as Yb,xxe as Yc,Jz as Yd,Nhe as Yf,Mk as Yg,cue as Yh,m2 as Yi,XW as Yl,Wj as Ym,S8 as Yn,ewe as Yo,QP as Yp,$Oe as Yr,aSe as Ys,KAe as Yt,HH as Yu,uD as Yv,mf as Yw,ny as Yx,nse as Yy,XMe as Z,mh as ZC,Oc as ZE,iv as ZS,ou as ZT,kce as Z_,yQ as Za,eoe as Zb,Cxe as Zc,Iz as Zd,hR as Zf,zk as Zg,mj as Zh,l2 as Zi,$W as Zl,Gj as Zm,m8 as Zn,VCe as Zo,fme as Zp,ZOe as Zr,Aq as Zs,d5 as Zt,UH as Zu,oD as Zv,lf as Zw,ry as Zx,qoe as Zy,DPe as _,y_ as _C,sc as _D,M as _E,fy as _S,Md as _T,WO as __,g0 as _a,Ooe as _b,Yxe as _c,FV as _d,Xhe as _f,qA as _g,Oue as _h,POe as _i,bq as _l,Ype as _m,BAe as _n,VX as _o,CL as _p,A6 as _r,gJ as _s,F5 as _t,JU as _u,BD as _v,im as _w,Nb as _x,kse as _y,QPe as a,P_ as aC,_c as aD,id as aE,dy as aS,Qd as aT,sle as a_,VDe as aa,KT as ab,oSe as ac,OH as ad,pz as af,Yle as ag,wde as ah,u3 as ai,Fxe as al,cF as am,HAe as an,eQ as ao,fR as ap,F6 as ar,xCe as as,wMe as at,iG as au,QD as av,eh as aw,Ow as ax,qse as ay,OPe as b,d_ as bC,k as bD,Dl as bE,Lne as bS,Pd as bT,UO as b_,m0 as ba,gT as bb,Lxe as bc,l_e as bd,CR as bf,Gle as bg,wue as bh,q4 as bi,iq as bl,SP as bm,c5 as bn,eTe as bo,lL as bp,T6 as br,_J as bs,qje as bt,zU as bu,TD as bv,qp as bw,pb as bx,ZE as by,I9 as c,M_ as cC,vc as cD,Nu as cE,zne as cS,Jd as cT,ZO as c_,B0 as ca,rse as cb,cSe as cc,EH as cd,tz as cf,qle as cg,fde as ch,$4 as ci,$be as cl,LP as cm,fje as cn,PZ as co,_he as cp,P6 as cr,SCe as cs,bMe as ct,sG as cu,YD as cv,Hm as cw,Hae as cx,iD as cy,zPe as d,k_ as dC,pc as dD,Iu as dE,Yne as dS,Xd as dT,ele as d_,O0 as da,WT as db,Dq as dc,hH as dd,zR as df,WA as dg,dde as dh,jOe as di,exe as dl,Zpe as dm,a5 as dn,wTe as do,phe as dp,vke as dr,HJ as ds,uMe as dt,xW as du,WD as dv,pm as dw,Rx as dx,tD as dy,K_ as eC,jc as eD,Su as eE,Rne as eS,df as eT,Ek as e_,g2 as ea,XT as eb,Nq as ec,zH as ed,xge as ef,uj as eg,Kj as eh,T3 as ei,Exe as el,Mme as em,$Ae as en,iQ as eo,The as ep,Z6 as er,dY as es,LMe as et,rG as eu,Ece as ev,Sh as ew,Yae as ex,dD as ey,APe as f,A_ as fC,wc as fD,Ql as fE,Bne as fS,Kd as fT,rle as f_,w0 as fa,Uoe as fb,Qxe as fc,QV as fd,sge as ff,Ule as fg,cde as fh,MOe as fi,Pxe as fl,wP as fm,f5 as fn,STe as fo,jL as fp,mke as fr,mCe as fs,dMe as ft,pW as fu,GD as fv,cm as fw,yx as fx,Fse as fy,N9 as g,b_ as gC,hc as gD,Nl as gE,vy as gS,Vd as gT,GO as g_,RDe as ga,yT as gb,Jxe as gc,IV as gd,Hhe as gf,KA as gg,Uue as gh,X4 as gi,xq as gl,Jpe as gm,jAe as gn,$X as go,OL as gp,j6 as gr,DJ as gs,L5 as gt,qU as gu,qD as gv,em as gw,zb as gx,Ase as gy,RPe as h,w_ as hC,lc as hD,Il as hE,hy as hS,Ud as hT,Zce as h_,y0 as ha,bT as hb,Xxe as hc,x_e as hd,ege as hf,RA as hg,Hue as hh,Z4 as hi,Ixe as hl,Xpe as hm,AAe as hn,aZ as ho,kL as hp,gke as hr,jJ as hs,Jje as ht,oW as hu,HD as hv,nm as hw,Wb as hx,QE as hy,eFe as i,I_ as iC,Nc as iD,Xu as iE,Gne as iS,$d as iT,uk as i_,BDe as ia,oE as ib,Mq as ic,TH as id,vz as if,ij as ig,Ode as ih,g3 as ii,Qbe as il,HP as im,NAe as in,HTe as io,mR as ip,yke as ir,qJ as is,jMe as it,qW as iu,eO as iv,kee as iw,Qae as ix,ece as iy,UNe as j,gg as jC,sl as jE,yv as jS,hd as jT,RO as j_,B1 as ja,Soe as jb,cxe as jc,UB as jd,Bhe as jf,eA as jg,Tj as jh,A4 as ji,yG as jl,NM as jm,xAe as jn,Pwe as jo,yme as jp,X3 as jr,NSe as js,_je as jt,kU as ju,LD as jv,Uf as jw,Iy as jx,FE as jy,qNe as k,F as kC,dl as kE,Tv as kS,xd as kT,IO as k_,r0 as ka,xoe as kb,sxe as kc,qB as kd,DR as kf,TA as kg,gue as kh,j4 as ki,gG as kl,wN as km,wAe as kn,Wwe as ko,kF as kp,Q3 as kr,rJ as ks,N5 as kt,FU as ku,SD as kv,Gf as kw,qy as kx,Tse as ky,P9 as l,O_ as lC,cc as lD,Ju as lE,Hne as lS,qd as lT,nle as l_,R0 as la,Boe as lb,lSe as lc,P_e as ld,fge as lf,UA as lg,ude as lh,e3 as li,Zbe as ll,FP as lm,IAe as ln,NZ as lo,LL as lp,Cke as lr,_Ce as ls,U5 as lt,FW as lu,KD as lv,Am as lw,fw as lx,Bse as ly,L9 as m,C_ as mC,yc as mD,Rl as mE,Uv as mS,Gd as mT,JO as m_,b0 as ma,DT as mb,Oq as mc,JV as md,ige as mf,Jle as mg,Aue as mh,Y4 as mi,txe as ml,CP as mm,RAe as mn,oZ as mo,ML as mp,hke as mr,NJ as ms,tMe as mt,sW as mu,VD as mv,om as mw,Lre as mx,nD as my,q9 as n,V_ as nC,Mc as nD,Lu as nE,ay as nS,rf as nT,ple as n_,c2 as na,Woe as nb,sSe as nc,PH as nd,Ez as nf,oue as ng,zj as nh,_3 as ni,Xbe as nl,WP as nm,lje as nn,UTe as no,dR as np,Rke as nr,sY as ns,t7 as nt,WW as nu,cO as nv,rh as nw,kw as nx,Yse as ny,B9 as o,z as oC,xc as oD,zu as oE,qv as oS,af as oT,ole as o_,G0 as oa,JT as ob,Fq as oc,DH as od,cz as of,BA as og,Sde as oh,t3 as oi,Axe as ol,UP as om,FAe as on,tQ as oo,QL as op,N6 as or,JJ as os,X5 as ot,hG as ou,ZD as ov,Xm as ow,Xae as ox,fD as oy,VPe as p,T_ as pC,uc as pD,Ll as pE,ly as pS,Yd as pT,$ce as p_,zDe as pa,jT as pb,Tq as pc,YV as pd,NR as pf,GA as pg,sde as ph,NOe as pi,Oxe as pl,EP as pm,WAe as pn,cZ as po,dhe as pp,_ke as pr,dCe as ps,fMe as pt,cW as pu,kD as pv,am as pw,Ub as px,Ise as py,eNe as q,wh as qC,Wc as qE,pne as qS,qu as qT,bO as q_,OQ as qa,Xw as qb,yxe as qc,oB as qd,TR as qf,Bk as qg,dj as qh,y2 as qi,ZW as ql,Nde as qm,T8 as qn,JY as qo,sF as qp,R3 as qr,rSe as qs,s5 as qt,WH as qu,$se as qv,xf as qw,Fne as qx,ese as qy,V9 as r,R_ as rC,Cc as rD,ru as rE,iy as rS,cf as rT,ale as r_,J0 as ra,qT as rb,kq as rc,NH as rd,bz as rf,cj as rg,Dde as rh,KOe as ri,kxe as rl,Vme as rm,dje as rn,rQ as ro,pR as rp,G6 as rr,uY as rs,IMe as rt,GW as ru,Tce as rv,ih as rw,Zae as rx,Jse as ry,ZPe as s,N_ as sC,mc as sD,Au as sE,_y as sS,uf as sT,dk as s_,V0 as sa,Goe as sb,$xe as sc,FH as sd,vge as sf,Kle as sg,yde as sh,UOe as si,jxe as sl,lF as sm,UAe as sn,IZ as so,JL as sp,L6 as sr,KJ as ss,W5 as st,oG as su,xce as sv,Vm as sw,uw as sx,mD as sy,lFe as t,tv as tC,bc as tD,ju as tE,Nne as tS,ef as tT,xk as t_,f2 as ta,ZT as tb,Pq as tc,IH as td,Oz as tf,aue as tg,kde as th,b3 as ti,Nxe as tl,gF as tm,cje as tn,nQ as to,Ohe as tp,q6 as tr,FCe as ts,BMe as tt,nG as tu,Oce as tv,nh as tw,Jae as tx,Use as ty,jPe as u,tne as uC,gc as uD,ku as uE,Vne as uS,Wd as uT,YO as u_,N0 as ua,Hoe as ub,uSe as uc,k_e as ud,UR as uf,FA as ug,pde as uh,VOe as ui,Mxe as ul,tme as um,qAe as un,fZ as uo,FL as up,I6 as ur,VJ as us,hMe as ut,bW as uu,XD as uv,bm as uw,cw as ux,eD as uy,TPe as v,R as vC,ic as vD,j as vE,sy as vS,Ed as vT,Xce as v_,p0 as va,Eoe as vb,Dxe as vc,c_e as vd,Qhe as vf,IA as vg,Wue as vh,J4 as vi,cq as vl,TP as vm,rje as vn,Kwe as vo,bL as vp,E6 as vr,SJ as vs,I5 as vt,VU as vu,ND as vv,Qp as vw,G as vx,YE as vy,e9 as w,Yg as wC,tc as wD,xl as wE,Rv as wS,kd as wT,VO as w_,EDe as wa,Coe as wb,zxe as wc,gV as wd,ER as wf,Xle as wg,bue as wh,vOe as wi,YK as wl,dP as wm,eje as wn,Jwe as wo,_I as wp,e6 as wr,BSe as ws,P5 as wt,xU as wu,AD as wv,op as ww,ab as wx,Pse as wy,rPe as x,u_ as xC,$s as xD,El as xE,xne as xS,Fd as xT,Jce as x_,PDe as xa,woe as xb,rxe as xc,d_e as xd,Lhe as xf,VA as xg,Tue as xh,W4 as xi,Bbe as xl,xP as xm,JAe as xn,Ywe as xo,nL as xp,Z3 as xr,CJ as xs,Yje as xt,BU as xu,OD as xv,Gp as xw,mb as xx,Ese as xy,EPe as y,__ as yC,oc as yD,Tl as yE,yy as yS,jd as yT,KO as y_,h0 as ya,xT as yb,nxe as yc,u_e as yd,Zhe as yf,zA as yg,Gue as yh,K4 as yi,aq as yl,bP as ym,PAe as yn,qwe as yo,_L as yp,D6 as yr,xJ as ys,nMe as yt,HU as yu,jD as yv,tm as yw,gb as yx,JE as yy,yNe as z,dg as zC,Bc as zE,xv as zS,gu as zT,NO as z_,S1 as za,Qw as zb,Kxe as zc,bB as zd,wR as zf,qk as zg,yj as zh,q2 as zi,CG as zl,tM as zm,hAe as zn,CX as zo,Hme as zp,x6 as zr,$q as zs,l5 as zt,tU as zu,pD as zv,Of as zw,Cy as zx,Y as zy};