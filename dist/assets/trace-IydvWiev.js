import{Bu as e,S as t,Sw as n,Vu as r,zu as i}from"./index-BqmCqmfp.js";async function a(t,a,o){let c=i(t),l=a.toJSON();l.traceLocations=JSON.stringify(a.traceLocations),a.resultTypes&&(l.resultTypes=JSON.stringify(a.resultTypes)),a.moment||a.gdbVersion?.toUpperCase()!==`SDE.DEFAULT`&&a.gdbVersion||(l.moment=Date.now());let u=e(c.query,{query:r({...l,f:`json`}),...o}),d=`${c.path}/trace`;return n(d,u).then(e=>s(e))}async function o(t,a,o){let s=i(t),c=a.toJSON();c.traceLocations=JSON.stringify(a.traceLocations),a.resultTypes&&(c.resultTypes=JSON.stringify(a.resultTypes));let l=e(s.query,{query:r({...c,async:!0,f:`json`}),...o}),u=`${s.path}/trace`,{data:d}=await n(u,l);return d.statusUrl}function s(e){let{data:n}=e;return t.fromJSON(n.traceResults)}export{o as submitTraceJob,a as trace};