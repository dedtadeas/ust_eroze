import{db as e,vE as t}from"./index-BqmCqmfp.js";var n=()=>t.getLogger(`esri.views.3d.support.buffer.math`);function r(e,t,n){if(e.count!==t.count)return;let r=e.count,i=n[0],a=n[1],o=n[2],s=n[3],c=n[4],l=n[5],u=n[6],d=n[7],f=n[8],p=n[9],m=n[10],h=n[11],g=n[12],_=n[13],v=n[14],y=n[15],b=e.typedBuffer,x=e.typedBufferStride,S=t.typedBuffer,C=t.typedBufferStride;for(let e=0;e<r;e++){let t=e*x,n=e*C,r=S[n],w=S[n+1],T=S[n+2],E=S[n+3];b[t]=i*r+c*w+f*T+g*E,b[t+1]=a*r+l*w+p*T+_*E,b[t+2]=o*r+u*w+m*T+v*E,b[t+3]=s*r+d*w+h*T+y*E}}function i(e,t,r,i=4,a=i){if(e.length/i!==t.length/a)return void n().error(`source and destination buffers need to have the same number of elements`);let o=e.length/i,s=r[0],c=r[1],l=r[2],u=r[3],d=r[4],f=r[5],p=r[6],m=r[7],h=r[8],g=r[9],_=r[10],v=r[11],y=r[12],b=r[13],x=r[14],S=r[15],C=0,w=0;for(let n=0;n<o;n++){let n=t[C],r=t[C+1],o=t[C+2],T=t[C+3];e[w]=s*n+d*r+h*o+y*T,e[w+1]=c*n+f*r+g*o+b*T,e[w+2]=l*n+p*r+_*o+x*T,e[w+3]=u*n+m*r+v*o+S*T,C+=a,w+=i}}function a(e,t,n){o(e.typedBuffer,t.typedBuffer,n,e.typedBufferStride,t.typedBufferStride)}function o(e,t,n,r=4,i=r){if(e.length/r!==t.length/i)return;let a=e.length/r,o=n[0],s=n[1],c=n[2],l=n[3],u=n[4],d=n[5],f=n[6],p=n[7],m=n[8],h=0,g=0;for(let n=0;n<a;n++){let n=t[h],a=t[h+1],_=t[h+2],v=t[h+3];e[g]=o*n+l*a+f*_,e[g+1]=s*n+u*a+p*_,e[g+2]=c*n+d*a+m*_,e[g+3]=v,h+=i,g+=r}}function s(e,t){let n=Math.min(e.count,t.count),r=e.typedBuffer,i=e.typedBufferStride,a=t.typedBuffer,o=t.typedBufferStride;for(let e=0;e<n;e++){let t=e*i,n=e*o,s=a[n],c=a[n+1],l=a[n+2],u=s*s+c*c+l*l;if(u>0){let e=1/Math.sqrt(u);r[t]=e*s,r[t+1]=e*c,r[t+2]=e*l}}}function c(e,t,n){l(e.typedBuffer,t,n,e.typedBufferStride)}function l(e,t,n,r=4){let i=Math.min(e.length/r,t.count),a=t.typedBuffer,o=t.typedBufferStride,s=0,c=0;for(let t=0;t<i;t++)e[c]=n*a[s],e[c+1]=n*a[s+1],e[c+2]=n*a[s+2],e[c+3]=n*a[s+3],s+=o,c+=r}function u(e,t,n,r){d(e.typedBuffer,t,n,r,e.typedBufferStride)}function d(t,n,r,i,a=4){let o=Math.min(t.length/a,n.count),s=n.typedBuffer,c=n.typedBufferStride,l=0,u=0,d=1/e;for(let e=0;e<o;e++)t[u]=i*(r*s[l])**d,t[u+1]=i*(r*s[l+1])**d,t[u+2]=i*(r*s[l+2])**d,t[u+3]=i*r*s[l+3],l+=c,u+=a}Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:d,linearToSRGBView:u,normalize:s,scale:l,scaleView:c,transformMat3:o,transformMat3View:a,transformMat4:i,transformMat4View:r},Symbol.toStringTag,{value:`Module`}));export{s as a,o as i,d as n,a as r,u as t};