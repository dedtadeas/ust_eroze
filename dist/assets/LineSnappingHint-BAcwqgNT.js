import{Av as e,Dv as t,Ov as n,Sv as r,Xg as i,bv as a,eu as o,id as s,jl as c,wv as l,yv as u}from"./index-BqmCqmfp.js";import{n as d,t as f}from"./dehydratedPoint-Dwb3orme.js";import{c as p,n as m,o as h,r as g}from"./elevationInfoUtils-Df_uYU_q.js";function _(e,t,n){return v(e,t,n)}function v(e=0,t=0,n=0){return i(e,t,n)}function y(e){return e}function b(e){return e}function x(e,t,n){return y(i(e,t,n))}function S(e){let[t,n,r]=e;return e.length>3?[t,n,r,e[3]]:[t,n,r]}function C(e){return e[3]=1|((e.length>3?e[3]:void 0)??0),e}function w(e){return!!(1&((e.length>3?e[3]:void 0)??0))}function T(e,t,{coordinateHelper:n,elevationInfo:r},i){return e?E(n.vectorToDehydratedPoint(e,A),t,r,i):null}function E(e,t,n,r=v()){return r[0]=e.x,r[1]=e.y,r[2]=e.z??0,t==null||(t.type===`2d`?r[2]=0:r[2]=m(t,e,n,h)??0),r}function D(e,t,n){return n?(f(n,e[0],e[1],e[2],t),n):d(e[0],e[1],e[2],t)}function O(e,t,{z:n,m:r},i,a){let{spatialReference:o,elevationInfo:s}=i,c;c=n==null&&r==null?void 0:t==null||t.type===`2d`?n??void 0:p(t,e,o,h,s)??0;let[l,u]=e;return a?f(a,l,u,c,o):a=d(l,u,c,o),r!=null&&(a.m=r,a.hasM=!0),a}function k(e,t,n,r,i=v()){let[a,o]=e;return i[0]=a,i[1]=o,e.length>3&&(i[3]=e[3]??0),n?.type===`3d`?(i[2]=g(n,a,o,t.value,r,t.elevationInfo,h)??0,i):(i[2]=t.value,i)}var A=d(0,0,0,null);function j(e,t){return e[0]*t[1]-e[1]*t[0]}function M(e,n,i){let a=r(i,n)/t(i);return l(e,i,a)}function N(t,n,r,i,o=r){return a(R,i,r),a(B,n,o),M(V,B,R),e(t,o,V)}function P(e,t,r,i){a(R,t,r);let o=i/n(R);return u(e,r,R,o)}function F(e,t){let n=e.start,r=e.end,i=t.start,o=t.end,s=a(R,r,n),c=a(z,o,i),l=j(s,c);if(Math.abs(l)<=L)return[];let d=a(B,n,i),f=j(c,d)/l,p=j(s,d)/l;if(f>=0){if(p>=0||t.type===1)return[u(V,n,s,f)]}else if(e.type===1&&(p>=0||t.type===1))return[u(V,n,s,f)];return[]}function I(e,n,i){let o=[],s=a(R,e.end,e.start),c=a(z,e.start,n),l=t(s),d=2*r(s,c),f=d*d-4*l*(t(c)-i*i);if(f===0){let t=-d/(2*l);(e.type===1||t>=0)&&o.push(u(V,e.start,s,t))}else if(f>0){let t=Math.sqrt(f),n=(-d+t)/(2*l);(e.type===1||n>=0)&&o.push(u(V,e.start,s,n));let r=(-d-t)/(2*l);(e.type===1||r>=0)&&o.push(u(B,e.start,s,r))}return o}var L=1e-6,R=s(),z=s(),B=s(),V=s(),H=class{constructor(e,t){this.isDraped=e,this.domain=t}},U=class e extends H{constructor(e,t,n,r,i=3,a=!0,o=!0){super(r,i),this.type=e,this.lineStart=t,this.lineEnd=n,this.fadeLeft=a,this.fadeRight=o}equals(t){return t instanceof e&&this.type===t.type&&c(this.lineStart,t.lineStart)&&c(this.lineEnd,t.lineEnd)&&this.fadeLeft===t.fadeLeft&&this.fadeRight===t.fadeRight}get length(){return o(this.lineStart,this.lineEnd)}};export{b as _,I as a,x as c,v as d,O as f,C as g,T as h,P as i,y as l,_ as m,H as n,N as o,E as p,F as r,k as s,U as t,S as u,w as v,D as y};