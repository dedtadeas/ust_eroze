import{bD as e}from"./index-BqmCqmfp.js";import{c as t,i as n,t as r}from"./WGLContainer-Caxzva6E.js";var i=(e,t)=>e.key.level-t.key.level===0?e.key.row-t.key.row===0?e.key.col-t.key.col:e.key.row-t.key.row:e.key.level-t.key.level,a=class extends r{constructor(e){super(),this.tileInfoView=e,this.sortFunction=i}renderChildren(e){this.setStencilReference(e),super.renderChildren(e)}createRenderParams(e){let{state:t}=e,n=super.createRenderParams(e);return n.requiredLevel=this.tileInfoView.getClosestInfoForScale(t.scale).level,n.displayLevel=this.tileInfoView.tileInfo.scaleToZoom(t.scale),n}prepareRenderPasses(r){let i=super.prepareRenderPasses(r);return i.push(r.registerRenderPass({name:`stencil`,brushes:[t],drawPhase:83,target:()=>this.getStencilTarget()})),e(`esri-tiles-debug`)&&i.push(r.registerRenderPass({name:`tileInfo`,brushes:[n],drawPhase:64,target:()=>this.children})),i}getStencilTarget(){return this.children}setStencilReference(e){let t=1;for(let e of this.children)e.stencilRef=t++}};export{a as t};