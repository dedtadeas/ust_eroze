import{ob as e}from"./index-BqmCqmfp.js";import"./pixelRangeUtils-DMjHgTK0.js";import{t}from"./PixelBlock-CjVaas_l.js";function n({distance:t,yaw:n,horizontalFieldOfView:r,pitch:i,verticalFieldOfView:a,origin:o=[0,0,0],positionLength:s=25}){let c=s-1,l=s*s,u=new Float32Array(2*l),d=new Float64Array(3*l),f=new Float32Array(3*l).fill(0),p=new Uint32Array(c**2*6);for(let m=0,h=0;m<l;m++){let l=Math.floor(m/s),g=m%s,_=1-g/c,v=l/c,y=2*m,b=3*m;u[y]=_,u[y+1]=v;let x=i+a/2-v*a,S=e(n-r/2+_*r),C=e(x),w=Math.sin(C),T=Math.cos(C),E=[w*Math.sin(S),Math.cos(S)*w,-T];d[b]=o[0]+t*E[0],d[b+1]=o[1]+t*E[1],d[b+2]=o[2]+t*E[2],f[b]=-E[0],f[b+1]=-E[1],f[b+2]=-E[2],l!==c&&g!==c&&(p[h++]=m,p[h++]=m+s,p[h++]=m+s+1,p[h++]=m,p[h++]=m+s+1,p[h++]=m+1)}return{result:{position:d,uv:u,normal:f,faces:p},transferList:[d.buffer,u.buffer,f.buffer,p?.buffer]}}function r(e){let n=t.fromJSON(e);n.premultiplyAlpha=!0;let r=n.getAsRGBA(),i=n.width,a=n.height,o=new ImageData(r,i,a);return{result:o,transferList:[o.data.buffer]}}function i({oldDistance:e,newDistance:t,position:n,origin:r=[0,0,0]}){let i=n.length/3;for(let a=0;a<i;a+=3){let i=3*a;n[i]=r[0]+(n[i]-r[0])*(t/e),n[i+1]=r[1]+(n[i+1]-r[1])*(t/e),n[i+2]=r[2]+(n[i+2]-r[2])*(t/e)}return{result:n,transferList:[n.buffer]}}export{r as convertPixelBlockToImageData,n as getFacesWithVertexAttributes,i as recomputePositions};