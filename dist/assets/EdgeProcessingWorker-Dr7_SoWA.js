import"./Indices-BsTLKVdx.js";import"./deduplicate-BuZ0DaaO.js";import"./BufferView-DNaZpbJX.js";import"./Util-3rPi0NfK.js";import"./types-BLimCzcc.js";import"./VertexAttributeLocations-IAhvKZqd.js";import"./VertexElementDescriptor-BGWnA0Rs.js";import"./FloatArray-cqhQU3FO.js";import"./Normals-607wbOBC.js";import{n as e}from"./workerHelper-JURRZITv.js";import{a as t,i as n,n as r,o as i,r as a,t as o}from"./edgeProcessing-BuuQd5_I.js";var s=class{async extract(e){let t=c(e),n=r(t),i=[t.data.buffer];return{result:l(n,i),transferList:i}}async extractComponentsEdgeLocations(n){let r=c(n),i=a(r.data,r.skipDeduplicate,r.indices,r.indicesLength),o=t(i,p),s=[];return{result:e(o.regular.instancesData,s),transferList:s}}async extractEdgeLocations(n){let r=c(n),i=a(r.data,r.skipDeduplicate,r.indices,r.indicesLength),o=t(i,f),s=[];return{result:e(o.regular.instancesData,s),transferList:s}}};function c(e){return{data:i.createView(e.dataBuffer),indices:e.indicesType===`Uint32Array`?new Uint32Array(e.indices):e.indicesType===`Uint16Array`?new Uint16Array(e.indices):e.indices,indicesLength:e.indicesLength,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate}}function l(t,n){return n.push(t.regular.lodInfo.lengths.buffer),n.push(t.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:e(t.regular.instancesData,n),lodInfo:{lengths:t.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:e(t.silhouette.instancesData,n),lodInfo:{lengths:t.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:t.averageEdgeLength}}var u=class{allocate(e){return o.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1)}},d=class{allocate(e){return n.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex)}},f=new u,p=new d;export{s as default};