import{Sx as e,aS as t}from"./index-BqmCqmfp.js";function n(e,t){return t?`xoffset`in t&&t.xoffset?Math.max(e,Math.abs(t.xoffset)):`yoffset`in t&&t.yoffset?Math.max(e,Math.abs(t.yoffset||0)):e:e}function r(e){let t=0,n=0;for(let r=0;r<e.length;r++){let i=e[r].size;typeof i==`number`&&(t+=i,n++)}return t/n}function i(e,t){return typeof e==`number`?e:e?.stops?.length?r(e.stops):t}function a(e,t){if(!t)return e;let n=t.filter(e=>e.type===`size`).map(t=>{let{maxSize:n,minSize:r}=t;return(i(n,e)+i(r,e))/2}),r=0,a=n.length;if(a===0)return e;for(let e=0;e<a;e++)r+=n[e];let o=Math.floor(r/a);return Math.max(o,e)}function o(e){let t=e?.renderer,r=e?.pointerType===`touch`?9:6;if(!t)return r;let i=`visualVariables`in t?a(r,t.visualVariables):r;if(t.type===`simple`)return n(i,t.symbol);if(t.type===`unique-value`){let e=i;return t.uniqueValueInfos?.forEach(t=>{e=n(e,t.symbol)}),e}if(t.type===`class-breaks`){let e=i;return t.classBreakInfos.forEach(t=>{e=n(e,t.symbol)}),e}return t.type===`dot-density`||t.type,i}function s(n,r,i,a=new e){let o=0;if(i.type===`2d`)o=r*(i.resolution??0);else if(i.type===`3d`){let e=i.overlayPixelSizeInMapUnits(n),a=i.basemapSpatialReference;o=a==null||a.equals(i.spatialReference)?r*e:t(a)/t(i.spatialReference)}let s=n.x-o,c=n.y-o,l=n.x+o,u=n.y+o,{spatialReference:d}=i;return a.xmin=Math.min(s,l),a.ymin=Math.min(c,u),a.xmax=Math.max(s,l),a.ymax=Math.max(c,u),a.spatialReference=d,a}function c(e,t,n){let r=n.toMap(e);return r==null?!1:s(r,o(),n,l).intersects(t)}var l=new e;export{s as n,o as r,c as t};