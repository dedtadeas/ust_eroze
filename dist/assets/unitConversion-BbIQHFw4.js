import{KS as e,Ln as t,Vn as n,oS as r}from"./index-BqmCqmfp.js";var i=new Map([[1025,109452],[1033,109451],[9001,109404],[9002,109405],[9003,109406],[9005,109407],[9014,109408],[9030,109409],[9031,109410],[9033,109411],[9034,109412],[9035,109413],[9036,109414],[9037,109415],[9038,109416],[9039,109417],[9040,109418],[9041,109419],[9042,109420],[9043,109421],[9050,109422],[9051,109423],[9052,109424],[9053,109425],[9060,109426],[9061,109427],[9062,109428],[9063,109429],[9070,109430],[9080,109431],[9081,109432],[9082,109433],[9083,109434],[9084,109435],[9085,109436],[9086,109437],[9087,109438],[9093,109439],[9094,109440],[9095,109441],[9096,109442],[9097,109444],[9098,109445],[9099,109446],[9300,109447],[9301,109448],[9302,109449],[109001,109442],[109002,109443],[109003,109444],[109004,109445],[109005,109450],[109006,109451],[109007,109452],[109008,109453],[109009,109454],[109010,109455],[109011,109456],[109012,109457],[109013,109458],[109014,109459],[109015,109462],[109016,109464],[109017,109465],[109018,109466],[109030,109460],[109031,109461]]);function a(e){return(t,n)=>[t,{type:e,wkid:t,factor:n}]}var o=a(`angular`),s=new Map([o(1031,4.84813681109536e-9),o(9101,1),o(9102,.017453292519943295),o(9103,.0002908882086657216),o(9104,484813681109536e-20),o(9105,.015707963267948967),o(9106,.015707963267948967),o(9109,1e-6),o(9112,.00015707963267948965),o(9113,15707963267948967e-22),o(9114,.0009817477042468104)]),c=a(`linear`),l=new Map([c(1025,.001),c(1033,.01),c(9001,1),c(9002,.3048),c(9003,.30480060960121924),c(9005,.3047972654),c(9014,1.8288),c(9030,1852),c(9031,1.0000135965),c(9033,20.11684023368047),c(9034,.2011684023368047),c(9035,1609.3472186944375),c(9036,1e3),c(9037,.9143917962),c(9038,20.1166195164),c(9039,.201166195164),c(9040,.9143984146160287),c(9041,.3047994715386762),c(9042,20.116765121552632),c(9043,.2011676512155263),c(9050,.9143992),c(9051,.3047997333333333),c(9052,20.1167824),c(9053,.201167824),c(9060,.9143992042898124),c(9061,.30479973476327077),c(9062,20.116782494375872),c(9063,.2011678249437587),c(9070,.30480083333333335),c(9080,.30479951024814694),c(9081,.30479841),c(9082,.3047996),c(9083,.3047995),c(9084,.9143985307444408),c(9085,.91439523),c(9086,.9143988),c(9087,.9143985),c(9093,1609.344),c(9094,.3047997101815088),c(9095,.3048007491),c(9096,.9144),c(9097,20.1168),c(9098,.201168),c(9099,.914398),c(9300,.30479933333333337),c(9301,20.116756),c(9302,.20116756),c(109001,.9144),c(109002,.9144018288036576),c(109003,20.1168),c(109004,.201168),c(109005,.1),c(109006,.01),c(109007,.001),c(109008,.0254),c(109009,.025400050800101603),c(109010,5.0292),c(109011,5.029210058420118),c(109012,1853.248),c(109013,1853.184),c(109014,1.7018),c(109015,.8466683600033867),c(109016,.00035277777777777776),c(109017,1e-6),c(109018,1e-9),c(109030,5e4),c(109031,15e4)]),u=l.get(9001),d=a(`area`),f=new Map([d(109401,1e4),d(109402,4046.8564224),d(109403,4046.872609874252),d(109404,1),d(109405,.09290304),d(109406,.09290341161327487),d(109407,.09290137299531805),d(109408,3.34450944),d(109409,3429904),d(109410,1.000027193184865),d(109411,404.6872609874253),d(109412,.04046872609874252),d(109413,2589998.470319522),d(109414,1e6),d(109415,.8361123569578626),d(109416,404.6783807676053),d(109417,.04046783807676053),d(109418,.8361244606523066),d(109419,.09290271785025629),d(109420,404.6842389557165),d(109421,.04046842389557164),d(109422,.83612589696064),d(109423,.0929028774400711),d(109424,404.6849341289498),d(109425,.04046849341289498),d(109426,.836125904805842),d(109427,.09290287831176021),d(109428,404.6849379260275),d(109429,.04046849379260275),d(109430,.09290354800069446),d(109431,.09290274144751023),d(109432,.09290207073852812),d(109433,.09290279616016),d(109434,.09290273520025),d(109435,.836124673027592),d(109436,.8361186366467529),d(109437,.8361251654414399),d(109438,.83612461680225),d(109439,2589988.110336),d(109440,.09290286332673177),d(109441,.09290349665192114),d(109442,.83612736),d(109443,.8361307045194736),d(109444,404.68564224),d(109445,.040468564224),d(109446,.836123702404),d(109447,.09290263360044447),d(109448,404.683871963536),d(109449,.0404683871963536),d(109450,.01),d(109451,1e-4),d(109452,1e-6),d(109453,64516e-8),d(109454,.0006451625806477421),d(109455,25.29285264),d(109456,25.29295381171408),d(109457,3434528.149504),d(109458,3434290.937856),d(109459,2.89612324),d(109460,25e8),d(109461,225e8),d(109462,.7168473118308245),d(109463,100),d(109464,1.244521604938271e-7),d(109465,1e-12),d(109466,1e-18)]),p=f.get(109404),m=[];function h(e){return e.length===0?`""`:e.startsWith(`"`)||e.startsWith(`.`)||e[0]>=`0`&&e[0]<=`9`?e:`"`+e.trim()+`"`}function g(e){let t=``,n=``,r=!1;for(let i=0;i<e.length;i++){let a=e[i];r?a===`"`?e[i+1]===`"`?(t+=`\\${a}`,i+=1):r=!1:t+=a:/\s/.test(a)||(a===`,`?(n+=t===``?`,`:h(t)+`,`,t=``):a===`)`||a===`]`?(n+=t===``?`]}`:h(t)+`]}`,t=``):a===`(`||a===`[`?(n+=`{ "entity": "`+t.toUpperCase().trim()+`", "values":[`,t=``):a===`"`?(r=!0,t=``):t+=a)}return JSON.parse(n)}function _(e){try{for(let t=0;t<m.length;t++)if(m[t].spatialReferenceWkt===e)return m[t].unit;let t=y(g(e));if(t===null)return null;let n=null;for(let e of t.values)if(typeof e==`object`&&(e.entity===`UNIT`||e.entity===`ANGLEUNIT`||e.entity===`LENGTHUNIT`)){n=e;break}if(n===null)return null;let r=v(t.entity===`GEOGCS`||t.entity===`GEOGCRS`?`angular`:`linear`,n.values[1],n.values[2]);return m.push({spatialReferenceWkt:e,unit:r}),m.length>10&&m.shift(),r}catch{return null}}function v(e,t,n){if(n!=null)try{if(n.values[0]===`EPSG`)return{type:e,wkid:Number.parseInt(n.values[1],10),factor:t}}catch{}return{type:e,factor:t}}function y(e){if(e===null)return null;switch(e.entity){case`GEOGCRS`:case`GEOGCS`:case`PROJCRS`:case`PROJCS`:return e}let t=[];for(let n of e.values)if(typeof n==`object`&&n.entity!==void 0)switch(n.entity){case`GEOGCRS`:case`GEOGCS`:case`PROJCRS`:case`PROJCS`:return n;default:t.push(n)}for(let e of t){let t=y(e);if(t!=null)return t}return null}var b=-1;function x(e,t){let n;switch(e){case`linear`:n=l;break;case`angular`:n=s;break;case`area`:n=f;break;default:return null}return n.get(t)}function S(t){let n=t.wkid;if(n!=null){let t=e.units[e[n]];if(t!=null)switch(t){case`Meter`:return x(`linear`,9001);case`Foot`:return x(`linear`,9002);case`Foot_US`:return x(`linear`,9003);case`Foot_Clarke`:return x(`linear`,9005);case`Yard_Clarke`:return x(`linear`,9037);case`Link_Clarke`:return x(`linear`,9039);case`Yard_Sears`:return x(`linear`,9040);case`Foot_Sears`:return x(`linear`,9041);case`Chain_Sears`:return x(`linear`,9042);case`Chain_Benoit_1895_B`:return x(`linear`,9062);case`Yard_Indian`:return x(`linear`,9084);case`Yard_Indian_1937`:return x(`linear`,9085);case`Foot_Gold_Coast`:return x(`linear`,9094);case`Chain`:return x(`linear`,9097);case`Chain_Sears_1922_Truncated`:return x(`linear`,9301);case`50_Kilometers`:return x(`linear`,109030);case`150_Kilometers`:return x(`linear`,109031);default:throw Error(`Unknown unit name: ${t}`)}return r.has(n)?x(`angular`,9105):x(`angular`,9102)}let i=t.wkt2||t.wkt;if(i!=null){let e=_(i);if(e!=null){if(e.wkid!=null){let t=x(e.type,e.wkid);if(t!=null)return t}return{type:e.type,wkid:b,factor:e.factor}}}return null}function C(e){if(e.type!==`linear`)return null;if(e.wkid===b)return{type:`area`,wkid:b,factor:e.factor**2};let t=i.get(e.wkid);return t==null?null:x(`area`,t)}function w(e){if(e!=null){if(typeof e==`number`)return f.get(e)??l.get(e)??s.get(e);if(typeof e!=`string`)throw new n(null,`InvalidParameter`,null);switch(t(e)){case`meters`:case`meter`:case`m`:case`squaremeters`:case`squaremeter`:return f.get(109404);case`miles`:case`mile`:case`squaremile`:case`squaremiles`:return f.get(109439);case`kilometers`:case`kilometer`:case`squarekilometers`:case`squarekilometer`:case`km`:return f.get(109414);case`acres`:case`acre`:case`ac`:return f.get(109402);case`hectares`:case`hectare`:case`ha`:return f.get(109401);case`yard`:case`yd`:case`yards`:case`squareyards`:case`squareyard`:return f.get(109442);case`feet`:case`ft`:case`foot`:case`squarefeet`:case`squarefoot`:return f.get(109405);case`nmi`:case`nauticalmile`:case`nauticalmiles`:case`squarenauticalmile`:case`squarenauticalmiles`:return f.get(109409);case`millimeter`:case`millimeters`:case`squaremillimeter`:case`squaremillimeters`:return f.get(109452);case`centimeter`:case`centimeters`:case`squarecentimeter`:case`squarecentimeters`:return f.get(109451);case`decimeter`:case`decimeters`:case`squaredecimeter`:case`squaredecimeters`:return f.get(109450);case`inch`:case`inches`:case`squareinch`:case`squareinches`:return f.get(109453);case`usfoot`:case`usfeet`:case`squareusfoot`:case`squareusfeet`:return f.get(109406);case`usmile`:case`usmiles`:case`squareusmile`:case`squareusmiles`:return f.get(109413)}}}function T(e){if(e!=null){if(typeof e==`number`)return l.get(e)??s.get(e)??f.get(e);if(typeof e!=`string`)throw new n(null,`InvalidParameter`,null);switch(t(e)){case`meters`:case`meter`:case`m`:case`squaremeters`:case`squaremeter`:case`hectares`:case`hectare`:case`ha`:return l.get(9001);case`miles`:case`mile`:case`squaremile`:case`squaremiles`:return l.get(9093);case`kilometers`:case`kilometer`:case`squarekilometers`:case`squarekilometer`:case`km`:return l.get(9036);case`yard`:case`yd`:case`yards`:case`squareyards`:case`squareyard`:case`acres`:case`acre`:case`ac`:return l.get(9096);case`feet`:case`ft`:case`foot`:case`squarefeet`:case`squarefoot`:return l.get(9002);case`nmi`:case`nauticalmile`:case`nauticalmiles`:case`squarenauticalmile`:case`squarenauticalmiles`:return l.get(9030);case`millimeter`:case`millimeters`:case`squaremillimeter`:case`squaremillimeters`:return l.get(109007);case`centimeter`:case`centimeters`:case`squarecentimeter`:case`squarecentimeters`:return l.get(109006);case`decimeter`:case`decimeters`:case`squaredecimeter`:case`squaredecimeters`:return l.get(109005);case`inch`:case`inches`:case`squareinch`:case`squareinches`:return l.get(109008);case`usfoot`:case`usfeet`:case`squareusfoot`:case`squareusfeet`:return l.get(9003);case`usmile`:case`usmiles`:case`squareusmile`:case`squareusmiles`:return l.get(9035)}}}function E(e,t,n){if(e.type!==t.type)throw Error(`Incompatible unit types. src=${e.type} dest=${t.type}`);return n*(e.factor/t.factor)}function D(e,t,n){if(e==null||t==null)return n;let r=S(e);if(r==null)throw Error(`Unknown spatial reference unit.`);let i=t.type===`area`&&r.type===`linear`?C(r):r;if(i==null)throw Error(`Unknown spatial reference ${t.type} unit.`);return E(i,t,n)}function O(e,t,n){if(e==null||t==null)return n;let r=S(t);if(r==null)throw Error(`Unknown spatial reference unit.`);let i=e.type===`area`&&r.type===`linear`?C(r):r;if(i==null)throw Error(`Unknown spatial reference ${e.type} unit.`);return E(e,i,n)}function k(e,t,n){return e==null||t==null?n:E(e,t,n)}export{w as a,u as c,D as i,k as n,O as o,S as r,p as s,T as t};